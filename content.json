{"meta":{"title":"Inoki in the world","subtitle":null,"description":null,"author":"Inoki","url":"https://blog.inoki.cc","root":"/"},"pages":[{"title":"About me ÂÖ≥‰∫é","date":"2022-05-09T18:41:39.510Z","updated":"2022-05-09T18:41:39.510Z","comments":true,"path":"about/index.html","permalink":"https://blog.inoki.cc/about/index.html","excerpt":"","text":"To be continued‚Ä¶"},{"title":"all-archives","date":"2022-05-09T18:41:39.510Z","updated":"2022-05-09T18:41:39.510Z","comments":false,"path":"all-archives/index.html","permalink":"https://blog.inoki.cc/all-archives/index.html","excerpt":"","text":""},{"title":"all-categories","date":"2022-05-09T18:41:39.510Z","updated":"2022-05-09T18:41:39.510Z","comments":false,"path":"all-categories/index.html","permalink":"https://blog.inoki.cc/all-categories/index.html","excerpt":"","text":""},{"title":"Springer Free Books","date":"2022-05-09T18:41:39.510Z","updated":"2022-05-09T18:41:39.510Z","comments":true,"path":"book/Springer-free-books.html","permalink":"https://blog.inoki.cc/book/Springer-free-books.html","excerpt":"","text":"From Reddit: Fundamentals of Power Electronics http://link.springer.com/openurl?genre=book&amp;isbn=978-0-306-48048-5 Handbook of the Life Course http://link.springer.com/openurl?genre=book&amp;isbn=978-0-306-48247-2 All of Statistics http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-21736-9 Social Anxiety and Social Phobia in Youth http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-22592-0 Discrete Mathematics http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-21777-2 Developmental Neurobiology http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-28117-9 Intuitive Probability and Random Processes using MATLAB¬Æ http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-24158-6 Handbook of Disaster Research http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-32353-4 Handbook of the Sociology of Gender http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-36218-2 Handbook of Sociological Theory http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-36274-8 Clinical Neuroanatomy http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-36601-2 Acquired Brain Injury http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-37575-5 Numerical Optimization http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-40065-5 Handbook of Biological Confocal Microscopy http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-45524-2 Ceramic Materials http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-46271-4 Principles of Fluorescence Spectroscopy http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-46312-4 Fundamentals of Biomechanics http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-49312-1 Primer on the Rheumatic Diseases http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-68566-3 International Handbook of Historical Archaeology http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-72071-5 Database Marketing http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-72579-6 Composite Materials http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-74365-3 Time Series Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-75959-3 Transmission Electron Microscopy http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-76501-3 Handbook of Quantitative Criminology http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-77650-7 Plant Physiological Ecology http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-78341-3 Introductory Statistics with R http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-79054-1 The Elements of Statistical Learning http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-84858-7 Psychology, Religion, and Spirituality http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-87573-6 Introductory Time Series with R http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-88698-5 Child Neuropsychology http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-88963-4 A Beginner‚Äôs Guide to R http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-93837-0 Geomorphology of Desert Environments http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4020-5719-9 The Joy of Science http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4020-6099-1 Fatigue of Structures and Materials http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4020-6808-9 Essential Astrophysics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-35963-7 Introduction to Evolutionary Computing http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-44874-8 Data Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-03762-2 International Perspectives on Psychotherapy http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-56194-3 Electrical Machines http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-0400-2 Mechanics and Thermodynamics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-27877-3 Applied Behavior Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-44794-0 Reading, Writing, and Proving http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4419-9479-0 Linear and Nonlinear Programming http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-18842-3 Introduction to Partial Differential Equations http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-48936-0 Energy Storage http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-21239-5 Metabolism of Human Diseases http://link.springer.com/openurl?genre=book&amp;isbn=978-3-7091-0715-7 Sensory Evaluation of Food http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4419-6488-5 Fundamentals of Robotic Mechanical Systems http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-01851-5 Integrative Human Biochemistry http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-3058-6 Philosophy of Science for Scientists http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-26551-3 Particles and Nuclei http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-46321-5 Data Structures and Algorithms with Python http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-13072-9 LGBT-Parent Families http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-4556-2 Integrated Neuroscience http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4615-1077-2 Introduction to Partial Differential Equations http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-02099-0 Microeconomics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-37434-0 System Dynamics http://link.springer.com/openurl?genre=book&amp;isbn=978-981-10-2045-2 Cosmology for the Curious http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-57040-2 Methods of Mathematical Modelling http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-23042-9 Introduction to Logic Circuits &amp; Logic Design with Verilog http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-53883-9 Structural Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-90-481-2516-6 Engineering Flow and Heat Exchange http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4899-7454-9 Enterprise Risk Management Models http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-53785-5 Reactive Power Control in AC Power Systems http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-51118-4 Principles of Microeconomics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-57589-6 Additive Manufacturing Technologies http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4419-1120-9 Principles of Physics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-23026-4 Fundamentals of Biomechanics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-44738-4 Irrigation and Drainage Engineering http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-05699-9 LaTeX in 24 Hours http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-47831-9 Psychology of Perception http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-31791-5 Extragalactic Astronomy and Cosmology http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-54083-7 Automata and Computability http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4612-1844-9 The Algorithm Design Manual http://link.springer.com/openurl?genre=book&amp;isbn=978-1-84800-070-4 Chemical Thermodynamics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-19864-9 Computational Physics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-61088-7 Introduction to Statistics and Data Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-46162-5 Grammar for Teachers http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-33916-0 Time Series Econometrics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-32862-1 Electrochemistry http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-30250-3 Classical Fourier Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-1194-3 Human Chromosomes http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4613-0139-4 Phylogenomics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-54064-1 Quantum Theory for Mathematicians http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-7116-5 Evidence-Based Critical Care http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-43341-7 Clinical Assessment of Child and Adolescent Personality and Behavior http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4419-0641-0 Design Research in Information Systems http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4419-5653-8 Intermediate Physics for Medicine and Biology http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-12682-1 Principles of Data Mining http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4471-7307-6 Fundamental Astronomy http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-53045-0 Fundamentals of Business Process Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-33143-5 Brownian Motion, Martingales, and Stochastic Calculus http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-31089-3 UML @ Classroom http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-12742-2 Design and Analysis of Experiments http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-52250-0 Foundations for Designing User-Centered Systems http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4471-5134-0 Handbook of Consumer Finance Research http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-28887-1 Principles of Terrestrial Ecosystem Ecology http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4419-9504-9 Applied Multivariate Statistical Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-45171-7 Strategic International Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-8349-6331-4 Computer Vision http://link.springer.com/openurl?genre=book&amp;isbn=978-1-84882-935-0 Engineering Electromagnetics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-07806-9 Data Mining http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-14142-8 International Trade Theory and Policy http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-37314-5 Alternative Energy Sources http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-20951-2 Introduction to Electronic Commerce and Social Commerce http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-50091-1 Computational Geometry http://link.springer.com/openurl?genre=book&amp;isbn=978-3-540-77974-2 Elementary Mechanics Using Python http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-19596-4 Energy Economics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-53022-1 Biomedical Informatics http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4471-4474-8 Robotics, Vision and Control http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-54413-7 Acid-Base Diagrams http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-37902-4 Brewing Science: A Multidisciplinary Approach http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-46394-0 Learning Landscape Ecology http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-6374-4 Probability http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4612-4374-8 Modeling Life http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-59731-7 Introduction to Plasma Physics and Controlled Fusion http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-22309-4 Engineering Mechanics 1 http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-30319-7 Principles of Polymer Chemistry http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-2212-9 A Primer on Scientific Programming with Python http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-49887-3 Climate Change Science: A Modern Synthesis http://link.springer.com/openurl?genre=book&amp;isbn=978-94-007-5757-8 Solar PV and Wind Energy Conversion Systems http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-14941-7 Statistical Analysis and Data Display http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-2122-5 Business Process Management Cases http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-58307-5 Elementary Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-6271-2 Cryptography Made Simple http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-21936-3 Fluid Dynamics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-09351-2 Social Media Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-21990-5 Statistics in Criminal Justice http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-9170-5 Supply Chain Management and Advanced Planning http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-55309-7 Probability Theory http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4471-5201-9 Statistics and Data Analysis for Financial Engineering http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-2614-5 Readings in Formal Epistemology http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-20451-2 Differential Equations and Their Applications http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4612-4360-1 Nanotechnology: Principles and Practices http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-09171-6 Epidemiological Research: Terms and Concepts http://link.springer.com/openurl?genre=book&amp;isbn=978-94-007-1171-6 Multinational Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-23012-2 Partial Differential Equations http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-4809-9 Bayesian and Frequentist Regression Methods http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4419-0925-1 Strategic International Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-658-07884-3 Basic Concepts in Computational Physics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-27265-8 Eye Tracking Methodology http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-57883-5 Writing for Publication http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-31650-5 Mathematical Physics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-01195-0 Correctional Counseling and Treatment http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-54349-9 Thermodynamics and Energy Conversion http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-43715-5 The Action Research Planner http://link.springer.com/openurl?genre=book&amp;isbn=978-981-4560-67-2 Stochastic Processes and Calculus http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-23428-1 Statistical Analysis of Clinical Data on a Pocket Calculator http://link.springer.com/openurl?genre=book&amp;isbn=978-94-007-1211-9 Clinical Data Analysis on a Pocket Calculator http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-27104-0 The Data Science Design Manual http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-55444-0 An Introduction to Machine Learning http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-63913-0 Guide to Discrete Mathematics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-44561-8 Petroleum Geoscience http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-34132-8 Structure Determination by X-ray Crystallography http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-3954-7 Introduction to Time Series and Forecasting http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-29854-2 Principles of Mobile Communication http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-55615-4 Cardiovascular Biomechanics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-46407-7 Introduction to Smooth Manifolds http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4419-9982-5 Taxation in European Union http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-53919-5 Essentials of Cerebellum and Cerebellar Disorders http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-24551-5 Language Across the Curriculum &amp; CLIL in English as an Additional Language (EAL) Contexts http://link.springer.com/openurl?genre=book&amp;isbn=978-981-10-1802-2 Multivariate Calculus and Geometry http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4471-6419-7 Statistics and Analysis of Scientific Data http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-6572-4 Modelling Computing Systems http://link.springer.com/openurl?genre=book&amp;isbn=978-1-84800-322-4 Search Methodologies http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-6940-7 Representation Theory http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4612-0979-9 Linear Algebra Done Right http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-11080-6 Stellar Structure and Evolution http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-30304-3 Evolutionary Thinking in Medicine http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-29716-3 Understanding Cryptography http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-04101-3 Linear Algebra http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-24346-7 Algebra http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4613-0041-0 Understanding Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-2712-8 Plate Tectonics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-540-76504-2 Linear Programming http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-7630-6 The Nature of Scientific Knowledge http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-33405-9 Leadership Today http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-31036-7 Physics of Semiconductor Devices http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-1151-6 Corporate Social Responsibility http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-40975-2 Ordinary Differential Equations http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-3618-8 Electronic Commerce http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-10091-3 Ceramic Materials http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-3523-5 Foundations of Analytical Chemistry http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-62872-1 Life Cycle Assessment http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-56475-3 A Clinical Guide to the Treatment of the Human Stress Response http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-5538-7 Computational Physics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-00401-3 Handbook of LGBT Elders http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-03623-6 Handbook of Cardiac Anatomy, Physiology, and Devices http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-19464-6 Quantum Mechanics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-20556-9 Understanding Statistics Using R http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-6227-9 Mass Spectrometry http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-54398-7 Statistical Mechanics for Engineers http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-15018-5 The Gastrointestinal System http://link.springer.com/openurl?genre=book&amp;isbn=978-94-017-8771-0 Additive Manufacturing Technologies http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-2113-3 Magnetic Interactions in Molecules and Solids http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-22951-5 Electricity and Magnetism http://link.springer.com/openurl?genre=book&amp;isbn=978-4-431-54526-2 Survival Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4419-6646-9 Foundations of Quantum Mechanics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-65867-4 An Introduction to Statistical Learning http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-7138-7 Introduction to Mathematica¬Æ for Physicists http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-00894-3 Statistical Learning from a Regression Perspective http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-44048-4 Applied Partial Differential Equations http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-12493-3 Principles of Astrophysics http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-9236-8 Air Pollution and Greenhouse Gases http://link.springer.com/openurl?genre=book&amp;isbn=978-981-287-212-8 Polymer Synthesis: Theory and Practice http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-28980-4 Sustainable Supply Chains http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-29791-0 Robotics http://link.springer.com/openurl?genre=book&amp;isbn=978-1-84628-642-1 Econometrics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-20059-5 The Sea Floor http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-51412-3 SPSS for Starters and 2nd Levelers http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-20600-4 Regression Modeling Strategies http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-19425-7 Legal Dynamics of EU External Relations http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-54817-2 Food Analysis Laboratory Manual http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-44127-6 Principles of Musical Acoustics http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-6786-1 Fundamentals of Structural Engineering http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-24331-3 Basics of Laser Physics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-50651-7 Applied Quantitative Finance http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-54486-0 Handbook of Marriage and the Family http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-3987-5 Solid-State Physics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-540-93804-0 Electrochemical Impedance Spectroscopy and its Applications http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-8933-7 Economics as Applied Ethics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-50319-6 Electronics for Embedded Systems http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-39439-8 Concise Guide to Software Engineering http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-57750-0 Fundamentals of Multimedia http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-05290-8 Logistics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-01769-3 Group Theory Applied to Chemistry http://link.springer.com/openurl?genre=book&amp;isbn=978-94-007-6863-5 The Psychology of Social Status http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-0867-7 A Modern Introduction to Probability and Statistics http://link.springer.com/openurl?genre=book&amp;isbn=978-1-84628-168-6 Complex Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4419-7288-0 Food Chemistry http://link.springer.com/openurl?genre=book&amp;isbn=978-3-540-69934-7 Exam Survival Guide: Physical Chemistry http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-49810-2 The Python Workbook http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-14240-1 Practical Electrical Engineering http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-21173-2 Strategic Retail Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-658-10183-1 Food Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-45776-5 Psychoeducational Assessment and Report Writing http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-1911-6 Machine Learning in Medicine - a Complete Overview http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-15195-3 Evidence-Based Interventions for Children with Challenging Behavior http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-7807-2 Principles of Quantum Mechanics http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4757-0576-8 Recommender Systems http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-29659-3 Pharmaceutical Biotechnology http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-6486-0 Python Programming Fundamentals http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4471-6642-9 The Finite Element Method and Applications in Engineering Using ANSYS¬Æ http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4899-7550-8 Group Theory http://link.springer.com/openurl?genre=book&amp;isbn=978-3-540-32899-5 Object-Oriented Analysis, Design and Implementation http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-24280-4 Introduction to Embedded Systems http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-3143-5 Elementary Mechanics Using Matlab http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-19587-2 An Introduction to Biomechanics http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-2623-7 New Introduction to Multiple Time Series Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-3-540-27752-1 Introduction to Data Science http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-50017-1 Calculus With Applications http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-7946-8 An Introduction to Soil Mechanics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-61185-3 Game Theory http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-46950-7 Fundamentals of Clinical Trials http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-18539-2 The Finite Volume Method in Computational Fluid Dynamics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-16874-6 The ASCRS Textbook of Colon and Rectal Surgery http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-25970-3 Applied Predictive Modeling http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-6849-3 Introduction to Logic Circuits &amp; Logic Design with VHDL http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-34195-8 Sustainability Science http://link.springer.com/openurl?genre=book&amp;isbn=978-94-017-7242-6 Physical Chemistry from a Different Angle http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-15666-8 The Physics of Semiconductors http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-23880-7 Energy Harvesting and Energy Efficiency http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-49875-1 Python For ArcGIS http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-18398-5 Statics and Mechanics of Structures http://link.springer.com/openurl?genre=book&amp;isbn=978-94-007-6113-1 Real Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-2766-1 MATLAB for Psychologists http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-2197-9 Physical Asset Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-14777-2 Essentials of Food Science http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-9138-5 Quantum Mechanics http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4612-1272-0 Probability Theory http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4471-5361-0 Concise Guide to Databases http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4471-5601-7 Digital Image Processing http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4471-6684-9 Chemical and Bioprocess Engineering http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-9126-2 Transmission Electron Microscopy http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4757-2519-3 Guide to Computer Network Security http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-55606-2 Introduction to Law http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-57252-9 Advanced Quantum Mechanics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-25675-7 Bayesian Essentials with R http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-8687-9 Robotics, Vision and Control http://link.springer.com/openurl?genre=book&amp;isbn=978-3-642-20144-8 Applied Chemistry http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4614-4262-2 Advanced Organic Chemistry http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-44899-2 Advanced Organic Chemistry http://link.springer.com/openurl?genre=book&amp;isbn=978-0-387-71481-3 International Humanitarian Action http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-14454-2 Breast Cancer http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-48848-6 Travel Marketing, Tourism Economics and the Airline Product http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-49849-2 Electronic Commerce 2018 http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-58715-8 Disability and Vocational Rehabilitation in Rural Settings http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-64786-9 Teaching Medicine and Medical Ethics Using Popular Culture http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-65451-5 Market Research http://link.springer.com/openurl?genre=book&amp;isbn=978-981-10-5218-7 Scanning Electron Microscopy and X-Ray Microanalysis http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-6676-9 ArcGIS for Environmental and Water Issues http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-61158-7 Physics from Symmetry http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-66631-0 Communication and Bioethics at the End of Life http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-70920-8 Foundations of Programming Languages http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-70790-7 Problems in Classical Electromagnetism http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-63133-2 Polymer Chemistry http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-49279-6 Probability and Statistics for Computer Science http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-64410-3 Empathetic Space on Screen http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-66772-0 Political Social Work http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-68588-5 Introductory Quantum Mechanics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-68598-4 Guide to Competitive Programming http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-72547-5 Introduction to Artificial Intelligence http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-58487-4 Bioinformatics for Evolutionary Biologists http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-67395-0 Concepts, Methods and Practical Applications in Applied Demography http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-65439-3 Introduction to Deep Learning http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-73004-2 Energy and the Wealth of Nations http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-66219-0 A Beginner‚Äôs Guide to Scala, Object Orientation and Functional Programming http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-75771-1 Lessons on Synthetic Bioarchitectures http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-73123-0 Managing Sustainable Business http://link.springer.com/openurl?genre=book&amp;isbn=978-94-024-1144-7 Engineering Mechanics 2 http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-56272-7 Fundamentals of Business Process Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-56509-4 Clinical Methods in Medical Family Therapy http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-68834-3 Guide to Scientific Computing in C++ http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-73132-2 Motivation and Action http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-65094-4 Perspectives on Elderly Crime and Victimization http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-72682-3 Knowledge Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-59978-6 An Introduction to Zooarchaeology http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-65682-3 Abstract Algebra http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-77649-1 Criminal Justice and Mental Health http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-76442-9 Philosophy of Race http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-78729-9 Of Cigarettes, High Heels, and Other Interesting Things http://link.springer.com/openurl?genre=book&amp;isbn=978-1-349-95348-6 Applied Bioinformatics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-68301-0 Linear Algebra and Analytic Geometry for Physical Sciences http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-78361-1 Building Energy Modeling with OpenStudio http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-77809-9 Customer Relationship Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-55381-7 The A-Z of the PhD Trajectory http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-77425-1 Strategic Human Resource Management and Employment Relations http://link.springer.com/openurl?genre=book&amp;isbn=978-981-13-0399-9 Applied Linear Algebra http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-91041-3 Witnessing Torture http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-74965-5 Proofs from THE BOOK http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-57265-8 Introduction to General Relativity http://link.springer.com/openurl?genre=book&amp;isbn=978-981-13-1090-4 Introduction to Particle and Astroparticle Physics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-78181-5 Fundamentals of Java Programming http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-89491-1 Optimization of Process Flowsheets through Metaheuristic Techniques http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-91722-1 Robotics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-72911-4 Business Ethics - A Philosophical and Behavioral Approach http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-91575-3 A First Introduction to Quantum Physics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-92207-2 Argumentation Theory: A Pragma-Dialectical Perspective http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-95381-6 Logical Foundations of Cyber-Physical Systems http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-63588-0 Off-Grid Electrical Systems in Developing Countries http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-91890-7 Entertainment Science http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-89292-4 Physics of Oscillations and Waves http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-72314-3 Introduction to Programming with Fortran http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-75502-1 Fundamentals of Solid State Engineering http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-75708-7 Introduction to Digital Systems Design http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-92804-3 Neural Networks and Deep Learning http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-94463-0 Data Science and Predictive Analytics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-72347-1 Systems Programming in Unix/Linux http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-92429-8 Analytical Corporate Finance http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-95762-3 Fraud and Corruption http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-92333-8 Conferencing and Presentation English for Young Academics http://link.springer.com/openurl?genre=book&amp;isbn=978-981-13-2475-8 A Concise Guide to Market Research http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-56707-4 Global Supply Chain and Operations Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-94313-8 Introduction to Parallel Computing http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-98833-7 Mathematical Logic http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-97298-5 Stability and Control of Linear Systems http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-02405-5 Introduction to Formal Philosophy http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-77434-3 Analysis for Computer Scientists http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-91155-7 International Business Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-96622-9 Research Methods for the Digital Humanities http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-96713-4 Introductory Computer Forensics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-00581-8 Control Engineering http://link.springer.com/openurl?genre=book&amp;isbn=978-981-10-8297-9 Control Engineering: MATLAB Exercises http://link.springer.com/openurl?genre=book&amp;isbn=978-981-10-8321-1 ENZYMES: Catalysis, Kinetics and Mechanisms http://link.springer.com/openurl?genre=book&amp;isbn=978-981-13-0785-0 Automatic Control with Experiments http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-75804-6 Internet of Things From Hype to Reality http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-99516-8 Quantitative Methods for the Social Sciences http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-99118-4 A Pythagorean Introduction to Number Theory http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-02604-2 Philosophical and Mathematical Logic http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-03255-5 Structural Dynamics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-94743-3 Plant Physiology, Development and Metabolism http://link.springer.com/openurl?genre=book&amp;isbn=978-981-13-2023-1 Quantum Mechanics for Pedestrians 1 http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-00464-4 Plant Anatomy http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-77315-5 Quantum Mechanics for Pedestrians 2 http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-00467-5 Excel Data Analysis http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-01279-3 Quick Start Guide to VHDL http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-04516-6 Java in Two Semesters http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-99420-8 Managing Media and Digital Organizations http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-71288-8 Media and Digital Management http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-72000-5 An Anthology of London in Literature, 1558-1914 http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-05609-4 Astronautics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-74373-8 Perceptual Organization http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-96337-2 Research Methods for Social Justice and Equity in Education http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-05900-2 Educational Technology http://link.springer.com/openurl?genre=book&amp;isbn=978-981-13-6643-7 Quick Start Guide to Verilog http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-10552-5 Spine Surgery http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-98875-7 Introduction to Logic Circuits &amp; Logic Design with VHDL http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-12489-2 Social Justice Theory and Practice for Social Work http://link.springer.com/openurl?genre=book&amp;isbn=978-981-13-3621-8 School Leadership and Educational Change in Singapore http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-74746-0 Digital Business Models http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-13005-3 Introduction to Logic Circuits &amp; Logic Design with Verilog http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-13605-5 Pharmaceutical Biotechnology http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-00710-2 Mapping Global Theatre Histories http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-12727-5 Social Marketing in Action http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-13020-6 Analyzing Qualitative Data with MAXQDA http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-15671-8 Handbook of Evolutionary Research in Archaeology http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-11117-5 Evidence-Based Practice in Clinical Social Work http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-15224-6 Foundations of Behavioral Health http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-18435-3 Social Psychology in Action http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-13788-5 Essentials of Business Analytics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-68837-4 A Course in Rasch Measurement Theory http://link.springer.com/openurl?genre=book&amp;isbn=978-981-13-7496-8 Multimedia Big Data Computing for IoT Applications http://link.springer.com/openurl?genre=book&amp;isbn=978-981-13-8759-3 Policing and Minority Communities http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-19182-5 A Beginners Guide to Python 3 Programming http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-20290-3 Advanced Guide to Python 3 Programming http://link.springer.com/openurl?genre=book&amp;isbn=978-3-030-25943-3 Food Fraud Prevention http://link.springer.com/openurl?genre=book&amp;isbn=978-1-4939-9621-6 Plant Ecology http://link.springer.com/openurl?genre=book&amp;isbn=978-3-662-56233-8 Mathematical Physics http://link.springer.com/openurl?genre=book&amp;isbn=978-3-319-01195-0"},{"title":"Book list ‰π¶Âçï","date":"2022-05-09T18:41:39.510Z","updated":"2022-05-09T18:41:39.510Z","comments":true,"path":"book/index.html","permalink":"https://blog.inoki.cc/book/index.html","excerpt":"","text":"Compiler ÁºñËØëÂô® „ÄäCompilers: Principales, Techniques and Tools„Äã Algorithm ÁÆóÊ≥ï „ÄäIntroduction to Algorithms„Äã „ÄäMastering Algorithms with C„Äã Computer Graphics ËÆ°ÁÆóÊú∫ÂõæÂΩ¢Â≠¶ „ÄäComputer Graphics with OpenGL„Äã Mobile Applications ÁßªÂä®Â∫îÁî® Programming Languages ÁºñÁ®ãËØ≠Ë®Ä „ÄäC++ Primer„Äã „ÄäLearn Objective-C on the Mac„Äã Applications Â∫îÁî® „ÄäFFmpeg Beginner‚Äôs handbook„Äã „ÄäC++ GUI Programming with Qt„Äã Linux „ÄäLinux Device Driver„Äã „ÄäA Heavy Commented Linux Kernel Source Code„Äã Cybersecutiry ÁΩëÁªúÂÆâÂÖ® „ÄäGray Hat Python: Python Programming for Hackers and Reverse Engineers„Äã Web ÁΩëÈ°µÊäÄÊúØ „ÄäWebKit ÊäÄÊúØÂÜÖÂπï„Äã Other books about Computer Science ÂÖ∂‰ªñ „ÄäCode: The Hidden Language of Computer Hardware and Software„Äã „ÄäThe Art of Unix Programming„Äã „ÄäUnix Network Programming„Äã"},{"title":"‰π¶Âçï","date":"2022-05-09T18:41:39.510Z","updated":"2022-05-09T18:41:39.510Z","comments":false,"path":"books/index.html","permalink":"https://blog.inoki.cc/books/index.html","excerpt":"","text":""},{"title":"ÂèãÊÉÖÈìæÊé•","date":"2022-05-09T18:41:39.510Z","updated":"2022-05-09T18:41:39.510Z","comments":true,"path":"links/index.html","permalink":"https://blog.inoki.cc/links/index.html","excerpt":"","text":""},{"title":"Links ÂèãÊÉÖÈìæÊé•","date":"2022-05-09T18:41:39.510Z","updated":"2022-05-09T18:41:39.510Z","comments":true,"path":"links-backup/index.html","permalink":"https://blog.inoki.cc/links-backup/index.html","excerpt":"","text":"Here are some links, there may be interesting for you üòÉ Claude - Â∞ëÂπ¥ÂøÉ‰∫ãÁï∂ÊãèÈõ≤ÔºåË™∞ÂøµÂπΩÂØíÂùêÂóöÂëÉ„ÄÇ Darkflames - ÊòØÊºÜÈªëÁÉàÁÑ∞Ôºå‰πüÊòØ Developer / ‰∏ö‰ΩôÊëÑÂΩ± / ËÉ∂ÁâáÁà±Â•ΩËÄÖ„ÄÇ Edward Elric - ÊòØ EÂì• Â§ßÂº∫Âº∫„ÄÇ Dmcimi‚Äôs blog &amp; Lovely‚Äôs blog - Â§©‰∏ãÈ£é‰∫ëÂá∫ÊàëËæàÔºå‰∏ÄÂÖ•Ê±üÊπñÂ≤ÅÊúàÂÇ¨"},{"title":"all-tags","date":"2022-05-09T18:41:39.510Z","updated":"2022-05-09T18:41:39.510Z","comments":false,"path":"all-tags/index.html","permalink":"https://blog.inoki.cc/all-tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Android Bootloader and Linux Internal based on Nokia 8(NB1) ‚Äî‚Äî Device Tree","slug":"android-bootloader-linux-nokia-nb1-dt","date":"2022-05-09T20:48:00.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2022/05/09/android-bootloader-linux-nokia-nb1-dt/","link":"","permalink":"https://blog.inoki.cc/2022/05/09/android-bootloader-linux-nokia-nb1-dt/","excerpt":"","text":"Context: I am working on porting Plasma Mobile and EDK II to my Nokia 8 (codename: NB1) device. There are many things to do and to learn. In this post, I want to write down what I have learnt from the ABL Bootloader and the Linux kernel, about how the Device Tree(DT, which describes the periphicals in an embedded device) is processed by the ABL and the kernel. Introduction The Nokia 8 device(and its successor Nokia 8 Sirocco) uses the MSM8998 SoC platform(or say Qualcomm 835) as a base. In fact, its company HMD just owns the Nokia trademark for mobile phone manufacture. The main design and development is by FIH Mobile, which is a subsidiary of Foxconn. So, we will say some modules named by the FIH in this post. The model that I own is marked as ‚ÄúQualcomm Technologies, Inc. MSM8998 v2.1 MTP, FIH NB1 PVT1 SS‚Äù in the DT. However, there are many DTs that are appended to the kernel, where it also has the ones for A1N(Nokia 8 Sirocco) and the evaluation version of these devices. These result in more than 80 different DTs, even including the different versions of MSM8998. So, I wonder how the DT is actually choosed, by the Linux kernel, or by the Bootloader. And in which stage, during the early stage, the XBL or the ABL? At very first, I thought that the DTs are appended to the kernel, so that the Bootloader(s) will not get involved very deeply. The best DT might be found and choosed by the kernel. However, I found that it is the ABL which is in charge of choosing, fixing and patching the DT after studying. Although the device is kind of outdated, this page talking about ‚ÄúUsing Mutiple DTs‚Äù from Android documentation might be still helpful for someone. DT loading in ABL Bootloader In my previous posts such as Android bootloader analysis ‚Äì ABL(1), I analyse the Bootloader in a coarse-grained manner. As mentioned in Android bootloader analysis ‚Äì Aboot, ABL is actually an EFI application that loaded by the XBL. The application is a module named after LinuxLoader, which is in charge of loading Linux kernel and the related entities in an ABoot(Android Boot) image. DT in LinuxLoader EFI application As mentioned in Android bootloader analysis ‚Äì ABL(1), the EFI application entry is declared in QcomModulePkg/Application/ LinuxLoader/LinuxLoader.inf, as LinuxLoaderEntry. The application can either boot into Android fastboot mode, or boot into Linux kernel(normal boot or recovery). Normally, the ABL loads the image in the boot partition, in which the ANDROIDBOOT format image is used. The image usually contains a kernel and a ramdisk for basic initialization. Depending on the devices, the DTs can be appended to the kernel or stored in a standalone partition: My Nokia 8 uses the first solution. And there are many DTs. So, before booting, the Bootloader needs to purge them. If the image is validated, BootLinux (&amp;Info) is called to actually try to process the image so as to boot it. In that function, DTBImgCheckAndAppendDT is called to choose the best DT and append it to the kernel. To do this, DeviceTreeAppended in QcomModulePkg/Library/BootLib/LocateDeviceTree.c is called. It checks all the possible DTs from the begin address of the appended DT, to the kernel end. For each DT, the DeviceTreeCompatible is called to find the best DT. The standard matching process contains the retrievals of qcom,msm-id, qcom,board-id and qcom,pmic-id properties in the DT. There is a special structure to describe such information from the hardware: 12345678910111213typedef struct DtInfo &#123; UINT32 DtPlatformId; UINT32 DtSocRev; UINT32 DtFoundryId; UINT32 DtVariantId; UINT32 DtVariantMajor; UINT32 DtVariantMinor; UINT32 DtPlatformSubtype; UINT32 DtPmicModel[MAX_PMIC_IDX]; UINT32 DtPmicRev[MAX_PMIC_IDX]; UINT64 DtMatchVal; VOID *Dtb;&#125; DtInfo; The matching process is as follows: 12345678910111213141516171819202122232425if (CurDtbInfo-&gt;DtMatchVal &amp; BIT (ExactMatch)) &#123; if (BestDtbInfo-&gt;DtMatchVal &lt; CurDtbInfo-&gt;DtMatchVal) &#123; gBS-&gt;CopyMem (BestDtbInfo, CurDtbInfo, sizeof (struct DtInfo)); FindBestMatch = TRUE; &#125; else if (BestDtbInfo-&gt;DtMatchVal == CurDtbInfo-&gt;DtMatchVal) &#123; FindBestMatch = TRUE; if (BestDtbInfo-&gt;DtSocRev &lt; CurDtbInfo-&gt;DtSocRev) &#123; gBS-&gt;CopyMem (BestDtbInfo, CurDtbInfo, sizeof (struct DtInfo)); &#125; else if (BestDtbInfo-&gt;DtVariantMajor &lt; CurDtbInfo-&gt;DtVariantMajor) &#123; gBS-&gt;CopyMem (BestDtbInfo, CurDtbInfo, sizeof (struct DtInfo)); &#125; else if (BestDtbInfo-&gt;DtVariantMinor &lt; CurDtbInfo-&gt;DtVariantMinor) &#123; gBS-&gt;CopyMem (BestDtbInfo, CurDtbInfo, sizeof (struct DtInfo)); &#125; else if (BestDtbInfo-&gt;DtPmicRev[0] &lt; CurDtbInfo-&gt;DtPmicRev[0]) &#123; gBS-&gt;CopyMem (BestDtbInfo, CurDtbInfo, sizeof (struct DtInfo)); &#125; else if (BestDtbInfo-&gt;DtPmicRev[1] &lt; CurDtbInfo-&gt;DtPmicRev[1]) &#123; gBS-&gt;CopyMem (BestDtbInfo, CurDtbInfo, sizeof (struct DtInfo)); &#125; else if (BestDtbInfo-&gt;DtPmicRev[2] &lt; CurDtbInfo-&gt;DtPmicRev[2]) &#123; gBS-&gt;CopyMem (BestDtbInfo, CurDtbInfo, sizeof (struct DtInfo)); &#125; else if (BestDtbInfo-&gt;DtPmicRev[3] &lt; CurDtbInfo-&gt;DtPmicRev[3]) &#123; gBS-&gt;CopyMem (BestDtbInfo, CurDtbInfo, sizeof (struct DtInfo)); &#125; else &#123; FindBestMatch = FALSE; &#125; &#125;&#125; However, for different models of Nokia 8, they do share the same msm information because they are using the same platform and the same board, which are: 12compatible = &quot;qcom,msm8998-mtp&quot;, &quot;qcom,msm8998&quot;, &quot;qcom,mtp&quot;;qcom,board-id = &lt;8 0&gt;, &lt;1 0&gt;; I found, by mysterious way, that my phone uses a special fih,hw-id field to find the correct DT. I will discuss this later. Finally, a pointer named tags is returned and be passed as the actual DT to the kernel. FIH modules As aforementioned, there is a special fih,hw-id field in addition to qcom,board-id and compatible fields to match the DT in the ABL Bootloader. Such id is stored in a special memory area, which is also declared as reseved memory in the DT: 12345fih_mem: fih_region@a0000000 &#123; /* for FIH feature */ compatible = &quot;removed-dma-pool&quot;; no-map; reg = &lt;0 0xa0000000 0 0xb00000&gt;;&#125;; We can see that the memory region starts at 0xa0000000 and has a size of 0xb00000. The detailed information is not accessible here because the XBL seems not to be open-sourced. However, when I unpacked the XBL from the factory image, I saw there are FIHDxe EFI driver and FIHHWIDApp to load the hardware id into the EFI environment. So that, the LinuxLoader EFI application can eventually read the information and match the DT. I cannot provide more details because the reverse-engineering is performed. But the address to store the hardware id is 0x000160f1 in the EFI environment under my 5150 image. It is written by the FIHHWIDApp using the methods provided by the FIHDxe. Anyway, the DT choosed by my device is with: 1234model = &quot;Qualcomm Technologies, Inc. MSM8998 v2.1 MTP, FIH NB1 PVT1 SS&quot;;compatible = &quot;qcom,msm8998-mtp&quot;, &quot;qcom,msm8998&quot;, &quot;qcom,mtp&quot;;qcom,board-id = &lt;8 0&gt;, &lt;1 0&gt;;fih,hw-id = &lt;1 7 4&gt;; in which I guess that it is a Product version 1, with Single Slot. This DT is finally the only DT passed to the Linux kernel. DT processing in Linux kernel In ARM64, when kernel is loaded and executed, the address pointing to DT is passed in X5 register. The first executable code is from arch/arm64/kernel/head.S, where we can see the device hardware initialization and the Flatten DT(FDT) pointer is saved from X5 register to __fdt_pointer: 1str_l x21, __fdt_pointer, x5 // Save FDT pointer It is a physical address in arch/arm64/kernel/setup.c: 1phys_addr_t __fdt_pointer __initdata; where __initdata indicates that it should be stored in a special section for data used during initialization. The head.S does not do many things and then just passes the control(without return) to start_kernel function. This function is usually generic for all platforms, which performs Linux initialization step-by-step. The DT-related function calls are as follows: 123setup_arch(&amp;command_line);rest_init(); where setup_arch is definitly platform-related and architecture-related. And after all initializations are finished, the rest part (non-essential) of the kernel needs to be initialized. DT in architecture-related setup Each platform/architecture has its own setup function. The one for ARM64 is arch/arm64/kernel/setup.c. It first print the CPU information(the information is visualized in dmesg) and establish the mappings of virtual addresses: 123pr_info(\"Boot CPU: AArch64 Processor [%08x]\\n\", read_cpuid_id());early_fixmap_init();early_ioremap_init(); Then the boot-related functions are: 12345678910111213setup_machine_fdt(__fdt_pointer);// ...efi_init();// .../* Parse the ACPI tables for possible boot-time configuration */acpi_boot_table_init();// ...if (acpi_disabled) &#123; unflatten_device_tree(); psci_dt_init();&#125; else &#123; psci_acpi_init();&#125; Note that both the DT and the EFI-ACPI boot modes are supported. In our case, we only consider the DT mode. So, the topic remains on setup_machine_fdt, and the unflatten_device_tree, psci_dt_init when acpi_disabled is true. ARM64 Machine FDT setuping The setup_machine_fdt accepts a DT pointer. Note that now the DT has been chosen by the ABL, so we are safe to load and verify the only DT. 123456789101112131415161718192021static void __init setup_machine_fdt(phys_addr_t dt_phys)&#123; void *dt_virt = fixmap_remap_fdt(dt_phys); if (!dt_virt || !early_init_dt_scan(dt_virt)) &#123; pr_crit(\"\\n\" \"Error: invalid device tree blob at physical address %pa (virtual address 0x%p)\\n\" \"The dtb must be 8-byte aligned and must not exceed 2 MB in size\\n\" \"\\nPlease check your bootloader.\", &amp;dt_phys, dt_virt); while (true) cpu_relax(); &#125; machine_name = of_flat_dt_get_machine_name(); if (machine_name) &#123; dump_stack_set_arch_desc(\"%s (DT)\", machine_name); pr_info(\"Machine: %s\\n\", machine_name); &#125;&#125; It first get the virtual address of FDT from the physical address using the memory mapping. Then, perform a basic scan to validate the DT(early_init_dt_scan in drivers/of/fdt.c). At the end, the machine name is gotten and printed, which can also be seen in dmesg.","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Android","slug":"Linux/Android","permalink":"https://blog.inoki.cc/categories/Linux/Android/"},{"name":"Bootloader","slug":"Linux/Android/Bootloader","permalink":"https://blog.inoki.cc/categories/Linux/Android/Bootloader/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Android","slug":"Android","permalink":"https://blog.inoki.cc/tags/Android/"},{"name":"ABL","slug":"ABL","permalink":"https://blog.inoki.cc/tags/ABL/"},{"name":"Bootloader","slug":"Bootloader","permalink":"https://blog.inoki.cc/tags/Bootloader/"}]},{"title":"My journey on Raspberry Pi JTAG debugging","slug":"My-journey-on-raspberrypi-jtag-debugging","date":"2022-02-22T06:57:50.000Z","updated":"2022-05-09T18:41:39.482Z","comments":true,"path":"2022/02/22/My-journey-on-raspberrypi-jtag-debugging/","link":"","permalink":"https://blog.inoki.cc/2022/02/22/My-journey-on-raspberrypi-jtag-debugging/","excerpt":"","text":"As an OS developer/hacker, I am recently hacking Raspberry Pi, including a project aiming at running XNU(macOS kernel) on Raspberry Pi 3 and the port of Embox to Raspberry Pi 2. I often feel disappointed, because it is hard to get some useful information from the commercially available off-the-shelf (COTS) boards when debugging a kernel. Specially, it means the Raspberry Pi here. Although the Raspberry Pi Linux, aka. Raspbian, is open-sourced at GitHub, the bootloader on the chip (or somebody would like to call it BIOS) is still close-sourced. But it can be configured by a config.txt file. According to pinout Raspberry Pi JTAG, the GPIOs on the board can be configured through the config.txt to use some ALT functionalities, e.g., JTAG under ALT4 or ALT5. JTAG, or Joint Test Action Group, provides a standard interface (pin definition, etc.) to debug a program on a chip. I have some experiences back to 2019, using it to debug a real-time OS on an ARM development board. And it is widely used by many board/chip manufacturers, including RISC-V, ARM, etc. If it can work, that should be a perfect option for debugging using JTAG with OpenOCD. Hardware The Pin definitions for JTAG are as follows: ALT5 on GPIOs 4, 5, 6, 12 and 13 ALT4 on GPIOs 22, 23, 24, 25, 26 and 27 In general, the Pins used are TMS, TDI, TDO, TCK, RTCK, TRST (not presented in ALT5). The Pin layout is not standard at all. So, I need to manually connect the Pins one by one to a standard JTAG debugger. By searching the information, I found several standard JTAG interfaces (not all JTAG interfaces): They do have TMS, TDI, TDO, TCK pins, which are common in JTAG. The TRST is the reset pin, so we can connect them to the pin marked as ‚ÄúReset‚Äù. However, only ARM 10 pin and 20 pin contains a RTCK pin, I need to use a hardware debugger with one of the interfaces (I later realize that RTCK is a must). ST-Link v2 I firstly bought a ST-Link v2 debugger, which has a SWD interface and an ARM 20 pin interface. It should work well. However, I finally found that my hardware might by buggy. I tried to connect the ST-Link debugger from the official software, but both ~the software and~(I found that with the official software, it is necessary to connect the debugger for the first time to be able to connect) the OpenOCD 0.11.0 returns a wired status code during the initialization of JTAG stack through USB. The debug-level log information of OpenOCD is as follows: 1234Debug: 222 311 stlink_usb.c:1125 stlink_usb_error_check(): unknown/unexpected STLINK status code 0x4Error: 223 311 stlink_usb.c:3740 stlink_open(): init mode failed (unable to connect to the target)Debug: 224 311 stlink_usb.c:1654 stlink_usb_exit_mode(): MODE: 0x01Debug: 225 312 command.c:555 run_command(): Command &apos;init&apos; failed with error code -4 To know what happened, I tries to connect the Raspberry Pi from a JTAG debugger delivered with my first FPGA. Before that, I just validated that the debugger works well with the FPGA (in OpenOCD, using cpld/xilinx-xc6s.cfg target, which only uses TMS, TDI, TDO, TCK pins). With this debugger, OpenOCD can connect to the device: it does not report the USB bug anymore. However, it stops at complaining that RTCK signal cannot be responded. So, it is the ST-Link work which does not work in my case. The hardware debugging is painful. PS: The BCM2835 with ARM11 (Raspberry Pi 1, zero) does not seem to work with ST-Link High Level Abstraction(HLA), according to Ticket 280 of OpenOCD. But it might be possible with Direct DAP, which exists in ST-Link v2 later firmware and ST-Link 3. FTDI FT232H As I mentioned, this debugger is for my FPGA, which works fine out-of-box. The FT232H is a multi-function chip, can be configured as UART, FIFO, JTAG, I2C, SPI, etc. There seems to be an ARM 10 Pin interface. So, I connect it according to the layout of ARM 10 Pin. I did not connect RTCK, so the OpenOCD returns an error. However, there is no datasheet for my hardware delivered with the FPGA. I think it may be caused by the not really connected RTCK pin, or by the complex configuration of the multi-purpose chip. I just give up using this one, and try to follow the guide from an engineer at OpenSUSE, using a J-Link hardware. J-Link Realizing the the RTCK is important, I connected all the Pins to J-Link. I use several jump wires to connect the irregular JTAG Pins on Raspberry Pi to the J-Link standard ARM 20 Pin tag. The connection is as follows: Configurations After setting up the hardwares, the configuration on Raspberry Pi is simple, just change the GPIO ALT to ALT4 and add: 1enable_jtag_gpio=1 to enable the JTAG debugging. Software The software is which I mentioned before, OpenOCD. It uses a tcl grammar to describe the debug target, the debug protocol (JTAG, SWIG, etc.) and other configurations. There are some pre-edited configuration files. They are located at /usr/share/openocd/scripts if you install OpenOCD from the software source. The basic usage to start a daemon is: 1openocd -f &lt;debug-interface-conf&gt; -f &lt;debug-target-conf&gt; -c &lt;overwriten-or-appended-conf&gt; ... Then we can connect to the daemon by telnet, or attach gdb to the established debug target(s). Debug interface The interface in OpenOCD describes how to connect to a hardware debugger. For J-Link, the default configuration is interface/j-link.cfg. The one for FT232H JTAG debugging is interface/ftdi/um232h.cfg, and interface/st-link.cfg for the ST-Link. Debug protocol The debug protocol is called transport in OpenOCD. Some possible values are: 12345transport select jtagtransport select swimtransport select hla_jagtransport select dapdirect_jtagtransport select dapdirect_swd Raspberry Pi as a target The OpenOCD project already contains Raspberry Pi platforms in its 0.11.0 version, such as: 1234target/bcm2835.cfg # Raspberry 1, zerotarget/bcm2836.cfg # Raspberry 2target/bcm2837.cfg # Raspberry 2 rev 1.2, 3, zero 2target/bcm2711.cfg # Raspberry 4 Error: unknown status In a previous version of OpenOCD, e.g. the version in Ubuntu 20.04 LTS, the ARM core status for Hypervisor mode is not recognizable by the software. So when attaching gdb, there will be an error stating that the unknown status of the CPU, and will fail the gdb. I then use the 0.11.0 version under Arch Linux, which works perfectly. Conclusion This post takes my painful experiences on debugging Raspberry Pi with JTAG. Fortunately, it finally works.","categories":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/categories/Embedded-System/"},{"name":"Raspberry Pi","slug":"Embedded-System/Raspberry-Pi","permalink":"https://blog.inoki.cc/categories/Embedded-System/Raspberry-Pi/"}],"tags":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/tags/Embedded-System/"},{"name":"Bare Metal","slug":"Bare-Metal","permalink":"https://blog.inoki.cc/tags/Bare-Metal/"},{"name":"Raspberry Pi","slug":"Raspberry-Pi","permalink":"https://blog.inoki.cc/tags/Raspberry-Pi/"},{"name":"Debug","slug":"Debug","permalink":"https://blog.inoki.cc/tags/Debug/"},{"name":"JTAG","slug":"JTAG","permalink":"https://blog.inoki.cc/tags/JTAG/"}]},{"title":"Â≠ëÁÑ∂‰∏ÄË∫´ÁöÑ 2021","slug":"My-2021","date":"2022-02-08T16:54:40.000Z","updated":"2022-05-09T18:41:39.482Z","comments":true,"path":"2022/02/08/My-2021/","link":"","permalink":"https://blog.inoki.cc/2022/02/08/My-2021/","excerpt":"","text":"ÂèàËøáÂéª‰∫Ü‰∏ÄÊï¥Âπ¥Ôºå2020 Âπ¥ÂàùÂºÄÂßãÁöÑÁñ´ÊÉÖÂç¥‰ªçÊú™ÁªìÊùü„ÄÇ‰ªäÂπ¥ÁöÑÂæàÂ§ö‰∫ãÊÉÖ‰ªçÁÑ∂ÊòØÂíåÁñ´ÊÉÖÊÅØÊÅØÁõ∏ÂÖ≥ÔºåÁîöËá≥ÈÉΩÊòØÁñ´ÊÉÖÊé®Âä®ÁöÑ„ÄÇËøô‰∏ÄÂπ¥ÔºåÊàëÁªùÂ§ßÂ§öÊï∞Êó∂Èó¥ÈÉΩÊòØÁã¨Ëá™‰∏Ä‰∫∫ÁöÑÔºå‰∫éÊòØ‰ªäÂπ¥Êõ¥Âä†ÂÜÖÂêëÂûã„ÄÅÂπ∂‰∏îËøõË°å‰∫ÜÂæàÂ§öÊÄùËÄÉ‰∏éÂèçÊÄùÔºå‰ΩÜËÆ©‰∏äÂ∏ùÊØèÊØèÂèëÁ¨ëÁöÑÊàëÂΩìÁÑ∂ËøòÊòØ‰ºöÊúâÂæàÂ§öÊÉ≥‰∏çÊòéÁôΩÁöÑ‰∫ãÔºåÂîØ‰∏ÄËÉΩÁ°ÆÂÆöÁöÑÂ∞±ÊòØÊàëÊõ¥Âä†ËøΩÊ±ÇÁöÑÊòØËá™Â∑±ÂÜÖÂøÉÂíåÁ≤æÁ•ûÁöÑÂØåË∂≥ÔºåËÄåËøô‰∏ÄÂØåË∂≥Â§ßÈÉ®ÂàÜÈÉΩÊòØÂè™ÊúâÈù†ÊàëËá™Â∑±ÊâçËÉΩÁªôÊàëÁöÑ„ÄÇ Áñ´ÊÉÖ Âπ¥ÂàùÁöÑÊó∂ÂÄôÔºåÊàëÈÄÅÂÆ∂Â±ûÂà∞‰∫ÜÊú∫Âú∫ÔºåËÆ©ÂÆ∂Â±ûÂÖàÂú®ÂõΩÂÜÖÂ∑•‰Ωú„ÄÅÈ°∫‰æøË∫≤ÂºÄÁñ´ÊÉÖÔºåÁ≠âÂà∞Áñ´ÊÉÖËøáÂéª‰∫ÜÊàë‰ª¨ÂÜç‰∏ÄËµ∑Âá∫Êù•Ôºå‰∫éÊòØÊàëËøôËæπÂ∞±ÂºÄÂßã‰∫ÜÁã¨Ëá™‰∏Ä‰∫∫ÁöÑËá™Èó≠ÁîüÊ¥ª„ÄÇËÄåÂÆ∂Â±ûÈÇ£ËæπÂú®ÂõûÂõΩÁöÑÊó∂ÂÄôÔºåÂõΩÂÜÖÁñ´ÊÉÖÊó©Â∑≤ÂæóÂà∞‰∫ÜÊéßÂà∂ÔºåÁªèËøáÂêÉÂæóÂæàÂ•ΩÁöÑ‰∏§Âë®ÈöîÁ¶ªÔºåÂºÄÂßãÊâæÂ∑•‰ΩúÊäïÁÆÄÂéÜÔºåÊ≤°Âá†Â§©Â∞±ÊâæÂà∞‰∫ÜÂ∑•‰ΩúÔºåÁªèËøá‰∏ÄÊÆµÊó∂Èó¥ÁöÑËØïÁî®Â∞±Âú®ÂÖ≠Êúà‰ªΩËΩ¨Ê≠£‰∫ÜÔºåËôΩÁÑ∂Â∑•ËµÑ‰∏çÈ´ò„ÄÅ‰ΩÜÊòØÂÆåÂÖ®‰∏çÂä†Áè≠„ÄÅÊ¥ª‰∏çÁ¥ØÂπ∂‰∏îÊ≤°ÊúâËÄÉÁÆóÊ≥ï„ÄÇ ËÄå‰∏éÊ≠§ÂêåÊó∂ÊàëÂú®Â§ñÈù¢Âê¨ÁùÄÂêÑÁßçÂèòÁßçÊîªÂÖ•ÂåóÁæéÂ§ßÈôÜÁöÑÊ∂àÊÅØÔºåÁëüÁëüÂèëÊäñ‰∏çÊï¢Âá∫Èó®ÔºåÁîöËá≥ËøûËÆøÈóÆ‰∫§ÊµÅÁöÑËøô‰∏™ÂüéÂ∏ÇÈÉΩÊ≤°ÊÄé‰πàÈÄõ„ÄÇÂêéÊù•ÊÉ≥‰∫Ü‰∏Ä‰∏ãÔºåÂ∫îËØ•ÊòØÂΩìÊó∂Ê≠¶Ê±âÂá∫Áé∞ÂåªÁñóËµÑÊ∫êÊå§ÂÖëÁöÑÊÉÖÂÜµËÆ©Ëøô‰∏™ÁóÖÊØíÊòæÂæóÂæà‰∏•ÈáçÔºåÂÜçÂä†‰∏äÂ±ÇÂ±ÇÊ∏≤Êüì‰ªÄ‰πàÂêéÈÅóÁóáÔºåËÆ©ÂæàÂ§ö‰∫∫ËßâÂæóËøô‰∏™ÁóÖÊØíÈùûÂ∏∏‰∏•Èáç„ÄÇÂÆûÈôÖ‰∏äÂ∞±ÊàëÁöÑËßÇÂØüÔºåÊ¨ßÁæéÂæàÂ§ö‰∫∫Ê†πÊú¨‰∏ç careÔºåÂæó‰∫ÜÂ∞±ÂΩìÂ∞èÊµÅÊÑüÂíåÊÑüÂÜí‰∫Ü„ÄÇ‰ΩÜÊØèÂ§©ÁõØÁùÄÊñ∞Â¢ûÁöÑÊï∞Â≠óËøòÊòØËÉÜÊàòÂøÉÊÉä„ÄÇ ÂÆûÈôÖ‰∏äÔºåÈ´ò‰∏≠ÁöÑÊó∂ÂÄôÂ¶àÂ¶àÂæóËøá‰∏ÄÊ¨°Âæà‰∏•ÈáçÁöÑËÇ∫ÁÇéÔºåÂèëÁÉßÂà∞ÊòèËø∑ËØ¥ËÉ°ËØùÔºå‰º§Âà∞Â§ßËÑëÂØºËá¥Â•πÊúâÊÆµÊó∂Èó¥Ë∞ÅÈÉΩËÆ§‰∏çÂá∫Êù•„ÄÅÁ≤æÂäõÈõÜ‰∏≠‰∏ç‰∫ÜÔºåÁªèËøá‰∫ÜÂá†‰∏™ÊúàÊâçÂÆåÂÖ®ÂõûÂ§ç„ÄÇ‰ΩÜÂÖ∂ÂÆûËµ∑Âõ†Âè™ÊòØÂõ†‰∏∫‰∏Ä‰∏™Â∞èÊÑüÂÜíÊãñÁùÄÊ≤°ÊúâÂéªÂåªÈô¢ÔºåÂêéÈù¢ÂèëÂ±ïÂà∞ËÇ∫ÁÇéÈôÑÂ∏¶ÂèëÁÉß„ÄÇÊàëÂΩìÊó∂Âú®‰ΩèÊ†°ÔºåÂõ†‰∏∫Â¶àÂ¶àÁîüÁóÖÂõûÂéªÊ≤°Êúâ‰∫∫ÊúâÁ≤æÂäõÂÜçÁÆ°ÊàëÔºåÊâÄ‰ª•Á¨¨‰∏ÄÂë®Ê≤°ÊúâÂõûÂéªÔºåÁ≠âÁ¨¨‰∫åÂë®ÂõûÂéªÁöÑÊó∂ÂÄôÂ¶àÂ¶àÂ∑≤ÁªèÂú®ÂåªÈô¢ÈÜíËøáÊù•‰∫ÜÔºå‰ΩÜÊòØÂΩìÊó∂Â∑≤ÁªèÂ§ßËÑëÂèóÊçü‰ªÄ‰πàÈÉΩ‰∏çÁü•ÈÅì‰∫Ü„ÄÇËÄåÊàëÁà∏Âàô‰∏ÄÁõ¥ËßâÂæóÂ∞±ÊòØ‰∏Ä‰∏™Â∞èÊÑüÂÜíÔºåÊØèÂ§©‰πüÂ∞±ÂñÇÂ¶àÂ¶àÂêÉ‰∏Ä‰∏ãÊÑüÂÜíËçØÂíåÊü¥ËÉ°Ôºà‰∏≠ËçØÔºâÊ≥®Â∞ÑÊ∂≤„ÄÇÊàëÂ∞èÊó∂ÂÄôÂè™Ë¶Å‰∏ÄÂèëÁÉßÂ∞±‰ºöË¢´ÂñÇÊü¥ËÉ°Ê≥®Â∞ÑÊ∂≤ÔºöÁî®Âã∫Â≠êÊï≤ÂºÄ„ÄÅÊääÁéªÁíÉËå¨ÂºÑÂá∫Êù•Ôºå‰∏ÄÂè£Âñù‰∏ãÂéª„ÄÇÂÖà‰∏çËÆ∫Êü¥ËÉ°ÊòØÂê¶ÁúüÁöÑÊúâÁî®ÔºåÂ∞±ËÆ∫Ê≥®Â∞ÑÊ∂≤ÂèØËÉΩÂ∞±ÊòØÂõ†‰∏∫Êúâ‰∫õÊàêÂàÜ‰ºöË¢´Ê∂àÂåñÁ≥ªÁªüÂàÜËß£ÊâçÂÅöÊàêÊ≥®Â∞ÑÊ∂≤ÔºåÂñùÊü¥ËÉ°Ê≥®Â∞ÑÊ∂≤‰πüÊòØÂæàÂ•áÊÄ™ÁöÑ‰∫ãÊÉÖ‰∫Ü„ÄÇ„ÄÇ„ÄÇ‰ΩÜ‰ªñ‰ª¨ÈÇ£‰ª£‰∫∫Áº∫‰πè‰∏Ä‰∫õÊàë‰ª¨Áé∞Âú®ËßâÂæóÊòØÂ∏∏ËØÜÁöÑ‰∫ãÔºåÂÜçÂä†‰∏äÂ∞èÂú∞ÊñπÈÇ£‰∏™Âπ¥‰ª£ÂåªÁñóËµÑÊ∫êÂåÆ‰πè„ÄÅÂøÉÁñºÈí±ÔºåÈöè‰æø‰∏Ä‰∏™Êä§Â£´ÁöÑ‚ÄùÂ∞èËØÄÁ™ç‚ÄúÂ∞±Ë¢´ÊàëÁà∂ÊØçÂ•â‰∏∫Âú≠Ëá¨ÔºåÁõ¥Âà∞ËøôÊ¨°Âá∫‰∫Ü‰∫ã„ÄÇ„ÄÇ„ÄÇ ÊúÄÂêéÂà∞‰∫ÜÁ¨¨‰∫åÂë®ÁöÑÂë®ÂõõÔºå‰∫∫Â∑≤ÁªèÊòèËø∑‰∫ÜÊâçÂè´‰∏äÊàëÂ§ñÂ©Ü„ÄÅÊääÂ¶àÂ¶àÈÄÅÂà∞ÂåªÈô¢ÔºåÂåªÁîüËØ¥Â¶ÇÊûúÂÜçÊôöÊù•‰∏§Â§©Â∞±‰∏çÂ•ΩÊïë‰∫Ü„ÄÇ‰ΩÜÂè™Ë¶ÅÂåªÁñóËµÑÊ∫êË∂≥Â§ü„ÄÅÂèäÊó©Â∞±ÂåªÔºåÂÖ∂ÂÆû‰∏Ä‰∏™Â∞èÊÑüÂÜíÔºàÊàñËÄÖËØ¥ËÇ∫ÁÇéÔºâ‰∏çËá≥‰∫éÊ≠§ÁöÑ„ÄÇ Âà∞‰∫ÜÁé∞Âú®ÔºåÊàë‰πüËßâÂæóÊñ∞ÂÜ†ÂØπÂ§ßÈÉ®ÂàÜ‰∫∫Êù•ËØ¥ÂèØËÉΩÂ∞±ÊòØ‰∏Ä‰∏™Â∞èÊÑüÂÜí‰∫ÜÔºåËÄåÂõΩÂÜÖÊîøÂ∫úÂõ†‰∏∫ÂÜ¨Â••‰ºöÂíåÈù¢Â≠êÈóÆÈ¢ò‰∏ÄÁõ¥Âú®ÂÆûË°åÂä®ÊÄÅÊ∏ÖÈõ∂ÊîøÁ≠ñ„ÄÅÂêÑ‰∏™Âú∞ÊñπÂèàÂ±ÇÂ±ÇÂä†Á†ÅÊòØÂèçÂ∫îËøáÊøÄ‰∫Ü„ÄÇ ‰ΩÜÊ†πÊçÆ‚Äú‰∏ÄÂ§¥Áâõ‚ÄùÂéüÁêÜÔºåÊàëÁà∂ÊØçÂπ¥Á∫™ÈÉΩ‰∏çÂ∞è‰∫Ü„ÄÅËÄå‰∏îË∫´Â≠êÈÉΩÊå∫Âº±ÁöÑÔºåÂ§ÑÁêÜÁîüÁóÖÁöÑÊñπÂºèÂèà‰∏çÂ•ΩÔºåÊâÄ‰ª•ÊàëÁöÑÁ°Æ‰∏çÊÉ≥Êñ∞ÂÜ†ËøôÁßçÁóÖÊØíÂú®ÂÆ∂ÈÇ£ËæπËá™Áî±‰º†Êí≠„ÄÅÂÜµ‰∏îÂ∞èÂú∞ÊñπÂåªÁñóËµÑÊ∫ê‰∏çÂÖÖË∂≥„ÄÇÊàëÁà∂ÊØç‰πüÂ±û‰∫é‰∏çÁªèÂ∏∏ÂéªÂÖ∂‰ªñÂú∞ÊñπÊóÖÊ∏∏ÁöÑÔºàÂõ†‰∏∫ÂÆ∂ÈáåÂÆûÂú®Ê≤°Êúâ‰ªÄ‰πàÈí±ÔºâÔºåÈô§‰∫ÜÊú¨Âú∞ÊúâÁóÖ‰æãÁöÑÊÉÖÂÜµ‰ºöÂ∞ÅÂüéÔºåÂØπ‰ªñ‰ª¨ÁîüÊ¥ªÂü∫Êú¨Ê≤°ÊúâÂΩ±Âìç„ÄÇËøòÊòØÁ≠âÁúãÂà∞Êñ∞ÂèòÁßçÁöÑËØÑ‰º∞ÂÜçËØ¥ÂêßÔºÅÂ∏åÊúõ 2022 Âπ¥ÂõΩÂÜÖÊîøÁ≠ñÂ∞±ÂèØ‰ª•ÊîæÊùæÔºåËÆ©ÊàëÂõûÂéªÁúãÁúãÁà∂ÊØçÂíåÂÆ∂Â±û„ÄÇ Â≠¶ÊúØ 2021-2022 Âπ¥Â∑≤ÁªèÊòØËØªÂçöÁöÑÂÄíÊï∞Á¨¨‰∫åÂπ¥‰∫ÜÔºåÂ∫îËØ•ÊòØÂºÄÂßãÂ§ßÈáèÂá∫ÊàêÊûúÁöÑ‰∏ÄÂπ¥ÔºåÁöÑÁ°ÆÊàë‰πüÂú®Âπ¥Âàù„ÄÅÂπ¥‰∏≠„ÄÅÂπ¥Êú´ÂàÜÂà´Êäï‰∫Ü‰∏ÄÁØáÊñáÁ´†ÔºåÂπ¥ÂàùÁöÑÈÇ£ÁØáÊ≤°‰∏≠ÔºåÂπ¥‰∏≠ÁöÑÂπ∏ËøêÂú∞‰∏≠‰∫ÜÔºåËÄåÂπ¥Êú´ÁöÑËá≥‰ªäËøòÂú® review ‰∏≠ÔºåÈ¢ÑËÆ°‰∏âÊúà‰ªΩÊúâÁªìÊûú„ÄÇÂπ¥‰∏≠ÁöÑÈÇ£ÁØáÊòØ‰∏Ä‰∏™Ëøò‰∏çÈîôÁöÑ‰ºöËÆÆÔºåÈúÄË¶ÅÂÅö‰∏Ä‰∏™ËßÜÈ¢ë presentation ‰ªãÁªçÊàëÁöÑÊñáÁ´†ÔºåÂõ†‰∏∫ËøòÊòØÊî∂Âà∞Áñ´ÊÉÖÂΩ±ÂìçÔºåÂÖ®ÈÉ®ÈÉΩÊòØ virtual hosting„ÄÇ ÊÄª‰πãÂ≠¶ÊúØÊñπÈù¢Âà∞Áé∞Âú®‰∏∫Ê≠¢ÔºåÂ∑≤ÁªèË∂ÖËøáÊØï‰∏öÁöÑË¶ÅÊ±Ç‰∫ÜÔºåÊâÄ‰ª•Êï¥‰Ωì‰πüÊ≤°‰ªÄ‰πàÂéãÂäõÔºöÊØèÂ§©ÂÖ´‰πùÁÇπ‰∏äÁè≠Êé®Ëøõ‰∏Ä‰∏ãÈ°πÁõÆ„ÄÅ‰∏ãÂçàÂÖ≠ÁÇπÂ∑¶Âè≥Â∞±ÂõûÂÆ∂‰∫ÜÔºåÁÑ∂ÂêéÂà∞ÂÆ∂‰πãÂêéÂÆûÁé∞Ëá™Â∑±ÁöÑ idea„ÄÇÁõÆÂâçÊù•ËØ¥ÔºåÂõ†‰∏∫ÂÆ∂ÈáåÂíåËá™Â∑±ÁúüÁöÑÁº∫Èí±Ôºå‰πü‰∏çÊâìÁÆóÂú®Â≠¶ÊúØË∑Ø‰∏äÁªßÁª≠‰∫ÜÔºåÂéªÂ∑•‰∏öÁïåÊâæ‰∏™Ê¥ª„ÄÅÊîíÂá∫Êù•‰∏Ä‰∫õË∂≥Â§üËøá‰∏äÊÉ≥Ë¶ÅÁöÑÁîüÊ¥ªÁöÑÈí±„ÄÇÂèçÊ≠£Â≠¶ÊúØÊñπÂêë‰πü‰ΩìÈ™åËøá‰∫ÜÔºå‰πüÁúãÂà∞‰∫ÜËøôÊù°Ë∑ØÁöÑ‰ºò‰∏éÂä£ÔºåÂÜçÁªìÂêàÁé∞Âú®Ëá™Ë∫´ÁöÑ‰ºòÂäøÔºåÂ∞±ÂàùÊ≠•ÂÅöÂá∫‰∫Ü‰∏äËø∞ÈÄâÊã©„ÄÇ ÊúÄÂêéÂú®Âπ¥Êú´ÁöÑÊó∂ÂÄôÔºåÂíåÊüêÂ§ß V ‰∫íÂä®ËÆ®ËÆ∫‰∫Ü‰∏Ä‰∏ãÊúüÂàäÊñáÁ´†ÁöÑÊî∂Ë¥πÈóÆÈ¢òÔºåÊàë‰ªø‰ΩõÁúãÂà∞‰∫ÜÊú¨ÁßëÂàöÂºÄÂßãÁöÑÊó∂ÂÄôÂÆåÂÖ®‰∏çÊáÇÂ≠¶ÊúØÁßëÁ†îÁöÑËá™Â∑±„ÄÇ ÁΩëÁªú ÂâçÈù¢ÊèêÂà∞ÁöÑÂ≠¶ÊúØËßÇÁÇπ‰∫ãÊÉÖÂ§ßÊ¶ÇÊòØËøôÊ†∑ÁöÑÔºöÈÇ£‰ΩçÂ§ß V ËßâÂæóÊâÄÊúâÁöÑÊúÄ‰ºòÁßÄÁöÑËÆ∫ÊñáÂíåËµÑÊ∫êÈÉΩÊòØÂÖçË¥πÁöÑÔºåÈÇ£‰∫õÊ≤°ÂäûÊ≥ïËá™Â∑±ÊâæÂà∞ÂíåÂ≠¶‰π†ÁöÑÈÉΩÊòØÊô∫ÂïÜÊúâÈóÆÈ¢òÔºà‰ºòË∂äÊÑü+1ÔºâÔºåÈÇ£‰∫õÊ≤°Ê≥ïÂÖçË¥πËÆøÈóÆÁöÑËÆ∫ÊñáÈÉΩÊòØÁªè‰∏ç‰ΩèÂÆ°ÈòÖ„ÄÅÊâÄ‰ª•ÊâçËóèÁùÄÊéñÁùÄÔºà‰ºòË∂äÊÑü+1ÔºâÔºåËøôÁßçËÆ∫ÊñáÈÉΩÊòØÂú®Áü•ÁΩë‰∏äÊ≤°Êúâ‰ªª‰Ωï‰ª∑ÂÄºÁöÑÔºà‰ºòË∂äÊÑü+1ÔºâÔºå‰ªñÊòØ scihub ÁöÑÁî®Êà∑Ôºà‰ºòË∂äÊÑü+1Ôºâ„ÄÇËÄåÊàëËøõË°å‰∫ÜËΩ¨Êé®ÔºåÂπ∂ËØ¥ËøòÊòØÊúâÂæàÂ§öÈ¢ÜÂüüÁöÑËÆ∫ÊñáÊòØÊ≤°ÂäûÊ≥ïÂÖçË¥πËé∑ÂèñÁöÑ„ÄÅËøòÊòØÂ≠òÂú®ÊúâÈó®ÊßõÁöÑ„ÄÅÊî∂Ë¥πÁöÑÂàäÁâ©ÔºåËøô‰∫õÂàäÁâ©Èáå‰πüÊúâÂ§ßÈáè‰ºòÁßÄÁöÑËÆ∫ÊñáÔºåÂá∫ÁâàÂïÜÂ§™Âùë‰∫Ü„ÄÇ ËôΩÁÑ∂Êú¨Ë¥®‰∏äÊàë‰ª¨ÂØπÊúüÂàäÊî∂Ë¥πÁöÑÈóÆÈ¢òÈÉΩÊòØÊ∑±ÊÅ∂ÁóõÁªùÁöÑÔºå‰ΩÜÂèØÊÉúÁöÑÊòØÔºåËøô‰ΩçÂ§ß V ‰∏äÊù•Â∞±‰ΩøÁî®‚ÄúËøôÈÄº‚ÄùÂØπÊàëËøõË°å‰∫ÜËæ±È™ÇÔºåÂπ∂‰∏îÊ†ëËµ∑‰∫Ü‰ªñ‰∏∫‰ªª‰ΩïÂèçÂØπ‰ªñËßÇÁÇπÁöÑ‰∫∫ÂáÜÂ§áÁöÑÈù∂Â≠ê„ÄÅÂºÄÂßãÂñ∑‰ªñÊÉ≥Ë±°‰∏≠ÁöÑËßÇÁÇπ„ÄÇÊàëÂΩìÊó∂Âè™ÊÉ≥Á¨ëÔºåÂõ†‰∏∫‰ªñÊîªÂáªÁöÑËßÇÁÇπ„ÄÅÊàë‰πü‰∏çÁü•ÈÅìÊòØË∞ÅÁöÑ„ÄÇ„ÄÇ„ÄÇËÄåËá≥‰∫é‰ªñËØÑËÆ∫‰∏ãËØ¥ÊàëÊòØÊ∞¥Ë¥ßÁöÑÁî®Êà∑‰ª¨ÔºåËøòÂ•ΩÊ≤° fo ÊàëÔºåË¶Å‰∏çÁÑ∂ÊàëÈúÄË¶ÅÂ§ßÂèçÊÄùÊàëÂèëÊé®ÁöÑÊ∞¥Âπ≥‰∫Ü lol„ÄÇÂΩìÁÑ∂ÊàëÂÖ∂ÂÆû‰πüÈ™ÇÂõûÂéª‰∫Ü‰ΩÜÊ≤°ÊúâËÑèÂ≠óÔºåËøôÁÇπÂçÉÈáåÂÜ∞Â∞ÅÂ∫îËØ•ËØªÊáÇ‰∫Ü XD„ÄÇ ËøôÊ¨°‰∫âËÆ∫ÂØºËá¥‰∫ÜÊàë list Èáå‰∏ÄÁ≥ªÂàóÁöÑÂ≠¶ÊúØ‰∫∫Ë¢´Ëøô‰ΩçÂ§ß V ÊãâÈªë‰∫ÜÔºåÊàëÊú¨Êù•‰πüËõÆÊ¨£Ëµè‰ªñÁöÑ‰∏Ä‰∫õËßÇÁÇπÔºåÂêéÊù•Âú®ÊäΩÁ©∫ÊêúÁ¥¢‰∫Ü‰∏Ä‰∏ã‰ªñÁöÑÂ≠¶ÊúØÊàêÊûúÔºà‰ΩÜÊ≤°ÊêúÂà∞ÔºåÂèØËÉΩÊéàËØæÂûãÁ°ïÂ£´ÂØºËá¥ÂîØ‰∏ÄÁöÑÂ≠¶ÊúØÊàêÊûúÂ∞±ÊòØÊîæÂú®Áü•ÁΩë‰∏äÁöÑÊú¨ÁßëÊØï‰∏öËÆ∫ÊñáÂêßÔºâ„ÄÅÂπ∂ÊÄªÁªì‰∫Ü‰∏Ä‰∏ã‰ªñÁöÑËßÇÁÇπ‰πãÂêéÔºå‰πüÂèñÂÖ≥+ÈùôÈü≥‰∫ÜÔºå‰πüÊúâÈÉ®ÂàÜÂéüÂõ†ÊòØ‰ªñÊúÄËøëÁöÑÂìó‰ºóÂèñÂÆ†ÂºèÊ≥®ÈîÄÂêß„ÄÇ ÁªèËøáËøôÊ¨°Êàë‰πüÊòéÁôΩ‰∫ÜÂú®ÁΩëÁªú‰∏äÂæàÂ§ö‰∫ãÊÉÖ‰∏çËÉΩËÆ§ÁúüÔºöÂ§ßÂÆ∂ÈÉΩËßâÂæóÂØπÊñπÊòØÂÇªÈÄºÔºåÂπ∂‰∏çÂèØËÉΩËÆ®ËÆ∫Âá∫ÁªìÊûúÔºåÁîöËá≥Êúâ‰∫õ‰∫∫ÂÖ∂ÂÆûÊ†πÊú¨‰∏çÊòØÂú®‰∫âËÆ∫ÔºåËÄåÊòØÊ†ë‰∏™Èù∂Â≠êËá™Â∑±ÊâìÔºåÂè™‰∏∫‰∫ÜÁªôËá™Â∑±Âπ≥Âá°ÁöÑÁîüÊ¥ªÊ∑ªÂä†‰∏Ä‰∫õÔºàÊàëËßâÂæóËé´ÂêçÂÖ∂Â¶ôÁöÑÔºå‰ΩÜÂèØËÉΩ ta ËøòËõÆÂèóÁî®ÁöÑÔºâ‰ºòË∂äÊÑü„ÄÇËÄåËÉΩÊàê‰∏∫Â§ß V Âπ∂‰∏çÊòØÊúâ‰ªÄ‰πàËøá‰∫∫‰πãÂ§ÑÔºåÂèØËÉΩÂè™ÊòØ‰ºöÊåÅÁª≠ÂèëË°®‰∏Ä‰∫õÁÆÄÂçï„ÄÅÁõ¥Êé•„ÄÅÊúâ‰∫âËÆÆÁöÑËßÇÁÇπÔºåÂΩ¢ÊàêÂêåÊ∏©Â±Ç„ÄÇ ‰∫éÊòØÂêéÊù•ÊàëÂ∞±ÂºÄÂßãÂÅöÁõ∏ÂÖ≥ÁöÑÂÆûÈ™åÔºåÔºàÁªèËøáÊú¨‰∫∫ÊéàÊùÉÔºâËΩ¨‰∫Ü‰∏Ä‰∫õ‰∏Ä‰∏™Âàù‰∏≠ÂêåÂ≠¶ÁöÑ‰∫âËÆÆÊÄßË®ÄËÆ∫ÔºåÂºïËµ∑‰∫ÜÂæàÂ§ßÁöÑËÆ®ËÆ∫ÔºåÁîöËá≥ÊÉäÂä®‰∫ÜÊüêÁΩëÁªúÂ™í‰ΩìÁöÑÂàõÂßã‰∫∫„ÄÇËÄåÂêéÊù•ÁöÑÊäñÊú∫ÁÅµÈò¥Èò≥ÊÄ™Ê∞îÊî∂Âà∞ÈùûÂ∏∏Â§öÁöÑÂõûÂ§ç‰πüËØÅÊòé‰∫ÜËøô‰∏ÄÁÇπ„ÄÇ‰πãÂêéËøòÊòØÂ∞ΩÈáè‰∏çËøôÊ†∑‰∫ÜÔºåÊÑüËßâÂπ∂Ê≤°ÊúâÊÑè‰πâÂ≠òÂú®ÔºåÂè™ÊòØ‰ºöËÆ©ÂæàÂ§öÊï∞ÊçÆ‰∏≠ÂøÉÁöÑÂ§ÑÁêÜÂô®„ÄÅÂÜÖÂ≠ò„ÄÅÁΩëÂç°Á≠âËÆæÂ§áÁÉßÊõ¥Â§öÁöÑÁîµÔºåÂπ∂‰∏çËÉΩÊé®Ëøõ‰ªª‰Ωï‰∫∫Á±ªÁ§æ‰ºöÁöÑÂèëÂ±ï„ÄÇ‰ΩÜ‰∫ãÂÆûËØÅÊòéÔºåÂæàÂ§öÂ§ß V ÈÉΩÊòØÈÄöËøáÊåÅÁª≠ËæìÂá∫ËøôÊ†∑ÁöÑË®ÄËÆ∫ÂèòÊàêÂπ∂Áª¥ÊåÅÂ§ß V Ë∫´‰ªΩÁöÑÔºåÊØîÂ¶Ç‚ÄùB Á´ô‰Ω†Áà∑Áà∑ÂèàÂõûÊù•‰∫ÜÁöÑ‚ÄúÊüê up ‰∏ªÈõ∑Êüê„ÄÇ‰ΩÜÊàëËøòÊòØÊõ¥ËøΩÊ±ÇÊàëÂÜÖÂøÉÁöÑÂπ≥ÈùôÔºåÂÅö‰∏Ä‰∫õÊõ¥Âä†ÊúâÊÑè‰πâÁöÑ‰∫ãÊÉÖ„ÄÇÊàëËßâÂæóËøòÊòØË¶ÅÂêëÊõ¥Âä†‰ºòÁßÄÁöÑ‰∫∫ÁúãÈΩêÔºåÊâÄ‰ª•Êàë‰πüÂèñÂÖ≥‰∫Ü‰∏Ä‰∫õÊ≤°ÊúâËê•ÂÖªÁöÑÂ§ß V„ÄÇ ÂºÄÊ∫ê ÊàëÂäõÊâÄËÉΩÂèäÁöÑÊõ¥Âä†ÊúâÊÑè‰πâÁöÑ‰∫ãÊÉÖÔºåÂèØËÉΩÂ∞±ÊòØÂºÄÊîæÊ∫ê‰ª£Á†ÅËÉΩÂ∏ÆÂä©Âà∞‰ªñ‰∫∫ÁöÑÈ°πÁõÆ‰∫Ü„ÄÇ Âπ¥ÂàùÂÆåÊàê‰∫Ü‰∏∫Ê†ëËéìÊ¥æ‰∫å‰ª£Ê∑ªÂä† embox Ëøô‰∏™ÂµåÂÖ•ÂºèÂÆûÊó∂ OS ÁöÑÊîØÊåÅ„ÄÅÂπ∂‰∏î‰ºòÂåñ‰∫ÜÂØπÁß∞Â§öÂ§ÑÁêÜÔºàSMP/Â§öÊ†∏ÔºâÁöÑÊîØÊåÅÔºõÂêéÊù•ÂºÄÂßãÊäÑ Berkeley ÁöÑËΩØ‰ª∂Ê®°Êãü FPUÔºàÊµÆÁÇπËøêÁÆóÂçïÂÖÉÔºâÂÜô‰∫Ü‰∏Ä‰∏™ Rust ÂÆûÁé∞ÔºåÈ°∫‰æøÊâãÂä®ËΩ¨ËØëÊàê ASLÔºàACPI ÁöÑÂêÑÁßçË°®‰ΩøÁî®ÁöÑËØ≠Ë®ÄÔºâÔºåÂü∫‰∫éËøô‰∏™ËΩØ‰ª∂ FPU ÂÆûÁé∞Âú® ASL ÈáåÂÜôÂá∫‰∫Ü‰∏Ä‰∏™ Ray Tracing in one Weekend ÁöÑÂÆûÁé∞ÔºåÂêéÊù•ÂèëÁé∞Âõ†‰∏∫Á≤æÂ∫¶Ê∏≤ÊüìÂá∫Êù•ÁöÑÂæàÊúâÈóÆÈ¢òÔºå‰ΩÜ debug Êúâ‰∫õÈ∫ªÁÉ¶Â∞±ÂºÉÂùë‰∫ÜÔºõÊò•Â§©ÁöÑÊú´Â∞æÔºåÊàëÂü∫‰∫é libpinyin ÂÜô‰∫Ü‰∏Ä‰∏™Âü∫Á°ÄÁâàÁöÑ macOS ËæìÂÖ•Ê≥ïÔºå‰æùËµñ‰∫é HomeBrew ÊûÑÂª∫ÁöÑÈùôÊÄÅÂ∫ìÔºå‰ΩÜÁõÆÂâçÁî±‰∫é HomeBrew ÁöÑ prebuilt Êú∫Âà∂Âèò‰∫ÜÔºåÂπ∂‰∏çËÉΩÂÜçÊàêÂäüÊûÑÂª∫„ÄÇ Âà∞ÂÖ≠Êúà‰ªΩÂÜôÂÆåËÆ∫ÊñáÂπ∂‰∏îÊäïÂá∫‰πãÂêéÔºåÊàëÂÖàÂÜô‰∫Ü‰∏Ä‰∏™‰ΩøÁî®ÂÇÖÈáåÂè∂ÂèòÊç¢Êù•ÁªòÂà∂ SVG ÂõæÂΩ¢Ë∑ØÂæÑÁöÑÂ∫îÁî®ÔºåËøô‰∏™È°πÁõÆËÆ©ÊàëÂøÉÊª°ÊÑèË∂≥ÔºöÂõ†‰∏∫ÊàëÂπ∂‰∏çÊª°Ë∂≥‰∫éÁ∫ØÂ∫îÁî®ÁöÑÊäÄÊúØÔºåÊàëÊâÄÂñúÁà±ÁöÑÊòØËøôÁßçËÉΩÂ§üÊääÊï∞Â≠¶ÁêÜËÆ∫ÂíåÂÖ∑‰ΩìÂ∫îÁî®Á¥ßÂØÜËÅîÁ≥ªËµ∑Êù•ÁöÑÁ®ãÂ∫è‚Äî‚ÄîÊó¢ÊúâÂ∫îÁî®ËÉåÊôØÔºåÂèàÊúâÊï∞Â≠¶‰πãÁæé„ÄÇÂèØËÉΩËøô‰πüÊòØÊàëÈÄâÊã©ËØªÂçöÁöÑ‰∏Ä‰∏™ÂéüÂõ†Âêß„ÄÇÂêéÊù•Êúâ‰∏Ä‰ΩçÊï∞Â≠¶Á≥ªÁöÑÂ≠¶Áîü‰∏ìÈó®ÂèëÈÇÆ‰ª∂ÊÑüË∞¢Ëøô‰∏™È°πÁõÆÔºå‰πüËÆ©ÊàëËé∑Âæó‰∫ÜË¢´‰∫∫ÈúÄË¶ÅÁöÑÊÑèÂ§ñ‰πãÂñú„ÄÇ ÂÖ≠ÊúàÂàùÊàë‰πüÂêåÊó∂ÂºÄ‰∫ÜÂè¶‰∏Ä‰∏™È°πÁõÆÔºåÊòØ‰∏∫ efivar Ê∑ªÂä†‰∫Ü‰∏ÄÂ±Ç Qt Â∞ÅË£Ö„ÄÅÂπ∂‰∏îÊ∑ªÂä†‰∫Ü Win32 API Êù•ÂÆûÁé∞‰∫ÜÂØπ Windows ÁöÑÊîØÊåÅÔºåËøôÊ†∑ÊàëÂèØ‰ª•‰ΩøÁî®Âêå‰∏Ä‰∏™Â∫ìÔºåÂú®Â§ßÈÉ®ÂàÜÊìç‰ΩúÁ≥ªÁªüÈáåÂÆûÁé∞ÂØπ UEFI Ê†áÂáÜÈáåÁöÑÂèòÈáèÁöÑÊìç‰Ωú„ÄÇËÄåÂü∫‰∫éÊ≠§ÔºåÊûÑÂª∫‰∫Ü‰∏Ä‰∏™ Qt Â∫îÁî®Á®ãÂ∫èÔºåÂèØ‰ª•ÈÄöËøá‰øÆÊîπ EFI ÂèòÈáèÊù•ÊîπÂèòÂêØÂä®È°∫Â∫è„ÄÅËÆæÁΩÆ‰∏ãÊ¨°ÁöÑÂêØÂä®ÁõÆÊ†á‰πãÁ±ªÁöÑ„ÄÇÂà∞‰∫ÜÂπ¥Êú´ÔºåËøô‰∏™È°πÁõÆ‰πüÊî∂Ëé∑‰∫Ü 100 ‰Ωô star ‰∫Ü„ÄÇÊàë‰∏™‰∫∫ËßâÂæóÂÆÉ‰ª¨ÂæàÊúâÁî®Ôºå‰πü‰ºöÈïøÊúüÁª¥Êä§‰∏ãÂéª„ÄÇ ‰∏ÉÊúàÁöÑÊó∂ÂÄôÊîæ‰∫ÜÊöëÂÅáÔºåÈó≤Êù•Êó†‰∫ãËØª‰∫Ü‰∏Ä‰∏ãÂà´‰∫∫ÈÄÜÂêëÁöÑ Switch Joycon ÁöÑÊñáÊ°£ÔºåÁÑ∂ÂêéÂÜô‰∫Ü‰∏Ä‰∏™Âè´ÂÅö libjoycon ÁöÑ C Â∫ìÔºåÁî®Êù•ÁºñÁ†ÅÂíåËß£Á†Å Joycon ÁöÑËìùÁâôÈÄö‰ø°ÂåÖÔºåÂÅö‰∫Ü‰∏Ä‰∏™Êää joycon ÁöÑÂ∫ßÊ†áÊò†Â∞ÑÂà∞ OpenGL ÁªòÂà∂ÁöÑ‰∏Ä‰∏™Á´ãÊñπ‰ΩìÁöÑ‰æãÂ≠êÔºåÊÑüËßâÈùûÂ∏∏Â•ΩÁé©„ÄÇ Âà∞‰∫ÜÂÖ´ÊúàËøõ‰∫ÜÂüéÁé©ÔºåÂíåÂΩìÂàùÂú®Ê≥ïÂõΩÁöÑÂêåÂ≠¶‰∏ÄËµ∑Êêû‰∫Ü‰∏Ä‰∏ã GPU Âä†ÈÄü„ÄÅÊ∑±Â∫¶Â≠¶‰π†ÔºåÂπ∂‰∏îÂà∑‰∫Ü‰∏Ä‰∏ãÁé∞‰ª£ Cpp ÁöÑÁâπÊÄßÔºå‰∏∫Â§ßÂ§öÊï∞ÁâπÊÄßÈÉΩÂÜô‰∫ÜÁªÉ‰π†„ÄÇÈ°∫‰æøÂÆåÊàê‰∫Ü‰πãÂâçÂÅöÊ†ëËéìÊ¥æÊû∂ÊûÑË∞ÉÁ†îÁöÑÊó∂ÂÄôÊÉ≥Âà∞ÁöÑ‰∏∫ÂÖ∂ÊûÑÂª∫ XNUÔºàApple ÁöÑÂÜÖÊ†∏ÔºâÁöÑÈ°πÁõÆÔºåÊàêÂäüÊûÑÂª∫Âá∫Êù•‰∫Ü‰∏Ä‰∏™ÂÜÖÊ†∏Ôºå‰ΩÜÂç¥ËøòÂõ†‰∏∫‰∏çÊòéÂéüÂõ†Êó†Ê≥ïÂêØÂä®ÔºåÊàëÊúÄËøë‰πüÂú®Êê≠Âª∫Ê†ëËéìÊ¥æÁöÑ JTAG Ë∞ÉËØïÁéØÂ¢É„ÄÇËÄåÂà∞‰∫Ü‰πùÊúàÔºåÂ∞±Âü∫Êú¨Âú®ÂáÜÂ§á‰ºöËÆÆÁöÑÊºîËÆ≤Âíå‰∏Ä‰∏™Â∞èËÆ≤Â∫ßÔºåÂπ∂‰∏îÂú®‰πãÂêéÁªìÊùüÊàëÁöÑÁ¨¨‰∏Ä‰∏™‰∫§Êç¢‰πãÊóÖ‰∫Ü„ÄÇÂú®ÂáÜÂ§áÊºîËÆ≤È¢ÑÂΩïËßÜÈ¢ëÁöÑÊó∂ÂÄôÔºåÂèëÁé∞Èöè‰æøÂâ™Ââ™ËßÜÈ¢ëËøòÊòØËõÆÂºÄÂøÉÁöÑÔºå‰∫éÊòØÂª∫‰∫Ü‰∏Ä‰∏™ Youtube È¢ëÈÅì Inoki‚Äôs Code ForgeÂºÄÂßã‰∫ÜËßÜÈ¢ëÁöÑÂà∂‰ΩúÂíå‰∏ä‰º†Ôºå‰ªäÂêéÊúâ‰∫õÂÜÖÂÆπ‰πü‰ºöÂú®ËøôËæπÂèëÂ∏ÉÔºåÊúâÂÖ¥Ë∂£ÁöÑÂèØ‰ª•ÂÖ≥Ê≥®‰∏Ä‰∏ã:) ‰ºöËÆÆÂíå‰∫§Êç¢ÁªìÊùüÂõûÂà∞Ëá™Â∑±ÁöÑÂ∞èÂÆÖÂ≠ê‰πãÂêéÔºåÂºÄÂßãÂáÜÂ§á‰∏ã‰∏ÄÁØáÊñáÁ´†ÂíåÂÅöÁõ∏Â∫îÁöÑÂÆûÈ™åÔºåÂêåÊó∂ÂºÄÂßãÂ≠¶‰π† Taichi Ëøô‰∏™Âπ∂Ë°åÁºñÁ®ãËØ≠Ë®ÄÔºåÈ°∫‰æøÊèê‰∫Ü‰∏™ PR ÂÆûÁé∞Âú® FreeBSD ‰∏äÁöÑÊûÑÂª∫„ÄÇÂà∞‰∫ÜÂçÅ‰∫åÊúàÊàëÂèàÈÄöËøá swig ‰∏∫ libjoycon ÈÇ£‰∏™ C Â∫ìÊ∑ªÂä†‰∫Ü Python ÁöÑ bindingÔºåÂíå Taichi Áé©‰∫Ü‰∏Ä‰∏ãÊ¢¶ÂπªËÅîÂä®Ôºå‰ΩøÁî® Joycon ÁöÑËßíÂ∫¶Êù•Êò†Â∞ÑÂàÜÂΩ¢ÂõæÁöÑÂèòÂåñ„ÄÇ‰πüÊî∂Âà∞‰∫ÜÁ∫ØÁà∑ÁöÑ PRÔºå‰øÆÂ§ç‰∫ÜÂú® macOS ‰∏äÁöÑÊûÑÂª∫ÔºåÂ∏åÊúõÁ∫ØÁà∑Âíå manjusaka ‰πüÈÉΩÁé©ÂæóÂºÄÂøÉÔºÅ ‰πãÂêéÂèàÂ∞ùËØï‰∫Ü‰∏Ä‰∏ãÂü∫‰∫é EDK2 Êù•ÊûÑÂª∫ EFI AppÔºåÂÜô‰∫Ü‰∏Ä‰∏™Êí≠Êîæ Bad Apple ÁöÑÁªÉ‰∫Ü‰∏ãÔºå‰∫ÜËß£‰∫Ü‰∏Ä‰∏ã EDK2 ËøòÊúâ EFI ÁöÑÊû∂ÊûÑÂíå‰∏Ä‰∫õÁªÜËäÇÔºå‰ªäÂπ¥ÊâìÁÆóÂÅöÁöÑ‰∫ãÊÉÖÊ≠£Â•Ω‰πüÂíå EFI ÊúâÂÖ≥„ÄÇ ‰ªäÂπ¥ÂºÄÊ∫êÁöÑ‰ª£Á†ÅÁªùÂ§ßÂ§öÊï∞ÈÉΩÊòØÊó†ÊÑèÈó¥Á™ÅÁÑ∂ÊÉ≥Âà∞ÁöÑ„ÄÅÁî®Êù•Áé©ÁöÑ ideaÔºå‰ºº‰πéÊÉ≥Ë±°ÂäõËøòÂèØ‰ª•„ÄÅ‰πêË∂£‰πüÂæàË∂≥Âë¢ÔºÅÊÄª‰πã‰ªäÂπ¥Êî∂Ëé∑Êª°Êª°ÔºåËÄåËá≥‰∫é 2022 Âπ¥ÁöÑÈ°πÁõÆÂíåÁõÆÂâçÊú™ÂÖ¨ÂºÄÁöÑÔºåÊàë‰πüÊîæÂú®Êñ∞ÁöÑ‰∏ÄÂπ¥ÁöÑÊÄªÁªìÈáåËÅäÂêß„ÄÇ Â∞æÂ£∞ Âπ¥Â∫ïÊäïÂÆåÊñáÁ´†ÔºåÂéª‰∫ÜÊªëÈõ™Êï£‰∏Ä‰∏ãÂøÉÔºåËøôÊ¨°Êªë‰∫ÜÂçïÊùø‰ΩÜ‰∏ÄÂë®Âπ∂Ê≤°ÊúâÂ§™Â§öËøõÂ±ïÔºåÂ§©Ê∞î‰πü‰∏çÊòØÁâπÂà´Â•ΩÂØºËá¥Èõ™ÈÅìÁªìÂÜ∞ÔºåÊëîÂæóÁîüÁñº„ÄÇ ÊúÄÂêéÔºåÂú® 12 Êúà 31 Êó•ÈÇ£Â§©ÔºåÁ¥ßÂØÜ‰∏éÁñ´ÊÉÖËÅîÁ≥ªÁöÑ‰∏ÄÂπ¥‰ª•Âú®ÊªëÈõ™‰∏≠ÂøÉÊÑüÊüì‰∫ÜÊñ∞ÂÜ†ÁªìÊùü„ÄÇÊàëËßâÂæóÂèØ‰ª•Âà∞‰ªäÂπ¥Âπ¥Êú´ÂÜçËÅäËøôÊ¨°ÊÑüÊüìÁöÑÁªèÂéÜÔºåÂ∏åÊúõÊñ∞ÂÜ†Áñ´ÊÉÖÂ§ßÊµÅË°åËÉΩÂú® 2022 ÁªìÊùüÂêßÔºåÂêåÊó∂‰πüÂ∏åÊúõÂ§ßÂÆ∂‰πüÈÉΩËÉΩÊâæÂà∞Ëá™Â∑±ÂÜÖÂøÉÁöÑÂÆÅÈùôÔºÅ","categories":[{"name":"Dairy","slug":"Dairy","permalink":"https://blog.inoki.cc/categories/Dairy/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"private","slug":"private","permalink":"https://blog.inoki.cc/tags/private/"}]},{"title":"Build and run Hello World on OVMF Qemu","slug":"qemu-ovmf-edk2-build","date":"2021-12-17T13:47:00.000Z","updated":"2022-05-09T18:41:39.510Z","comments":true,"path":"2021/12/17/qemu-ovmf-edk2-build/","link":"","permalink":"https://blog.inoki.cc/2021/12/17/qemu-ovmf-edk2-build/","excerpt":"","text":"This post records how I build and run an EDK2 HelloWorld on Qemu, based on OVMF UEFI shell. Prepare environment Clone edk2: 1git clone --recursive https://github.com/tianocore/edk2.git Enter edk2 build environment: 1. edksetup.sh BaseTools Build base tools: 1make -C &lt;edk2-dir&gt;/BaseTools/Source/C Create and build HelloWorld Build HelloWorld package for x64 architecture and using GCC: 1build -a X64 -p HelloWorldPkg/HelloWorldPkg.dsc -t GCC5 The built HelloWorld.efi is under Build/HelloWorldPkg/DEBUG_GCC5/X64, we can run it under UEFI shell on an x64 PC or an emulator. Build edk2 for OVMF Modify the following contents in Conf/target.txt: 123ACTIVE_PLATFORM = OvmfPkg/OvmfPkgX64.dscTARGET_ARCH = X64TOOL_CHAIN_TAG = GCC5 Then, build it: 1build Boot and run Hello World Make an image to store efi files: 1234dd if=/dev/null of=example.img bs=1M seek=512mount -t ext4 -o loop example.img /mnt/examplecp Build/HelloWorldPkg/DEBUG_GCC5/X64/HelloWorld.efi /mnt/exampleumount /mnt/example Run OVMF as the firmware and mount the images: 1qemu-system-x86_64 -L . --bios ./ovmf.fd -hda ./example.img In the UEFI shell, list disk mappings: 123456map -rMapping table FS0: ... ... BLK1: ... ... The files are under fs0, list them: 12ls fs0:\\... HelloWorld.efi Run our Hello Wolrd: 12fs0:\\HelloWorld.efiHello World! Conclusion In this post, I noted all the steps to build an edk2 HelloWorld. I will write some interesting UEFI applications sooner. Readings Boot Overview Run OVMF Debug using GDB","categories":[{"name":"EDK2","slug":"EDK2","permalink":"https://blog.inoki.cc/categories/EDK2/"}],"tags":[{"name":"Qemu","slug":"Qemu","permalink":"https://blog.inoki.cc/tags/Qemu/"},{"name":"EDK2","slug":"EDK2","permalink":"https://blog.inoki.cc/tags/EDK2/"}]},{"title":"„ÄêËØë„ÄëÊàëÁöÑ C++ 20 ÂçèÁ®ãÁöÑ‰∫àÂèñ‰∫àÊ±Ç","slug":"My_tutorial_and_take_on_C++20_coroutines","date":"2021-12-16T15:34:00.000Z","updated":"2022-05-09T18:41:39.486Z","comments":true,"path":"2021/12/16/My_tutorial_and_take_on_C++20_coroutines/","link":"","permalink":"https://blog.inoki.cc/2021/12/16/My_tutorial_and_take_on_C++20_coroutines/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://www.scs.stanford.edu/~dm/blog/c+¬±coroutines.html ‰ªãÁªç Âú®ËøáÂéªÁöÑ 25 Âπ¥ÈáåÔºåÊàëÂú® C++ ‰∏≠ÂÜô‰∫ÜÂæàÂ§ö‰∫ã‰ª∂È©±Âä®ÁöÑ‰ª£Á†Å„ÄÇ‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑ‰∫ã‰ª∂È©±Âä®‰ª£Á†ÅÁöÑ‰æãÂ≠êÊòØÊ≥®ÂÜå‰∏Ä‰∏™ÂõûË∞ÉÔºåÊØèÊ¨°Â•óÊé•Â≠óÊúâÊï∞ÊçÆÈúÄË¶ÅËØªÂèñÊó∂ÈÉΩ‰ºöË¢´Ë∞ÉÁî®„ÄÇ‰∏ÄÊó¶‰Ω†ËØªÂèñ‰∫ÜÊï¥‰∏™Ê∂àÊÅØÔºåÂèØËÉΩÁªèËøáÂ§öÊ¨°Ë∞ÉÁî®Ôºå‰Ω†Â∞±‰ºöËß£ÊûêÊ∂àÊÅØÔºåÂπ∂‰ªéÊõ¥È´òÁöÑÊäΩË±°Â±ÇË∞ÉÁî®Âè¶‰∏Ä‰∏™ÂõûË∞ÉÔºåÂ¶ÇÊ≠§ÂèçÂ§ç„ÄÇËøôÁßç‰ª£Á†ÅÂÜôËµ∑Êù•ÂæàÁóõËã¶ÔºåÂõ†‰∏∫‰Ω†ÂøÖÈ°ªÊää‰Ω†ÁöÑ‰ª£Á†ÅÂàÜÊàê‰∏ÄÂ†Ü‰∏çÂêåÁöÑÂáΩÊï∞ÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÊòØ‰∏çÂêåÁöÑÂáΩÊï∞ÔºåÊâÄ‰ª•‰∏çÂÖ±‰∫´Â±ÄÈÉ®ÂèòÈáè„ÄÇ ‰Ωú‰∏∫‰∏Ä‰∏™‰æãÂ≠êÔºåËøôÈáåÊòØ Mail Avenger ÁöÑ smtpd Á±ª‰∏äÁöÑÊñπÊ≥ïÂ≠êÈõÜÔºåÊàëÁöÑ SMTP ÊúçÂä°Âô®ÊòØÁî® C++03 ÁºñÂÜôÁöÑÔºö 1234567void cmd_rcpt (str cmd, str arg);void cmd_rcpt_0 (str cmd, str arg, int, in_addr *, int);void cmd_rcpt_2 (str addr, int err);void cmd_rcpt_3 (str addr, str errmsg);void cmd_rcpt_4 (str addr, str errmsg, int local);void cmd_rcpt_5 (str addr, str errmsg, str err);void cmd_rcpt_6 (str addr, str err); Á¨¨1Ê≠•Ôºåcmd_rcpt ‰ºº‰πéÊòØ‰∏Ä‰∏™ÂêàÁêÜÁöÑÂáΩÊï∞ÔºåÂú®ÂÆ¢Êà∑Á´ØÂèëÂá∫ SMTP ‚ÄúRCPT‚Äù ÂëΩ‰ª§Êó∂Ë∞ÉÁî®„ÄÇÂ§ÑÁêÜ RCPT ÂëΩ‰ª§ÂèñÂÜ≥‰∫éÂØπÂÆ¢Êà∑ÁöÑÊüê‰∫õ‰ø°ÊÅØÁöÑÁºìÂ≠ò„ÄÇÂ¶ÇÊûúËøô‰∫õ‰ø°ÊÅØÊ≤°ÊúâË¢´ÁºìÂ≠òÔºåÂÆÉÂ∞±‰ºöÂêØÂä®‰∏Ä‰∏™ÂºÇÊ≠•‰ªªÂä°Êù•Êé¢ÊµãÂÆ¢Êà∑Á´ØÂπ∂ËøîÂõû„ÄÇÂºÇÊ≠•‰ªªÂä°ÂÆåÊàêÂêéÔºå‚ÄúÂõûÂà∞‚Äù Á¨¨ 0 Ê≠•Ôºåcmd_rcpt_0ÔºåÂÆÉÂè™ÊòØÂÜçÊ¨°Ë∞ÉÁî® cmd_rcptÔºå‰ΩÜÈúÄË¶Å‰∏Ä‰∏™‰∏çÂêåÁöÑÂáΩÊï∞ÔºåÂõ†‰∏∫ÂÆ¢Êà∑Á´ØÊé¢Êµã‰ª£Á†ÅÊúüÊúõ‰∏Ä‰∏™ÂõûË∞ÉÔºåÂÆÉÂèØ‰ª•Êèê‰æõÈ¢ùÂ§ñÁöÑÂèÇÊï∞„ÄÇÁÑ∂ÂêéÔºåÂêÑÁßçÂÖ∂‰ªñÁöÑ‰∫ãÊÉÖÂèØËÉΩÈúÄË¶ÅÂºÇÊ≠•ÂèëÁîüÔºåËÄåÊØè‰∏™ÂèØËÉΩÁöÑÂºÇÊ≠•Ë∞ÉÁî®ÁöÑËøîÂõûÁÇπÈÉΩÈúÄË¶ÅÊòØÂÆÉËá™Â∑±ÁöÑÊñπÊ≥ïÔºåËøôÁõ∏ÂΩìÊÅ∂ÂøÉ„ÄÇ C++11 ÈÄöËøáÂºïÂÖ• lambda Ë°®ËææÂºèÔºå‰ΩøÊÉÖÂÜµÂ§ß‰∏∫ÊîπÂñÑ„ÄÇÁé∞Âú®‰Ω†Âè™ÈúÄË¶ÅÁ±ª‰∏äÁöÑ‰∏Ä‰∏™ cmd_rcpt ÊñπÊ≥ïÔºåÂÖ∂‰ΩôÁöÑÂèØ‰ª•‰ΩøÁî®ÂµåÂ•óÁöÑ lambda Ë°®ËææÂºè„ÄÇÊõ¥Â•ΩÁöÑÊòØÔºålambdas ÂèØ‰ª•‰ªéÂåÖÂõ¥ÁöÑÂáΩÊï∞‰∏≠ÊçïËé∑Â±ÄÈÉ®ÂèòÈáè„ÄÇÂ∞ΩÁÆ°Â¶ÇÊ≠§Ôºå‰Ω†‰ªçÁÑ∂ÈúÄË¶ÅÊää‰Ω†ÁöÑ‰ª£Á†ÅÂàÜÊàêËÆ∏Â§öÂáΩÊï∞„ÄÇË∑≥ËøáÂ§ö‰∏™Ê≠•È™§ÊàñÊîØÊåÅÂú®ËøêË°åÊó∂ÂèëÂá∫ÂºÇÊ≠•‰∫ã‰ª∂ÁöÑÈ°∫Â∫èÂèØËÉΩÊîπÂèòÁöÑÊÉÖÂÜµÊòØÂæàÁ¨®ÊãôÁöÑ„ÄÇÊúÄÂêéÔºåÂΩì‰Ω†ÁöÑÂµåÂ•ó lambda Ë°®ËææÂºèÁº©ËøõÂæóË∂äÊù•Ë∂äËøúÊó∂Ôºå‰Ω†Â∏∏Â∏∏‰ºö‰∏éÊñáÊú¨ÁºñËæëÂô®ÁöÑÂè≥‰æßËæπË∑ù‰ΩúÊñó‰∫â„ÄÇ ÁúãÂà∞ C20 ÊîØÊåÅÂçèÁ®ãÔºåÊàëÊÑüÂà∞ÈùûÂ∏∏ÂÖ¥Â•ãÔºåËøôÂ∫îËØ•‰ºöÊûÅÂ§ßÂú∞ÊîπÂñÑÁºñÂÜô‰∫ã‰ª∂È©±Âä®‰ª£Á†ÅÁöÑËøáÁ®ã„ÄÇÁé∞Âú®Áªà‰∫éÊúâ‰∫∫Âá∫Áâà‰∫Ü‰∏ÄÊú¨ÂÖ≥‰∫é C20 ÁöÑ‰π¶ÔºàÊàñËÄÖËá≥Â∞ëÊòØ‰∏ÄÊú¨‰π¶ÁöÑËçâÁ®øÔºâÔºåÂá†Â§©ÂâçÊàëËø´‰∏çÂèäÂæÖÂú∞ÊãøÂà∞‰∫Ü‰∏ÄÊú¨ÔºåÂπ∂ÈòÖËØª‰∫ÜÂÆÉ„ÄÇËôΩÁÑ∂ÊàëÂèëÁé∞ËøôÊú¨‰π¶Âú®Ê¶ÇÂøµÔºàËØ≠Ë®ÄÁâπÊÄßÔºâÂíåÂÖ∂‰ªñ C++20 ÁöÑÊîπËøõÊñπÈù¢ÂÅöÂæóÂæàÂêàÁêÜÔºå‰ΩÜÊàëÊÇ≤ÂìÄÂú∞ÂèëÁé∞ÂØπÂçèÁ®ãÁöÑËß£ÈáäÂÆåÂÖ®Êó†Ê≥ïÁêÜËß£„ÄÇÊàëÂú®ÁΩë‰∏äÊâæÂà∞ÁöÑÂá†‰πéÊâÄÊúâÂÖ∂‰ªñËß£ÈáäÈÉΩÊòØÂ¶ÇÊ≠§„ÄÇÂõ†Ê≠§ÔºåÊàë‰∏çÂæó‰∏çÈÄöËøáËßÑËåÉÂíå cppreference.org Êù•ÂºÑÊ∏ÖÊ•öÂà∞Â∫ïÂèëÁîü‰∫Ü‰ªÄ‰πà„ÄÇ ËøôÁØáÂçöÊñá‰ª£Ë°®‰∫ÜÊàëËß£ÈáäÂçèÁ®ãÁöÑÂ∞ùËØï‚ÄìÂü∫Êú¨‰∏äÊòØÊàëÂ∏åÊúõÂú® 48 Â∞èÊó∂‰πãÂâçÔºåÂΩìÊàëÂè™ÊÉ≥ÂºÑÊ∏ÖÊ•öËøô‰∫õ‰∏úË•øÁöÑÊó∂ÂÄôÔºåÊàëÂ∞±ÈúÄË¶ÅÊúâÁöÑ‰∏Ä‰∏™ÊïôÁ®ã„ÄÇ ÊïôÁ®ã Á≤óÁï•Âú∞ËØ¥Ôºåcoroutines ÊòØÂèØ‰ª•‰∫íÁõ∏Ë∞ÉÁî®ÁöÑÂáΩÊï∞Ôºå‰ΩÜÂÆÉ‰ª¨‰∏çÂÖ±‰∫´Â†ÜÊ†àÔºåÊâÄ‰ª•ÂèØ‰ª•Âú®‰ªª‰ΩïÊó∂ÂÄôÁÅµÊ¥ªÂú∞ÊöÇÂÅúÊâßË°åÔºåËøõÂÖ•‰∏Ä‰∏™‰∏çÂêåÁöÑ coroutine„ÄÇÊú¨ÁùÄÁúüÊ≠£ÁöÑ C++ Á≤æÁ•ûÔºåC20 ÁöÑ coroutines Ë¢´ÂÆûÁé∞‰∏∫‰∏Ä‰∏™ÊºÇ‰∫ÆÁöÑÂ∞èÂùóÔºåÂüãËóèÂú®‰∏ÄÂ†ÜÂûÉÂúæ‰πã‰∏ãÔºå‰Ω†ÂøÖÈ°ªÊ∂âË∂≥ÂÖ∂‰∏≠ÊâçËÉΩËé∑ÂæóÊºÇ‰∫ÆÁöÑÈÉ®ÂàÜ„ÄÇÂù¶ÁéáÂú∞ËØ¥ÔºåÊàëÂØπËøôÁßçËÆæËÆ°ÊÑüÂà∞Â§±ÊúõÔºåÂõ†‰∏∫ÊúÄËøëÁöÑÂÖ∂‰ªñËØ≠Ë®ÄÂèòÂåñÂÅöÂæóÊõ¥ÊúâÂìÅÂë≥Ôºå‰ΩÜÂèØÊÉúÂÆÉ‰ª¨‰∏çÊòØ coroutines„ÄÇËøõ‰∏ÄÊ≠•Ê∑∑Ê∑Ü coroutines ÁöÑ‰∫ãÂÆûÊòØÔºåC Ê†áÂáÜÂ∫ìÂÆûÈôÖ‰∏äÂπ∂Ê≤°ÊúâÊèê‰æõ‰Ω†ËÆøÈóÆ coroutines ÊâÄÈúÄÁöÑËÑèÊ¥ªÔºåÊâÄ‰ª•‰Ω†ÂÆûÈôÖ‰∏äÂøÖÈ°ªÂÆåÊàê‰Ω†Ëá™Â∑±ÁöÑËÑèÊ¥ªÔºåÁÑ∂ÂêéË∂äËøáÂÆÉ„ÄÇÊÄª‰πãÔºåÊàëÂ∞ΩÈáèÊää‰ªª‰ΩïËøõ‰∏ÄÊ≠•ÁöÑÁºñËæëÂ∑•‰ΩúÁïôÂà∞ËøôÁØáÂçöÊñáÁöÑÊúÄÂêé„ÄÇ Âè¶‰∏Ä‰∏™ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÂ§çÊùÇÊÉÖÂÜµÊòØÔºåC++ ÁöÑÁ®ãÂ∫èÁªèÂ∏∏‰ΩøÁî®ÊúØËØ≠ future Âíå promise Êù•Ëß£ÈáäÔºåÁîöËá≥ÊåáÂÆö„ÄÇËøô‰∫õÊúØËØ≠‰∏é C++ Â§¥‰∏≠ÁöÑ std::future Âíå std::promise Á±ªÂûãÊØ´Êó†ÂÖ≥Á≥ª„ÄÇÂÖ∑‰ΩìÊù•ËØ¥Ôºåstd::promise ‰∏çÊòØ coroutine promise ÂØπË±°ÁöÑ‰∏Ä‰∏™ÊúâÊïàÁ±ªÂûã„ÄÇÂú®ÊàëÁöÑÂçöÊñá‰∏≠ÔºåÈô§‰∫ÜËøô‰∏ÄÊÆµ‰πãÂ§ñÔºåÊ≤°Êúâ‰ªª‰ΩïÂÜÖÂÆπ‰∏é std::future Êàñ std::promise ÊúâÂÖ≥„ÄÇ ËØ¥ÂÆå‰∫ÜËøô‰∫õÔºåC++20 ÁªôÊàë‰ª¨Êèê‰æõÁöÑÂ•Ω‰∏úË•øÊòØ‰∏Ä‰∏™Êñ∞ÁöÑÊìç‰ΩúÁ¨¶ÔºåÂè´ÂÅö co_await„ÄÇÁ≤óÁï•Âú∞ËØ¥ÔºåË°®ËææÂºè &quot;co_await a;&quot;ÂÅö‰∫Ü‰ª•‰∏ãÂ∑•‰Ωú„ÄÇ Á°Æ‰øùÂΩìÂâçÂáΩÊï∞‚ÄìÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÂçèÁ®ã‚Äì‰∏≠ÁöÑÊâÄÊúâÂ±ÄÈÉ®ÂèòÈáèË¢´‰øùÂ≠òÂà∞‰∏Ä‰∏™Â†ÜÂàÜÈÖçÁöÑÂØπË±°‰∏≠„ÄÇ ÂàõÂª∫‰∏Ä‰∏™ÂèØË∞ÉÁî®ÁöÑÂØπË±°ÔºåÂΩìÂÆÉË¢´Ë∞ÉÁî®Êó∂ÔºåÂ∞ÜÂú®Á¥ßÈöè co_await Ë°®ËææÂºèÁöÑËØÑ‰º∞‰πãÂêéÊÅ¢Â§çÊâßË°åËØ•Âæ™ÁéØÁ®ãÂ∫è„ÄÇ Ë∞ÉÁî®ÔºàÊàñËÄÖÊõ¥ÂáÜÁ°ÆÂú∞ËØ¥ÊòØË∑≥ËΩ¨Âà∞Ôºâco_await ÁöÑÁõÆÊ†áÂØπË±° a ÁöÑ‰∏Ä‰∏™ÊñπÊ≥ïÔºåÂ∞ÜÊ≠•È™§ 2 ‰∏≠ÁöÑÂèØË∞ÉÁî®ÂØπË±°‰º†ÈÄíÁªôËØ•ÊñπÊ≥ï„ÄÇ Ê≥®ÊÑèÁ¨¨ 3 Ê≠•‰∏≠ÁöÑÊñπÊ≥ïÔºåÂΩìÂÆÉËøîÂõûÊó∂ÔºåÂπ∂‰∏çÊääÊéßÂà∂ÊùÉËøîÂõûÂà∞ coroutine„ÄÇÂè™ÊúâÂΩìÁ¨¨2Ê≠•ÁöÑÂèØË∞ÉÁî®ÂØπË±°Ë¢´Ë∞ÉÁî®Êó∂ÔºåËØ•Âæ™ÁéØÁ®ãÂ∫èÊâç‰ºöÊÅ¢Â§çÊâßË°å„ÄÇÂ¶ÇÊûú‰Ω†‰ΩøÁî®‰∫Ü‰∏ÄÁßçÊîØÊåÅÂΩìÂâçÁªßÁª≠ÁöÑË∞ÉÁî®ÁöÑËØ≠Ë®ÄÔºåÊàñËÄÖÁé©Ëøá Haskell Cont monadÔºåÈÇ£‰πàÁ¨¨2Ê≠•ÁöÑÂèØË∞ÉÁî®ÂØπË±°Â∞±ÊúâÁÇπÂÉè‰∏Ä‰∏™ continuation„ÄÇ ‰ΩøÁî®ÂçèÁ®ãÁºñËØë‰ª£Á†Å Áî±‰∫é C++20 ËøòÊ≤°ÊúâË¢´ÁºñËØëÂô®ÂÆåÂÖ®ÊîØÊåÅÔºå‰Ω†ÈúÄË¶ÅÁ°Æ‰øù‰Ω†ÁöÑÁºñËØëÂô®ÂÆûÁé∞‰∫Ü coroutines Êù•Áé©ÂÆÉ‰ª¨„ÄÇÊàë‰ΩøÁî®ÁöÑÊòØ GCC 10.2ÔºåÂè™Ë¶Å‰Ω†Áî®‰∏ãÈù¢ÁöÑÊ†áÂøóÊù•ÁºñËØëÔºåÂÆÉ‰ºº‰πéÂ∞±ÊîØÊåÅ coroutines„ÄÇ 1g++ -fcoroutines -std=c++20 Clang ÁöÑÊîØÊåÅÂ∞±Ê≤°ÈÇ£‰πàÊ∑±ÂÖ•‰∫Ü„ÄÇ‰Ω†ÈúÄË¶ÅÂÆâË£Ö llvm libc++ÔºåÁÑ∂ÂêéÁî®‰ª•‰∏ãÊñπÂºèÁºñËØë„ÄÇ 1clang++ -std=c++20 -stdlib=libc++ -fcoroutines-ts ‰∏çÂπ∏ÁöÑÊòØÔºåÂú® clang ‰∏≠Ôºå‰Ω†ËøòÈúÄË¶ÅÂ∞Ü coroutine Â§¥Êñá‰ª∂‰Ωú‰∏∫ &lt;experimental/coroutine&gt; ËÄå‰∏çÊòØ &lt;coroutine&gt;„ÄÇÊ≠§Â§ñÔºå‰∏Ä‰∫õÁ±ªÂûãË¢´ÂëΩÂêç‰∏∫ std::experimental::xxx ËÄå‰∏çÊòØ std::xxx„ÄÇÂõ†Ê≠§ÔºåÂú®ÂÜôËøôÁØáÊñáÁ´†ÁöÑÊó∂ÂÄôÔºå‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰∏çËÉΩÁî® clang ÂºÄÁÆ±ÁºñËØëÔºå‰ΩÜÊúÄÂ•ΩËÉΩÂú®Êú™Êù•ÁöÑÁâàÊú¨‰∏≠ÁºñËØë„ÄÇ Â¶ÇÊûú‰Ω†ÊÉ≥Áé©‰∏ÄÁé©ÔºåÊú¨ÂçöÊñá‰∏≠ÊâÄÊúâÁöÑÊºîÁ§∫ÈÉΩÂèØ‰ª•Âú®‰∏Ä‰∏™Êñá‰ª∂ corodemo.cc ‰∏≠ÊâæÂà∞„ÄÇ ÂçèÁ®ãÂ§ÑÁêÜ Â¶ÇÂâçÊâÄËø∞ÔºåÊñ∞ÁöÑ co_await Êìç‰ΩúÁ¨¶Á°Æ‰øùÂáΩÊï∞ÁöÑÂΩìÂâçÁä∂ÊÄÅË¢´ÊçÜÁªëÂú®Â†ÜÁöÑÊüê‰∏™Âú∞ÊñπÔºåÂπ∂ÂàõÂª∫‰∏Ä‰∏™ÂèØË∞ÉÁî®ÂØπË±°ÔºåÂÖ∂Ë∞ÉÁî®‰ºöÁªßÁª≠ÊâßË°åÂΩìÂâçÂáΩÊï∞„ÄÇÂèØË∞ÉÁî®ÂØπË±°ÁöÑÁ±ªÂûãÊòØ std::coroutine_handle&lt;&gt;„ÄÇ Coroutine Âè•ÊüÑÁöÑË°å‰∏∫ÂæàÂÉè C ËØ≠Ë®ÄÁöÑÊåáÈíà„ÄÇÂÆÉÂèØ‰ª•ÂæàÂÆπÊòìÂú∞Ë¢´Â§çÂà∂Ôºå‰ΩÜÂÆÉÊ≤°Êúâ‰∏Ä‰∏™ÊûêÊûÑÂô®Êù•ÈáäÊîæ‰∏éËΩÆËØ¢Áä∂ÊÄÅÁõ∏ÂÖ≥ÁöÑÂÜÖÂ≠ò„ÄÇ‰∏∫‰∫ÜÈÅøÂÖçÊ≥ÑÊºèÂÜÖÂ≠òÔºå‰Ω†ÈÄöÂ∏∏ÂøÖÈ°ªÈÄöËøáË∞ÉÁî® coroutine_handle::destroy ÊñπÊ≥ïÊù•ÈîÄÊØÅ coroutine Áä∂ÊÄÅÔºàÂ∞ΩÁÆ°Âú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåcoroutine ÂèØ‰ª•Âú®ÂÆåÊàêÊó∂Ëá™ÊàëÈîÄÊØÅÔºâ„ÄÇÂ∞±ÂÉèCËØ≠Ë®ÄÁöÑÊåáÈíà‰∏ÄÊ†∑Ôºå‰∏ÄÊó¶ coroutine Âè•ÊüÑË¢´ÈîÄÊØÅÔºåÂºïÁî®Âêå‰∏Ä coroutine ÁöÑ coroutine Âè•ÊüÑÂ∞ÜÊåáÂêëÂûÉÂúæÔºåÂπ∂Âú®Ë∞ÉÁî®Êó∂Ë°®Áé∞Âá∫Êú™ÂÆö‰πâÁöÑË°å‰∏∫„ÄÇ‰ªéÂ•ΩÁöÑÊñπÈù¢ÁúãÔºåÂçèÁ®ãÂè•ÊüÑÂú®ÂçèÁ®ãÁöÑÊï¥‰∏™ÊâßË°åËøáÁ®ã‰∏≠ÈÉΩÊòØÊúâÊïàÁöÑÔºåÂç≥‰ΩøÊéßÂà∂Âú®ÂçèÁ®ã‰∏≠Â§öÊ¨°ËøõÂá∫„ÄÇ Áé∞Âú®ËÆ©Êàë‰ª¨Êõ¥ÂÖ∑‰ΩìÂú∞ÁúãÁúã co_await ÂÅö‰ªÄ‰πà„ÄÇÂΩì‰Ω†ËØÑ‰º∞Ë°®ËææÂºè co_await a Êó∂ÔºåÁºñËØëÂô®‰ºöÂàõÂª∫‰∏Ä‰∏™Âæ™ÁéØÁ®ãÂ∫èÂè•ÊüÑÂπ∂Â∞ÜÂÖ∂‰º†ÈÄíÁªôÊñπÊ≥ï a.await_suspend(coroutine_handle)„ÄÇ Áé∞Âú®ËÆ©Êàë‰ª¨Êù•ÁúãÁúã‰∏Ä‰∏™‰ΩøÁî® co_await ÁöÑÂÆåÊï¥Á®ãÂ∫è„ÄÇÁé∞Âú®ÔºåÂøΩÁï• ReturnObject Á±ªÂûã‚ÄìÂÆÉÂè™ÊòØÊàë‰ª¨‰∏∫ËÆøÈóÆ co_await ËÄåÂøÖÈ°ªÈÄöËøáÁöÑÂûÉÂúæ‰∏≠ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;concepts&gt;#include &lt;coroutine&gt;#include &lt;exception&gt;#include &lt;iostream&gt;struct ReturnObject &#123; struct promise_type &#123; ReturnObject get_return_object() &#123; return &#123;&#125;; &#125; std::suspend_never initial_suspend() &#123; return &#123;&#125;; &#125; std::suspend_never final_suspend() noexcept &#123; return &#123;&#125;; &#125; void unhandled_exception() &#123;&#125; &#125;;&#125;;struct Awaiter &#123; std::coroutine_handle&lt;&gt; *hp_; constexpr bool await_ready() const noexcept &#123; return false; &#125; void await_suspend(std::coroutine_handle&lt;&gt; h) &#123; *hp_ = h; &#125; constexpr void await_resume() const noexcept &#123;&#125;&#125;;ReturnObjectcounter(std::coroutine_handle&lt;&gt; *continuation_out)&#123; Awaiter a&#123;continuation_out&#125;; for (unsigned i = 0;; ++i) &#123; co_await a; std::cout &lt;&lt; \"counter: \" &lt;&lt; i &lt;&lt; std::endl; &#125;&#125;voidmain1()&#123; std::coroutine_handle&lt;&gt; h; counter(&amp;h); for (int i = 0; i &lt; 3; ++i) &#123; std::cout &lt;&lt; \"In main1 function\\n\"; h(); &#125; h.destroy();&#125; Output: In main1 function counter: 0 In main1 function counter: 1 In main1 function counter: 2 ËøôÈáåÁöÑ counter ÊòØ‰∏Ä‰∏™Ê∞∏ËøúËÆ°Êï∞ÁöÑÂáΩÊï∞ÔºåÈÄíÂ¢ûÂπ∂ÊâìÂç∞‰∏Ä‰∏™Êó†Á¨¶Âè∑Êï¥Êï∞„ÄÇÂ∞ΩÁÆ°Ëøô‰∏™ËÆ°ÁÆóÂæàÊÑöË†¢Ôºå‰ΩÜËøô‰∏™‰æãÂ≠êÁöÑÁ≤æÂΩ©‰πãÂ§ÑÂú®‰∫éÔºåÂç≥‰ΩøÊéßÂà∂ÊùÉÂú® counter ÂíåË∞ÉÁî®ÂÆÉÁöÑÂáΩÊï∞ main1 ‰πãÈó¥ÂèçÂ§çÂàáÊç¢ÔºåÂèòÈáè i ‰ªçÁÑ∂‰øùÊåÅÂÖ∂ÂÄº„ÄÇ Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨Áî®‰∏Ä‰∏™std::coroutine_handle&lt;&gt;*Êù•Ë∞ÉÁî®counterÔºåÊàë‰ª¨ÊääÂÆÉÊèíÂÖ•Êàë‰ª¨ÁöÑAwaiterÁ±ªÂûã„ÄÇÂú®ÂÖ∂ await_suspend ÊñπÊ≥ï‰∏≠ÔºåËØ•Á±ªÂûãÂ∞Ü co_await ‰∫ßÁîüÁöÑ coroutine Âè•ÊüÑÂ≠òÂÖ• main1 ÁöÑ coroutine Âè•ÊüÑ‰∏≠„ÄÇÊØèÊ¨° main1 Ë∞ÉÁî® coroutine Âè•ÊüÑÊó∂ÔºåÈÉΩ‰ºöËß¶Âèë counter ‰∏≠ÁöÑÂæ™ÁéØÁöÑ‰∏ÄÊ¨°Ëø≠‰ª£ÔºåÁÑ∂ÂêéÂú® co_await ËØ≠Âè•Â§ÑÂÜçÊ¨°ÊöÇÂÅúÊâßË°å„ÄÇ ‰∏∫‰∫ÜÁÆÄÂçïËµ∑ËßÅÔºåÊàë‰ª¨Âú®ÊØèÊ¨°Ë∞ÉÁî® await_suspend Êó∂ÈÉΩ‰ºöÂ≠òÂÇ®ËØ•Á®ãÂ∫èÁöÑÂè•ÊüÑÔºå‰ΩÜËØ•Âè•ÊüÑÂú®‰∏çÂêåÁöÑË∞ÉÁî®‰∏≠‰∏ç‰ºöÊîπÂèò„ÄÇ(ÂõûÈ°æ‰∏Ä‰∏ãÔºåÂè•ÊüÑÂ∞±ÂÉè‰∏Ä‰∏™ÊåáÂêë coroutine Áä∂ÊÄÅÁöÑÊåáÈíàÔºåÊâÄ‰ª•ËôΩÁÑ∂iÁöÑÂÄºÂú®Ëøô‰∏™Áä∂ÊÄÅ‰∏ãÂèØËÉΩ‰ºöÊîπÂèòÔºå‰ΩÜÊåáÈíàÊú¨Ë∫´‰øùÊåÅ‰∏çÂèò„ÄÇ) Êàë‰ª¨‰πüÂèØ‰ª•ÂæàÂÆπÊòìÂú∞ÂÜôÊàêÔºö 12345678voidAwaiter::await_suspend(std::coroutine_handle&lt;&gt; h)&#123; if (hp_) &#123; *hp_ = h; hp_ = nullptr; &#125;&#125; ‰Ω†‰ºöÊ≥®ÊÑèÂà∞ Awaiter ‰∏äËøòÊúâ‰∏§‰∏™ÊñπÊ≥ïÔºåÂõ†‰∏∫Ëøô‰∫õÊòØËØ≠Ë®ÄÊâÄË¶ÅÊ±ÇÁöÑ„ÄÇÂ¶ÇÊûúÂÆÉËøîÂõû trueÔºåÈÇ£‰πà co_await Â∞±‰∏ç‰ºö‰∏≠Ê≠¢ËØ•ÂáΩÊï∞„ÄÇÂΩìÁÑ∂Ôºå‰Ω†ÂèØ‰ª•Âú® await_suspend ‰∏≠ÂÆûÁé∞ÂêåÊ†∑ÁöÑÊïàÊûúÔºåÈÄöËøáÊÅ¢Â§çÔºàÊàñ‰∏çÊöÇÂÅúÔºâÂΩìÂâçÁöÑ coroutineÔºå‰ΩÜÂú®Ë∞ÉÁî® await_suspend ‰πãÂâçÔºåÁºñËØëÂô®ÂøÖÈ°ªÂ∞ÜÊâÄÊúâÁä∂ÊÄÅÊçÜÁªëÂà∞ coroutine Âè•ÊüÑÊâÄÂºïÁî®ÁöÑÂ†ÜÂØπË±°‰∏≠ÔºåËøôÂèØËÉΩÊòØÊòÇË¥µÁöÑ„ÄÇÊúÄÂêéÔºåËøôÈáåÁöÑ await_resume ÊñπÊ≥ïËøîÂõû voidÔºå‰ΩÜÂ¶ÇÊûúÂÆÉËøîÂõû‰∏Ä‰∏™ÂÄºÔºåËøô‰∏™ÂÄºÂ∞ÜÊòØ co_await Ë°®ËææÂºèÁöÑÂÄº„ÄÇ &lt;coroutine&gt; Â§¥Êèê‰æõ‰∫Ü‰∏§‰∏™È¢ÑÂÆö‰πâÁöÑ AwaiterÔºåstd:: suspend_alwaysÂíåstd:: suspend_never„ÄÇÊ≠£Â¶ÇÂÆÉ‰ª¨ÁöÑÂêçÂ≠óÊâÄÊöóÁ§∫ÁöÑÔºåsuspend_always::await_ready ÊÄªÊòØËøîÂõû falseÔºåËÄå suspend_never::await_ready ÊÄªÊòØËøîÂõû true„ÄÇËøô‰∫õÁ±ª‰∏äÁöÑÂÖ∂‰ªñÊñπÊ≥ïÊòØÁ©∫ÁöÑÔºå‰ªÄ‰πà‰πü‰∏çÂÅö„ÄÇ ÂçèÁ®ãËøîÂõûÂØπË±° TBC Promise ÂØπË±° TBC co_yield Êìç‰ΩúÁ¨¶ TBC co_return Êìç‰ΩúÁ¨¶ TBC Â∏¶Ê≥õÂûãÁöÑÁîüÊàêÂô®Á§∫‰æã TBC Editorial TBC","categories":[{"name":"Modern C++","slug":"Modern-C","permalink":"https://blog.inoki.cc/categories/Modern-C/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"C++","slug":"C","permalink":"https://blog.inoki.cc/tags/C/"}]},{"title":"Linux ÂÜÖÊ†∏ÁöÑÁî®Êà∑ÊÄÅÈ©±Âä®Ê°ÜÊû∂","slug":"linux-userspace-driver-frameworks","date":"2021-12-14T15:49:00.000Z","updated":"2022-05-09T18:41:39.510Z","comments":true,"path":"2021/12/14/linux-userspace-driver-frameworks/","link":"","permalink":"https://blog.inoki.cc/2021/12/14/linux-userspace-driver-frameworks/","excerpt":"","text":"Âú® Linux ÁöÑÈ©±Âä®Ê®°Âûã‰∏≠ÔºåÂ≠òÂú®ÂêÑÁßçÈ©±Âä®Â≠êÁ≥ªÁªüÔºåÂ¶Ç PCI Â≠êÁ≥ªÁªü„ÄÅÁΩëÁªúÂ≠êÁ≥ªÁªü„ÄÇÂú®ÂºÄÂèëÈ©±Âä®ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Áõ∏Â∫îÁöÑÂ≠êÁ≥ªÁªüÊù•ÂÆåÊàêÔºåÊØîÂ¶ÇÊúâ‰∫∫ÊÉ≥ÂºÄÂèë‰∏Ä‰∏™ PCI ÁΩëÂç°È©±Âä®ÔºåÈÇ£Â∞±ÂèØ‰ª•ÁªìÂêà‰∏äËø∞ÁöÑ‰∏§‰∏™Â≠êÁ≥ªÁªüÊù•ÂÆåÊàê„ÄÇ ‰ΩÜÊúâÊó∂‰ºöÊúâËÆ∏Â§öÈùûÊ†áÂáÜÁöÑÁ°¨‰ª∂Âπ∂‰∏çËÉΩÁõ¥Êé•‰ΩøÁî®Ëøô‰∫õÂ≠êÁ≥ªÁªüÔºåÊØîÂ¶ÇÊ®°ÊãüÊàñÊï∞Â≠ó I/OÔºåËá™ÂÆö‰πâÁöÑ FPGA Á°¨‰ª∂Á≠â„ÄÇËøôÊó∂Â∞±ÈúÄË¶ÅËøõË°åÊõ¥Âä†Ëâ∞ÈöæÁöÑÂÜÖÊ†∏ÂºÄÂèëÔºåÂØπ‰∫éÂ∑•‰∏öÁïåÁöÑÁ®ãÂ∫èÂëòÊù•ËØ¥ÔºåËøô‰∏çÊòØ‰∏Ä‰ª∂ÁÆÄÂçïÁöÑ‰∫ã„ÄÇ ‰º†ÁªüÁöÑÈ©±Âä®ÂºÄÂèëÊ®°Âûã ‰∏ÄËà¨ËøôÁßçÈùûÊ†áÂáÜÁöÑÁ°¨‰ª∂ÂèØ‰ª•Áî®Â≠óÁ¨¶ËÆæÂ§áÂÆûÁé∞ÔºåÊîæÂú® /dev/xyz ‰∏≠ÔºåÁî®Êà∑ÊÄÅÁöÑÂ∫îÁî®Á®ãÂ∫èÂèØ‰ª•Ë∞ÉÁî® read Âíå write ÊñπÊ≥ïÊù•ÊéßÂà∂ËÆæÂ§áÔºåÂú®Êõ¥Â§çÊùÇÁöÑÊÉÖÂÜµ‰∏ã‰πüÂèØ‰ª•‰ΩøÁî® ioctl Êù•ËÆæÁΩÆÈ¢ùÂ§ñÁöÑÂäüËÉΩ„ÄÇ Âú®ÂÆûÁé∞Ëøô‰∏™Â≠óÁ¨¶ËÆæÂ§áÁöÑÂÜÖÊ†∏‰∏≠ÁöÑÈùûÊ†áÂáÜÁ°¨‰ª∂ÁöÑÈ©±Âä®Êó∂Ôºå‰πüË¶Å‰ºö‰ΩøÁî®ËÆ∏Â§ö‰∏çÁ®≥ÂÆöÁöÑÂÜÖÊ†∏ÂÜÖÈÉ®ÁöÑ API„ÄÇÂÜµ‰∏îÂõ†‰∏∫Ê≤°ÊúâÂèØÁî®ÁöÑÂ≠êÁ≥ªÁªüÂèØÁî®ÔºåÈ©±Âä®‰ºöÂèòÂæóÂæàÂ§ßÔºåÂú®‰πãÂêéÁöÑÂÜÖÊ†∏ÁâàÊú¨‰πüÊõ¥Âä†Èöæ‰ª•Áª¥Êä§„ÄÇËøôÊó∂‰ΩøÁî®Áî®Êà∑ÊÄÅÁöÑ I/O Ê°ÜÊû∂Â∞±ÂèØ‰ª•ÊûÅÂ§ßÂú∞ÁÆÄÂåñÈ©±Âä®ÂºÄÂèë„ÄÇ Userspace I/O Ê°ÜÊû∂ Userspace I/OÔºàUIOÔºâÂ∞±ÊòØËøôÊ†∑‰∏Ä‰∏™Áî®Êà∑ÊÄÅÊ°ÜÊû∂ÔºåÂú® Linux 2.6.23 ‰∏≠Ë¢´ÂºïÂÖ•„ÄÇ Êû∂ÊûÑ Âú®Áî®Êà∑ÊÄÅÂÆÉÂÖÅËÆ∏‰ΩøÁî® mmap ËøõË°åËÆæÂ§áÂÜÖÂ≠òÂà∞Áî®Êà∑ÊÄÅÂÜÖÂ≠òÁöÑÊò†Â∞ÑÔºå‰ªéËÄåÂÖÅËÆ∏Âú®Áî®Êà∑ÊÄÅÁõ¥Êé•ËØªÂÜôËÆæÂ§áÂÜÖÂ≠òÊàñÂØÑÂ≠òÂô®ÔºåÂπ∂ÈÄöËøá read Ë∞ÉÁî®Êù•Ëé∑ÂèñËÆæÂ§á‰∏≠Êñ≠ÔºàÈÄöÂ∏∏‰∏≠Êñ≠ÈÉΩÊòØÂú®ÂÜÖÊ†∏‰∏≠Â§ÑÁêÜÁöÑÔºåËÄå UIO ÂÖÅËÆ∏Âú®‰∏≠Êñ≠ÂèëÁîüÊó∂ÈÄöËøá read Ë∞ÉÁî®ËøîÂõûÂà∞Áî®Êà∑ÊÄÅÔºâ„ÄÇ ËÄåÂú®ÂÜÖÊ†∏‰∏≠ÂºÄÂèëËÄÖÈúÄË¶ÅÁΩÆÂÖ•‰∏Ä‰∏™Â∞èÊ®°ÂùóÔºåÁî®Êù•Êé¢ÊµãÔºàprobeÔºâËÆæÂ§áÂíåÊ≥®ÂÜå UIOÔºåÊ≥®ÂÜåÂêéËÆæÂ§á‰ºöÂá∫Áé∞Âú® /dev/uioX„ÄÅÂπ∂Âú® sysfs ‰∏≠ÂØºÂá∫ËÆæÂ§áÂêçÁß∞„ÄÅÂ±ûÊÄßÁ≠â‰ø°ÊÅØ„ÄÇ Ê≥®ÊÑèÔºöËøôÈáåÂêåÊ†∑ÂèØ‰ª•‰ΩøÁî® select Á≥ªÁªüË∞ÉÁî®„ÄÅÊù•Âú®Ê≤°Êúâ‰∏≠Êñ≠ÁöÑÊó∂ÂÄôÈò≤Ê≠¢‰ªªÂä°Á©∫ËΩ¨„ÄÇ Ê∫êÁ†Å Áõ∏ÂÖ≥ÁöÑÂ£∞ÊòéÂíåÁªìÊûÑ‰Ωì‰Ωç‰∫é include/linux/uio_driver.h ‰∏≠ÔºåÂÖ∂‰∏≠ÊúÄÈáçË¶ÅÁöÑÁªìÊûÑ‰∏∫ uio_infoÔºö 123456789101112131415struct uio_info &#123; struct uio_device *uio_dev; const char *name; const char *version; struct uio_mem mem[MAX_UIO_MAPS]; struct uio_port port[MAX_UIO_PORT_REGIONS]; long irq; unsigned long irq_flags; void *priv; irqreturn_t (*handler)(int irq, struct uio_info *dev_info); int (*mmap)(struct uio_info *info, struct vm_area_struct *vma); int (*open)(struct uio_info *info, struct inode *inode); int (*release)(struct uio_info *info, struct inode *inode); int (*irqcontrol)(struct uio_info *info, s32 irq_on);&#125;; Âú®Ê®°ÂùóÊé¢ÊµãÊó∂ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁªìÊûÑ‰ΩìÔºåËÆæÁΩÆ name, version, ‰∏≠Êñ≠Âè∑ÔºàIRQÔºâ„ÄÅ‰∏≠Êñ≠Â§ÑÁêÜÂõûË∞ÉÔºàhandlerÔºâÁ≠â„ÄÇÂπ∂‰ΩøÁî® register_device(struct device *parent, struct uio_info *info) Ê≥®ÂÜåËÆæÂ§á„ÄÇËøô‰∏™ÂáΩÊï∞‰ºöÂàõÂª∫‰∏Ä‰∏™ uio_dev Â°´ÂÖÖÂà∞Ëøô‰∏™ÁªìÊûÑ‰ΩìÂÜÖÔºåÂÆÉÁöÑÂ£∞ÊòéÂ¶Ç‰∏ãÔºö 1234567891011struct uio_device &#123; struct module *owner; struct device *dev; int minor; atomic_t event; struct fasync_struct *async_queue; wait_queue_head_t wait; struct uio_info *info; struct kobject *map_dir; struct kobject *portio_dir;&#125;; ÂØπ‰∫éÈúÄË¶ÅÊò†Â∞ÑÁöÑÂÜÖÂ≠òÂå∫ÂüüÔºåÂàôÈúÄË¶ÅÂ°´ÂÖÖ mem Ëøô‰∏™ÊàêÂëòÔºåÊúÄÂ§öÂèØ‰ª•Êò†Â∞Ñ MAX_UIO_MAPS ‰∏™ÔºàÂú® 4.3 ÁâàÊú¨ÁöÑÂÜÖÊ†∏‰∏≠ÊòØ 5 ‰∏™„ÄÇUIO ÂÜÖÂ≠òÂå∫ÂüüÁöÑÁªìÊûÑ‰ΩìÂ¶Ç‰∏ãÔºö 12345678struct uio_mem &#123; const char *name; phys_addr_t addr; resource_size_t size; int memtype; void __iomem *internal_addr; struct uio_map *map;&#125;; ËÄå‰ΩøÁî®Ëøô‰∏™ÂáΩÊï∞ÂèØ‰ª•ÁîüÊàê‰∏Ä‰∏™ UIO ÁöÑ‰∏≠Êñ≠‰∫ã‰ª∂Ôºö 1extern void uio_event_notify(struct uio_info *info); ÂÖ∂‰ΩôÁöÑÁªìÊûÑ‰ΩìÂíåÂ£∞ÊòéÈÉΩÂèØ‰ª•Âú®Â§¥Êñá‰ª∂‰∏≠ÊâæÂà∞Ôºö 1234struct uio_map;struct uio_port;struct uio_portio;extern void uio_unregister_device(struct uio_info *info); Êõ¥Â§öÁªÜËäÇÂèØ‰ª•Êü•ÁúãÊñáÊ°£ÊàñÊ∫êÁ†Å„ÄÇ ÊÄßËÉΩ Âú®‰ΩøÁî®ÂÜÖÊ†∏ÊÄÅËÆæÂ§áÁöÑÊó∂ÂÄôÔºå‰ΩøÁî® ioctl ËøõË°åËÆæÂ§áÊéßÂà∂Âπ∂‰∏çÊòØÁõ¥Êé•ÁöÑÔºåËøô‰∏™Á≥ªÁªüË∞ÉÁî®‰ºö‰ΩøÁî®ËôöÊãüÊñá‰ª∂Á≥ªÁªüÔºàVFSÔºâÂàÜÂèëÁî®Êà∑‰º†Êù•ÁöÑÊéßÂà∂ÂÄºÂà∞ËÆæÂ§áÔºåÂ¶ÇÊûúÊúâËøîÂõûÂÄºÔºå‰πü‰ºöÈÄêÂ±Ç‰º†Âõû„ÄÇËÄå UIO ‰∏≠ËøôÊ†∑ÁöÑÊìç‰ΩúÊòØÈÄöËøá mmap Êò†Â∞ÑËÆæÂ§áÂÜÖÂ≠òÊù•ÂÆûÁé∞ÁöÑÔºåÂõ†Ê≠§ËØªÂÜôÂØÑÂ≠òÂô®Êù•ÊéßÂà∂ËÆæÂ§áÊòØÁõ¥Êé•ÂÜôÂÖ•ËÆæÂ§áÁöÑÔºå‰ª£Á†ÅÂÆûÁé∞Â∞±ÊòØËÆøÈóÆ‰∏Ä‰∏™ÊôÆÈÄöÁöÑÊï∞ÁªÑÔºåËøôËÆ© UIO ÂØπÂ∫îÁöÑÁî®Êà∑ÊÄÅÈ©±Âä®Êõ¥Âø´„ÄÅ‰∏îÊõ¥ÊòìËØª„ÄÇ ËÄå‰∏≠Êñ≠ÊñπÈù¢ÔºåÊñáÁ´†[1]ÊµãËØï‰∫Ü uio_event_notify Ë¢´Ë∞ÉÁî®Âà∞ËØªÂèñ UIO ËÆæÂ§áËøîÂõûÁöÑÊó∂Èó¥Âú® 16 Âà∞ 32 ÊØ´ÁßíÂ∑¶Âè≥ÔºåARM11 ËÆæÂ§á‰∏ä‰ΩøÁî® 90% ÁöÑ CPU Âç†Áî®ËÉΩÂ§üÂÆåÊàêÊØèÁßí 1000 Ê¨°ÁöÑ‰∏≠Êñ≠ÔºåËøôÂú®Â∏¶ÊúâÂÆûÊó∂ÈôêÂà∂ÁöÑÂµåÂÖ•ÂºèËÆæÂ§á‰∏≠‰πüÊòØÂèØÊé•ÂèóÁöÑ„ÄÇ ÊÄªÁªì ‰ΩøÁî® UIO Ê°ÜÊû∂ÂÜôÂÖ•ÁöÑÂÜÖÊ†∏ÈÉ®ÂàÜÁöÑÈ©±Âä®ÂèØ‰ª•ÈùûÂ∏∏Â∞èÂíåÂÆπÊòìÁª¥Êä§ÔºåÂõ†Ê≠§ÊÉ≥Âú®‰∏ªÁ∫øÂÜÖÊ†∏‰∏≠ÂÆ°ÈòÖÂíåÂåÖÂê´Ëøô‰∏™È©±Âä®‰∏çÊòØÂæàÈöæÁöÑ‰∫ãÊÉÖ„ÄÇËÄå UIO ‰ºöÈÅøÂÖçÁî®Êà∑ÊÄÅÂéªÊò†Â∞Ñ‰∏çÂ±û‰∫éËøô‰∏™ËÆæÂ§áÁöÑÂÜÖÂ≠òÔºåÂõ†Ê≠§‰πüÊòØÁõ∏ÂΩìÂÆâÂÖ®ÁöÑ„ÄÇ VFIO TBC ÂèÇËÄÉ Userspace I/O drivers in a realtime context, https://www.osadl.org/fileadmin/dam/rtlws/12/Koch.pdf","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Driver","slug":"Linux/Driver","permalink":"https://blog.inoki.cc/categories/Linux/Driver/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"È©±Âä®","slug":"È©±Âä®","permalink":"https://blog.inoki.cc/tags/È©±Âä®/"}]},{"title":"EFI ÂêØÂä®È°πÁÆ°ÁêÜÂô®‚Äî‚ÄîÂèåÁ≥ªÁªüÂêØÂä®Á•ûÂô®ÔºåÂÆâÂÖ®Ëß£ÂÜ≥‰Ω†ÁöÑÂ§öÁ≥ªÁªüÂêØÂä®ÈöæÈ¢ò","slug":"Inoki-qefi-entry-manager","date":"2021-12-09T20:34:00.000Z","updated":"2022-05-09T18:41:39.458Z","comments":true,"path":"2021/12/09/Inoki-qefi-entry-manager/","link":"","permalink":"https://blog.inoki.cc/2021/12/09/Inoki-qefi-entry-manager/","excerpt":"","text":"‰Ω†ÊòØÂê¶ÈÅáÂà∞ËøáËøôÊ†∑ÁöÑÈóÆÈ¢òÔºüÂú®ÁîµËÑë‰∏äÂÆâË£ÖÂ§ö‰∏™Á≥ªÁªüÔºöÂú®ÂÆâË£ÖÂ•Ω FreeBSD ÂêéÔºåÂèëÁé∞ Windows ÂêØÂä®‰∏çËßÅ‰∫ÜÔºõÂú®ÂÆâË£ÖÂ•Ω Windows ÂêéÔºåÂèëÁé∞ÂêØÂä® Linux Áî®ÁöÑ Grub ÂêØÂä®‰∏çËßÅ‰∫Ü„ÄÇËôΩÁÑ∂Áî® refind ËøôÁßçÂêØÂä®Âô®ÂèØ‰ª•ÈÉ®ÂàÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºå‰ΩÜÊúâÊó∂ÂÄô Windows Êõ¥Êñ∞‰πãÂêé‰∏ÄÁúãÔºårefind ÂêØÂä®‰πü‰∏çËßÅ‰∫Ü„ÄÇËøôÊó∂ÔºåËøêÊ∞îÂ•ΩÁöÑËØùËøòÂèØ‰ª•Âú® EFI Âõ∫‰ª∂ËÆæÁΩÆ‰∏≠ÊîπÂèòÂêØÂä®È°∫Â∫èÊâæÂõûÔºåÊúâ‰∫õ‰∏çÊîØÊåÅÁöÑ‰∏ªÊùøÂ∞±Âè™ËÉΩÈáçÂª∫ÂºïÂØºÂï¶„ÄÇÊõ¥‰ΩïÂÜµÔºåÂºÄÊú∫ËøõÂÖ• EFI Âõ∫‰ª∂Ë¶ÅÊåâÁöÑÊåâÈîÆÂíåÊó∂Êú∫‰πüÂæàÈ∫ªÁÉ¶„ÄÇ ËøôÊó∂Â∞±ÂèØ‰ª•‰ΩøÁî®ÊàëÂºÄÂèëÁöÑ‰∏Ä‰∏™Ë∑® Windows Âíå Linux Âπ≥Âè∞ÁöÑÁ≥ªÁªüËΩØ‰ª∂ EFI Entry Manager Ëß£ÂÜ≥„ÄÇ ÂÆâË£Ö Ëøô‰∏™ËΩØ‰ª∂ÊòØÈÄöËøá GPL 3.0 ÂèëÂ∏ÉÁöÑÂºÄÊ∫êËΩØ‰ª∂ÔºåÂèØ‰ª•Âú®ÊàëÁöÑ GitHub ‰∏äÊâæÂà∞ÔºöÈ°πÁõÆÈìæÊé•„ÄÇ Âú® Release ‰∏≠ÂèØ‰ª•ÊâæÂà∞È¢ÑÂÖàÊûÑÂª∫Â•ΩÁöÑ Linux AppImage Âíå Windows ÁöÑÂèØÊâßË°åÁ®ãÂ∫èÂéãÁº©ÂåÖÔºå‰∏ãËΩΩ‰πãÂêéËß£ÂéãÁº©Âç≥ÂèØ„ÄÇ Linux ÁâàÊú¨‰ºöÊúâ‰∏Ä‰∏™ AppImage ÊãìÂ±ïÂêçÁöÑÊñá‰ª∂ÔºåËÄå Windows ÁâàÊú¨ÂàôÈúÄË¶ÅÊîæÂÖ•‰∏Ä‰∏™Êñá‰ª∂Â§π‰∏≠„ÄÇ Èô§Ê≠§‰πãÂ§ñÔºåWindows ÁâàÊú¨ËøòÂèØËÉΩÈúÄË¶ÅÂÆâË£Ö‰∏Ä‰∏™ VC ÁöÑËøêË°åÊó∂Â∫ìÔºåÁÇπÂáªËøô‰∏™ÈìæÊé•ÔºåÈÄâÊã© x64 ÁâàÊú¨‰∏ãËΩΩÂπ∂ÂÆâË£ÖÂç≥ÂèØ„ÄÇ ‰ΩøÁî® Âú® Linux ‰∏≠ÔºåÈúÄË¶Å‰ΩøÁî® root Áî®Êà∑ÂêØÂä®ÔºåÊØîÂ¶Ç sudo ./&lt;executable&gt;„ÄÇËÄåÂú® Windows ‰∏≠ÔºåÈúÄË¶ÅÂè≥ÈîÆ‰ΩøÁî®ÁÆ°ÁêÜÂëòÊ®°ÂºèÊâìÂºÄ„ÄÇ ÊâìÂºÄ‰πãÂêéÔºåÈ¶ñÂ±èÊòæÁ§∫ÁöÑÊòØ‰Ω†ÁöÑÁîµËÑëÂΩìÂâçÁöÑÂêØÂä®È°∫Â∫è„ÄÇ Áî®Êà∑ÂèØ‰ª•ÈÄâ‰∏≠‰∏Ä‰∏™ÂêØÂä®È°πÔºåÁÇπÂáª Move up Êàñ Move down Êù•ÊîπÂèòÂêØÂä®È°∫Â∫èÔºåÊúÄÂêéÁÇπÂáª Save Êù•‰øùÂ≠ò„ÄÇ Âú®Á¨¨‰∫å‰∏™Ê†áÁ≠æÈ°µ‰∏≠ÂèØ‰ª•ËÆæÁΩÆ‰∏ãÊ¨°ÂçïÊ¨°ÈáçÂêØÊó∂‰ΩøÁî®ÁöÑÂêØÂä®È°π„ÄÇ ‰øùÂ≠ò‰πãÂêéÂèØ‰ª•ÈÄâÊã©ÊòØÂê¶Á´ãÂç≥ÈáçÂêØÔºåÊó†ËÆ∫ÈÄâÊã©ÊòØ‰∏éÂê¶ÔºåÂú®‰∏ãÊ¨°ÂêØÂä®Êó∂ÈÉΩ‰ºöÈ¶ñÂÖàÂ∞ùËØï‰ΩøÁî®Áî®Êà∑‰øùÂ≠òÁöÑÂêØÂä®È°πÂêØÂä®„ÄÇ ÂéüÁêÜËß£Êûê Ëøô‰∏™È°πÁõÆÊòØÂü∫‰∫éÊàëÁöÑÂè¶‰∏Ä‰∏™È°πÁõÆ qefivar ÁöÑÔºåÂÆÉÊòØ‰∏Ä‰∏™Ë∑®Âπ≥Âè∞ÁöÑÂ∫ìÔºåÂèØ‰ª•ÈÄöËøáÁ≥ªÁªü API ‰øÆÊîπ EFI Âõ∫‰ª∂ÁöÑÂèòÈáèÊù•ÊîπÂèòÂêØÂä®È°∫Â∫èÁ≠â„ÄÇ Âú®Âêå‰∏™Á°¨ÁõòÂÆâË£ÖÁ¨¨‰∫å‰∏™Á≥ªÁªüÂêéÔºåÂæÄÂæÄÂéüÊú¨Á≥ªÁªüÁöÑÂêØÂä®È°π‰ºöË¢´Ë¶ÜÁõñ„ÄÇ‰ΩÜÂÖ∂ÂÆûÂè™ÊòØ ESP ÂàÜÂå∫ÁöÑ Boot/Boot\\&lt;arch\\&gt;.efi Ëøô‰∏™ÈªòËÆ§ÂêØÂä®È°πË¢´Ë¶ÜÁõñ‰∫ÜÔºåÂÆûÈôÖÁöÑÂêØÂä®Âä†ËΩΩÂô®ÁöÑ efi Êñá‰ª∂ÂÖ∂ÂÆûÈÉΩËøòÂú®ÔºåÂπ∂‰∏îÂú® EFI firmware ÈÖçÂ§áÁöÑ nvram ‰∏≠ÊúâÂÖ•Âè£„ÄÇËøôÊó∂ÂÆûÈôÖ‰∏äÂè™ÈúÄË¶ÅÈÖçÁΩÆ‰∏Ä‰∏ãÂç≥ÂèØ„ÄÇ ÊØîÂ¶ÇÊàëÂÆâË£Ö‰∫Ü win ‰πãÂêéÂèàË£Ö‰∫Ü FreeBSDÔºåËøôÊó∂ÈªòËÆ§ÂêØÂä®È°πÂ∞±Ë¢´ FreeBSD ÂÜôÊàê‰∫ÜÂÆÉÁöÑÔºåÊ≤°ÂäûÊ≥ïÂä†ËΩΩ win„ÄÇÊàëÂ∞±‰ΩøÁî® EFI Entry Manager ÊääÂêØÂä®È°∫Â∫èÊîπÊàê win-&gt;FreeBSD-&gt;Ventoy Âç≥ÂèØÔºåÁÑ∂ÂêéÊØèÊ¨°ÊÉ≥Ëøõ FreeBSD Âè™ÈúÄË¶ÅÂú®ËøõÂÖ• win ‰πãÂêé‰ΩøÁî® QEFI Entry Manager ËÆæÁΩÆ‰∏ãÊ¨°ÂçïÊ¨°Áî® FreeBSD ÁöÑÂä†ËΩΩÂô®ÂêØÂä®ÔºåÁÑ∂ÂêéÈáçÂêØÂç≥ÂèØ„ÄÇ ÁªìËÆ∫ ËøôÁØáÊñáÁ´†‰ªãÁªç‰∫ÜÊàëÂÖ≠‰∏™ÊúàÂâçÁöÑÂ∑•‰ΩúÔºåÂ¶ÇÊûúÂ∏ÆÂà∞‰Ω†ÁöÑËØùÂèØ‰ª•Áªô‰∏™ starÔºåÊàñËÄÖÈÄöËøáÂêÑÁßçÂπ≥Âè∞ËØ∑ÊàëÂñù‰∏ÄÊùØÂíñÂï°Âêß~","categories":[{"name":"Inoki Home Made","slug":"Inoki-Home-Made","permalink":"https://blog.inoki.cc/categories/Inoki-Home-Made/"},{"name":"Qt","slug":"Inoki-Home-Made/Qt","permalink":"https://blog.inoki.cc/categories/Inoki-Home-Made/Qt/"},{"name":"EFI","slug":"Inoki-Home-Made/Qt/EFI","permalink":"https://blog.inoki.cc/categories/Inoki-Home-Made/Qt/EFI/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Qt","slug":"Qt","permalink":"https://blog.inoki.cc/tags/Qt/"},{"name":"EFI","slug":"EFI","permalink":"https://blog.inoki.cc/tags/EFI/"}]},{"title":"„ÄêËØë„ÄëLinux ÂÜÖÊ†∏ÁöÑ VFIO - ‚ÄúVirtual Function I/O‚Äù","slug":"vfio","date":"2021-12-08T20:34:00.000Z","updated":"2022-05-09T18:41:39.510Z","comments":true,"path":"2021/12/08/vfio/","link":"","permalink":"https://blog.inoki.cc/2021/12/08/vfio/","excerpt":"","text":"ÂéüÊñáÈìæÊé•ÔºöVFIO - ‚ÄúVirtual Function I/O‚Äù ËÆ∏Â§öÁé∞‰ª£Á≥ªÁªüÁé∞Âú®Êèê‰æõ DMA Âíå‰∏≠Êñ≠ÈáçÊò†Â∞ÑËÆæÊñΩÔºå‰ª•Â∏ÆÂä©Á°Æ‰øù I/O ËÆæÂ§áÂú®ÂÆÉ‰ª¨Ë¢´ÂàÜÈÖçÁöÑËæπÁïåÂÜÖË°å‰∫ã„ÄÇËøôÂåÖÊã¨Â∏¶Êúâ AMD-Vi Âíå Intel VT-d ÁöÑ x86 Á°¨‰ª∂ÔºåÂ∏¶ÊúâÂèØÂàÜÂå∫ÁªàÁ´ØÔºàPEÔºâÁöÑ POWER Á≥ªÁªüÂíåÂµåÂÖ•Âºè PowerPC Á≥ªÁªüÔºåÂ¶Ç Freescale PAMU„ÄÇVFIO È©±Âä®ÊòØ‰∏Ä‰∏™ IOMMU/ËÆæÂ§áÊó†ÂÖ≥ÁöÑÊ°ÜÊû∂ÔºåÂú®‰∏Ä‰∏™ÂÆâÂÖ®ÁöÑ„ÄÅÂèó IOMMU ‰øùÊä§ÁöÑÁéØÂ¢É‰∏≠ÔºåÂ∞ÜËÆæÂ§áËÆøÈóÆÁõ¥Êé•Êö¥Èú≤ÁªôÁî®Êà∑Á©∫Èó¥„ÄÇÊç¢Âè•ËØùËØ¥ÔºåËøôÂÖÅËÆ∏ÂÆâÂÖ®ÁöÑ[2]„ÄÅÈùûÁâπÊùÉÁöÑÁî®Êà∑Á©∫Èó¥È©±Âä®Á®ãÂ∫è„ÄÇ Êàë‰ª¨‰∏∫‰ªÄ‰πàË¶ÅËøôÊ†∑ÂÅöÔºüÂΩìÈÖçÁΩÆ‰∏∫ÊúÄÈ´òÁöÑ I/O ÊÄßËÉΩÊó∂ÔºåËôöÊãüÊú∫ÁªèÂ∏∏Âà©Áî®Áõ¥Êé•ËÆæÂ§áËÆøÈóÆÔºà‚ÄúËÆæÂ§áÂàÜÈÖç‚ÄùÔºâ„ÄÇ‰ªéËÆæÂ§áÂíå‰∏ªÊú∫ÁöÑËßíÂ∫¶Êù•ÁúãÔºåËøôÂè™ÊòØÊääËôöÊãüÊú∫ÂèòÊàê‰∫Ü‰∏Ä‰∏™Áî®Êà∑Á©∫Èó¥È©±Âä®Á®ãÂ∫èÔºåÂÖ∂Â•ΩÂ§ÑÊòØÂ§ßÂ§ßÈôç‰Ωé‰∫ÜÂª∂ËøüÔºåÊèêÈ´ò‰∫ÜÂ∏¶ÂÆΩÔºåÂπ∂Áõ¥Êé•‰ΩøÁî®Ë£∏Êú∫ËÆæÂ§áÈ©±Âä®Á®ãÂ∫è[3]„ÄÇ ‰∏Ä‰∫õÂ∫îÁî®ÔºåÁâπÂà´ÊòØÂú®È´òÊÄßËÉΩËÆ°ÁÆóÈ¢ÜÂüüÔºå‰πü‰ªéÁî®Êà∑Á©∫Èó¥ÁöÑ‰ΩéÂºÄÈîÄ„ÄÅÁõ¥Êé•ËÆæÂ§áËÆøÈóÆ‰∏≠ÂèóÁõä„ÄÇ‰æãÂ¶ÇÔºåÁΩëÁªúÈÄÇÈÖçÂô®ÔºàÈÄöÂ∏∏ÊòØÂü∫‰∫éÈùû TCP/IPÔºâÂíåËÆ°ÁÆóÂä†ÈÄüÂô®„ÄÇÂú® VFIO ‰πãÂâçÔºåËøô‰∫õÈ©±Âä®ÂøÖÈ°ªÁªèËøáÂÆåÊï¥ÁöÑÂºÄÂèëÂë®ÊúüÊâçËÉΩÊàê‰∏∫ÂêàÈÄÇÁöÑ‰∏äÊ∏∏È©±Âä®ÔºåÊàñËÄÖÂú®‰ª£Á†ÅÊ†ëÂ§ñËøõË°åÁª¥Êä§ÔºåÊàñËÄÖ‰ΩøÁî® UIO Ê°ÜÊû∂ÔºåÂÆÉÊ≤°Êúâ IOMMU ‰øùÊä§ÁöÑÊ¶ÇÂøµÔºå‰∏≠Êñ≠ÊîØÊåÅÊúâÈôêÔºåÂπ∂‰∏îÈúÄË¶Å root ÊùÉÈôêÊù•ËÆøÈóÆ PCI ÈÖçÁΩÆÁ©∫Èó¥Á≠â‰∏úË•ø„ÄÇ VFIO È©±Âä®Ê°ÜÊû∂ÊâìÁÆóÂ∞ÜËøô‰∫õÁªü‰∏ÄËµ∑Êù•ÔºåÂèñ‰ª£ KVM ÁöÑ PCI ÁâπÂÆöËÆæÂ§áÂàÜÈÖç‰ª£Á†ÅÔºåÂπ∂Êèê‰æõ‰∏Ä‰∏™ÊØî UIO Êõ¥ÂÆâÂÖ®„ÄÅÊõ¥ÊúâÁâπËâ≤ÁöÑÁî®Êà∑Á©∫Èó¥È©±Âä®ÁéØÂ¢É„ÄÇ ÁªÑ„ÄÅËÆæÂ§áÂíå IOMMU ËÆæÂ§áÊòØ‰ªª‰Ωï I/O È©±Âä®ÁöÑ‰∏ªË¶ÅÁõÆÊ†á„ÄÇËÆæÂ§áÈÄöÂ∏∏ÂàõÂª∫‰∏Ä‰∏™Áî± I/O ËÆøÈóÆ„ÄÅ‰∏≠Êñ≠Âíå DMA ÁªÑÊàêÁöÑÁºñÁ®ãÊé•Âè£„ÄÇÂú®‰∏çÊ∑±ÂÖ•‰∫ÜËß£Ëøô‰∫õÁªÜËäÇÁöÑÊÉÖÂÜµ‰∏ãÔºåDMA ÊòØËøÑ‰ªä‰∏∫Ê≠¢Áª¥Êä§ÂÆâÂÖ®ÁéØÂ¢ÉÁöÑÊúÄÂÖ≥ÈîÆÁöÑÊñπÈù¢ÔºåÂõ†‰∏∫ÂÖÅËÆ∏ËÆæÂ§áÂØπÁ≥ªÁªüÂÜÖÂ≠òËøõË°åËØªÂÜôËÆøÈóÆ‰ºöÁªôÊï¥‰∏™Á≥ªÁªüÁöÑÂÆåÊï¥ÊÄßÂ∏¶Êù•ÊúÄÂ§ßÁöÑÈ£éÈô©„ÄÇ ‰∏∫‰∫ÜÂ∏ÆÂä©ÂáèËΩªËøôÁßçÈ£éÈô©ÔºåËÆ∏Â§öÁé∞‰ª£ÁöÑ IOMMU Áé∞Âú®Â∞ÜÈöîÁ¶ªÂ±ûÊÄßÁ∫≥ÂÖ•‰∫Ü‰∏Ä‰∏™Âú®ËÆ∏Â§öÊÉÖÂÜµ‰∏ãÂè™Áî®‰∫éËΩ¨Êç¢ÁöÑÊé•Âè£ÔºàÂç≥Ëß£ÂÜ≥ÂÖ∑ÊúâÊúâÈôêÂú∞ÂùÄÁ©∫Èó¥ÁöÑËÆæÂ§áÁöÑÂØªÂùÄÈóÆÈ¢òÔºâ„ÄÇÊúâ‰∫ÜËøô‰∏™ÔºåËÆæÂ§áÁé∞Âú®ÂèØ‰ª•Áõ∏‰∫íÈöîÁ¶ªÔºåÂπ∂‰∏é‰ªªÊÑèÁöÑÂÜÖÂ≠òËÆøÈóÆÈöîÁ¶ªÔºå‰ªéËÄåÂÖÅËÆ∏ÂÉèÂÆâÂÖ®Âú∞Áõ¥Êé•Â∞ÜËÆæÂ§áÂàÜÈÖçÂà∞ËôöÊãüÊú∫‰∏≠„ÄÇ ‰∏çËøáÔºåËøôÁßçÈöîÁ¶ªÂπ∂‰∏çÊÄªÊòØÂú®Âçï‰∏™ËÆæÂ§áÁöÑÈ¢óÁ≤íÂ∫¶‰∏ä„ÄÇÂç≥‰Ωø IOMMU ËÉΩÂ§üÂÅöÂà∞Ëøô‰∏ÄÁÇπÔºåËÆæÂ§á„ÄÅ‰∫íËøûÂíå IOMMU ÁöÑÊãìÊâëÁªìÊûÑÁöÑÂ±ûÊÄß‰πü‰ºöÂáèÂ∞ëËøôÁßçÈöîÁ¶ª„ÄÇ‰æãÂ¶ÇÔºå‰∏Ä‰∏™ÂçïÁã¨ÁöÑËÆæÂ§áÂèØËÉΩÊòØ‰∏Ä‰∏™Êõ¥Â§ßÁöÑÂ§öÂäüËÉΩÂåÖË£ÖÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇËôΩÁÑ∂ IOMMU ÂèØËÉΩËÉΩÂ§üÂå∫ÂàÜÂåÖË£ÖÂÜÖÈÉ®ÁöÑËÆæÂ§áÔºå‰ΩÜÂåÖË£ÖÂèØËÉΩ‰∏çË¶ÅÊ±ÇËÆæÂ§á‰πãÈó¥ÁöÑ‰∫ã‰ª∂Âà∞Ëææ IOMMU„ÄÇËøôÊñπÈù¢ÁöÑ‰æãÂ≠êÂèØËÉΩÊòØ‰ªª‰Ωï‰∏úË•øÔºå‰ªé‰∏Ä‰∏™Â§öÂäüËÉΩÁöÑ PCI ËÆæÂ§áÔºåÂú®ÂäüËÉΩ‰πãÈó¥ÊúâÂêéÈó®ÔºåÂà∞‰∏Ä‰∏™ÈùûPCI-ACSÔºàËÆøÈóÆÊéßÂà∂ÊúçÂä°ÔºâËÉΩÂäõÁöÑÊ°•Ê¢ÅÔºåÂÖÅËÆ∏ÈáçÂÆöÂêëËÄå‰∏çÂà∞Ëææ IOMMU„ÄÇÂú®ÈöêËóèËÆæÂ§áÊñπÈù¢ÔºåÊãìÊâëÁªìÊûÑ‰πüÂèØ‰ª•Ëµ∑Âà∞‰∏ÄÂÆöÁöÑ‰ΩúÁî®„ÄÇ‰∏Ä‰∏™ PCI-to-PCI ÁΩëÊ°•Êé©Áõñ‰∫ÜÂÆÉÂêéÈù¢ÁöÑËÆæÂ§áÔºå‰Ωø‰∫ã‰ª∂ÁúãËµ∑Êù•ÂÉèÊòØÊù•Ëá™ÁΩëÊ°•Êú¨Ë∫´„ÄÇÊòæÁÑ∂ÔºåIOMMU ÁöÑËÆæËÆ°‰πüÊòØ‰∏Ä‰∏™‰∏ªË¶ÅÂõ†Á¥†„ÄÇ Âõ†Ê≠§ÔºåËôΩÁÑ∂Âú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºåIOMMU ÂèØËÉΩÊúâËÆæÂ§áÁ∫ßÂà´ÁöÑÈ¢óÁ≤íÂ∫¶Ôºå‰ΩÜ‰ªª‰ΩïÁ≥ªÁªüÈÉΩÂÆπÊòìÂèóÂà∞È¢óÁ≤íÂ∫¶Èôç‰ΩéÁöÑÂΩ±Âìç„ÄÇÂõ†Ê≠§ÔºåIOMMU API ÊîØÊåÅ IOMMU ÁªÑÁöÑÊ¶ÇÂøµ„ÄÇ‰∏Ä‰∏™ÁªÑÊòØ‰∏ÄÁªÑËÆæÂ§áÔºåÂèØ‰∏éÁ≥ªÁªü‰∏≠ÊâÄÊúâÂÖ∂‰ªñËÆæÂ§áÈöîÁ¶ª„ÄÇÂõ†Ê≠§ÔºåÁªÑÊòØ VFIO ‰ΩøÁî®ÁöÑÊâÄÊúâÊùÉÂçï‰Ωç„ÄÇ ËôΩÁÑ∂ÁªÑÊòØ‰∏∫Á°Æ‰øùÁî®Êà∑ÂÆâÂÖ®ËÆøÈóÆËÄåÂøÖÈ°ª‰ΩøÁî®ÁöÑÊúÄÂ∞èÁ≤íÂ∫¶Ôºå‰ΩÜÂÆÉ‰∏ç‰∏ÄÂÆöÊòØÈ¶ñÈÄâÁ≤íÂ∫¶„ÄÇÂú®‰ΩøÁî®È°µË°®ÁöÑ IOMMU ‰∏≠ÔºåÊúâÂèØËÉΩÂú®‰∏çÂêåÁöÑÁªÑ‰πãÈó¥ÂÖ±‰∫´‰∏ÄÁªÑÈ°µË°®Ôºå‰ªéËÄåÂáèÂ∞ëÂØπÂπ≥Âè∞ÔºàÂáèÂ∞ë TLB ÊøÄÂä®ÔºåÂáèÂ∞ëÈáçÂ§çÁöÑÈ°µË°®ÔºâÂíåÁî®Êà∑ÔºàÂè™ÁºñÁ®ã‰∏ÄÁªÑÁøªËØëÔºâÁöÑÂºÄÈîÄ„ÄÇÂá∫‰∫éËøô‰∏™ÂéüÂõ†ÔºåVFIO‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÂÆπÂô®Á±ªÔºåÂÆÉÂèØ‰ª•ÂÆπÁ∫≥‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÁªÑ„ÄÇÈÄöËøáÁÆÄÂçïÂú∞ÊâìÂºÄ /dev/vfio/vfio Â≠óÁ¨¶ËÆæÂ§áÊù•ÂàõÂª∫‰∏Ä‰∏™ÂÆπÂô®„ÄÇ Â∞±ÂÖ∂Êú¨Ë∫´ËÄåË®ÄÔºåÂÆπÂô®Êèê‰æõÁöÑÂäüËÉΩÂæàÂ∞ëÔºåÈô§‰∫ÜÂá†‰∏™ÁâàÊú¨ÂíåÊâ©Â±ïÊü•ËØ¢Êé•Âè£Â§ñÔºåÂÖ∂‰ªñÁöÑÈÉΩË¢´ÈîÅÂÆö‰∫Ü„ÄÇÁî®Êà∑ÈúÄË¶ÅÂú®ÂÆπÂô®‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ÁªÑÔºå‰ª•Ëé∑Âæó‰∏ã‰∏ÄÁ∫ßÁöÑÂäüËÉΩ„ÄÇË¶ÅÂÅöÂà∞Ëøô‰∏ÄÁÇπÔºåÁî®Êà∑È¶ñÂÖàÈúÄË¶ÅÁ°ÆÂÆö‰∏éÊâÄÈúÄËÆæÂ§áÁõ∏ÂÖ≥ÁöÑÁªÑ„ÄÇËøôÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰∏≠ÊèèËø∞ÁöÑ sysfs ÈìæÊé•Êù•ÂÆåÊàê„ÄÇÈÄöËøáÂ∞ÜËÆæÂ§á‰ªé‰∏ªÊú∫È©±Âä®‰∏äËß£Èô§ÁªëÂÆöÂπ∂Â∞ÜÂÖ∂ÁªëÂÆöÂà∞ VFIO È©±Âä®‰∏äÔºå‰∏Ä‰∏™Êñ∞ÁöÑ VFIO ÁªÑÂ∞Ü‰ª• /dev/vfio/$GROUP ÁöÑÂΩ¢ÂºèÂá∫Áé∞ÔºåÂÖ∂‰∏≠ $GROUP ÊòØËÆæÂ§áÊâÄÂ±ûÁöÑ IOMMU ÁªÑÂè∑„ÄÇÂ¶ÇÊûú IOMMU ÁªÑÂåÖÂê´Â§ö‰∏™ËÆæÂ§áÔºåÂú®ÂÖÅËÆ∏ÂØπ VFIO ÁªÑËøõË°åÊìç‰Ωú‰πãÂâçÔºåÊØè‰∏™ËÆæÂ§áÈÉΩÈúÄË¶ÅË¢´ÁªëÂÆöÂà∞‰∏Ä‰∏™ VFIO È©±Âä®‰∏äÔºàÂ¶ÇÊûú VFIO È©±Âä®‰∏çÂèØÁî®ÔºåÂè™Â∞ÜËÆæÂ§á‰ªé‰∏ªÊú∫È©±Âä®‰∏äËß£Èô§ÁªëÂÆö‰πüÊòØË∂≥Â§üÁöÑÔºõËøôÂ∞Ü‰ΩøÁªÑÂèØÁî®Ôºå‰ΩÜ‰∏çÊòØÈÇ£‰∏™ÁâπÂÆöËÆæÂ§áÔºâ„ÄÇTBD - Áî®‰∫éÁ¶ÅÁî®È©±Âä®Á®ãÂ∫èÊé¢Êµã/ÈîÅÂÆöËÆæÂ§áÁöÑÊé•Âè£„ÄÇ ‰∏ÄÊó¶ÁªÑÂáÜÂ§áÂ•Ω‰∫ÜÔºåÂèØ‰ª•ÈÄöËøáÊâìÂºÄ VFIO ÁªÑÂ≠óÁ¨¶ËÆæÂ§áÔºà/dev/vfio/$GROUPÔºâÂπ∂‰ΩøÁî® VFIO_GROUP_SET_CONTAINER ÁöÑ ioctlÔºå‰º†ÈÄíÂÖàÂâçÊâìÂºÄÁöÑÂÆπÂô®Êñá‰ª∂ÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶ÔºåÂ∞ÜÂÖ∂Âä†ÂÖ•Âà∞ÂÆπÂô®‰∏≠„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÔºåÂπ∂‰∏î IOMMU È©±Âä®ÊîØÊåÅÂú®ÁªÑ‰πãÈó¥ÂÖ±‰∫´ IOMMU ‰∏ä‰∏ãÊñáÔºåÂ§ö‰∏™ÁªÑÂèØ‰ª•Ë¢´ËÆæÁΩÆÂà∞Âêå‰∏Ä‰∏™ÂÆπÂô®‰∏≠„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™ÁªÑ‰∏çËÉΩË¢´ËÆæÁΩÆÂà∞ÊúâÁé∞ÊúâÁªÑÁöÑÂÆπÂô®‰∏≠ÔºåÂ∞±ÈúÄË¶Å‰ΩøÁî®‰∏Ä‰∏™Êñ∞ÁöÑÁ©∫ÂÆπÂô®Êù•‰ª£Êõø„ÄÇ ÂΩì‰∏Ä‰∏™ÁªÑÔºàÊàñÂ§ö‰∏™ÁªÑÔºâËøûÊé•Âà∞‰∏Ä‰∏™ÂÆπÂô®Êó∂ÔºåÂÖ∂‰ΩôÁöÑ ioctls ÂèòÂæóÂèØÁî®Ôºå‰ªéËÄåËÉΩÂ§üËÆøÈóÆ VFIO IOMMU Êé•Âè£„ÄÇÊ≠§Â§ñÔºåÁé∞Âú®ÂèØ‰ª•‰ΩøÁî® VFIO ÁªÑÊñá‰ª∂ÊèèËø∞Á¨¶‰∏äÁöÑ ioctl Ëé∑ÂæóÁªÑÂÜÖÊØè‰∏™ËÆæÂ§áÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶„ÄÇ VFIO ËÆæÂ§á API ÂåÖÊã¨Áî®‰∫éÊèèËø∞ËÆæÂ§á„ÄÅI/O Âå∫ÂüüÂíåÂÆÉ‰ª¨Âú®ËÆæÂ§áÊèèËø∞Á¨¶‰∏äÁöÑËØª/ÂÜô/Êò†Â∞ÑÂÅèÁßªÁöÑ ioctlsÔºå‰ª•ÂèäÁî®‰∫éÊèèËø∞ÂíåÊ≥®ÂÜå‰∏≠Êñ≠ÈÄöÁü•ÁöÑÊú∫Âà∂„ÄÇ VFIO‰ΩøÁî®ÂÆû‰æã ÂÅáËÆæÁî®Êà∑ÊÉ≥ËÆøÈóÆPCIËÆæÂ§á0000:06:0d.0Ôºö 12$ readlink /sys/bus/pci/devices/0000:06:0d.0/iommu_group../../../../kernel/iommu_groups/26 Âõ†Ê≠§ÔºåËøô‰∏™ËÆæÂ§áÂ±û‰∫é IOMMU Á¨¨ 26 ÁªÑ„ÄÇËØ•ËÆæÂ§áÂú® pci ÊÄªÁ∫ø‰∏äÔºåÂõ†Ê≠§Áî®Êà∑Â∞Ü‰ΩøÁî® vfio-pci Êù•ÁÆ°ÁêÜËØ•ÁªÑÔºö 1# modprobe vfio-pci Â∞ÜËøô‰∏™ËÆæÂ§áÁªëÂÆöÂà∞ vfio-pci È©±Âä®‰∏äÔºå‰∏∫Ëøô‰∏™ÁªÑÂàõÂª∫ VFIO ÁªÑÁöÑÂ≠óÁ¨¶ËÆæÂ§áÔºö 1234$ lspci -n -s 0000:06:0d.006:0d.0 0401: 1102:0002 (rev 08)# echo 0000:06:0d.0 &gt; /sys/bus/pci/devices/0000:06:0d.0/driver/unbind# echo 1102 0002 &gt; /sys/bus/pci/drivers/vfio-pci/new_id Áé∞Âú®Êàë‰ª¨ÈúÄË¶ÅÁúãÁúãÁªÑ‰∏≠ËøòÊúâÂì™‰∫õËÆæÂ§áÔºå‰ª•ÈáäÊîæÂÆÉ‰æõ VFIO ‰ΩøÁî®: 12345678$ ls -l /sys/bus/pci/devices/0000:06:0d.0/iommu_group/devicestotal 0lrwxrwxrwx. 1 root root 0 Apr 23 16:13 0000:00:1e.0 -&gt; ../../../../devices/pci0000:00/0000:00:1e.0lrwxrwxrwx. 1 root root 0 Apr 23 16:13 0000:06:0d.0 -&gt; ../../../../devices/pci0000:00/0000:00:1e.0/0000:06:0d.0lrwxrwxrwx. 1 root root 0 Apr 23 16:13 0000:06:0d.1 -&gt; ../../../../devices/pci0000:00/0000:00:1e.0/0000:06:0d.1 Ëøô‰∏™ËÆæÂ§áÂú®‰∏Ä‰∏™ PCI-to-PCI Ê°•[4]ÂêéÈù¢ÔºåÂõ†Ê≠§Êàë‰ª¨ËøòÈúÄË¶ÅÊåâÁÖß‰∏äÈù¢ÁöÑÁ®ãÂ∫èÂ∞ÜËÆæÂ§á 0000:06:0d.1 Ê∑ªÂä†Âà∞ÁªÑ‰∏≠„ÄÇËÆæÂ§á 0000:00:1e.0 ÊòØ‰∏Ä‰∏™ÁõÆÂâçÊ≤°Êúâ‰∏ªÊú∫È©±Âä®ÁöÑÊ°•ÔºåÂõ†Ê≠§‰∏çÈúÄË¶ÅÂ∞ÜËøô‰∏™ËÆæÂ§áÁªëÂÆöÂà∞ vfio-pci È©±Âä®‰∏äÔºàvfio-pci ÁõÆÂâç‰∏çÊîØÊåÅ PCI Ê°•Ôºâ„ÄÇ ÊúÄÂêé‰∏ÄÊ≠•ÊòØÔºåÂ¶ÇÊûúÈúÄË¶ÅÈùûÁâπÊùÉÊìç‰ΩúÔºåÂàô‰∏∫Áî®Êà∑Êèê‰æõÂØπËØ•ÁªÑÁöÑËÆøÈóÆÊùÉÔºàÊ≥®ÊÑèÔºå/dev/vfio/vfio Êú¨Ë∫´‰∏çÊèê‰æõ‰ªª‰ΩïËÉΩÂäõÔºåÂõ†Ê≠§È¢ÑËÆ°Á≥ªÁªü‰ºöÂ∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫Ê®°Âºè 0666Ôºâ„ÄÇ 1# chown user:user /dev/vfio/26 Áî®Êà∑Áé∞Âú®ÂèØ‰ª•ÂÆåÂÖ®ËÆøÈóÆËøô‰∏™ÁªÑÁöÑÊâÄÊúâËÆæÂ§áÂíå iommuÔºåÂπ∂ÂèØ‰ª•Êåâ‰ª•‰∏ãÊñπÂºèËÆøÈóÆÂÆÉ‰ª¨Ôºö 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172int container, group, device, i;struct vfio_group_status group_status = &#123; .argsz = sizeof(group_status) &#125;;struct vfio_iommu_type1_info iommu_info = &#123; .argsz = sizeof(iommu_info) &#125;;struct vfio_iommu_type1_dma_map dma_map = &#123; .argsz = sizeof(dma_map) &#125;;struct vfio_device_info device_info = &#123; .argsz = sizeof(device_info) &#125;;/* Create a new container */container = open(\"/dev/vfio/vfio\", O_RDWR);if (ioctl(container, VFIO_GET_API_VERSION) != VFIO_API_VERSION) /* Unknown API version */if (!ioctl(container, VFIO_CHECK_EXTENSION, VFIO_TYPE1_IOMMU)) /* Doesn't support the IOMMU driver we want. *//* Open the group */group = open(\"/dev/vfio/26\", O_RDWR);/* Test the group is viable and available */ioctl(group, VFIO_GROUP_GET_STATUS, &amp;group_status);if (!(group_status.flags &amp; VFIO_GROUP_FLAGS_VIABLE)) /* Group is not viable (ie, not all devices bound for vfio) *//* Add the group to the container */ioctl(group, VFIO_GROUP_SET_CONTAINER, &amp;container);/* Enable the IOMMU model we want */ioctl(container, VFIO_SET_IOMMU, VFIO_TYPE1_IOMMU);/* Get addition IOMMU info */ioctl(container, VFIO_IOMMU_GET_INFO, &amp;iommu_info);/* Allocate some space and setup a DMA mapping */dma_map.vaddr = mmap(0, 1024 * 1024, PROT_READ | PROT_WRITE, MAP_PRIVATE | MAP_ANONYMOUS, 0, 0);dma_map.size = 1024 * 1024;dma_map.iova = 0; /* 1MB starting at 0x0 from device view */dma_map.flags = VFIO_DMA_MAP_FLAG_READ | VFIO_DMA_MAP_FLAG_WRITE;ioctl(container, VFIO_IOMMU_MAP_DMA, &amp;dma_map);/* Get a file descriptor for the device */device = ioctl(group, VFIO_GROUP_GET_DEVICE_FD, \"0000:06:0d.0\");/* Test and setup the device */ioctl(device, VFIO_DEVICE_GET_INFO, &amp;device_info);for (i = 0; i &lt; device_info.num_regions; i++) &#123; struct vfio_region_info reg = &#123; .argsz = sizeof(reg) &#125;; reg.index = i; ioctl(device, VFIO_DEVICE_GET_REGION_INFO, &amp;reg); /* Setup mappings... read/write offsets, mmaps * For PCI devices, config space is a region */&#125;for (i = 0; i &lt; device_info.num_irqs; i++) &#123; struct vfio_irq_info irq = &#123; .argsz = sizeof(irq) &#125;; irq.index = i; ioctl(device, VFIO_DEVICE_GET_IRQ_INFO, &amp;irq); /* Setup IRQs... eventfds, VFIO_DEVICE_SET_IRQS */&#125;/* Gratuitous device reset and go... */ioctl(device, VFIO_DEVICE_RESET); VFIO User API ÂÆåÊï¥ÁöÑ API ÂèÇËÄÉËØ∑Êü•Áúã include/linux/vfio.h„ÄÇ VFIO ÊÄªÁ∫øÈ©±Âä® API VFIO ÊÄªÁ∫øÈ©±Âä®ÔºåÊØîÂ¶Ç vfio-pciÔºåÂè™‰ΩøÁî®‰∫Ü VFIO Ê†∏ÂøÉÁöÑÂá†‰∏™Êé•Âè£„ÄÇÂΩìËÆæÂ§áË¢´ÁªëÂÆöÂíåËß£ÁªëÂà∞È©±Âä®‰∏äÊó∂ÔºåÈ©±Âä®Â∫îËØ•ÂàÜÂà´Ë∞ÉÁî® vfio_register_group_dev() Âíå vfio_unregister_group_dev()Ôºö 123456void vfio_init_group_dev(struct vfio_device *device, struct device *dev, const struct vfio_device_ops *ops);void vfio_uninit_group_dev(struct vfio_device *device);int vfio_register_group_dev(struct vfio_device *device);void vfio_unregister_group_dev(struct vfio_device *device); È©±Âä®Á®ãÂ∫èÂ∫îËØ•Â∞Ü vfio_device ÂµåÂÖ•Âà∞ÂÆÉËá™Â∑±ÁöÑÁªìÊûÑ‰∏≠ÔºåÂπ∂Âú®ËøõË°åÊ≥®ÂÜåÂâçË∞ÉÁî® vfio_init_group_dev() ËøõË°åÈ¢ÑÈÖçÁΩÆÔºåÂú®ÂÆåÊàêÂèñÊ∂àÊ≥®ÂÜåÂêéË∞ÉÁî® vfio_uninit_group_dev()„ÄÇ vfio_register_group_dev() ÊåáÁ§∫ÂÜÖÊ†∏ÂºÄÂßãË∑üË∏™ÊåáÂÆö dev ÁöÑ iommu_groupÔºåÂπ∂Â∞ÜËØ• dev Ê≥®ÂÜå‰∏∫ VFIO ÊÄªÁ∫øÈ©±Âä®Á®ãÂ∫èÊã•Êúâ„ÄÇ‰∏ÄÊó¶ vfio_register_group_dev() ËøîÂõûÔºåÁî®Êà∑Á©∫Èó¥Â∞±ÊúâÂèØËÉΩÂºÄÂßãËÆøÈóÆÈ©±Âä®ÔºåÂõ†Ê≠§È©±Âä®Â∫îËØ•Âú®Ë∞ÉÁî®ÂÆÉ‰πãÂâçÁ°Æ‰øùÂÆÉÂÆåÂÖ®ÂáÜÂ§áÂ•Ω„ÄÇÈ©±Âä®Á®ãÂ∫è‰∏∫ÂõûË∞ÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™Á±ª‰ºº‰∫éÊñá‰ª∂Êìç‰ΩúÁªìÊûÑÁöÑ OP ÁªìÊûÑÔºö 12345678910111213struct vfio_device_ops &#123; int (*open)(struct vfio_device *vdev); void (*release)(struct vfio_device *vdev); ssize_t (*read)(struct vfio_device *vdev, char __user *buf, size_t count, loff_t *ppos); ssize_t (*write)(struct vfio_device *vdev, const char __user *buf, size_t size, loff_t *ppos); long (*ioctl)(struct vfio_device *vdev, unsigned int cmd, unsigned long arg); int (*mmap)(struct vfio_device *vdev, struct vm_area_struct *vma);&#125;; ÊØè‰∏™ÂáΩÊï∞ÈÉΩË¢´‰º†ÈÄíÁªôÊúÄÂàùÂú®‰∏äÈù¢ÁöÑ vfio_register_group_dev() Ë∞ÉÁî®‰∏≠Ê≥®ÂÜåÁöÑ vdev„ÄÇËøôÂÖÅËÆ∏ÊÄªÁ∫øÈ©±Âä®Âô®‰ΩøÁî® container_of() Ëé∑ÂæóÂÖ∂ÁßÅÊúâÊï∞ÊçÆ„ÄÇÂΩì‰∏∫‰∏Ä‰∏™ËÆæÂ§áÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶Êó∂ÔºàÈÄöËøá VFIO_GROUP_GET_DEVICE_FDÔºâÔºå‰ºöÂèëÂá∫ open/release ÂõûË∞É„ÄÇioctl Êé•Âè£‰∏∫ VFIO_DEVICE_* ioctlsÊèê‰æõ‰∫Ü‰∏Ä‰∏™Áõ¥Êé•ÁöÑÈÄöÈÅì„ÄÇËØª/ÂÜô/mmap Êé•Âè£ÂÆûÁé∞‰∫ÜËÆæÂ§áÂå∫ÂüüÁöÑËÆøÈóÆÔºåËøô‰∫õËÆøÈóÆÊòØÁî±ËÆæÂ§áËá™Â∑±ÁöÑ VFIO_DEVICE_GET_REGION_INFO ioctlÂÆö‰πâÁöÑ„ÄÇ VFIO ÊúÄÂàùÊòØ&quot;ËôöÊãüÂäüËÉΩI/O&quot;ÁöÑÈ¶ñÂ≠óÊØçÁº©ÂÜôÔºåÁî±Ê±§ÂßÜ-ÈáåÊòÇÂú®ÊãÖ‰ªªÊÄùÁßëÂÖ¨Âè∏Êó∂ÂÆûÁé∞„ÄÇÊàë‰ª¨ÂêéÊù•Â∑≤Áªè‰∏çÂÜç‰ΩøÁî®Ëøô‰∏™Áº©ÂÜô‰∫ÜÔºå‰ΩÜÂÆÉÂæàÂ•ΩÂê¨„ÄÇ &quot;ÂÆâÂÖ®&quot;‰πüÂèñÂÜ≥‰∫éËÆæÂ§áÁöÑ ‚ÄúË°å‰∏∫ËâØÂ•Ω‚Äù„ÄÇÂ§öÂäüËÉΩËÆæÂ§áÊúâÂèØËÉΩÂú®ÂäüËÉΩ‰πãÈó¥ÊúâÂêéÈó®ÔºåÁîöËá≥ÂçïÂäüËÉΩËÆæÂ§á‰πüÊúâÂèØËÉΩÈÄöËøá MMIO ÂØÑÂ≠òÂô®ÂØπ PCI ÈÖçÁΩÆÁ©∫Èó¥Á≠âËøõË°åÊõø‰ª£ËÆøÈóÆ„ÄÇ‰∏∫‰∫ÜÈò≤Ê≠¢ÂâçËÄÖÔºåÊàë‰ª¨ÂèØ‰ª•Âú® IOMMU È©±Âä®‰∏≠Âä†ÂÖ•È¢ùÂ§ñÁöÑÈ¢ÑÈò≤Êé™ÊñΩÔºåÂ∞ÜÂ§öÂäüËÉΩ PCI ËÆæÂ§áÂàÜÁªÑÔºàiommu=group_mfÔºâ„ÄÇÂêéËÄÖÊàë‰ª¨Êó†Ê≥ïÈò≤Ê≠¢Ôºå‰ΩÜ IOMMU ‰ªçÂ∫îÊèê‰æõÈöîÁ¶ª„ÄÇÂØπ‰∫é PCI Êù•ËØ¥ÔºåSR-IOV ËôöÊãüÂäüËÉΩÊòØ &quot;Ë°å‰∏∫ËâØÂ•Ω &quot;ÁöÑÊúÄ‰Ω≥ÊåáÊ†áÔºåÂõ†‰∏∫Ëøô‰∫õÊòØ‰∏∫ËôöÊãüÂåñ‰ΩøÁî®Ê®°ÂºèËÆæËÆ°ÁöÑ„ÄÇ ÂÉèÂæÄÂ∏∏‰∏ÄÊ†∑ÔºåËôöÊãüÊú∫ËÆæÂ§áÂàÜÈÖçÊúâ‰∏Ä‰∫õÊùÉË°°ÔºåË∂ÖÂá∫‰∫ÜVFIOÁöÑËåÉÂõ¥„ÄÇÈ¢ÑËÆ°Êú™Êù•ÁöÑ IOMMU ÊäÄÊúØÂ∞ÜÂáèÂ∞ë‰∏Ä‰∫õÔºå‰ΩÜ‰πüËÆ∏‰∏çÊòØÂÖ®ÈÉ®ÔºåËøô‰∫õÊäòË°∑„ÄÇ Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåËÆæÂ§áÂú® PCI Ê°•‰∏ãÈù¢ÔºåÊâÄ‰ª•Êù•Ëá™ËÆæÂ§áÁöÑ‰ªª‰ΩïÂäüËÉΩÁöÑ‰∫ã‰ª∂ÂØπ iommu Êù•ËØ¥ÈÉΩÊòØÊó†Ê≥ïÂå∫ÂàÜÁöÑ„ÄÇ 123 -[0000:00]-+-1e.0-[06]--+-0d.0 \\-0d.100:1e.0 PCI bridge: Intel Corporation 82801 PCI Bridge (rev 90)","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"}]},{"title":"„ÄêËØë„ÄëLinux ÂÜÖÊ†∏ÁöÑÁî®Êà∑ÊÄÅ I/O","slug":"uio-howto","date":"2021-12-08T19:34:00.000Z","updated":"2022-05-09T18:41:39.510Z","comments":true,"path":"2021/12/08/uio-howto/","link":"","permalink":"https://blog.inoki.cc/2021/12/08/uio-howto/","excerpt":"","text":"ÂéüÊñáÈìæÊé•ÔºöThe Userspace I/O HOWTO ÂÖ≥‰∫é UIO Â¶ÇÊûú‰Ω†‰ΩøÁî® UIO ‰Ωú‰∏∫‰Ω†ÁöÑËÆæÂ§áÂç°ÁöÑÈ©±Âä®Á®ãÂ∫èÔºå‰Ω†ÂèØ‰ª•Ëé∑ÂæóÔºö Âè™Êúâ‰∏Ä‰∏™Â∞èÁöÑÂÜÖÊ†∏Ê®°ÂùóÈúÄË¶ÅÁºñÂÜôÂíåÁª¥Êä§„ÄÇ Âú®Áî®Êà∑Á©∫Èó¥ÂºÄÂèë‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èÁöÑ‰∏ªË¶ÅÈÉ®ÂàÜÔºå‰ΩøÁî®‰Ω†‰π†ÊÉØÁöÑÊâÄÊúâÂ∑•ÂÖ∑ÂíåÂ∫ì„ÄÇ È©±Âä®Á®ãÂ∫è‰∏≠ÁöÑÈîôËØØ‰∏ç‰ºö‰ΩøÂÜÖÊ†∏Â¥©Ê∫É„ÄÇ ‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èÁöÑÊõ¥Êñ∞ÂèØ‰ª•Âú®‰∏çÈáçÊñ∞ÁºñËØëÂÜÖÊ†∏ÁöÑÊÉÖÂÜµ‰∏ãËøõË°å„ÄÇ UIO ÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑ ÊØè‰∏™ IO ËÆæÂ§áÈÉΩÊòØÈÄöËøá‰∏Ä‰∏™ËÆæÂ§áÊñá‰ª∂ÂíåÂá†‰∏™ sysfs Â±ûÊÄßÊñá‰ª∂ËÆøÈóÆÁöÑ„ÄÇÁ¨¨‰∏Ä‰∏™ËÆæÂ§áÁöÑËÆæÂ§áÊñá‰ª∂Â∞ÜË¢´Áß∞‰∏∫ /dev/uio0ÔºåÈöèÂêéÁöÑËÆæÂ§áÂ∞ÜË¢´Áß∞‰∏∫ /dev/uio1Ôºå/dev/uio2Ôºå‰ª•Ê≠§Á±ªÊé®„ÄÇ /dev/uioX ÊòØÁî®Êù•ËÆøÈóÆËÆæÂ§áÂç°ÁöÑÂú∞ÂùÄÁ©∫Èó¥„ÄÇÂè™ÈúÄ‰ΩøÁî® mmap() Êù•ËÆøÈóÆ‰Ω†ÁöÑËÆæÂ§áÂç°ÁöÑÂØÑÂ≠òÂô®Êàñ RAM ‰ΩçÁΩÆ„ÄÇ ‰∏≠Êñ≠ÊòØÈÄöËøá‰ªé /dev/uioX ËØªÂèñÊù•Â§ÑÁêÜÁöÑ„ÄÇ‰ªé /dev/uioX ËØªÂèñÁöÑÈòªÂ°ûÂºè read() Â∞ÜÂú®‰∏≠Êñ≠ÂèëÁîüÂêéÁ´ãÂç≥ËøîÂõû„ÄÇ‰Ω†‰πüÂèØ‰ª•Âú® /dev/uioX ‰∏ä‰ΩøÁî® select() Êù•Á≠âÂæÖ‰∏Ä‰∏™‰∏≠Êñ≠„ÄÇ‰ªé /dev/uioX ‰∏≠ËØªÂá∫ÁöÑÊï¥Êï∞ÂÄº‰ª£Ë°®ÊÄªÁöÑ‰∏≠Êñ≠Êï∞„ÄÇ‰Ω†ÂèØ‰ª•Áî®Ëøô‰∏™Êï∞Â≠óÊù•ËÆ°ÁÆó‰Ω†ÊòØÂê¶ÈîôËøá‰∫Ü‰∏Ä‰∫õ‰∏≠Êñ≠„ÄÇ ÂØπ‰∫é‰∏Ä‰∫õÂÜÖÈÉ®ÊúâÂ§ö‰∏™‰∏≠Êñ≠Ê∫êÔºå‰ΩÜÊ≤°ÊúâÁã¨Á´ãÁöÑ IRQ Â±èËîΩÂíåÁä∂ÊÄÅÂØÑÂ≠òÂô®ÁöÑÁ°¨‰ª∂ÔºåÂèØËÉΩ‰ºöÂá∫Áé∞ËøôÊ†∑ÁöÑÊÉÖÂÜµÔºöÂ¶ÇÊûúÂÜÖÊ†∏Â§ÑÁêÜÁ®ãÂ∫èÈÄöËøáÂÜôÂÖ•ËäØÁâáÁöÑ IRQ ÂØÑÂ≠òÂô®Êù•Á¶ÅÁî®ÂÆÉ‰ª¨ÔºåÁî®Êà∑Á©∫Èó¥Êó†Ê≥ïÁ°ÆÂÆö‰∏≠Êñ≠Ê∫êÊòØ‰ªÄ‰πà„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂÜÖÊ†∏ÂøÖÈ°ªÂÆåÂÖ®Á¶ÅÁî® IRQÔºå‰ª•‰ΩøËäØÁâáÁöÑÂØÑÂ≠òÂô®‰∏çË¢´ÊîπÂèò„ÄÇÁé∞Âú®ÔºåÁî®Êà∑Á©∫Èó¥ÈÉ®ÂàÜÂèØ‰ª•Á°ÆÂÆö‰∏≠Êñ≠ÁöÑÂéüÂõ†Ôºå‰ΩÜÂÆÉ‰∏çËÉΩÈáçÊñ∞ÂêØÁî®‰∏≠Êñ≠„ÄÇÂè¶‰∏ÄÁßçÊÉÖÂÜµÊòØÔºåÈáçÊñ∞ÂêØÁî®‰∏≠Êñ≠ÁöÑËäØÁâáÊòØÂØπÁªºÂêàÁöÑ IRQ Áä∂ÊÄÅ/Á°ÆËÆ§ÂØÑÂ≠òÂô®ÁöÑËØª-‰øÆÊîπ-ÂÜôÊìç‰Ωú„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™Êñ∞ÁöÑ‰∏≠Êñ≠ÂêåÊó∂ÂèëÁîüÔºåËøôÂ∞ÜÊòØÂæàËçíË∞¨ÁöÑ„ÄÇ ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢òÔºåUIO ËøòÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ write() ÂáΩÊï∞„ÄÇÂØπ‰∫éÂè™Êúâ‰∏Ä‰∏™‰∏≠Êñ≠Ê∫êÊàñËÄÖÊúâÁã¨Á´ãÁöÑIRQÂ±èËîΩÂíåÁä∂ÊÄÅÂØÑÂ≠òÂô®ÁöÑÁ°¨‰ª∂ÔºåÈÄöÂ∏∏‰∏ç‰ΩøÁî®„ÄÅÂèØ‰ª•ÂøΩÁï•ÂÆÉ„ÄÇÁÑ∂ËÄåÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÂÆÉÔºåÂØπ /dev/uioX ÁöÑÂÜôÂÖ•Â∞ÜË∞ÉÁî®È©±Âä®ÂÆûÁé∞ÁöÑ irqcontrol() ÂáΩÊï∞„ÄÇ‰Ω†ÂøÖÈ°ªÂÜô‰∏Ä‰∏™ 32 ‰ΩçÁöÑÂÄºÔºåÈÄöÂ∏∏ÊòØ 0 Êàñ 1Ôºå‰ª•Á¶ÅÁî®ÊàñÂêØÁî®‰∏≠Êñ≠„ÄÇÂ¶ÇÊûú‰∏Ä‰∏™È©±Âä®Á®ãÂ∫èÊ≤°ÊúâÂÆûÁé∞ irqcontrol()Ôºåwrite() Â∞ÜËøîÂõû -ENOSYS„ÄÇ ‰∏∫‰∫ÜÊ≠£Á°ÆÂ§ÑÁêÜ‰∏≠Êñ≠Ôºå‰Ω†ÁöÑËá™ÂÆö‰πâÂÜÖÊ†∏Ê®°ÂùóÂèØ‰ª•Êèê‰æõËá™Â∑±ÁöÑ‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫è„ÄÇÂÆÉÂ∞ÜËá™Âä®Ë¢´ÂÜÖÁΩÆÁöÑÂ§ÑÁêÜÁ®ãÂ∫èË∞ÉÁî®„ÄÇ ÂØπ‰∫éÈÇ£‰∫õ‰∏ç‰∫ßÁîü‰∏≠Êñ≠‰ΩÜÈúÄË¶ÅËΩÆËØ¢ÁöÑÂç°ÔºåÂèØ‰ª•ËÆæÁΩÆ‰∏Ä‰∏™ÂÆöÊó∂Âô®ÔºåÂú®ÂèØÈÖçÁΩÆÁöÑÊó∂Èó¥Èó¥ÈöîÂÜÖËß¶Âèë‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫è„ÄÇËøôÁßç‰∏≠Êñ≠Ê®°ÊãüÊòØÈÄöËøá‰ªéÂÆöÊó∂Âô®ÁöÑ‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èË∞ÉÁî® uio_event_notify() Êù•ÂÆåÊàêÁöÑ„ÄÇ ÊØè‰∏™È©±Âä®Á®ãÂ∫èÈÉΩÊèê‰æõ‰∫ÜÁî®‰∫éËØªÂèñÊàñÂÜôÂÖ•ÂèòÈáèÁöÑÂ±ûÊÄß„ÄÇËøô‰∫õÂ±ûÊÄßÂèØ‰ª•ÈÄöËøá sysfs Êñá‰ª∂ËÆøÈóÆ„ÄÇ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÂÜÖÊ†∏È©±Âä®Ê®°ÂùóÂèØ‰ª•Â∞ÜËá™Â∑±ÁöÑÂ±ûÊÄßÊ∑ªÂä†Âà∞ uio È©±Âä®ÊâÄÊã•ÊúâÁöÑËÆæÂ§á‰∏äÔºå‰ΩÜÁõÆÂâçËøòÊ≤°ÊúâÊ∑ªÂä†Âà∞ uio ËÆæÂ§áÊú¨Ë∫´„ÄÇÂ¶ÇÊûúÂèëÁé∞ÊúâÁî®ÁöÑËØùÔºåËøôÂú®Â∞ÜÊù•ÂèØËÉΩ‰ºöÂèëÁîüÊîπÂèò„ÄÇ UIOÊ°ÜÊû∂Êèê‰æõ‰∫Ü‰ª•‰∏ãÊ†áÂáÜÂ±ûÊÄßÔºö name: ‰Ω†ÁöÑËÆæÂ§áÁöÑÂêçÁß∞„ÄÇÂª∫ËÆÆ‰ΩøÁî®‰Ω†ÁöÑÂÜÖÊ†∏Ê®°ÂùóÁöÑÂêçÁß∞„ÄÇ versionÔºö‰∏Ä‰∏™Áî±‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èÂÆö‰πâÁöÑÁâàÊú¨Â≠óÁ¨¶‰∏≤„ÄÇËøô‰ΩøÂæó‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èÁöÑÁî®Êà∑Á©∫Èó¥ÈÉ®ÂàÜËÉΩÂ§üÂ§ÑÁêÜ‰∏çÂêåÁâàÊú¨ÁöÑÂÜÖÊ†∏Ê®°Âùó„ÄÇ eventÔºöËá™‰∏äÊ¨°ËØªÂèñËÆæÂ§áËäÇÁÇπ‰ª•Êù•ÔºåÈ©±Âä®Á®ãÂ∫èÂ§ÑÁêÜÁöÑ‰∏≠Êñ≠ÊÄªÊï∞„ÄÇ Ëøô‰∫õÂ±ûÊÄßÂá∫Áé∞Âú® /sys/class/uio/uioX ÁõÆÂΩï‰∏ã„ÄÇËØ∑Ê≥®ÊÑèÔºåËøô‰∏™ÁõÆÂΩïÂèØËÉΩÊòØ‰∏Ä‰∏™Á¨¶Âè∑ÈìæÊé•ÔºåËÄå‰∏çÊòØ‰∏Ä‰∏™ÁúüÊ≠£ÁöÑÁõÆÂΩï„ÄÇ‰ªª‰ΩïËÆøÈóÆÂÆÉÁöÑÁî®Êà∑Á©∫Èó¥‰ª£Á†ÅÂøÖÈ°ªËÉΩÂ§üÂ§ÑÁêÜËøô‰∏™ÈóÆÈ¢ò„ÄÇ ÊØè‰∏™ UIO ËÆæÂ§áÈÉΩÂèØ‰ª•‰∏∫ÂÜÖÂ≠òÊò†Â∞ÑÊèê‰æõ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÜÖÂ≠òÂå∫Âüü„ÄÇËøôÊòØÂøÖË¶ÅÁöÑÔºåÂõ†‰∏∫‰∏Ä‰∫õÂ∑•‰∏ö I/O Âç°ÈúÄË¶ÅÂú®‰∏Ä‰∏™È©±Âä®Á®ãÂ∫è‰∏≠ËÆøÈóÆ‰∏Ä‰∏™‰ª•‰∏äÁöÑ PCI ÂÜÖÂ≠òÂå∫Âüü„ÄÇ ÊØè‰∏™Êò†Â∞ÑÂú® sysfs ‰∏≠ÊúâËá™Â∑±ÁöÑÁõÆÂΩïÔºåÁ¨¨‰∏Ä‰∏™Êò†Â∞ÑÊòæÁ§∫‰∏∫ /sys/class/uio/uioX/maps/map0/„ÄÇ ÂêéÁª≠ÁöÑÊò†Â∞ÑÂàõÂª∫ÁõÆÂΩï map1/Ôºåmap2/ÔºåÁ≠âÁ≠â„ÄÇËøô‰∫õÁõÆÂΩïÂè™ÊúâÂú®Êò†Â∞ÑÁöÑÂ§ßÂ∞è‰∏ç‰∏∫ 0 Êó∂Êâç‰ºöÂá∫Áé∞„ÄÇ ÊØè‰∏™ mapX/ ÁõÆÂΩïÂåÖÂê´Âõõ‰∏™Âè™ËØªÊñá‰ª∂ÔºåÊòæÁ§∫ÂÜÖÂ≠òÁöÑÂ±ûÊÄßÔºö name: Ëøô‰∏™Êò†Â∞ÑÁöÑ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Ê†áËØÜÁ¨¶„ÄÇËøôÊòØÂèØÈÄâÁöÑÔºåËøô‰∏™Â≠óÁ¨¶‰∏≤ÂèØ‰ª•ÊòØÁ©∫ÁöÑ„ÄÇÈ©±Âä®Á®ãÂ∫èÂèØ‰ª•ËÆæÁΩÆÂÆÉÔºå‰ΩøÁî®Êà∑Á©∫Èó¥Êõ¥ÂÆπÊòìÊâæÂà∞Ê≠£Á°ÆÁöÑÊò†Â∞Ñ„ÄÇ addr: ÂèØ‰ª•Ë¢´Êò†Â∞ÑÁöÑÂÜÖÂ≠òÁöÑÂú∞ÂùÄ„ÄÇ sizeÔºöaddr ÊâÄÊåáÂêëÁöÑÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÔºå‰ª•Â≠óËäÇ‰∏∫Âçï‰Ωç„ÄÇ offsetÔºöÂú® mmap() ËøîÂõûÁöÑÊåáÈíà‰∏äÂøÖÈ°ªÂä†‰∏äÁöÑÂÅèÁßªÈáèÔºå‰ª•Ëé∑ÂæóÂÆûÈôÖÁöÑËÆæÂ§áÂÜÖÂ≠ò„ÄÇÂ¶ÇÊûúËÆæÂ§áÁöÑÂÜÖÂ≠ò‰∏çÊòØÈ°µÂØπÈΩêÁöÑÔºåËøôÂ∞±ÂæàÈáçË¶Å„ÄÇËÆ∞‰ΩèÔºåÁî± mmap() ËøîÂõûÁöÑÊåáÈíàÊÄªÊòØÈ°µÂØπÈΩêÁöÑÔºåÊâÄ‰ª•ÊÄªÊòØÂä†‰∏äËøô‰∏™ÂÅèÁßªÈáèÊòØÂ•ΩÁöÑÈ£éÊ†º„ÄÇ Âú®Áî®Êà∑Á©∫Èó¥Ôºå‰∏çÂêåÁöÑÊò†Â∞ÑÊòØÈÄöËøáË∞ÉÊï¥ mmap() Ë∞ÉÁî®ÁöÑÂÅèÁßªÈáèÂèÇÊï∞Êù•Âå∫ÂàÜÁöÑ„ÄÇ‰∏∫‰∫ÜÊò†Â∞Ñ N ÁöÑÂÜÖÂ≠òÔºå‰Ω†ÂøÖÈ°ª‰ΩøÁî® N ÂÄçÁöÑÈ°µÈù¢Â§ßÂ∞è‰Ωú‰∏∫‰Ω†ÁöÑÂÅèÁßªÔºö 1offset = N * getpagesize(); Sometimes there is hardware with memory-like regions that can not be mapped with the technique described here, but there are still ways to access them from userspace. The most common example are x86 ioports. On x86 systems, userspace can access these ioports using ioperm(), iopl(), inb(), outb(), and similar functions. Since these ioport regions can not be mapped, they will not appear under /sys/class/uio/uioX/maps/ like the normal memory described above. Without information about the port regions a hardware has to offer, it becomes difficult for the userspace part of the driver to find out which ports belong to which UIO device. To address this situation, the new directory /sys/class/uio/uioX/portio/ was added. It only exists if the driver wants to pass information about one or more port regions to userspace. If that is the case, subdirectories named port0, port1, and so on, will appear underneath /sys/class/uio/uioX/portio/. ÊúâÊó∂ÔºåÊúâ‰∫õÁ°¨‰ª∂ÁöÑÁ±ª‰ººÂÜÖÂ≠òÁöÑÂå∫Âüü‰∏çËÉΩÁî®ËøôÈáåÊèèËø∞ÁöÑÊäÄÊúØËøõË°åÊò†Â∞ÑÔºå‰ΩÜ‰ªçÊúâÂäûÊ≥ï‰ªéÁî®Êà∑Á©∫Èó¥ËÆøÈóÆÂÆÉ‰ª¨„ÄÇÊúÄÂ∏∏ËßÅÁöÑ‰æãÂ≠êÊòØ x86 ÁöÑ ioports„ÄÇÂú®X86Á≥ªÁªü‰∏≠ÔºåÁî®Êà∑Á©∫Èó¥ÂèØ‰ª•‰ΩøÁî® ioperm()„ÄÅiopl()„ÄÅinb()„ÄÅoutb() ÂíåÁ±ª‰ººÁöÑÂáΩÊï∞ËÆøÈóÆËøô‰∫õ ioports„ÄÇ Áî±‰∫éËøô‰∫õ ioport Âå∫Âüü‰∏çËÉΩË¢´Êò†Â∞ÑÔºåÂÆÉ‰ª¨‰∏ç‰ºöÂÉè‰∏äÈù¢ÊèèËø∞ÁöÑÊôÆÈÄöÂÜÖÂ≠ò‰∏ÄÊ†∑Âá∫Áé∞Âú® /sys/class/uio/uioX/maps/ ‰∏ã„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÁ°¨‰ª∂ÊâÄÊèê‰æõÁöÑÁ´ØÂè£Âå∫ÂüüÁöÑ‰ø°ÊÅØÔºåÈ©±Âä®Á®ãÂ∫èÁöÑÁî®Êà∑Á©∫Èó¥ÈÉ®ÂàÜÂ∞±ÂæàÈöæÊâæÂá∫Âì™‰∫õÁ´ØÂè£Â±û‰∫éÂì™‰∏™ IO ËÆæÂ§á„ÄÇ ‰∏∫‰∫ÜËß£ÂÜ≥ËøôÁßçÊÉÖÂÜµÔºåÂ¢ûÂä†‰∫ÜÊñ∞ÁöÑÁõÆÂΩï /sys/class/uio/uioX/portio/„ÄÇÂÆÉÂè™Âú®È©±Âä®ÊÉ≥Êää‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á´ØÂè£Âå∫ÂüüÁöÑ‰ø°ÊÅØ‰º†ÈÄíÁªôÁî®Êà∑Á©∫Èó¥Êó∂Â≠òÂú®„ÄÇÂ¶ÇÊûúÊòØËøôÁßçÊÉÖÂÜµÔºåÂêç‰∏∫ port0„ÄÅport1 Á≠âÁöÑÂ≠êÁõÆÂΩïÂ∞ÜÂá∫Áé∞Âú® /sys/class/uio/uioX/portio/ ‰∏ãÈù¢„ÄÇ ÊØè‰∏™ portX/ ÁõÆÂΩïÂåÖÂê´Âõõ‰∏™Âè™ËØªÊñá‰ª∂ÔºåÂÆÉ‰ª¨ÊòæÁ§∫Á´ØÂè£Âå∫ÂüüÁöÑÂêçÁß∞„ÄÅÂºÄÂßã„ÄÅÂ§ßÂ∞èÂíåÁ±ªÂûãÔºö nameÔºöËøô‰∏™Á´ØÂè£Âå∫ÂüüÁöÑ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Ê†áËØÜÁ¨¶„ÄÇËøô‰∏™Â≠óÁ¨¶‰∏≤ÊòØÂèØÈÄâÁöÑÔºåÂèØ‰ª•‰∏∫Á©∫„ÄÇÈ©±Âä®Á®ãÂ∫èÂèØ‰ª•ËÆæÁΩÆÂÆÉÔºå‰ΩøÁî®Êà∑Á©∫Èó¥Êõ¥ÂÆπÊòìÊâæÂà∞Êüê‰∏™Á´ØÂè£Âå∫Âüü„ÄÇ startÔºöËØ•Âå∫ÂüüÁöÑÁ¨¨‰∏Ä‰∏™Á´ØÂè£„ÄÇ sizeÔºöËøô‰∏™Âå∫Âüü‰∏≠ÁöÑÁ´ØÂè£Êï∞Èáè„ÄÇ porttypeÔºö‰∏Ä‰∏™ÊèèËø∞Á´ØÂè£Á±ªÂûãÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ ÁºñÂÜô‰Ω†Ëá™Â∑±ÁöÑÂÜÖÊ†∏Ê®°Âùó ËØ∑Áúã‰∏Ä‰∏ã uio_cif.c ‰Ωú‰∏∫‰∏Ä‰∏™‰æãÂ≠ê„ÄÇ‰∏ãÈù¢ÁöÑÊÆµËêΩËß£Èáä‰∫ÜËøô‰∏™Êñá‰ª∂ÁöÑ‰∏çÂêåÈÉ®ÂàÜ„ÄÇ struct uio_info Ëøô‰∏™ÁªìÊûÑÂëäËØâÊ°ÜÊû∂‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èÁöÑÁªÜËäÇÔºåÊúâ‰∫õÊàêÂëòÊòØÂøÖÈ°ªÁöÑÔºåÊúâ‰∫õÊòØÂèØÈÄâÁöÑ„ÄÇ const char *name: ÈúÄË¶Å„ÄÇ‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èÁöÑÂêçÁß∞ÔºåÂÆÉÂ∞ÜÂá∫Áé∞Âú® sysfs ‰∏≠„ÄÇÊàëÂª∫ËÆÆ‰ΩøÁî®‰Ω†ÁöÑÊ®°ÂùóÁöÑÂêçÁß∞„ÄÇ const char *version: ÂøÖÈ°ªÔºåËøô‰∏™Â≠óÁ¨¶‰∏≤‰ºöÊòæÁ§∫Âú® /sys/class/uio/uioX/version„ÄÇ struct uio_mem mem[ MAX_UIO_MAPS ]: Â¶ÇÊûú‰Ω†ÊúâÂèØ‰ª•Áî® mmap() Êò†Â∞ÑÁöÑÂÜÖÂ≠òÔºåÂàôÈúÄË¶Å„ÄÇÂØπ‰∫éÊØè‰∏™Êò†Â∞ÑÔºå‰Ω†ÈúÄË¶ÅÂ°´ÂÖÖ‰∏Ä‰∏™ uio_mem ÁªìÊûÑ„ÄÇËØ¶ÊÉÖËßÅ‰∏ãÈù¢ÁöÑÊèèËø∞„ÄÇ struct uio_port port[ MAX_UIO_PORTS_REGIONS ]: Â¶ÇÊûú‰Ω†ÊÉ≥Êää ioports ÁöÑ‰ø°ÊÅØ‰º†ÈÄíÁªôÁî®Êà∑Á©∫Èó¥ÔºåÂ∞±ÂøÖÈ°ªËøôÊ†∑ÂÅö„ÄÇÂØπ‰∫éÊØè‰∏™Á´ØÂè£Âå∫ÂüüÔºå‰Ω†ÈúÄË¶ÅÂ°´ÂÖÖ‰∏Ä‰∏™ uio_port ÁªìÊûÑ„ÄÇËØ¶ÊÉÖËßÅ‰∏ãÈù¢ÁöÑÊèèËø∞„ÄÇ long irq: ÈúÄË¶Å„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÁ°¨‰ª∂‰∫ßÁîü‰∫Ü‰∏Ä‰∏™‰∏≠Êñ≠Ôºå‰Ω†ÁöÑÊ®°ÂùóÁöÑ‰ªªÂä°Â∞±ÊòØÂú®ÂàùÂßãÂåñËøáÁ®ã‰∏≠Á°ÆÂÆö irq ÁöÑÁºñÂè∑„ÄÇÂ¶ÇÊûú‰Ω†Ê≤°ÊúâÁ°¨‰ª∂‰∫ßÁîüÁöÑ‰∏≠Êñ≠Ôºå‰ΩÜÊÉ≥‰ª•ÂÖ∂‰ªñÊñπÂºèËß¶Âèë‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫èÔºåËØ∑Â∞Ü irq ËÆæÁΩÆ‰∏∫ UIO_IRQ_CUSTOM„ÄÇÂ¶ÇÊûú‰Ω†Ê†πÊú¨Â∞±Ê≤°Êúâ‰∏≠Êñ≠Ôºå‰Ω†ÂèØ‰ª•Êää irq ËÆæÁΩÆ‰∏∫ UIO_IRQ_NONEÔºåÂ∞ΩÁÆ°ËøôÂæàÂ∞ëÊúâÊÑè‰πâ„ÄÇ unsigned long irq_flags: Â¶ÇÊûú‰Ω†Â∞Ü irq ËÆæÁΩÆ‰∏∫Á°¨‰ª∂‰∏≠Êñ≠Âè∑ÔºåÂàôÈúÄË¶Å„ÄÇËøôÈáåÁªôÂá∫ÁöÑÊ†áÂøóÂ∞ÜÂú®Ë∞ÉÁî® require_irq() Êó∂‰ΩøÁî®„ÄÇ int (*mmap)(struct uio_info *info, struct vm_area_struct *vma): ÂèØÈÄâÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†ÈúÄË¶Å‰∏Ä‰∏™ÁâπÊÆäÁöÑmmap()ÂáΩÊï∞Ôºå‰Ω†ÂèØ‰ª•Âú®ËøôÈáåËÆæÁΩÆÂÆÉ„ÄÇÂ¶ÇÊûúËøô‰∏™ÊåáÈíà‰∏çÊòØ NULLÔºå‰Ω†ÁöÑ mmap() Â∞ÜË¢´Ë∞ÉÁî®ÔºåËÄå‰∏çÊòØÂÜÖÁΩÆÁöÑÈÇ£‰∏™„ÄÇ int (*open)(struct uio_info *info, struct inode *inode): ÂèØÈÄâÁöÑ„ÄÇ‰Ω†ÂèØËÉΩÂ∏åÊúõÊúâËá™Â∑±ÁöÑopen()Ôºå‰æãÂ¶ÇÔºåÂè™ÊúâÂΩì‰Ω†ÁöÑËÆæÂ§áË¢´ÂÆûÈôÖ‰ΩøÁî®Êó∂ÊâçÂêØÁî®‰∏≠Êñ≠„ÄÇ int (*release)(struct uio_info *info, struct inode *inode): ÂèØÈÄâÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†ÂÆö‰πâ‰∫ÜËá™Â∑±ÁöÑopen()Ôºå‰Ω†ÂèØËÉΩ‰πüÈúÄË¶Å‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑ release() ÂáΩÊï∞„ÄÇ int (*irqcontrol)(struct uio_info *info, s32 irq_on): ÂèØÈÄâÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÈÄöËøáÂÜôÂà∞ /dev/uioX Êù•ÂêØÁî®ÊàñÁ¶ÅÁî®Áî®Êà∑Á©∫Èó¥ÁöÑ‰∏≠Êñ≠Ôºå‰Ω†ÂèØ‰ª•ÂÆûÁé∞Ëøô‰∏™ÂáΩÊï∞„ÄÇÂèÇÊï∞ irq_on ‰∏∫ 0 Ë°®Á§∫Á¶ÅÁî®‰∏≠Êñ≠Ôºå1 Ë°®Á§∫ÂêØÁî®‰∏≠Êñ≠„ÄÇ ÈÄöÂ∏∏Ôºå‰Ω†ÁöÑËÆæÂ§á‰ºöÊúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÜÖÂ≠òÂå∫ÂüüÂèØ‰ª•Ë¢´Êò†Â∞ÑÂà∞Áî®Êà∑Á©∫Èó¥„ÄÇÂØπ‰∫éÊØè‰∏™Âå∫ÂüüÔºå‰Ω†ÂøÖÈ°ªÂú® mem[] Êï∞ÁªÑ‰∏≠ËÆæÁΩÆ‰∏Ä‰∏™ struct uio_mem„ÄÇ‰∏ãÈù¢ÊòØÂØπ struct uio_mem Â≠óÊÆµÁöÑÊèèËø∞„ÄÇ const char *name: ÂèØÈÄâÁöÑ„ÄÇËÆæÁΩÆÂÆÉ‰ª•Â∏ÆÂä©ËØÜÂà´ÂÜÖÂ≠òÂå∫ÂüüÔºåÂÆÉÂ∞ÜÊòæÁ§∫Âú®Áõ∏Â∫îÁöÑ sysfs ËäÇÁÇπ‰∏≠„ÄÇ int memtype: Â¶ÇÊûú‰ΩøÁî®Êò†Â∞ÑÔºåÂàôÈúÄË¶Å„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÂç°‰∏äÊúâË¶ÅÊò†Â∞ÑÁöÑÁâ©ÁêÜÂÜÖÂ≠òÔºåÂ∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫ UIO_MEM_PHYS„ÄÇÂ¶ÇÊûúÊòØÈÄªËæëÂÜÖÂ≠ò(‰æãÂ¶ÇÁî® __get_free_pages() ÂàÜÈÖçÔºåËÄå‰∏çÊòØ kmalloc())ÔºåÂàô‰ΩøÁî® UIO_MEM_LOGICAL„ÄÇËøòÊúâ UIO_MEM_VIRTUAL Áî®‰∫éËôöÊãüÂÜÖÂ≠ò„ÄÇ phys_addr_t addr: Â¶ÇÊûú‰ΩøÁî®Êò†Â∞ÑÂàôÈúÄË¶Å„ÄÇÂ°´ÂÖ•‰Ω†ÁöÑÂÜÖÂ≠òÂùóÁöÑÂú∞ÂùÄ„ÄÇËøô‰∏™Âú∞ÂùÄ‰ºöÂá∫Áé∞Âú® sysfs ‰∏≠„ÄÇ resource_size_t size: Â°´ÂÜô addr ÊåáÂêëÁöÑÂÜÖÂ≠òÂùóÁöÑÂ§ßÂ∞è„ÄÇÂ¶ÇÊûú size ‰∏∫ 0ÔºåÂàôËÆ§‰∏∫ËØ•Êò†Â∞ÑÊú™Ë¢´‰ΩøÁî®„ÄÇÊ≥®ÊÑè‰Ω†ÂøÖÈ°ª‰∏∫ÊâÄÊúâÊú™‰ΩøÁî®ÁöÑÊò†Â∞ÑÂàùÂßãÂåñ size ‰∏∫ 0„ÄÇ void *internal_addr: Â¶ÇÊûú‰Ω†ÂøÖÈ°ª‰ªé‰Ω†ÁöÑÂÜÖÊ†∏Ê®°Âùó‰∏≠ËÆøÈóÆËøô‰∏™ÂÜÖÂ≠òÂå∫ÂüüÔºå‰Ω†Â∞ÜÂ∏åÊúõÈÄöËøá‰ΩøÁî®Á±ª‰ºº ioremap() ÁöÑÊñπÊ≥ïÊù•ËøõË°åÂÜÖÈÉ®Êò†Â∞Ñ„ÄÇËøô‰∏™ÂáΩÊï∞ËøîÂõûÁöÑÂú∞ÂùÄ‰∏çËÉΩË¢´Êò†Â∞ÑÂà∞Áî®Êà∑Á©∫Èó¥ÔºåÊâÄ‰ª•‰Ω†‰∏çËÉΩÊääÂÆÉÂ≠òÂÇ®Âú® addr ‰∏≠„ÄÇ‰ΩøÁî® internal_addr Êù•ËÆ∞‰ΩèËøôÊ†∑‰∏Ä‰∏™Âú∞ÂùÄ„ÄÇ ËØ∑‰∏çË¶ÅÁ¢∞ uio_mem ÁªìÊûÑÁöÑ map ÂÖÉÁ¥†!ÂÆÉÊòØÁî± UIO Ê°ÜÊû∂Áî®Êù•‰∏∫Ëøô‰∏™Êò†Â∞ÑËÆæÁΩÆ sysfs Êñá‰ª∂ÁöÑ„ÄÇ‰∏çË¶ÅÁÆ°ÂÆÉ„ÄÇ ÊúâÊó∂Ôºå‰Ω†ÁöÑËÆæÂ§áÂèØËÉΩÊúâ‰∏Ä‰∏™ÊàñÂ§ö‰∏™Á´ØÂè£Âå∫Âüü‰∏çËÉΩË¢´Êò†Â∞ÑÂà∞Áî®Êà∑Á©∫Èó¥„ÄÇ‰ΩÜÂ¶ÇÊûúÁî®Êà∑Á©∫Èó¥ÊúâÂÖ∂‰ªñÁöÑÂèØËÉΩÊÄßÊù•ËÆøÈóÆËøô‰∫õÁ´ØÂè£ÔºåÈÇ£‰πàÂú® sysfs ‰∏≠Êèê‰æõËøô‰∫õÁ´ØÂè£ÁöÑ‰ø°ÊÅØÊòØÊúâÊÑè‰πâÁöÑ„ÄÇÂØπ‰∫éÊØè‰∏™Âå∫ÂüüÔºå‰Ω†ÂøÖÈ°ªÂú® port[] Êï∞ÁªÑ‰∏≠ËÆæÁΩÆ‰∏Ä‰∏™ struct uio_port„ÄÇ‰∏ãÈù¢ÊòØÂØπ struct uio_port ÁöÑÂ≠óÊÆµÁöÑÊèèËø∞„ÄÇ char *porttypeÔºöÈúÄË¶Å„ÄÇÂ∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫È¢ÑÂÆö‰πâÁöÑÂ∏∏Êï∞‰πã‰∏Ä„ÄÇ‰ΩøÁî® UIO_PORT_X86 Êù•Ë°®Á§∫ x86 Êû∂ÊûÑ‰∏≠ÁöÑ ioports„ÄÇ unsigned long start: Â¶ÇÊûú‰ΩøÁî®Á´ØÂè£Âå∫ÂüüÔºåÂàôÈúÄË¶Å„ÄÇÂ°´ÂÜôËøô‰∏™Âå∫ÂüüÁöÑÁ¨¨‰∏Ä‰∏™Á´ØÂè£ÁöÑÁºñÂè∑„ÄÇ unsigned long size: Â°´ÂÖ•ËØ•Âå∫ÂüüÁöÑÁ´ØÂè£Êï∞„ÄÇÂ¶ÇÊûú size ‰∏∫ 0ÔºåËØ•Âå∫ÂüüÂ∞ÜË¢´ËßÜ‰∏∫Êú™‰ΩøÁî®„ÄÇÊ≥®ÊÑèÔºå‰Ω†ÂøÖÈ°ª‰∏∫ÊâÄÊúâÊú™‰ΩøÁî®ÁöÑÂå∫ÂüüÂàùÂßãÂåñ size ‰∏∫ 0„ÄÇ ËØ∑‰∏çË¶ÅÁ¢∞ uio_port ÁªìÊûÑÁöÑ portio ÂÖÉÁ¥†! ÂÆÉÊòØÁî± UIO Ê°ÜÊû∂ÂÜÖÈÉ®‰ΩøÁî®ÁöÑÔºåÁî®‰∫é‰∏∫Ëøô‰∏™Âå∫ÂüüËÆæÁΩÆ sysfs Êñá‰ª∂„ÄÇËØ∑‰∏çË¶ÅÁÆ°ÂÆÉ„ÄÇ Ê∑ªÂä†‰∏Ä‰∏™‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫è ‰Ω†ÈúÄË¶ÅÂú®‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫è‰∏≠ÂÅö‰ªÄ‰πàÂèñÂÜ≥‰∫é‰Ω†ÁöÑÁ°¨‰ª∂Âíå‰Ω†ÊÉ≥Â¶Ç‰ΩïÂ§ÑÁêÜÂÆÉ„ÄÇ‰Ω†Â∫îËØ•Â∞ΩÈáèÂáèÂ∞ëÂÜÖÊ†∏‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫è‰∏≠ÁöÑ‰ª£Á†ÅÈáè„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÁ°¨‰ª∂‰∏çÈúÄË¶ÅÂú®ÊØèÊ¨°‰∏≠Êñ≠ÂêéÊâßË°å‰ªª‰ΩïÊìç‰ΩúÔºåÈÇ£‰πà‰Ω†ÁöÑÂ§ÑÁêÜÁ®ãÂ∫èÂèØ‰ª•ÊòØÁ©∫ÁöÑ„ÄÇ Âè¶‰∏ÄÊñπÈù¢ÔºåÂ¶ÇÊûú‰Ω†ÁöÑÁ°¨‰ª∂ÈúÄË¶ÅÂú®ÊØèÊ¨°‰∏≠Êñ≠ÂêéÊâßË°å‰∏Ä‰∫õÂä®‰ΩúÔºåÈÇ£‰πà‰Ω†ÂøÖÈ°ªÂú®‰Ω†ÁöÑÂÜÖÊ†∏Ê®°Âùó‰∏≠ÂÆåÊàêËøô‰∫õÂä®‰Ωú„ÄÇÊ≥®ÊÑèÔºå‰Ω†‰∏çËÉΩ‰æùËµñ‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èÁöÑÁî®Êà∑Á©∫Èó¥ÈÉ®ÂàÜ„ÄÇ‰Ω†ÁöÑÁî®Êà∑Á©∫Èó¥Á®ãÂ∫èÂèØ‰ª•Âú®‰ªª‰ΩïÊó∂ÂÄôÁªàÊ≠¢ÔºåÂèØËÉΩ‰ºöËÆ©‰Ω†ÁöÑÁ°¨‰ª∂Â§Ñ‰∫é‰ªçÁÑ∂ÈúÄË¶ÅÊ≠£Á°ÆÂ§ÑÁêÜ‰∏≠Êñ≠ÁöÑÁä∂ÊÄÅ„ÄÇ ‰πüÂèØËÉΩÊúâËøôÊ†∑ÁöÑÂ∫îÁî®Ôºå‰Ω†ÊÉ≥Âú®ÊØèÊ¨°‰∏≠Êñ≠Êó∂‰ªéÁ°¨‰ª∂‰∏≠ËØªÂèñÊï∞ÊçÆÔºåÂπ∂Â∞ÜÂÖ∂ÁºìÂÜ≤Âú®‰Ω†‰∏∫Ê≠§ÁõÆÁöÑÂàÜÈÖçÁöÑ‰∏ÄÂùóÂÜÖÊ†∏ÂÜÖÂ≠ò‰∏≠„ÄÇÈÄöËøáËøôÁßçÊäÄÊúØÔºå‰Ω†ÂèØ‰ª•ÈÅøÂÖçÂú®Áî®Êà∑Á©∫Èó¥Á®ãÂ∫èÈîôËøá‰∏≠Êñ≠Êó∂ÁöÑÊï∞ÊçÆ‰∏¢Â§±„ÄÇ ÂÖ≥‰∫éÂÖ±‰∫´‰∏≠Êñ≠ÁöÑËØ¥ÊòéÔºöÂè™Ë¶ÅÊúâÂèØËÉΩÔºå‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èÂ∫îËØ•ÊîØÊåÅ‰∏≠Êñ≠ÂÖ±‰∫´„ÄÇÂè™ÊúâÂΩì‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èËÉΩÂ§üÊ£ÄÊµãÂà∞‰Ω†ÁöÑÁ°¨‰ª∂ÊòØÂê¶Ëß¶Âèë‰∫Ü‰∏≠Êñ≠Êó∂ÔºåÂÆÉÊâçÊúâÂèØËÉΩ„ÄÇËøôÈÄöÂ∏∏ÊòØÈÄöËøáÊü•Áúã‰∏Ä‰∏™‰∏≠Êñ≠Áä∂ÊÄÅÂØÑÂ≠òÂô®Êù•ÂÆûÁé∞ÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èÁúãÂà∞ IRQ ‰ΩçÁ°ÆÂÆûË¢´ËÆæÁΩÆ‰∫ÜÔºåÂÆÉÂ∞ÜÊâßË°åÂÖ∂Âä®‰ΩúÔºåÂ§ÑÁêÜÁ®ãÂ∫èËøîÂõû IRQ_HANDLED„ÄÇÂ¶ÇÊûúÈ©±Âä®Á®ãÂ∫èÊ£ÄÊµãÂà∞‰∏çÊòØ‰Ω†ÁöÑÁ°¨‰ª∂ÂºïËµ∑ÁöÑ‰∏≠Êñ≠ÔºåÂÆÉÂ∞Ü‰ªÄ‰πà‰πü‰∏çÂÅöÔºåÂπ∂ËøîÂõû IRQ_NONEÔºåÂÖÅËÆ∏ÂÜÖÊ†∏Ë∞ÉÁî®‰∏ã‰∏Ä‰∏™ÂèØËÉΩÁöÑ‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫è„ÄÇ Â¶ÇÊûú‰Ω†ÂÜ≥ÂÆö‰∏çÊîØÊåÅÂÖ±‰∫´‰∏≠Êñ≠Ôºå‰Ω†ÁöÑÂç°Â∞±‰∏çËÉΩÂú®Ê≤°ÊúâÁ©∫Èó≤‰∏≠Êñ≠ÁöÑËÆ°ÁÆóÊú∫‰∏≠Â∑•‰Ωú„ÄÇÁî±‰∫éËøôÁßçÊÉÖÂÜµÁªèÂ∏∏ÂèëÁîüÂú® PC Âπ≥Âè∞‰∏äÔºå‰Ω†ÂèØ‰ª•ÈÄöËøáÊîØÊåÅ‰∏≠Êñ≠ÂÖ±‰∫´Êù•‰∏∫Ëá™Â∑±ÁúÅÂéªÂæàÂ§öÈ∫ªÁÉ¶„ÄÇ ‰∏∫Âπ≥Âè∞ËÆæÂ§á‰ΩøÁî® uio_pdrv Âú®ËÆ∏Â§öÊÉÖÂÜµ‰∏ãÔºåÂπ≥Âè∞ËÆæÂ§áÁöÑ IO È©±Âä®ÂèØ‰ª•Áî®‰∏ÄÁßçÈÄöÁî®ÁöÑÊñπÂºèÊù•Â§ÑÁêÜ„ÄÇÂú®‰Ω†ÂÆö‰πâ platform_device ÁªìÊûÑÁöÑÂêå‰∏Ä‰∏™Âú∞ÊñπÔºå‰Ω†‰πüÂèØ‰ª•ÁÆÄÂçïÂú∞ÂÆûÁé∞‰Ω†ÁöÑ‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫èÂπ∂Â°´ÂÖÖ‰Ω†ÁöÑ uio_info ÁªìÊûÑ„ÄÇÁÑ∂ÂêéÔºåËøô‰∏™ÁªìÊûÑ uio_info ÁöÑÊåáÈíàË¢´Áî®‰Ωú‰Ω†ÁöÑÂπ≥Âè∞ËÆæÂ§áÁöÑ platform_data„ÄÇ ‰Ω†ËøòÈúÄË¶ÅËÆæÁΩÆ‰∏Ä‰∏™ÂåÖÂê´ÂÜÖÂ≠òÊò†Â∞ÑÂú∞ÂùÄÂíåÂ§ßÂ∞èÁöÑÁªìÊûÑËµÑÊ∫êÊï∞ÁªÑ„ÄÇËøô‰∫õ‰ø°ÊÅØ‰ΩøÁî® struct platform_device ÁöÑ .resource Âíå .num_resources ÂÖÉÁ¥†‰º†ÈÄíÁªôÈ©±Âä®„ÄÇ ‰Ω†Áé∞Âú®ÂøÖÈ°ªÂ∞Ü struct platform_device ÁöÑ .name ÂÖÉÁ¥†ËÆæÁΩÆ‰∏∫ &quot;uio_pdrv &quot;‰ª•‰ΩøÁî®ÈÄöÁî®ÁöÑ IO Âπ≥Âè∞ËÆæÂ§áÈ©±Âä®Á®ãÂ∫è„ÄÇËøô‰∏™È©±Âä®Á®ãÂ∫èÂ∞ÜÊ†πÊçÆÁªôÂÆöÁöÑËµÑÊ∫êÂ°´ÂÖÖ mem[] Êï∞ÁªÑÔºåÂπ∂Ê≥®ÂÜåËØ•ËÆæÂ§á„ÄÇ ËøôÁßçÊñπÊ≥ïÁöÑ‰ºòÁÇπÊòØÔºå‰Ω†Âè™ÈúÄË¶ÅÁºñËæë‰∏Ä‰∏™‰Ω†Êó†ËÆ∫Â¶Ç‰ΩïÈÉΩÈúÄË¶ÅÁºñËæëÁöÑÊñá‰ª∂„ÄÇ‰Ω†‰∏çÈúÄË¶ÅÂàõÂª∫‰∏Ä‰∏™È¢ùÂ§ñÁöÑÈ©±Âä®Á®ãÂ∫è„ÄÇ ‰∏∫Âπ≥Âè∞ËÆæÂ§á‰ΩøÁî® uio_pdrv_genirq ÁâπÂà´ÊòØÂú®ÂµåÂÖ•ÂºèËÆæÂ§á‰∏≠Ôºå‰Ω†ÁªèÂ∏∏‰ºöÂèëÁé∞‰∏Ä‰∫õËäØÁâáÁöÑ irq ÂºïËÑöË¢´ÁªëÂú®Ëá™Â∑±ÁöÑ‰∏ìÁî®‰∏≠Êñ≠Á∫ø‰∏ä„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰Ω†ÂèØ‰ª•ÈùûÂ∏∏Á°ÆÂÆö‰∏≠Êñ≠‰∏çÊòØÂÖ±‰∫´ÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•Ëøõ‰∏ÄÊ≠•Âà©Áî® uio_pdrv ÁöÑÊ¶ÇÂøµÔºå‰ΩøÁî®‰∏Ä‰∏™ÈÄöÁî®ÁöÑ‰∏≠Êñ≠Â§ÑÁêÜÂô®„ÄÇËøôÂ∞±ÊòØ uio_pdrv_genirq ÁöÑ‰ΩúÁî®„ÄÇ Ëøô‰∏™È©±Âä®Á®ãÂ∫èÁöÑËÆæÁΩÆ‰∏é‰∏äÈù¢ÊèèËø∞ÁöÑ uio_pdrv Áõ∏ÂêåÔºåÂè™ÊòØ‰Ω†Ê≤°ÊúâÂÆûÁé∞‰∏Ä‰∏™‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫è„ÄÇ uio_info ÁªìÊûÑ‰∏≠ÁöÑ .handler ÂÖÉÁ¥†ÂøÖÈ°ª‰øùÊåÅ‰∏∫Á©∫„ÄÇ.irq_flags ÂÖÉÁ¥†ÂøÖÈ°ª‰∏çÂåÖÂê´ IRQF_SHARED„ÄÇ ‰Ω†Â∞ÜÊää struct platform_device ÁöÑ .name ÂÖÉÁ¥†ËÆæÁΩÆ‰∏∫ ‚Äúuio_pdrv_genirq‚Äù Êù•‰ΩøÁî®Ëøô‰∏™È©±Âä®Á®ãÂ∫è„ÄÇ uio_pdrv_genirq ÁöÑÈÄöÁî®‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫èÂ∞ÜÁÆÄÂçïÂú∞‰ΩøÁî® disable_irq_nosync() Á¶ÅÁî®‰∏≠Êñ≠Á∫ø„ÄÇÂú®ÂÆåÊàêÂÆÉÁöÑÂ∑•‰ΩúÂêéÔºåÁî®Êà∑Á©∫Èó¥ÂèØ‰ª•ÈÄöËøáÂêë IO ËÆæÂ§áÊñá‰ª∂ÂÜôÂÖ• 0x00000001 Êù•ÈáçÊñ∞ÂêØÁî®‰∏≠Êñ≠„ÄÇÈ©±Âä®Á®ãÂ∫èÂ∑≤ÁªèÂÆûÁé∞‰∫Ü‰∏Ä‰∏™ irq_control() Êù•ÂÆûÁé∞Ëøô‰∏™ÂäüËÉΩÔºå‰Ω†ÂøÖÈ°ª‰∏çÂÆûÁé∞Ëá™Â∑±ÁöÑ„ÄÇ ‰ΩøÁî® uio_pdrv_genirq ‰∏ç‰ªÖÂèØ‰ª•ËäÇÁúÅÂá†Ë°å‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫èÁöÑ‰ª£Á†Å„ÄÇ‰Ω†‰πü‰∏çÈúÄË¶ÅÁü•ÈÅì‰ªª‰ΩïÂÖ≥‰∫éËäØÁâáÂÜÖÈÉ®ÂØÑÂ≠òÂô®ÁöÑ‰ø°ÊÅØÊù•ÂàõÂª∫È©±Âä®ÁöÑÂÜÖÊ†∏ÈÉ®ÂàÜ„ÄÇ‰Ω†Âè™ÈúÄË¶ÅÁü•ÈÅìËäØÁâáÊâÄËøûÊé•ÁöÑÂºïËÑöÁöÑIRQÂè∑Á†Å„ÄÇ ÂΩìÂú®‰∏Ä‰∏™ÂêØÁî®‰∫ÜËÆæÂ§áÊ†ëÁöÑÁ≥ªÁªü‰∏≠‰ΩøÁî®Êó∂ÔºåÈúÄË¶ÅÁî® &quot;of_id &quot;Ê®°ÂùóÂèÇÊï∞Êù•Êé¢ÊµãÈ©±Âä®Á®ãÂ∫èÂ∫îËØ•Â§ÑÁêÜÁöÑËäÇÁÇπÁöÑ&quot;ÂÖºÂÆπ&quot;Â≠óÁ¨¶‰∏≤„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåËäÇÁÇπÁöÑÂêçÁß∞Ôºà‰∏çÂåÖÊã¨ÂçïÂÖÉÂú∞ÂùÄÔºâË¢´Êö¥Èú≤‰∏∫Áî®Êà∑Á©∫Èó¥‰∏≠ÁöÑ IO ËÆæÂ§áÁöÑÂêçÁß∞„ÄÇË¶ÅËÆæÁΩÆ‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑÂêçÁß∞ÔºåÂèØ‰ª•Âú® DT ËäÇÁÇπ‰∏≠ÊåáÂÆö‰∏Ä‰∏™Âêç‰∏∫ ‚Äúlinux,uio-name‚Äù ÁöÑÂ±ûÊÄß„ÄÇ ‰∏∫Âπ≥Âè∞ËÆæÂ§á‰ΩøÁî® uio_dmem_genirq Èô§‰∫ÜÈùôÊÄÅÂàÜÈÖçÁöÑÂÜÖÂ≠òËåÉÂõ¥‰πãÂ§ñÔºå‰ªñ‰ª¨‰πüÂèØËÉΩÂ∏åÊúõÂú®Áî®Êà∑Á©∫Èó¥È©±Âä®‰∏≠‰ΩøÁî®Âä®ÊÄÅÂàÜÈÖçÁöÑÂå∫Âüü„ÄÇÁâπÂà´ÊòØÔºåËÉΩÂ§üËÆøÈóÆÈÄöËøá dma-mapping API Êèê‰æõÁöÑÂÜÖÂ≠òÔºåÂèØËÉΩÁâπÂà´ÊúâÁî®„ÄÇuio_dmem_genirq È©±Âä®Êèê‰æõ‰∫Ü‰∏ÄÁßçÊñπÊ≥ïÊù•ÂÆûÁé∞Ëøô‰∏ÄÁõÆÊ†á„ÄÇ Âú®‰∏≠Êñ≠ÈÖçÁΩÆÂíåÂ§ÑÁêÜÊñπÈù¢ÔºåËØ•È©±Âä®ÁöÑ‰ΩøÁî®ÊñπÂºè‰∏é ‚Äúuio_pdrv_genirq‚Äù È©±Âä®Á±ª‰ºº„ÄÇ Â∞Ü struct platform_device ÁöÑ .name ÂÖÉÁ¥†ËÆæÁΩÆ‰∏∫ &quot;uio_dmem_genirq &quot;Êù•‰ΩøÁî®Ëøô‰∏™È©±Âä®„ÄÇ ÂΩì‰ΩøÁî®Ëøô‰∏™È©±Âä®Êó∂ÔºåÂ°´ÂÜô struct platform_device ÁöÑ .platform_data ÂÖÉÁ¥†ÔºåÂÆÉÁöÑÁ±ªÂûãÊòØ struct uio_dmem_genirq_pdataÔºåÂÆÉÂåÖÂê´‰ª•‰∏ãÂÖÉÁ¥†Ôºö struct uio_info uioinfoÔºö‰∏é uio_pdrv_genirq Âπ≥Âè∞Êï∞ÊçÆ‰ΩøÁî®ÁöÑÁªìÊûÑÁõ∏Âêå unsigned int *dynamic_region_sizes:ÊåáÂêëÂ∞ÜË¢´Êò†Â∞ÑÂà∞Áî®Êà∑Á©∫Èó¥ÁöÑÂä®ÊÄÅÂÜÖÂ≠òÂå∫ÂüüÂ§ßÂ∞èÂàóË°®ÁöÑÊåáÈíà„ÄÇ unsigned int num_dynamic_regions:dynamic_region_sizes Êï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†Êï∞Èáè„ÄÇ Âú®Âπ≥Âè∞Êï∞ÊçÆ‰∏≠ÂÆö‰πâÁöÑÂä®ÊÄÅÂå∫ÂüüÂ∞ÜË¢´ÈôÑÂä†Âà∞Âπ≥Âè∞ËÆæÂ§áËµÑÊ∫ê‰πãÂêéÁöÑ ‚Äúmem[]‚Äù Êï∞ÁªÑ‰∏≠ÔºåËøôÊÑèÂë≥ÁùÄÈùôÊÄÅÂíåÂä®ÊÄÅÂÜÖÂ≠òÂå∫ÂüüÁöÑÊÄªÊï∞‰∏çËÉΩË∂ÖËøá MAX_UIO_MAPS„ÄÇ Âä®ÊÄÅÂÜÖÂ≠òÂå∫ÂüüÂ∞ÜÂú®ÊâìÂºÄ UIO ËÆæÂ§áÊñá‰ª∂ /dev/uioX Êó∂Ë¢´ÂàÜÈÖç„ÄÇÁ±ª‰ºº‰∫éÈùôÊÄÅÂÜÖÂ≠òËµÑÊ∫êÔºåÂä®ÊÄÅÂå∫ÂüüÁöÑÂÜÖÂ≠òÂå∫Âüü‰ø°ÊÅØÁÑ∂ÂêéÈÄöËøá sysfs Âú® /sys/class/uio/uioX/maps/mapY/* Â§ÑÂèØËßÅ„ÄÇÂΩì IO ËÆæÂ§áÊñá‰ª∂Ë¢´ÂÖ≥Èó≠Êó∂ÔºåÂä®ÊÄÅÂÜÖÂ≠òÂå∫ÂüüÂ∞ÜË¢´ÈáäÊîæ„ÄÇÂΩìÊ≤°ÊúâËøõÁ®ã‰øùÊåÅËÆæÂ§áÊñá‰ª∂ÂºÄÊîæÊó∂ÔºåËøîÂõûÁªôÁî®Êà∑Á©∫Èó¥ÁöÑÂú∞ÂùÄÊòØ ~0„ÄÇ Âú®Áî®Êà∑ÊÄÅÁºñÂÜô‰∏Ä‰∏™È©±Âä® ‰∏ÄÊó¶‰Ω†Êúâ‰∏Ä‰∏™ÈÄÇÁî®‰∫é‰Ω†ÁöÑÁ°¨‰ª∂ÁöÑÂÜÖÊ†∏Ê®°ÂùóÔºå‰Ω†Â∞±ÂèØ‰ª•ÁºñÂÜô‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èÁöÑÁî®Êà∑Á©∫Èó¥ÈÉ®ÂàÜ„ÄÇ‰Ω†‰∏çÈúÄË¶Å‰ªª‰ΩïÁâπÊÆäÁöÑÂ∫ìÔºå‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫èÂèØ‰ª•Áî®‰ªª‰ΩïÂêàÁêÜÁöÑËØ≠Ë®ÄÁºñÂÜôÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®ÊµÆÁÇπÊï∞Â≠óÁ≠âÁ≠â„ÄÇÁÆÄËÄåË®Ä‰πãÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî®ÊâÄÊúâ‰Ω†ÈÄöÂ∏∏Áî®‰∫éÁºñÂÜôÁî®Êà∑Á©∫Èó¥Â∫îÁî®Á®ãÂ∫èÁöÑÂ∑•ÂÖ∑ÂíåÂ∫ì„ÄÇ Ëé∑ÂèñÊúâÂÖ≥‰Ω†ÁöÑ UIO ËÆæÂ§áÁöÑ‰ø°ÊÅØ ÊâÄÊúâ IO ËÆæÂ§áÁöÑ‰ø°ÊÅØÈÉΩÂèØ‰ª•Âú® sysfs ‰∏≠ÊâæÂà∞„ÄÇ‰Ω†Â∫îËØ•Âú®‰Ω†ÁöÑÈ©±Âä®Á®ãÂ∫è‰∏≠ÂÅöÁöÑÁ¨¨‰∏Ä‰ª∂‰∫ãÊòØÊ£ÄÊü•ÂêçÁß∞ÂíåÁâàÊú¨Ôºå‰ª•Á°Æ‰øù‰Ω†‰∏éÊ≠£Á°ÆÁöÑËÆæÂ§áÂØπËØùÔºåÂπ∂‰∏îÂÖ∂ÂÜÖÊ†∏È©±Âä®Á®ãÂ∫èÂÖ∑Êúâ‰Ω†ÊúüÊúõÁöÑÁâàÊú¨„ÄÇ ‰Ω†ËøòÂ∫îËØ•Á°Æ‰øù‰Ω†ÈúÄË¶ÅÁöÑÂÜÖÂ≠òÊò†Â∞ÑÂ≠òÂú®ÔºåÂπ∂‰∏îÊúâ‰Ω†ÊúüÊúõÁöÑÂ§ßÂ∞è„ÄÇ Êúâ‰∏Ä‰∏™Âè´ lsuio ÁöÑÂ∑•ÂÖ∑ÔºåÂèØ‰ª•ÂàóÂá∫ IO ËÆæÂ§áÂíåÂÆÉ‰ª¨ÁöÑÂ±ûÊÄß„ÄÇÂÆÉÂèØ‰ª•Âú®ËøôÈáåÊâæÂà∞„ÄÇ http://www.osadl.org/projects/downloads/UIO/user/ Áî® lsuio ‰Ω†ÂèØ‰ª•Âø´ÈÄüÊ£ÄÊü•‰Ω†ÁöÑÂÜÖÊ†∏Ê®°ÂùóÊòØÂê¶Ë¢´Âä†ËΩΩÔºå‰ª•ÂèäÂÆÉËæìÂá∫‰∫ÜÂì™‰∫õÂ±ûÊÄß„ÄÇËØ¶ÊÉÖËØ∑Áúã manpage„ÄÇ lsuio ÁöÑÊ∫ê‰ª£Á†ÅÂèØ‰ª•‰Ωú‰∏∫‰∏Ä‰∏™‰æãÂ≠êÔºåÁî®Êù•Ëé∑Âèñ‰∏Ä‰∏™ IO ËÆæÂ§áÁöÑ‰ø°ÊÅØ„ÄÇuio_helper.c Êñá‰ª∂ÂåÖÂê´‰∫ÜÂæàÂ§öÂáΩÊï∞Ôºå‰Ω†ÂèØ‰ª•Âú®‰Ω†ÁöÑÁî®Êà∑Á©∫Èó¥È©±Âä®‰ª£Á†Å‰∏≠‰ΩøÁî®„ÄÇ mmap() ËÆæÂ§áÂÜÖÂ≠ò Âú®‰Ω†Á°ÆÂÆö‰Ω†Â∑≤ÁªèÂæóÂà∞‰∫ÜÊ≠£Á°ÆÁöÑËÆæÂ§áÂíå‰Ω†ÈúÄË¶ÅÁöÑÂÜÖÂ≠òÊò†Â∞Ñ‰πãÂêéÔºå‰Ω†Ë¶ÅÂÅöÁöÑÂ∞±ÊòØË∞ÉÁî® mmap() Â∞ÜËÆæÂ§áÁöÑÂÜÖÂ≠òÊò†Â∞ÑÂà∞Áî®Êà∑Á©∫Èó¥„ÄÇ mmap() Ë∞ÉÁî®ÁöÑÂèÇÊï∞ offset ÂØπ‰∫é IO ËÆæÂ§áÊúâÁâπÊÆäÊÑè‰πâ„ÄÇÂÆÉË¢´Áî®Êù•ÈÄâÊã©‰Ω†Ë¶ÅÊò†Â∞ÑÁöÑËÆæÂ§áÁöÑÊò†Â∞Ñ„ÄÇË¶ÅÊò†Â∞ÑN‰∏™Êò†Â∞ÑÁöÑÂÜÖÂ≠òÔºå‰Ω†ÂøÖÈ°ª‰ΩøÁî® N ÂÄçÁöÑÈ°µÈù¢Â§ßÂ∞è‰Ωú‰∏∫‰Ω†ÁöÑÂÅèÁßªÈáè„ÄÇ 1offset = N * getpagesize()„ÄÇ N ‰ªé 0 ÂºÄÂßãÔºåÊâÄ‰ª•Â¶ÇÊûú‰Ω†Âè™Êúâ‰∏Ä‰∏™ÂÜÖÂ≠òËåÉÂõ¥Ë¶ÅÊò†Â∞ÑÔºåÂ∞±ËÆæÁΩÆ offset = 0„ÄÇËøôÁßçÊäÄÊúØÁöÑÁº∫ÁÇπÊòØÔºåÂÜÖÂ≠òÊÄªÊòØ‰ªéÂÆÉÁöÑËµ∑ÂßãÂú∞ÂùÄÂºÄÂßãÊò†Â∞Ñ„ÄÇ Á≠âÂæÖ‰∏≠Êñ≠ Âú®‰Ω†ÊàêÂäüÂú∞Êò†Â∞Ñ‰∫Ü‰Ω†ÁöÑËÆæÂ§áÂÜÖÂ≠òÂêéÔºå‰Ω†ÂèØ‰ª•ÂÉèÊôÆÈÄöÁöÑÊï∞ÁªÑ‰∏ÄÊ†∑ËÆøÈóÆÂÆÉ„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºå‰Ω†‰ºöËøõË°å‰∏Ä‰∫õÂàùÂßãÂåñ„ÄÇ‰πãÂêéÔºå‰Ω†ÁöÑÁ°¨‰ª∂ÂºÄÂßãÂ∑•‰ΩúÔºå‰∏ÄÊó¶ÂÆåÊàêÔºåÊúâ‰∏Ä‰∫õÊï∞ÊçÆÂèØÁî®ÔºåÊàñËÄÖÂõ†‰∏∫ÂèëÁîüÈîôËØØËÄåÈúÄË¶Å‰Ω†ÁöÑÊ≥®ÊÑèÔºåÂ∞±‰ºö‰∫ßÁîü‰∏Ä‰∏™‰∏≠Êñ≠„ÄÇ /dev/uioX ÊòØ‰∏Ä‰∏™Âè™ËØªÊñá‰ª∂„ÄÇread() Â∞ÜÊÄªÊòØÈòªÂ°ûÔºåÁõ¥Âà∞‰∏≠Êñ≠ÂèëÁîü„ÄÇread() ÁöÑ count ÂèÇÊï∞Âè™Êúâ‰∏Ä‰∏™ÂêàÊ≥ïÁöÑÂÄºÔºåÈÇ£Â∞±ÊòØ‰∏Ä‰∏™ÊúâÁ¨¶Âè∑ÁöÑ32‰ΩçÊï¥Êï∞ÁöÑÂ§ßÂ∞è(4)„ÄÇ‰ªª‰ΩïÂÖ∂‰ªñÁöÑ count ÂÄºÈÉΩ‰ºöÂØºËá¥ read() Â§±Ë¥•„ÄÇËØªÂèñÁöÑÊúâÁ¨¶Âè∑ÁöÑ 32 ‰ΩçÊï¥Êï∞ÊòØ‰Ω†ËÆæÂ§áÁöÑ‰∏≠Êñ≠ËÆ°Êï∞„ÄÇÂ¶ÇÊûúËøô‰∏™ÂÄºÊØî‰Ω†‰∏äÊ¨°ËØªÂà∞ÁöÑÂÄºÂ§ö‰∏Ä‰∏™ÔºåÂàô‰∏ÄÂàáÊ≠£Â∏∏„ÄÇÂ¶ÇÊûúÂ∑ÆÂÄºÂ§ß‰∫é 1Ôºå‰Ω†Â∞±ÈîôËøá‰∫Ü‰∏≠Êñ≠„ÄÇ ‰Ω†‰πüÂèØ‰ª•Âú® /dev/uioX ‰∏ä‰ΩøÁî® select()„ÄÇ ÈÄöÁî®ÁöÑ PCI UIO È©±Âä® ÈÄöÁî®È©±Âä®Á®ãÂ∫èÊòØ‰∏Ä‰∏™Âêç‰∏∫ uio_pci_generic ÁöÑÂÜÖÊ†∏Ê®°Âùó„ÄÇÂÆÉÂèØ‰ª•‰∏é‰ªª‰ΩïÁ¨¶Âêà PCI 2.3Ôºà2002 Âπ¥Â∑¶Âè≥ÔºâÁöÑËÆæÂ§áÂíå‰ªª‰ΩïÁ¨¶Âêà PCI Express ÁöÑËÆæÂ§á‰∏ÄËµ∑Â∑•‰Ωú„ÄÇ‰ΩøÁî®ÂÆÉÔºå‰Ω†Âè™ÈúÄË¶ÅÁºñÂÜôÁî®Êà∑Á©∫Èó¥È©±Âä®Á®ãÂ∫èÔºåËÄå‰∏çÈúÄË¶ÅÁºñÂÜôÁâπÂÆöÁ°¨‰ª∂ÁöÑÂÜÖÊ†∏Ê®°Âùó„ÄÇ ËÆ©È©±Âä®ËØÜÂà´ËÆæÂ§á Áî±‰∫éÈ©±Âä®Á®ãÂ∫èÊ≤°ÊúâÂ£∞Êòé‰ªª‰ΩïËÆæÂ§á IDÔºåÂÆÉ‰∏ç‰ºöË¢´Ëá™Âä®Âä†ËΩΩÔºå‰πü‰∏ç‰ºöËá™Âä®‰∏é‰ªª‰ΩïËÆæÂ§áÁªëÂÆöÔºå‰Ω†ÂøÖÈ°ªËá™Â∑±Âä†ËΩΩÂÆÉÂπ∂ÂàÜÈÖç ID ÁªôÈ©±Âä®Á®ãÂ∫è„ÄÇÊØîÂ¶ÇËØ¥Ôºö 12modprobe uio_pci_genericecho &quot;8086 10f5&quot; &gt; /sys/bus/pci/drivers/uio_pci_generic/new_id Â¶ÇÊûú‰Ω†ÁöÑËÆæÂ§áÂ∑≤ÁªèÊúâ‰∏Ä‰∏™ÁâπÂÆöÁ°¨‰ª∂ÁöÑÂÜÖÊ†∏È©±Âä®ÔºåÈÄöÁî®È©±Âä®‰ªçÁÑ∂‰∏ç‰ºö‰∏é‰πãÁªëÂÆöÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥‰ΩøÁî®ÈÄöÁî®È©±Âä®Ôºà‰∏∫‰ªÄ‰πàË¶ÅËøôÊ†∑ÂÅöÔºüÔºâÔºå‰Ω†ÂøÖÈ°ªÊâãÂä®Ëß£Èô§‰∏éÁâπÂÆöÁ°¨‰ª∂È©±Âä®ÁöÑÁªëÂÆöÔºåÁÑ∂ÂêéÁªëÂÆöÈÄöÁî®È©±Âä®ÔºåÂÉèËøôÊ†∑„ÄÇ 12echo -n 0000:00:19.0 &gt; /sys/bus/pci/drivers/e1000e/unbindecho -n 0000:00:19.0 &gt; /sys/bus/pci/drivers/uio_pci_generic/bind ‰Ω†ÂèØ‰ª•ÈÄöËøáÂú® sysfs ‰∏≠ÂØªÊâæËÆæÂ§áÊù•È™åËØÅÂÆÉÊòØÂê¶Â∑≤ÁªèË¢´ÁªëÂÆöÂà∞‰∫ÜÈ©±Âä®Á®ãÂ∫è‰∏äÔºå‰æãÂ¶Ç: 1ls -l /sys/bus/pci/devices/0000:00:19.0/driver Â¶ÇÊûúÊàêÂäüÁöÑËØùÔºåÂ∫îËØ•ÂèØ‰ª•ÊâìÂç∞Âá∫Êù•Ôºö 1.../0000:00:19.0/driver -&gt; ../../../bus/pci/drivers/uio_pci_generic Ê≥®ÊÑèÔºåÈÄöÁî®È©±Âä®Á®ãÂ∫è‰∏ç‰ºöÁªëÂÆöÂà∞ÊóßÁöÑPCI 2.2ËÆæÂ§á„ÄÇÂ¶ÇÊûúÁªëÂÆöËÆæÂ§áÂ§±Ë¥•ÔºåËøêË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§Ôºö 1dmesg Âπ∂Âú®ËæìÂá∫‰∏≠ÂØªÊâæÂ§±Ë¥•ÁöÑÂéüÂõ†„ÄÇ ÂÖ≥‰∫é uio_pci_generic ÈúÄË¶ÅÁü•ÈÅìÁöÑ‰∫ãÊÉÖ ‰∏≠Êñ≠ÊòØ‰ΩøÁî® PCI ÂëΩ‰ª§ÂØÑÂ≠òÂô®‰∏≠ÁöÑ‰∏≠Êñ≠Á¶ÅÁî®‰ΩçÂíå PCI Áä∂ÊÄÅÂØÑÂ≠òÂô®‰∏≠ÁöÑ‰∏≠Êñ≠Áä∂ÊÄÅ‰ΩçÊù•Â§ÑÁêÜÁöÑ„ÄÇÊâÄÊúâÁ¨¶ÂêàPCI 2.3Ôºà2002 Âπ¥Â∑¶Âè≥ÔºâÁöÑËÆæÂ§áÂíåÊâÄÊúâÁ¨¶Âêà PCI Express ÁöÑËÆæÂ§áÈÉΩÂ∫îËØ•ÊîØÊåÅËøô‰∫õ‰Ωç„ÄÇ uio_pci_generic ‰ºöÊ£ÄÊµãËøôÁßçÊîØÊåÅÔºåÂπ∂‰∏î‰∏ç‰ºöÁªëÂÆö‰∏çÊîØÊåÅÂëΩ‰ª§ÂØÑÂ≠òÂô®‰∏≠‰∏≠Êñ≠Á¶ÅÁî®‰ΩçÁöÑËÆæÂ§á„ÄÇ Âú®ÊØè‰∏™‰∏≠Êñ≠‰∏≠Ôºåuio_pci_generic ËÆæÁΩÆ‰∏≠Êñ≠Á¶ÅÁî®‰Ωç„ÄÇËøôÂ∞ÜÈòªÊ≠¢ËÆæÂ§á‰∫ßÁîüËøõ‰∏ÄÊ≠•ÁöÑ‰∏≠Êñ≠ÔºåÁõ¥Âà∞ËØ•‰ΩçË¢´Ê∏ÖÈô§„ÄÇÁî®Êà∑Á©∫Èó¥È©±Âä®Á®ãÂ∫èÂ∫îËØ•Âú®ÈòªÂ°ûÂíåÁ≠âÂæÖÊõ¥Â§öÁöÑ‰∏≠Êñ≠‰πãÂâçÊ∏ÖÈô§Ëøô‰∏™‰Ωç„ÄÇ ‰ΩøÁî® uio_pci_generic ÁºñÂÜôÁî®Êà∑Á©∫Èó¥È©±Âä®Á®ãÂ∫è Áî®Êà∑Á©∫Èó¥È©±Âä®Á®ãÂ∫èÂèØ‰ª•‰ΩøÁî® PCI ÁöÑ sysfs Êé•Âè£ÔºåÊàñËÄÖÂåÖË£ÖÂÆÉÁöÑ libpci Â∫ìÔºåÊù•‰∏éËÆæÂ§áÂØπËØùÔºåÂπ∂ÈÄöËøáÂêëÂëΩ‰ª§ÂØÑÂ≠òÂô®ÂÜô‰ø°Êù•ÈáçÊñ∞ÂêØÁî®‰∏≠Êñ≠„ÄÇ ‰ΩøÁî® uio_pci_generic ÁöÑÁ§∫‰æã‰ª£Á†Å ‰∏ãÈù¢ÊòØ‰∏Ä‰∫õ‰ΩøÁî®uio_pci_genericÁöÑÁî®Êà∑Á©∫Èó¥È©±Âä®‰ª£Á†ÅÁ§∫‰æãÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include &lt;stdlib.h&gt;#include &lt;stdio.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/types.h&gt;#include &lt;sys/stat.h&gt;#include &lt;fcntl.h&gt;#include &lt;errno.h&gt;int main()&#123; int uiofd; int configfd; int err; int i; unsigned icount; unsigned char command_high; uiofd = open(\"/dev/uio0\", O_RDONLY); if (uiofd &lt; 0) &#123; perror(\"uio open:\"); return errno; &#125; configfd = open(\"/sys/class/uio/uio0/device/config\", O_RDWR); if (configfd &lt; 0) &#123; perror(\"config open:\"); return errno; &#125; /* Read and cache command value */ err = pread(configfd, &amp;command_high, 1, 5); if (err != 1) &#123; perror(\"command config read:\"); return errno; &#125; command_high &amp;= ~0x4; for(i = 0;; ++i) &#123; /* Print out a message, for debugging. */ if (i == 0) fprintf(stderr, \"Started uio test driver.\\n\"); else fprintf(stderr, \"Interrupts: %d\\n\", icount); /****************************************/ /* Here we got an interrupt from the device. Do something to it. */ /****************************************/ /* Re-enable interrupts. */ err = pwrite(configfd, &amp;command_high, 1, 5); if (err != 1) &#123; perror(\"config write:\"); break; &#125; /* Wait for next interrupt. */ err = read(uiofd, &amp;icount, 4); if (err != 4) &#123; perror(\"uio read:\"); break; &#125; &#125; return errno;&#125; ÈÄöÁî®ÁöÑ Hyper-V UIO È©±Âä® Ëøô‰∏™ÈÄöÁî®È©±Âä®Á®ãÂ∫èÊòØ‰∏Ä‰∏™Âêç‰∏∫ uio_hv_generic ÁöÑÂÜÖÊ†∏Ê®°Âùó„ÄÇÂÆÉÊîØÊåÅ Hyper-V VMBus ‰∏äÁöÑËÆæÂ§áÔºå‰∏é PCI ÊÄªÁ∫ø‰∏äÁöÑ uio_pci_generic Á±ª‰ºº„ÄÇ ËÆ©È©±Âä®ËØÜÂà´ËÆæÂ§á Áî±‰∫éËØ•È©±Âä®Ê≤°ÊúâÂ£∞Êòé‰ªª‰ΩïËÆæÂ§áÁöÑ GUIDÔºåÂÆÉ‰∏ç‰ºöË¢´Ëá™Âä®Âä†ËΩΩÔºå‰πü‰∏ç‰ºöËá™Âä®ÁªëÂÆö‰ªª‰ΩïËÆæÂ§áÔºå‰Ω†ÂøÖÈ°ªËá™Â∑±Âä†ËΩΩÂÆÉÂπ∂ÂàÜÈÖç ID ÁªôËØ•È©±Âä®„ÄÇ‰æãÂ¶ÇÔºå‰ΩøÁî®ÁΩëÁªúËÆæÂ§áÁ±ª GUIDÔºö 12modprobe uio_hv_genericecho &quot;f8615163-df3e-46c5-913f-f2d2f965ed0e&quot; &gt; /sys/bus/vmbus/drivers/uio_hv_generic/new_id Â¶ÇÊûúËØ•ËÆæÂ§áÂ∑≤ÁªèÊúâ‰∏Ä‰∏™ÁâπÂÆöÁ°¨‰ª∂ÁöÑÂÜÖÊ†∏È©±Âä®ÔºåÈÄöÁî®È©±Âä®‰ªçÁÑ∂‰∏ç‰ºö‰∏é‰πãÁªëÂÆöÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂ¶ÇÊûú‰Ω†ÊÉ≥Âú®Áî®Êà∑Á©∫Èó¥Â∫ì‰∏≠‰ΩøÁî®ÈÄöÁî®È©±Âä®Ôºå‰Ω†ÂøÖÈ°ªÊâãÂä®Ëß£Èô§ÂØπÁâπÂÆöÁ°¨‰ª∂È©±Âä®ÁöÑÁªëÂÆöÔºåÂπ∂ÁªëÂÆöÈÄöÁî®È©±Âä®ÔºåÂÉèËøôÊ†∑‰ΩøÁî®ÁâπÂÆöËÆæÂ§áÁöÑ GUIDÔºö 12echo -n ed963694-e847-4b2a-85af-bc9cfc11d6f3 &gt; /sys/bus/vmbus/drivers/hv_netvsc/unbindecho -n ed963694-e847-4b2a-85af-bc9cfc11d6f3 &gt; /sys/bus/vmbus/drivers/uio_hv_generic/bind ‰Ω†ÂèØ‰ª•ÈÄöËøáÂú®sysfs‰∏≠ÂØªÊâæËÆæÂ§áÊù•È™åËØÅÂÆÉÊòØÂê¶Â∑≤ÁªèË¢´ÁªëÂÆöÂà∞‰∫ÜÈ©±Âä®Á®ãÂ∫è‰∏äÔºå‰æãÂ¶ÇÔºåÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö 1ls -l /sys/bus/vmbus/devices/ed963694-e847-4b2a-85af-bc9cfc11d6f3/driver Â¶ÇÊûúÊàêÂäüÁöÑËØùÔºåÂ∫îËØ•ÊâìÂç∞Âá∫Êù•‰ª•‰∏ãÂÜÖÂÆπÔºö 1.../ed963694-e847-4b2a-85af-bc9cfc11d6f3/driver -&gt; ../../../bus/vmbus/drivers/uio_hv_generic ÂÖ≥‰∫é uio_hv_generic ÈúÄË¶ÅÁü•ÈÅìÁöÑ‰∫ã Âú®ÊØè‰∏™‰∏≠Êñ≠‰∏≠Ôºåuio_hv_generic ËÆæÁΩÆ‰∏≠Êñ≠Á¶ÅÁî®‰Ωç„ÄÇËøôÂ∞ÜÈòªÊ≠¢ËÆæÂ§á‰∫ßÁîüËøõ‰∏ÄÊ≠•ÁöÑ‰∏≠Êñ≠ÔºåÁõ¥Âà∞ËØ•‰ΩçË¢´Ê∏ÖÈô§„ÄÇÁî®Êà∑Á©∫Èó¥È©±Âä®Á®ãÂ∫èÂ∫îËØ•Âú®ÈòªÂ°ûÂíåÁ≠âÂæÖÊõ¥Â§öÁöÑ‰∏≠Êñ≠‰πãÂâçÊ∏ÖÈô§Ëøô‰∏™‰Ωç„ÄÇ ÂΩì‰∏ªÊú∫Êí§ÈîÄ‰∏Ä‰∏™ËÆæÂ§áÊó∂Ôºå‰∏≠Êñ≠Êñá‰ª∂ÊèèËø∞Á¨¶Ë¢´Ê†áËÆ∞‰∏ãÊù•Ôºå‰ªª‰ΩïÂØπ‰∏≠Êñ≠Êñá‰ª∂ÊèèËø∞Á¨¶ÁöÑËØªÂèñÂ∞ÜËøîÂõû -EIO„ÄÇÁ±ª‰ºº‰∫é‰∏Ä‰∏™ÂÖ≥Èó≠ÁöÑÂ•óÊé•Â≠óÊàñÊñ≠ÂºÄÁöÑ‰∏≤Ë°åËÆæÂ§á„ÄÇ vmbus ËÆæÂ§áÂå∫ÂüüË¢´Êò†Â∞Ñ‰∏∫ uio ËÆæÂ§áËµÑÊ∫êÔºö ÈÄöÈÅìÁéØÂΩ¢ÁºìÂÜ≤Âå∫ÔºöÂÆ¢Êà∑Êú∫Âà∞‰∏ªÊú∫Âíå‰∏ªÊú∫Âà∞ÂÆ¢Êà∑Êú∫ ËÆøÂÆ¢Âà∞‰∏ªÊú∫ÁöÑ‰∏≠Êñ≠‰ø°Âè∑È°µ ËÆøÂÆ¢Âà∞‰∏ªÊú∫ÁöÑÁõëÊéßÈ°µ ÁΩëÁªúÊé•Êî∂ÁºìÂÜ≤Âå∫ ÁΩëÁªúÂèëÈÄÅÁºìÂÜ≤Âå∫ Â¶ÇÊûú‰∏Ä‰∏™Â≠êÈÄöÈÅìÊòØÁî±ÂØπ‰∏ªÊú∫ÁöÑËØ∑Ê±ÇÂàõÂª∫ÁöÑÔºåÈÇ£‰πà uio_hv_generic ËÆæÂ§áÈ©±Âä®Â∞Ü‰∏∫ÊØè‰∏™ÈÄöÈÅìÁéØÂΩ¢ÁºìÂÜ≤Âå∫ÂàõÂª∫‰∏Ä‰∏™ sysfs ‰∫åËøõÂà∂Êñá‰ª∂„ÄÇÊØîÂ¶ÇËØ¥ 1/sys/bus/vmbus/devices/3811fe4d-0fa0-4b62-981a-74fc1084c757/channels/21/ring","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"}]},{"title":"„ÄêËØë„ÄëLinux ÂÜÖÊ†∏‰∏≠ EXPORT_SYMBOL_GPL ÁöÑÊÑè‰πâ","slug":"On-the-value-of-export-symbol-gpl","date":"2021-11-19T15:34:00.000Z","updated":"2022-05-09T18:41:39.486Z","comments":true,"path":"2021/11/19/On-the-value-of-export-symbol-gpl/","link":"","permalink":"https://blog.inoki.cc/2021/11/19/On-the-value-of-export-symbol-gpl/","excerpt":"","text":"ÂéüÊñáÈìæÊé•ÔºöOn the value of EXPORT_SYMBOL_GPL ÂΩì‰∏Ä‰∏™ÂèØÂä†ËΩΩÊ®°ÂùóË¢´ÊèíÂÖ•Êó∂ÔºåÂÆÉÂØπÂÜÖÊ†∏ÂáΩÊï∞ÂíåÊï∞ÊçÆÁªìÊûÑÁöÑ‰ªª‰ΩïÂºïÁî®ÂøÖÈ°ª‰∏éÂΩìÂâçËøêË°åÁöÑÂÜÖÊ†∏ÈìæÊé•„ÄÇÁÑ∂ËÄåÔºåÊ®°ÂùóÂä†ËΩΩÂô®Âπ∂‰∏çÊèê‰æõÂØπÊâÄÊúâÂÜÖÊ†∏Á¨¶Âè∑ÁöÑËÆøÈóÆÔºõÂè™ÊúâÈÇ£‰∫õË¢´ÊòéÁ°ÆË¢´ÂØºÂá∫ÁöÑÊâçÊòØÂèØÁî®ÁöÑ„ÄÇÂØºÂá∫Ëøô‰∏™ÈúÄÊ±ÇÂáèÂ∞ë‰∫ÜÊ®°ÂùóÂèØ‰ª•ÁúãÂà∞ÁöÑ APIÔºåÂ∞ΩÁÆ°Ê≤°ÊúâÂáèÂ∞ëÈÇ£‰πàÂ§öÔºöÂú® 2.6.13 ÂÜÖÊ†∏‰∏≠ÊúâË∂ÖËøá 6000 ‰∏™Á¨¶Âè∑Ë¢´ÂØºÂá∫„ÄÇ ÂØºÂá∫Êúâ‰∏§ÁßçÂΩ¢ÂºèÔºövanillaÔºàEXPORT_SYMBOLÔºâÂíå GPL-onlyÔºàEXPORT_SYMBOL_GPLÔºâ„ÄÇÂâçËÄÖÂèØÁî®‰∫é‰ªª‰ΩïÂÜÖÊ†∏Ê®°ÂùóÔºåËÄåÂêéËÄÖ‰∏çËÉΩË¢´‰ªª‰ΩïÊ≤°Êúâ GPL ÂÖºÂÆπËÆ∏ÂèØËØÅÁöÑÊ®°Âùó‰ΩøÁî®„ÄÇÂ¶ÇÊûúÊ®°ÂùóÂ£∞ÊòéÁöÑËÆ∏ÂèØËØÅ‰∏çÂêàÊ†ºÔºåÊ®°ÂùóÂä†ËΩΩÂô®Â∞ÜÈÄöËøáÊãíÁªùËÆøÈóÆÂè™ÈÄÇÁî®‰∫é GPL ÁöÑÁ¨¶Âè∑Êù•ÊâßË°åËøô‰∏ÄÂå∫Âà´„ÄÇÁõÆÂâçÔºåÂè™Êúâ‰∏çÂà∞ 10% ÁöÑÂÜÖÊ†∏Á¨¶Âè∑ÊòØ GPL-only ÁöÑÔºå‰ΩÜÊòØ GPL-only Á¨¶Âè∑ÁöÑÊï∞ÈáèÊ≠£Âú®Â¢ûÈïø„ÄÇÂú®ËÆ∏Â§öÊÉÖÂÜµ‰∏ãÔºåÊúâ‰∏ÄÂÆöÁöÑÂéãÂäõ‰ΩøÊñ∞ÁöÑÂØºÂá∫Âè™ÈÄÇÁî®‰∫é GPL„ÄÇ ÁªèÂ∏∏Êúâ‰∫∫‰∫âËÆ∫ËØ¥ÔºåËøô‰∏§ÁßçÁ±ªÂûãÁöÑÂØºÂá∫Ê≤°ÊúâÂÆûÈôÖÂå∫Âà´„ÄÇÈÇ£‰∫õËÆ§‰∏∫ÊâÄÊúâÁöÑÂÜÖÊ†∏Ê®°ÂùóÈÉΩË¢´ÂÜÖÊ†∏ËÆ∏ÂèØËØÅË¶ÅÊ±Ç‰∏∫ GPL ËÆ∏ÂèØËØÅÁöÑ‰∫∫ËÆ§‰∏∫ÊâÄÊúâÁöÑÁ¨¶Âè∑Âú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÈÉΩÊòØÈöêÂê´ÁöÑ GPL-only„ÄÇÂè¶‰∏Ä‰∏™ÈòµËê•ËÆ§‰∏∫Ê®°ÂùóÊé•Âè£ÊòØ GPL ‰∏çËÉΩË∑®Ë∂äÁöÑËæπÁïåÔºå‰ªñ‰ª¨‰∏çÁõ∏‰ø°Âè™ÈÄÇÁî®‰∫é GPL ÁöÑÈôêÂà∂ÂèØ‰ª•Ë¢´ÂùöÊåÅ„ÄÇÂú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÔºåÂè™ÈÄÇÁî®‰∫é GPL ÁöÑÁ¨¶Âè∑ÂèØ‰ª•ÂæàÂÆπÊòìÂú∞ÈÄöËøá‰øÆË°•ÂÜÖÊ†∏„ÄÅËôöÂÅáÂ£∞Êòé GPL ÂÖºÂÆπÁöÑËÆ∏ÂèØËØÅÔºåÊàñËÄÖÈÄöËøáÊèíÂÖ•‰∏Ä‰∏™Êèê‰æõÊõ¥ÂπøÊ≥õËÆøÈóÆÊÑüÂÖ¥Ë∂£ÁöÑÁ¨¶Âè∑ÁöÑÂû´ÁâáÊ®°ÂùóËÄåË¢´ËßÑÈÅø„ÄÇ ÁÑ∂ËÄåÔºåLinus ËÆ§‰∏∫Ôºå‰ªÖÂÖÅËÆ∏ GPL ÁöÑÂØºÂá∫ÊòØÈáçË¶ÅÁöÑ„ÄÇ ÊàëÂíå‰∏Ä‰∏§‰∏™ÂæãÂ∏àË∞àËøáÔºåËøô(a)ÁªùÂØπÊúâ Â∑®Â§ß ÁöÑÂå∫Âà´Ôºå(b)‰ªñ‰ª¨ÂñúÊ¨¢ËøôÊ†∑„ÄÇ ‰∫ãÂÆûÊòØÔºåÊ≥ïÂæãÂπ∂‰∏çÊòØ‰∏ÄÂè∞Áõ≤ÁõÆÁöÑ„ÄÅÊó†ÊÑèËØÜÁöÑËÆ°ÁÆóÊú∫Ôºå‰∏ç‰ºöÁÖßÂ≠óÈù¢ÊÑèÊÄùÂéªÁêÜËß£‰Ω†ÊâÄËØ¥ÁöÑ‰∏úË•ø„ÄÇÊÑèÂõæÊòØÈùûÂ∏∏ÈáçË¶ÅÁöÑ„ÄÇËÄåÁî® xxx_GPL() ÁöÑÁâàÊú¨Êù•Ë°®ÊòéÂÆÉÊòØ‰∏Ä‰∏™ÂÜÖÈÉ®Êé•Âè£ÔºåÁ°ÆÂÆûÈùûÂ∏∏ÊúâÊÑè‰πâ„ÄÇ ÂÖ∂‰∏≠‰∏Ä‰ΩçÂæãÂ∏àËØ¥ÔºåËøôÊØîËØïÂõæËÆ©ËÆ∏ÂèØËØÅËß£ÈáäÊâÄÊúâÁöÑÁªÜËäÇË¶ÅÂ•ΩÂæóÂ§ö‚Äî‚ÄîÂ∞ÜÊÑèÂõæÁºñÂÖ•‰ª£Á†ÅÊú¨Ë∫´‰∏ç‰ªÖÊõ¥ÁÅµÊ¥ªÔºåËÄå‰∏îÊõ¥‰∏çÂÆπÊòìË¢´ËØØËß£„ÄÇ ‰ªñËøòÊåáÂá∫ÔºåËßÑÈÅøÁ∫Ø GPL ÁöÑÂØºÂá∫ÈúÄË¶Å‰∏Ä‰∏™ÊòéÁ°ÆÁöÑË°åÂä®Ôºå‰ΩøÂÖ∂ÊòéÁ°ÆÁî±Ê≠§‰∫ßÁîüÁöÑÁâàÊùÉ‰æµÁäØÊòØ‰∏Ä‰∏™ÊïÖÊÑèÁöÑË°å‰∏∫„ÄÇ ‰∏çÁÆ°ÂÆÉ‰ª¨ÊòØÂê¶Êúâ‰ªª‰ΩïÊ≥ïÂæãÊÑè‰πâÔºåÂè™ÈÄÇÁî®‰∫é GPL ÁöÑÂØºÂá∫Á°ÆÂÆûÊàêÂäüÂú∞‰º†Ëææ‰∫ÜÂÜÖÊ†∏ÂºÄÂèëÁ§æÂå∫‰∏≠Â∏åÊúõÈôêÂà∂‰ΩøÁî®ÈùûËá™Áî±ÂÜÖÊ†∏Ê®°ÂùóÁöÑÂ§ßÈáèÂ≠êÈõÜÁöÑÊÑèÊÑø„ÄÇÂΩªÂ∫ïÁ¶ÅÊ≠¢ËøôÁ±ªÊ®°ÂùóÂèØËÉΩ‰∏ç‰ºöÂæàÂø´Ë¢´Êèê‰∏äÊó•Á®ãÔºå‰ΩÜÂÆÉ‰ª¨ÁöÑÂäüËÉΩ‰πü‰∏çÂèØËÉΩÊúâÂ§™Â§ßÂ¢ûÈïø„ÄÇ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"}]},{"title":"„ÄêËØë„Äë‰∏âÈò∂Êà™ÁÇπÔºàIP3ÔºâÁöÑÁâ©ÁêÜÊÑè‰πâ","slug":"Physical-significance-iip3-important-receiver-chain","date":"2021-11-12T15:38:00.000Z","updated":"2022-05-09T18:41:39.486Z","comments":true,"path":"2021/11/12/Physical-significance-iip3-important-receiver-chain/","link":"","permalink":"https://blog.inoki.cc/2021/11/12/Physical-significance-iip3-important-receiver-chain/","excerpt":"","text":"ÂéüÊñáÈìæÊé•ÔºöWhat is physical significance of IP3, why it is more important in Receiver Chain ? ‰∫ÜËß£‰∏âÈò∂Êà™ÁÇπÔºàIP3ÔºâÁöÑÁâ©ÁêÜÊÑè‰πâ ÂΩì‰∏Ä‰∏™ÊîæÂ§ßÂô®ÊàñÂÖ∂‰ªñÁîµË∑ØÂèòÂæóÈùûÁ∫øÊÄßÊó∂ÔºåÂÆÉÂ∞ÜÂºÄÂßã‰∫ßÁîüÊîæÂ§ßÁöÑËæìÂÖ•ÁöÑË∞êÊ≥¢„ÄÇ‰∫åÊ¨°„ÄÅ‰∏âÊ¨°ÂíåÊõ¥È´òÊ¨°ÁöÑË∞êÊ≥¢ÈÄöÂ∏∏Âú®ÊîæÂ§ßÂô®Â∏¶ÂÆΩ‰πãÂ§ñÔºåÊâÄ‰ª•ÂÆÉ‰ª¨ÈÄöÂ∏∏ÂæàÂÆπÊòìËøáÊª§Êéâ„ÄÇÁÑ∂ËÄåÔºåÈùûÁ∫øÊÄß‰πü‰ºö‰∫ßÁîü‰∏§‰∏™ÊàñÂ§ö‰∏™‰ø°Âè∑ÁöÑÊ∑∑ÂêàÊïàÂ∫î„ÄÇ Â¶ÇÊûú‰ø°Âè∑ÁöÑÈ¢ëÁéáÂæàÊé•ËøëÔºå‰∫ßÁîüÁöÑ‰∏Ä‰∫õÁß∞‰∏∫‰∫íË∞É‰∫ßÁâ©ÔºàIntermodulation productsÔºâÁöÑÂíåÂ∑ÆÈ¢ëÁéá‰ºöÂá∫Áé∞Âú®ÊîæÂ§ßÂô®ÁöÑÈ¢ÑÊúüÂ∑•‰ΩúÂ∏¶ÂÆΩÂÜÖ„ÄÇËøô‰∫õ‰∏çËÉΩË¢´ËøáÊª§ÊéâÔºåÊâÄ‰ª•ÂÆÉ‰ª¨ÊúÄÁªà‰ºöÊàê‰∏∫Ë¢´ÊîæÂ§ßÁöÑ‰∏ªË¶Å‰ø°Âè∑‰∏≠ÁöÑÂπ≤Êâ∞‰ø°Âè∑„ÄÇ ‰∏æ‰æãÊù•ËØ¥ÔºöÊé•Êî∂Èìæ‰∏≠ÁöÑÊúüÊúõËæìÂÖ•‰ø°Âè∑ÔºàF0ÔºâÂú® 1750MHzÔºå‰∏§‰∏™‰∏çÊúüÊúõÁöÑ‰ø°Âè∑ÔºåF1=1760ÔºåF2=1770ÔºåÊâÄ‰ª•ÂΩì‰∏§‰∏™‰∏çÊúüÊúõÁöÑ‰ø°Âè∑Ê∑∑ÂêàÊó∂ÔºåÂÆÉ‰ª¨‰ºö‰∫ßÁîü‰∏âÈò∂‰∫íË∞É‰∫ßÁâ©ÔºåÂÖ∂‰∏≠‰∏Ä‰∏™Âú®Ôºà2*F1-F2ÔºâËêΩÂú® 1750MHzÔºåËøô‰πüÊòØÊúüÊúõ‰ø°Âè∑ÁöÑÈ¢ëÁéáÔºåÂõ†Ê≠§ÊúüÊúõ‰ø°Âè∑ÁöÑ SNR ‰ºöÈôç‰Ωé„ÄÇ ‰∏âÈò∂‰∫íË∞É‰∫ßÁâ©ÁöÑÂäüÁéáÊ∞¥Âπ≥ÂèñÂÜ≥‰∫éËÆæÂ§áÊàñÊîæÂ§ßÂô®ÁöÑÁ∫øÊÄßÂ∫¶Ôºå‰ª•‰∏âÈò∂Êà™ÁÇπÔºàIP3ÔºâË°®Á§∫„ÄÇ ‰∏âÈò∂Êà™ÁÇπÔºàIP3ÔºâÂ§ÑÁöÑËæìÂá∫Ë∂äÈ´òÔºåÁ∫øÊÄßÂ∫¶Ë∂äÂ•ΩÔºå‰∫íË∞ÉÊâ∞Âä®ÔºàIMDÔºâË∂ä‰Ωé„ÄÇIP3 ÂÄºÊú¨Ë¥®‰∏äË°®ÊòéÂú® IMD ÂèëÁîü‰πãÂâçÔºåÊîæÂ§ßÂô®ÂèØ‰ª•Â§ÑÁêÜÂ§öÂ§ßÁöÑ‰ø°Âè∑„ÄÇ‰æãÂ¶ÇÔºåIP3 ÂÄº‰∏∫ 25 dBm ÊØî 18 dBm ÁöÑË¶ÅÂ•Ω„ÄÇ ‰∏∫‰ªÄ‰πà IP3 Âú®Êé•Êî∂Èìæ‰∏≠Ë¢´ÊµãÈáè Âú®Êé•Êî∂Èìæ‰∏≠ÔºåÂ§ö‰∏™‰ø°Âè∑ÈÄöËøáÂ§©Á∫øÁ´ØÂè£ËæìÂÖ•ÔºåÁî±‰∫éÂπ≤Êâ∞‰ø°Âè∑Âú®Â§©Á∫øÁ´ØÂè£ÁöÑÊ∑∑ÂêàÔºå‰∫ßÁîüÁöÑ IMD ‰ºöÂú®ÊâÄÈúÄÁöÑÈ¢ëÊÆµÊ∑∑ÂêàÔºå‰ªéËÄåÂΩ±ÂìçÊâÄÈúÄ‰ø°Âè∑ÁöÑ‰ø°Âô™ÊØî„ÄÇÊàë‰ª¨Êó†Ê≥ïÊéßÂà∂Â§©Á∫øÁ´ØÂè£ÁöÑÂπ≤Êâ∞‰ø°Âè∑ÔºåÂõ†‰∏∫Âú®Á©∫Ê∞î‰∏≠Â≠òÂú®ÁùÄ‰∏çÂêåÈ¢ëÁéáÁöÑ‰∏çÂêåÁ±ªÂûãÁöÑ‰ø°Âè∑„ÄÇÂÆÉ‰ª¨‰∏≠ÁöÑÂ∞ëÊï∞‰ºöÂú®ÊâÄÈúÄÁöÑÈ¢ëÊÆµ‰∏äÂºïËµ∑ IMD„ÄÇ Âõ†Ê≠§ÔºåÊµãÈáèÊé•Êî∂Âô®ÁöÑ‰∏âÈò∂ËæìÂÖ•Êà™ÁÇπÔºàIIP3ÔºâÂèòÂæóÈùûÂ∏∏ÈáçË¶ÅÔºå‰ª•Á°Æ‰øùÂÆÉ‰∫ßÁîüÂ§öÂ∞ëÂΩ±Âìç‰ø°Âô™ÊØîÁöÑ IMD Ê∞¥Âπ≥„ÄÇ Êé•Êî∂Âô®ÈìæÁöÑ IIP3 ÂÄºË∂äÈ´òÔºåÊÄßËÉΩÂ∞±Ë∂äÂ•ΩÔºåÂõ†‰∏∫ IMD ÂäüÁéáÊ∞¥Âπ≥Êõ¥‰Ωé„ÄÇÂõ†Ê≠§ÔºåÂÆÉË°®Êòé‰∏Ä‰∏™ËÆæÂ§áÔºàÂ¶ÇÊîæÂ§ßÂô®ÔºâÊàñÁ≥ªÁªüÔºàÂ¶ÇÊé•Êî∂Âô®ÔºâÂú®Âº∫‰ø°Âè∑‰∏ãÁöÑË°®Áé∞Â¶Ç‰Ωï„ÄÇ ÂèëÂ∞ÑÂô®Èìæ‰∏≠ÁöÑ IP3 ÊòØ‰ªÄ‰πàÔºü Âú®ÂèëÂ∞ÑÈìæ‰∏≠ÔºåÈÄöÂ∏∏ IP3 ËßÑÊ†º‰∏çÂ§™ÈáçË¶ÅÔºåÂõ†‰∏∫Âú®ÂèëÂ∞ÑÈìæ‰∏≠‰∫ßÁîüÁöÑ‰ø°Âè∑ÈÄöÂ∏∏ÊòØÂçïËΩΩÊ≥¢Ôºå‰∏ç‰ºö‰∫ßÁîü IMD„ÄÇ‰æãÂ¶ÇÔºåÂú®ÂçïËΩΩÊ≥¢ GSM ‰∏≠Ôºå‰º†ËæìÁöÑÊòØ‰∏Ä‰∏™ËΩΩÊ≥¢‰ø°Âè∑Ôºå‰∏ç‰ºö‰∫ßÁîü IMD„ÄÇÂú®Â§öËΩΩÊ≥¢ GSM ‰∏≠Ôºå‰ºö‰∫ßÁîü IMDÔºåÂõ†‰∏∫ÂèëÂ∞ÑÈìæ‰∏≠ÁöÑÂ§ö‰∏™‰ø°Âè∑Ê∑∑ÂêàÂú®‰∏ÄËµ∑Ôºå‰∫ßÁîü‰∫íË∞É‰∫ßÁâ©„ÄÇÂú®Â§öËΩΩÊ≥¢Á≥ªÁªü‰∏≠ÔºåÂèëÂ∞ÑÂô®Èìæ‰∏≠ÁöÑËæìÂá∫Êà™ÁÇπË¢´ÊµãÈáèÔºàOIP3ÔºâÊàñÂèëÊå•ÁùÄÈáçË¶Å‰ΩúÁî®„ÄÇ Âú® LTE Á≥ªÁªü‰∏≠ÔºåÂè™‰∫ßÁîü‰∏Ä‰∏™ËΩΩÊ≥¢ÔºåÊâÄ‰ª• OIP3 Â∞±‰∏çÈÇ£‰πàÈáçË¶Å‰∫Ü„ÄÇÂú® LTE Advanced ‰∏≠ÔºåÁî±‰∫éËΩΩÊ≥¢ËÅöÂêàÔºå‰ºö‰∫ßÁîüÂ§ö‰∏™ËΩΩÊ≥¢ÔºåÊâÄ‰ª• OIP3 Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÂæàÈáçË¶Å„ÄÇ ‰ΩÜÊòØÔºåÂç≥‰ΩøÂú®ÂèëÂ∞ÑÊú∫Èìæ‰∏≠‰∫ßÁîü‰∫ÜÂçïËΩΩÊ≥¢ÔºåÂú®‰ªª‰ΩïÊÉÖÂÜµ‰∏ãÔºåÂπ≤Êâ∞‰ø°Âè∑ÈÉΩÂèØËÉΩÈÄöËøáÂ§©Á∫øÁ´ØÂè£‰ª•Áõ∏ÂèçÁöÑÊñπÂêëËøõÂÖ•ÂèëÂ∞ÑÊú∫ÈìæËÄåÂØºËá¥‰∫íË∞É‰∫ßÁâ©ÔºåÊâÄ‰ª•ÈÄöÂ∏∏Âú®ÂèëÂ∞ÑÊú∫Èìæ‰∏≠ÊµãÈáèÂèçÂêë‰∫íË∞É„ÄÇ","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"SDR","slug":"SDR","permalink":"https://blog.inoki.cc/categories/SDR/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"SDR","slug":"SDR","permalink":"https://blog.inoki.cc/tags/SDR/"}]},{"title":"Android ÂêØÂä®Âä†ËΩΩÂô®ÂàÜÊûê ‚Äî‚Äî ABL(3)","slug":"android-bootloader-analysis-abl-3","date":"2021-10-24T22:48:00.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2021/10/24/android-bootloader-analysis-abl-3/","link":"","permalink":"https://blog.inoki.cc/2021/10/24/android-bootloader-analysis-abl-3/","excerpt":"","text":"ÊàëÁöÑÂâç‰∏ÄÁØáÊñáÁ´†„ÄäAndroid ÂêØÂä®Âä†ËΩΩÂô®ÂàÜÊûê ‚Äî‚Äî ABL(1)„Äã‰∏≠ÂàÜÊûê‰∫ÜÂΩì‰ª£È´òÈÄöÂπ≥Âè∞ÁöÑ ABL ÁöÑÊï¥‰ΩìÂêØÂä®ÊµÅÁ®ãÔºå„ÄäAndroid ÂêØÂä®Âä†ËΩΩÂô®ÂàÜÊûê ‚Äî‚Äî ABL(2)„ÄãÂØπÂ¶Ç‰ΩïÂêØÂä®Ëá≥ fastboot Ê®°ÂºèËøõË°åËØ¶ÁªÜÁöÑËß£Èáä„ÄÇÊú¨ÊñáÂ∞ÜÂØπ ABL ‰∏≠ÂêØÂä®Ëá≥ Linux ÂÜÖÊ†∏ÁöÑ‰ª£Á†ÅËøõË°åÂàÜÊûê„ÄÇ ÂêØÂä® Linux ÂÜÖÊ†∏ÁöÑÊù°‰ª∂ Ëã•‰∏çÊòØÂú®ÂêØÂä®Ëá≥ fastboot Ê®°Âºè‰∏ã„ÄÅÂπ∂‰∏îÊ≤°ÊúâÂú®ÂêØÂä®Êó∂Êåâ‰∏ãÁªÑÂêàÊåâÈîÆÊó∂ÔºåABL ÈÄöËøá LoadImageAndAuth (&amp;Info) Âä†ËΩΩÂπ∂È™åËØÅÂÜÖÊ†∏ÔºàÂ¶ÇÊûúÊú™Ëß£ÈîÅÔºâÔºåÂπ∂Ë∞ÉÁî® BootLinux (&amp;Info) Êù•ÂêØÂä®Âä†ËΩΩÁöÑÂÜÖÊ†∏ÔºåÂ¶ÇÊûúÂêØÂä®Â§±Ë¥•ÔºåÂàô fall-through Âà∞ fastboot Ê®°Âºè„ÄÇÂÖ∂‰∏≠ Info ‰∏∫‰∏Ä‰∏™ BootInfo Á±ªÂûãÔºåÂÆö‰πâÂ¶Ç‰∏ãÔºö 12345678910111213141516typedef struct BootInfo &#123; BOOLEAN MultiSlotBoot; BOOLEAN BootIntoRecovery; BOOLEAN BootReasonAlarm; CHAR16 Pname[MAX_GPT_NAME_SIZE]; CHAR16 BootableSlot[MAX_GPT_NAME_SIZE]; ImageData Images[MAX_NUMBER_OF_LOADED_IMAGES]; UINTN NumLoadedImages; QCOM_VERIFIEDBOOT_PROTOCOL *VbIntf; boot_state_t BootState; CHAR8 *VBCmdLine; UINT32 VBCmdLineLen; UINT32 VBCmdLineFilledLen; VOID *VBData; UINT32 HeaderVersion;&#125; BootInfo; ÂÖ∂‰∏≠ ImageData ÁªìÊûÑ‰∏∫Âä†ËΩΩËøõÊù•ÁöÑÂêØÂä®ÈïúÂÉèÔºåÂÆö‰πâÂ¶Ç‰∏ãÔºö 12345typedef struct &#123; CHAR8 *Name; VOID *ImageBuffer; UINTN ImageSize;&#125; ImageData; Âú®Âä†ËΩΩÂíåÈ™åËØÅ Linux ÂÜÖÊ†∏Êó∂ÔºåÈïúÂÉè‰ºöÂÖàË¢´Âä†ËΩΩÂà∞ËøôÈáåÔºå‰πãÂêéÂú®ÂêØÂä®Êó∂Ôºå‰πüÊòØ‰ΩøÁî®ËøôÈáåÁöÑÈïúÂÉè‰πã‰∏Ä„ÄÇ Linux ÂÜÖÊ†∏ÁöÑÈ™åËØÅ‰∏éÂä†ËΩΩ È™åËØÅ‰∏éÂä†ËΩΩÁöÑÂáΩÊï∞ LoadImageAndAuth (BootInfo *Info) ÁöÑÂÆûÁé∞‰Ωç‰∫é QcomModulePkg/Library/avb/VerifiedBoot.c ‰∏≠„ÄÇËøôÈáå avb ÁöÑÂÖ®Áß∞Âç≥‰∏∫ Android Verified Boot„ÄÇ Ëøô‰∏™ÂáΩÊï∞È¶ñÂÖàÂ∞ùËØï‰ªé recovery ÂàÜÂå∫Âä†ËΩΩÈïúÂÉèÔºåÊ£ÄÊµãÊòØÂê¶Âä†ËΩΩÊàêÂäü„ÄÅ‰ª•ÂèäÊòØÂê¶Êúâ‰∏Ä‰∏™ÂêàÊ≥ïÁöÑÂêØÂä®ÈïúÂÉèÁâàÊú¨ÔºàË¶ÅÊ±ÇÁ¨¨‰∏âÁâà‰ª•‰∏äÔºå‰∏∫ system-as-root ÊâÄÁî®ÁöÑÔºâÂíå kernel Â§ßÂ∞èÔºö 123456789101112/* check early if recovery exists and has a kernel size */Status = LoadPartitionImageHeader (Info, (CHAR16 *)L\"recovery\", &amp;RecoveryHdr, &amp;RecoveryHdrSz);if (Status != EFI_SUCCESS) &#123;DEBUG ((EFI_D_VERBOSE, \"Recovery partition doesn't exist; continue normal boot\\n\"));&#125; else if (((boot_img_hdr *)(RecoveryHdr))-&gt;header_version &gt;= BOOT_HEADER_VERSION_THREE &amp;&amp; !((boot_img_hdr *)(RecoveryHdr))-&gt;kernel_size) &#123;DEBUG ((EFI_D_VERBOSE, \"Recovery partition has no kernel\\n\"));SetRecoveryHasNoKernel ();&#125; Ëã• recovery ÂàÜÂå∫Ê≤°Êúâ‰∏Ä‰∏™ÂêàÊ≥ïÁöÑ kernelÔºåÂàôÈÄöËøá SetRecoveryHasNoKernel () ËÆæÁΩÆ RecoveryHasNoKernel ÂÖ®Â±ÄÊ†áËØÜ‰ª•‰æõ‰πãÂêé‰ΩøÁî®„ÄÇ Êé•‰∏ãÊù•Êúâ‰∏§ÁßçÊÉÖÂÜµÔºåÂàÜÂà´Áî®Êù•Â§ÑÁêÜ A/B ÂàÜÂå∫Â≠òÂú®‰∏éÂè™Â≠òÂú®Âçï‰∏ÄÂàÜÂå∫ÁöÑÊÉÖÂÜµ„ÄÇ Âú®Âçï‰∏ÄÂàÜÂå∫ÊÉÖÂÜµ‰∏ãÔºå‰πüÂèØËÉΩÂ≠òÂú® system-as-root ÁöÑÊÉÖÂÜµÔºåÂç≥ recovery Ê®°ÂºèÂíåÊ≠£Â∏∏ÂêØÂä®ÂÖ±Áî®ÂÜÖÊ†∏„ÄÅ‰ΩÜÊåÇËΩΩ‰∏çÂêåÁöÑÂàÜÂå∫‰Ωú‰∏∫ sysroot„ÄÇÂõ†Ê≠§Ôºå‰ª•‰∏ã‰ª£Á†ÅËÆæÁΩÆÂêØÂä®Áî®ÂàÜÂå∫ÂêçÁß∞‰∏∫ recovery Êàñ bootÔºö 123456789101112131415if (Info-&gt;BootIntoRecovery &amp;&amp; !IsRecoveryHasNoKernel ()) &#123; DEBUG ((EFI_D_INFO, \"Booting Into Recovery Mode\\n\")); StrnCpyS (Info-&gt;Pname, ARRAY_SIZE (Info-&gt;Pname), L\"recovery\", StrLen (L\"recovery\"));&#125; else &#123; if (Info-&gt;BootIntoRecovery &amp;&amp; IsRecoveryHasNoKernel ()) &#123; DEBUG ((EFI_D_INFO, \"Booting into Recovery Mode via Boot\\n\")); &#125; else &#123; DEBUG ((EFI_D_INFO, \"Booting Into Mission Mode\\n\")); &#125; StrnCpyS (Info-&gt;Pname, ARRAY_SIZE (Info-&gt;Pname), L\"boot\", StrLen (L\"boot\"));&#125; ËÄå A/B ÂàÜÂå∫ÊÉÖÂÜµÁ®çÂæÆÂ§çÊùÇ‰∏Ä‰∫õ„ÄÇÈ¶ñÂÖà ABL ‰ºöÂØªÊâæÂèØÂêØÂä®ÁöÑ slotÔºàÂç≥‰∏∫‰∏ÄÂ•óÂàÜÂå∫ÔºâÔºåÂ∞ÜÂÖ∂Â≠òÂÖ• CurrentSlot ÁªìÊûÑ‰Ωì‰∏≠ÔºåÂÆö‰πâÂ¶Ç‰∏ãÔºö 123typedef struct &#123; CHAR16 Suffix[MAX_SLOT_SUFFIX_SZ];&#125; Slot; Ëøô‰∏™ÁªìÊûÑ‰ΩìÂÆö‰πâ‰∫ÜÂàÜÂå∫ÁöÑÂêéÁºÄ„ÄÇÂÆûÈôÖ‰∏äÔºåÂ§ö‰∏™ slot ÁöÑÂÆûÁé∞Ê≠£ÊòØÈÄöËøáÂàÜÂå∫ÂêçÁß∞Âä†‰∏ä‰∏Ä‰∏™ÂêéÁºÄÂÆûÁé∞ÁöÑÔºåÊØîÂ¶Ç boot_a Âíå boot_b ‰∏∫‰∏§‰∏™ slot ÁöÑÂêØÂä®ÂàÜÂå∫„ÄÇËøô‰∏™ÂêéÁºÄÁî± FindBootableSlot Êù•Ëé∑Âèñ„ÄÇÊé•‰∏ãÊù•ÁöÑÊµÅÁ®ãÂ∞±ÂíåÂçï‰∏ÄÂàÜÂå∫ÁöÑÁ±ª‰ºº„ÄÇ Ëé∑ÂèñÂà∞Ë¶Å‰ΩøÁî®ÁöÑÂêØÂä®ÂàÜÂå∫‰πãÂêéÔºåÂ∞±Ë¶ÅÂºÄÂßãÂØπËØ•ÂàÜÂå∫ÁöÑÈïúÂÉèÁöÑÈ™åËØÅ„ÄÇÈïúÂÉèÁöÑÈ™åËØÅÊòØÂπ≥Âè∞Áõ∏ÂÖ≥ÁöÑÔºåÈÄöËøáË∞ÉÁî® GetAVBVersion () ÂèñÂæóÁâàÊú¨ÔºåÁõÆÂâçÂ≠òÂú® NO_AVB„ÄÅAVB_1„ÄÅAVB_2 Âíå AVB_LEÔºåÂàÜÂà´Áî®ÂØπÂ∫îÁöÑÂáΩÊï∞Ë∞ÉÁî®Êù•Âä†ËΩΩÈïúÂÉèÂíåÈ™åËØÅ„ÄÇ ‰ª•Êó† AVB È™åËØÅ‰∏∫‰æãÔºåÂÆÉÁõ¥Êé•‰ΩøÁî® LoadImageNoAuth Âä†ËΩΩÈïúÂÉèÔºåÂú®Ëøô‰∏™ÂáΩÊï∞Èáå LoadImageHeader (Info-&gt;Pname, &amp;ImageHdrBuffer, &amp;ImageHdrSize) Ë¢´Ë∞ÉÁî®Êù•ÊääÈïúÂÉèÂä†ËΩΩÂà∞ buffer ‰∏≠„ÄÇÂú®Ê≠§ÊúüÈó¥ÔºåÁõ∏Â∫îÁöÑ device tree ÂíåÂëΩ‰ª§Ë°åÂèÇÊï∞‰πüË¢´Âä†ËΩΩÂíåËÆæÁΩÆ„ÄÇ ÊúÄÂêéÂ∞±Âú®Â±èÂπï‰∏äÊòæÁ§∫È™åËØÅÁä∂ÊÄÅ DisplayVerifiedBootScreen (Info) Âπ∂ËøîÂõûÈïúÂÉèÈ™åËØÅÁä∂ÊÄÅ„ÄÇ ÂêØÂä® Linux ÂÜÖÊ†∏ È¶ñÂÖàÂä†ËΩΩÂêØÂä®ÈïúÂÉèÔºö 123456789Status = GetImage (Info, &amp;BootParamlistPtr.ImageBuffer, (UINTN *)&amp;BootParamlistPtr.ImageSize, ((!Info-&gt;MultiSlotBoot || IsDynamicPartitionSupport ()) &amp;&amp; (Recovery &amp;&amp; !IsBuildUseRecoveryAsBoot () &amp;&amp; !IsRecoveryHasNoKernel ()))? \"recovery\" : \"boot\"); Êõ¥Êñ∞ÂêØÂä®ÂÜÖÊ†∏Áî®ÁöÑÂëΩ‰ª§Ë°åÂèÇÊï∞ÔºåËé∑ÂèñÂä†ËΩΩÁöÑÂü∫ÂùÄ„ÄÅÂä†ËΩΩÂÜÖÂ≠òÁõò„ÄÇ ‰πãÂêéÂÖ≥Èó≠ UEFI ÂêØÂä®ÊúçÂä°‰∏∫ÂêØÂä® Linux ÂÜÖÊ†∏ÂÅöÂáÜÂ§áÔºåÂπ∂Âú® PreparePlatformHardware ‰∏≠ÂèñÊ∂à‰∏Ä‰∫õËÆæÂ§áÁöÑ‰πãÂâçÂÆåÊàêÁöÑÂàùÂßãÂåñÂíåÈÖçÁΩÆÔºåÊØîÂ¶ÇÁ¶ÅÁî®‰∏≠Êñ≠„ÄÅÁ¶ÅÁî®ÁºìÂ≠ò„ÄÅÁ¶ÅÁî® MMU„ÄÅÁ¶ÅÁî®ÂàÜÊîØÈ¢ÑÊµãÁ≠âÔºö 1234567891011121314151617181920ArmDisableBranchPrediction ();ArmDisableInterrupts ();ArmDisableAsynchronousAbort ();WriteBackInvalidateDataCacheRange (KernelLoadAddr, KernelSizeActual);WriteBackInvalidateDataCacheRange (RamdiskLoadAddr, RamdiskSizeActual);WriteBackInvalidateDataCacheRange (DeviceTreeLoadAddr, DeviceTreeSizeActual);WriteBackInvalidateDataCacheRange ((void *)StackCurrent, (UINTN)StackBase - (UINTN)StackCurrent);WriteBackInvalidateDataCacheRange (CallerStackCurrent, CallerStackBase - (UINTN)CallerStackCurrent);ArmCleanDataCache ();ArmInvalidateInstructionCache ();ArmDisableDataCache ();ArmDisableInstructionCache ();ArmDisableMmu ();ArmInvalidateTlb (); ÊúÄÂêéÔºåÂä†ËΩΩÂπ∂Ë∞ÉÁî® Linux ÂÜÖÊ†∏Ôºö 12LinuxKernel = (LINUX_KERNEL) (UINT64)BootParamlistPtr.KernelLoadAddr;LinuxKernel ((UINT64)BootParamlistPtr.DeviceTreeLoadAddr, 0, 0, 0); ÂØπ 32 ‰ΩçÂÜÖÊ†∏ÔºåÂàô‰∏∫Ôºö 12LinuxKernel32 = (LINUX_KERNEL32) (UINT64)BootParamlistPtr.KernelLoadAddr;LinuxKernel32 (0, 0, (UINTN)BootParamlistPtr.DeviceTreeLoadAddr); ‰ΩÜÂú® 32 ‰ΩçÂÜÖÊ†∏ÂêØÂä®ÂâçÔºåÈúÄË¶ÅÂàáÊç¢Âà∞ 32 bit ÁöÑÂêØÂä®Ê®°ÂºèÔºö 123Status = SwitchTo32bitModeBooting ( (UINT64)BootParamlistPtr.KernelLoadAddr, (UINT64)BootParamlistPtr.DeviceTreeLoadAddr); ÂÖ∑‰ΩìÂÆûÁé∞‰∏∫ÂÜôÂÖ• 0 Âà∞ EL1 ÁéØÂ¢É‰∏ãÁöÑ X4 ÂØÑÂ≠òÂô®Ôºö 12345HlosBootArgs.el1_x2 = DeviceTreeLoadAddr;/* Write 0 into el1_x4 to switch to 32bit mode */HlosBootArgs.el1_x4 = 0;HlosBootArgs.el1_elr = KernelLoadAddr;Status = pQcomScmModeSwitchProtocol-&gt;SwitchTo32bitMode (HlosBootArgs); Â¶ÇÊûúÂêØÂä®Â§±Ë¥•ÔºåÂàôËøõÂÖ• CpuDeadLoop()„ÄÇ ÊÄªÁªì Êú¨ÊñáÂàÜÊûêÊÄªÁªì‰∫Ü ABL Ê≠£Â∏∏ÂêØÂä® Linux Êó∂ÁöÑ‰ª£Á†Å‰∏éÊµÅÁ®ã„ÄÇ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Android","slug":"Linux/Android","permalink":"https://blog.inoki.cc/categories/Linux/Android/"},{"name":"Bootloader","slug":"Linux/Android/Bootloader","permalink":"https://blog.inoki.cc/categories/Linux/Android/Bootloader/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Android","slug":"Android","permalink":"https://blog.inoki.cc/tags/Android/"},{"name":"ABL","slug":"ABL","permalink":"https://blog.inoki.cc/tags/ABL/"},{"name":"Bootloader","slug":"Bootloader","permalink":"https://blog.inoki.cc/tags/Bootloader/"}]},{"title":"Android ÂêØÂä®Âä†ËΩΩÂô®ÂàÜÊûê ‚Äî‚Äî ABL(2)","slug":"android-bootloader-analysis-abl-2","date":"2021-10-22T13:48:00.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2021/10/22/android-bootloader-analysis-abl-2/","link":"","permalink":"https://blog.inoki.cc/2021/10/22/android-bootloader-analysis-abl-2/","excerpt":"","text":"ÊàëÁöÑÂâç‰∏ÄÁØáÊñáÁ´†„ÄäAndroid ÂêØÂä®Âä†ËΩΩÂô®ÂàÜÊûê ‚Äî‚Äî ABL(1)„Äã‰∏≠ÂàÜÊûê‰∫ÜÂΩì‰ª£È´òÈÄöÂπ≥Âè∞ÁöÑ ABL ÁöÑÊï¥‰ΩìÂêØÂä®ÊµÅÁ®ãÔºå‰ΩÜÂπ∂Êú™ÂØπÂ¶Ç‰ΩïÂêØÂä®Ëá≥ fastboot Ê®°ÂºèÂíå Linux ÂÜÖÊ†∏ËøõË°åËØ¶ÁªÜÁöÑËß£Èáä„ÄÇÊú¨ÊñáÂ∞ÜÂØπ fastboot Ê®°ÂºèÁöÑ‰ª£Á†ÅËøõË°åÂàÜÊûê„ÄÇ ÂêØÂä®Ëá≥ fastboot Ê®°ÂºèÁöÑÊù°‰ª∂ Âú® ABL ‰∏≠ÔºåÂΩìÂêØÂä®ÈïúÂÉèÈ™åËØÅÂ§±Ë¥•„ÄÅBootLinux (&amp;Info) ÂáΩÊï∞ÂêØÂä®Â§±Ë¥•ÊàñËÄÖÊé•Êî∂Âà∞ÂêØÂä®Ëá≥ fastboot ÁöÑÂëΩ‰ª§ÔºàÊØîÂ¶Ç‰ΩøÁî® adb ÈáçÂêØËá≥ bootloader„ÄÅÂú®ÂêØÂä®Êó∂Êåâ‰∏ã‰∫ÜÁõ∏Â∫îÁöÑÁªÑÂêàÊåâÈîÆÔºâÊó∂Ôºå‰ª•‰∏ã‰ª£Á†Å‰ºöË¢´ÊâßË°åÊù•ÂàùÂßãÂåñÂπ∂ÊâßË°å fastboot Ê®°ÂºèÔºö 123fastboot: DEBUG ((EFI_D_INFO, \"Launching fastboot\\n\")); Status = FastbootInitialize (); ÂàùÂßãÂåñ fastboot Ê®°Âºè ÂàùÂßãÂåñÂπ∂ÊâßË°å fastboot Ê®°ÂºèÁöÑ‰ª£Á†ÅÊòØ FastbootInitialize () Ëøô‰∏™ÂáΩÊï∞ÔºåÂÆÉË¢´ÂÆö‰πâÂú® QcomModulePkg/Library/FastbootLib/FastbootMain.c ‰∏≠„ÄÇÂÆÉÈ¶ñÂÖàË∞ÉÁî® FastbootUsbDeviceStart () ÂêØÂä® USB ËÆæÂ§áÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Êé•Êî∂ËÆ°ÁÆóÊú∫‰º†Êù•ÁöÑ fastboot ÂëΩ‰ª§ÔºåÁÑ∂ÂêéË∞ÉÁî® DisplayFastbootMenu () ÊòæÁ§∫ fastboot ÁöÑËèúÂçï„ÄÇ ÁÑ∂ÂêéËøõÂÖ•‰∏Ä‰∏™Êé•Êî∂ USB ÁöÑÊ≠ªÂæ™ÁéØÂ§ÑÁêÜ USB ‰∫ã‰ª∂ÔºåÁõ¥Âà∞ fastboot ÂÅúÊ≠¢„ÄÇ‰πãÂêéÂàôÂÖ≥Èó≠ fastboot Ê®°Âºè„ÄÅÂÅúÊ≠¢ÁõëÂê¨ÊåâÈîÆÂπ∂ÂÅúÊ≠¢ USB ËÆæÂ§á„ÄÇ 12345678910/* Close the fastboot app and stop USB device */Status = FastbootCmdsUnInit ();if (Status != EFI_SUCCESS) &#123;DEBUG ((EFI_D_ERROR, \"couldnt uninit fastboot\\n\"));return Status;&#125;ExitMenuKeysDetection ();Status = FastbootUsbDeviceStop (); ËøîÂõûÂêéÂ∞±‰ºöÈÄÄÂá∫ fastboot Ëøô‰∏™ appÔºåÂÜçÊ¨°ÂêØÂä®ËÆæÂ§á„ÄÇ ÂêØÂä® USB ËÆæÂ§á ÂêØÂä®‰πãÂâçÈúÄË¶ÅÈÖçÁΩÆ USB ÊéßÂà∂Âô®Ôºåfastboot È¶ñÂÖà‰ΩøÁî® InitUsbControllerGuid Ëøô‰∏™ GUID„ÄÅÈÄöËøáÂú®ÂÖ®Â±ÄÁöÑ EFI_BOOT_SERVICES *gBS ÂÆû‰æãÊù•ÂàùÂßãÂåñ‰∏Ä‰∏™ USB ÊéßÂà∂Âô®Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 12Status = gBS-&gt;CreateEventEx (EVT_NOTIFY_SIGNAL, TPL_CALLBACK, DummyNotify, NULL, &amp;InitUsbControllerGuid, &amp;UsbConfigEvt); ÁÑ∂ÂêéÈÄöËøá UsbDeviceProtolGuid ÂØªÊâæ fastboot Ë¶Å‰ΩøÁî®ÁöÑÂçèËÆÆÔºåÂ≠òÂÖ• Fbd ÁöÑ UsbDeviceProtocol Â≠óÊÆµ‰∏≠Ôºö 12Status = gBS-&gt;LocateProtocol (&amp;UsbDeviceProtolGuid, NULL, (VOID **)&amp;Fbd.UsbDeviceProtocol); Ëøô‰∏™Â≠óÊÆµÊòØ‰∏Ä‰∏™ EFI_USB_DEVICE_PROTOCOL *UsbDeviceProtocol ÁöÑÊåáÈíàÔºåÂÖ∂ÂÆö‰πâÂú® QcomModulePkg/Include/Protocol/EFIUsbDevice.h ‰∏≠„ÄÇ Âú®Ëøô‰πãÂêéÔºåfastboot ÁöÑÂëΩ‰ª§ÂíåÂèòÈáè‰ºöË¢´ÂàùÂßãÂåñÔºå‰∏∫Êé•Êî∂Âà∞ÁöÑÂëΩ‰ª§ÂáÜÂ§áÁõ∏Â∫îÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇ Ê≠§Êó∂ USB ËÆæÂ§áËøòÊú™Ë¢´ÂÆåÂÖ®Ê≥®ÂÜåÔºåÂõ†Ê≠§Êé•‰∏ãÊù•ÈúÄË¶ÅÊ≥®ÂÜåËÆæÂ§áÂπ∂ÂêØÂä® USB ËÆæÂ§áÔºåÂåÖÊã¨Ëé∑Âèñ USB ÂèØÁî®ÁöÑÊúÄÂ§ßÈÄüÂ∫¶„ÄÅUSB ËÆæÂ§áËßÑËåÉÔºàÂåÖÊã¨ vendor ID Âíå device ID Á≠âÔºâÂíåËÆæÂ§áÊèèËø∞Á¨¶Á≠â„ÄÇÂÖ∂ÂÆûÁé∞Âú® QcomModulePkg/Library/FastbootLib/UsbDescriptor.c ‰∏≠„ÄÇ Ê≥®ÊÑèËøôÊó∂Êúâ SS DevDescriptors/Descriptors Âíå DevDescriptors/Descriptors ‰∏§ÁßçÔºåÂàÜÂà´ÊòØ Super Speed USBÔºà3.XÔºâÂíå High Speed USBÔºà2.0Ôºâ‰∏§Â•óÊèèËø∞Á¨¶„ÄÇÂêÑÁßç USB Áõ∏ÂÖ≥ÁöÑÊèèËø∞Á¨¶ÈÉΩÂÆö‰πâÂú® MdePkg/Include/IndustryStandard/Usb.h ‰∏≠ÔºåËøôÈáåÊúÄÈáçË¶ÅÁöÑ USB_DEVICE_DESCRIPTOR ÂÆö‰πâÂ¶Ç‰∏ãÔºö 1234567891011121314151617181920////// Standard Device Descriptor/// USB 2.0 spec, Section 9.6.1///typedef struct &#123; UINT8 Length; UINT8 DescriptorType; UINT16 BcdUSB; UINT8 DeviceClass; UINT8 DeviceSubClass; UINT8 DeviceProtocol; UINT8 MaxPacketSize0; UINT16 IdVendor; UINT16 IdProduct; UINT16 BcdDevice; UINT8 StrManufacturer; UINT8 StrProduct; UINT8 StrSerialNumber; UINT8 NumConfigurations;&#125; USB_DEVICE_DESCRIPTOR; ÈÖçÁΩÆÂ•ΩËøô‰∫õ descriptor ‰πãÂêéÔºåË∞ÉÁî®ÂâçÈù¢ÂàõÂª∫ÁöÑ USB protocol Êù•ÂêØÂä® USB ËÆæÂ§áÔºö 12/* Start the usb device */Status = Fbd.UsbDeviceProtocol-&gt;StartEx (&amp;DescSet); ÊúÄÂêéÔºå‰∏∫ÂèëÈÄÅÂíåÊé•Êî∂ USB transfer Êï∞ÊçÆÂàõÂª∫ÁºìÂÜ≤„ÄÇ Ê≥®ÂÜå fastboot ÂëΩ‰ª§ Âú®ÂêØÂä® USB ËÆæÂ§á‰πãÂâçÔºåfastboot ÂÜÖÂèØÁî®ÁöÑÂëΩ‰ª§ÂíåÁõ∏ÂÖ≥ÁöÑÂèòÈáèÁî± EFI_STATUS FastbootCmdsInit (VOID) Êù•Ê≥®ÂÜåÔºåËøô‰∏™ÂáΩÊï∞Âú® QcomModulePkg/Library/FastbootLib/FastbootCmds.c ‰∏≠„ÄÇËøô‰∏™ÂáΩÊï∞‰∏∫ fastboot Áõ∏ÂÖ≥ÂëΩ‰ª§ÂàõÂª∫ÁºìÂÜ≤Âå∫ÂíåÂ§öÁ∫øÁ®ãÁéØÂ¢ÉÊù•Ë∞ÉÁî®ÂõûË∞ÉÔºåÁÑ∂ÂêéË∞ÉÁî® FastbootCommandSetup Êù•ÂàõÂª∫ÂèØÁî®ÁöÑÂëΩ‰ª§‰∏éÂèòÈáèÔºö 12345678910111213/* By Default enable list is empty */ &#123;\"\", NULL&#125;,/*CAUTION(High): Enabling these commands will allow changing the partitions *like system,userdata,cachec etc... */#ifdef ENABLE_UPDATE_PARTITIONS_CMDS &#123;\"flash:\", CmdFlash&#125;, &#123;\"erase:\", CmdErase&#125;, &#123;\"set_active\", CmdSetActive&#125;, &#123;\"flashing get_unlock_ability\", CmdFlashingGetUnlockAbility&#125;, &#123;\"flashing unlock\", CmdFlashingUnlock&#125;, &#123;\"flashing lock\", CmdFlashingLock&#125;,#endif Ëøô‰∫õÂü∫Á°ÄÁöÑÂëΩ‰ª§ÂèØ‰ª•Áî®Êù•Ëß£ÈîÅ„ÄÅËÆæÁΩÆ A/B ÂàÜÂå∫ÁöÑÊøÄÊ¥ªÁä∂ÊÄÅÂíåÂà∑ÂÜôÂàÜÂå∫Á≠â„ÄÇ 1234567/* *CAUTION(CRITICAL): Enabling these commands will allow changes to bootimage. */#ifdef ENABLE_DEVICE_CRITICAL_LOCK_UNLOCK_CMDS &#123;\"flashing unlock_critical\", CmdFlashingUnLockCritical&#125;, &#123;\"flashing lock_critical\", CmdFlashingLockCritical&#125;,#endif Ëøô‰∏§Êù°ÂëΩ‰ª§ÊòØÁî®Êù•ÊéßÂà∂ÂêØÂä®ÈïúÂÉèÂå∫ÁöÑÂà∑ÂÜô„ÄÇ 1234567/* *CAUTION(CRITICAL): Enabling this command will allow boot with different *bootimage. */#ifdef ENABLE_BOOT_CMD &#123;\"boot\", CmdBoot&#125;,#endif ËøôÈáåÊ≥®ÂÜåÁöÑ fastboot boot &lt;image&gt; ÂëΩ‰ª§ÂèØ‰ª•ÂêØÂä®Ëá™ÂÆö‰πâÈïúÂÉè„ÄÇ 12345&#123;\"oem enable-charger-screen\", CmdOemEnableChargerScreen&#125;,&#123;\"oem disable-charger-screen\", CmdOemDisableChargerScreen&#125;,&#123;\"oem off-mode-charge\", CmdOemOffModeCharger&#125;,&#123;\"oem select-display-panel\", CmdOemSelectDisplayPanel&#125;,&#123;\"oem device-info\", CmdOemDevinfo&#125;, ‰ª•‰∏äÊòØ OEM ÊúâÂÖ≥ÁöÑËÆæÁΩÆÂíå‰ø°ÊÅØ„ÄÇ 12345678910 &#123;\"continue\", CmdContinue&#125;, &#123;\"reboot\", CmdReboot&#125;,#ifdef DYNAMIC_PARTITION_SUPPORT &#123;\"reboot-recovery\", CmdRebootRecovery&#125;, &#123;\"reboot-fastboot\", CmdRebootFastboot&#125;,#ifdef VIRTUAL_AB_OTA &#123;\"snapshot-update\", CmdUpdateSnapshot&#125;,#endif#endif &#123;\"reboot-bootloader\", CmdRebootBootloader&#125;, ËøôÊòØÈáçÂêØÂíåÂêØÂä®Áõ∏ÂÖ≥ÁöÑÂëΩ‰ª§„ÄÇ 12&#123;\"getvar:\", CmdGetVar&#125;,&#123;\"download:\", CmdDownload&#125;, ÊúÄÂêéÁöÑ getvar ÂëΩ‰ª§ÂèØ‰ª•Ëé∑ÂèñËÆæÂ§áÂú® fastboot Ê®°Âºè‰∏≠Áõ∏ÂÖ≥ÁöÑÂèòÈáèÔºåËÄåÂèòÈáèÁöÑÂèëÂ∏ÉÂàô‰ΩøÁî® FastbootPublishVar (key, value)„ÄÇ Âú® fastboot Ê®°Âºè‰∏≠ÁöÑ‰∫ã‰ª∂Âæ™ÁéØ ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåÂú® fastboot ‰∏≠‰ºöÊúâ‰∏â‰∏™‰∏ªË¶ÅÁöÑ‰∫ã‰ª∂Âæ™ÁéØÔºö Êé•Êî∂ÊåâÈîÆ‰∫ã‰ª∂Êõ¥Êñ∞ fastboot ËèúÂçïÔºàÂú® VOID DisplayFastbootMenu (VOID) ‰∏≠ÁªòÂà∂Âπ∂ÂàõÂª∫ÔºåÂú® QcomModulePkg/Library/BootLib/FastbootMenu.c ‰∏≠ÂÆö‰πâ ÔºâÔºõ ÈÄöËøá USB Êé•Êî∂ËÆ°ÁÆóÊú∫ÁöÑ fastboot ÂèëÊù•ÁöÑÂëΩ‰ª§ÔºàÂú®Ê≥®ÂÜå fastboot Êó∂ÂàõÂª∫ÔºâÔºõ ‰∏ªÂæ™ÁéØË∞ÉÁî® HandleUsbEvents () ÁõëÂê¨ USB ËÆæÂ§áÁöÑÈÄöÁü•ÔºåÂåÖÊã¨ËÆæÂ§áËøûÊé•Á≠â‰∫ã‰ª∂„ÄÇ ÁªìËÆ∫ Êú¨ÊñáÂàÜÊûêÊÄªÁªì‰∫Ü ABL Âú® fastboot Ê®°Âºè‰∏ãÁöÑ‰ª£Á†Å‰∏éÊµÅÁ®ã„ÄÇ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Android","slug":"Linux/Android","permalink":"https://blog.inoki.cc/categories/Linux/Android/"},{"name":"Bootloader","slug":"Linux/Android/Bootloader","permalink":"https://blog.inoki.cc/categories/Linux/Android/Bootloader/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Android","slug":"Android","permalink":"https://blog.inoki.cc/tags/Android/"},{"name":"ABL","slug":"ABL","permalink":"https://blog.inoki.cc/tags/ABL/"},{"name":"Bootloader","slug":"Bootloader","permalink":"https://blog.inoki.cc/tags/Bootloader/"}]},{"title":"ÈÄöËøá Linux sysfs Áé©ËΩ¨Á°¨‰ª∂","slug":"linux-sysfs-playground","date":"2021-10-20T19:34:00.000Z","updated":"2022-05-09T18:41:39.510Z","comments":true,"path":"2021/10/20/linux-sysfs-playground/","link":"","permalink":"https://blog.inoki.cc/2021/10/20/linux-sysfs-playground/","excerpt":"","text":"ÂØπ‰∫é‰∏Ä‰∫õÈùûÂµåÂÖ•Âºè„ÄÅÁ¶ªÁ°¨‰ª∂ÊØîËæÉËøúÁöÑÁ®ãÂ∫èÂëòÔºå‰∏éÁ°¨‰ª∂ÊúâÂÖ≥ÁöÑ‰∫ãÊÉÖÂèØËÉΩÂÆåÂÖ®ÊòØ‰∏Ä‰∏™ÈªëÂå£Â≠êÔºöÊàëÂè™ÈúÄË¶ÅÊèí‰∏ä USB Á∫øÁºÜ„ÄÅÊèí‰∏ä HDMI Á∫øÁºÜÔºåÂ∞±ÂèØ‰ª•ÊääÁ°¨‰ª∂ËøûÊé•Âà∞ËÆ°ÁÆóÊú∫ÔºõÊàëÂè™ÈúÄË¶ÅÊåâ‰∏Ä‰∏™ÊåâÈîÆÔºåÂ∞±ÂèØ‰ª•Ë∞ÉËäÇÂ±èÂπïÁöÑ‰∫ÆÂ∫¶„ÄÇ‰Ωú‰∏∫‰∏Ä‰∏™Á®ãÂ∫èÂëòÊàñËÄÖËÆ°ÁÆóÊú∫Áà±Â•ΩËÄÖÔºåÊàëÊúâÊ≤°ÊúâÂèØËÉΩËá™Â∑±ÂÜô‰∏Ä‰∫õ‰ª£Á†Å snippets Êù•ÂÆåÊàê‰∏Ä‰∫õËá™ÂÆö‰πâÁöÑ‰∫ãÊÉÖÂë¢Ôºü Êú¨ÊñáÂ∞±Â∞Ü‰ªãÁªçÂ¶Ç‰ΩïÈÄöËøá Linux Á≥ªÁªüÁöÑ sysfs Ê®°Âùó„ÄÅÁî®‰∏Ä‰∫õÁÆÄÂçïÁöÑ‰ª£Á†Å/shell Êìç‰ΩúÁ°¨‰ª∂„ÄÇ Á°¨‰ª∂„ÄÅLinux Á≥ªÁªü‰∏é sysfs Ê®°Âùó Êìç‰ΩúÁ≥ªÁªüÊòØËÆ°ÁÆóÊú∫Á°¨‰ª∂ÂíåÁî®Êà∑‰πãÈó¥ÁöÑÊé•Âè£ÔºåÂÆÉÂèØ‰ª•Â§ÑÁêÜËÆ°ÁÆóÊú∫Á°¨‰ª∂ËµÑÊ∫êÂπ∂‰∏∫ËÆ°ÁÆóÊú∫Á®ãÂ∫èÊèê‰æõÂü∫Êú¨ÊúçÂä°ÔºåÈ©±Âä®Á°¨‰ª∂ÊòØÂÆÉÊâÄÊã•ÊúâÁöÑ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÂäüËÉΩ„ÄÇ‰∏ãÂõæÊòæÁ§∫‰∫ÜÊìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏ÊâÄÂú®ÁöÑ‰ΩçÁΩÆÔºöÂÆÉ‰Ωú‰∏∫Á°¨‰ª∂Âíå shell„ÄÅÂ∫îÁî®Á®ãÂ∫è‰πãÈó¥ÁöÑ‰∏ÄÂ±ÇÔºåÊèê‰æõÊé•Âè£„ÄÇ Ê†πÊçÆ Linux ÁöÑÊâãÂÜåÔºåsysfs Êñá‰ª∂Á≥ªÁªüÊòØ‰∏Ä‰∏™‰º™Êñá‰ª∂Á≥ªÁªüÔºåÂÆÉÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÂÜÖÊ†∏Êï∞ÊçÆÁªìÊûÑÁöÑÊé•Âè£„ÄÇËøô‰∏™Êñá‰ª∂Á≥ªÁªüÁöÑÊñá‰ª∂Âπ∂‰∏çÊòØÁúüÂÆûÂ≠òÂú®Âú®Á°¨Áõò‰∏äÁöÑÊñá‰ª∂ÔºåÂÆÉÊèê‰æõÊúâÂÖ≥ËÆæÂ§á„ÄÅÂÜÖÊ†∏Ê®°Âùó„ÄÅÊñá‰ª∂Á≥ªÁªüÂíåÂÖ∂‰ªñÂÜÖÊ†∏ÁªÑ‰ª∂ÁöÑ‰ø°ÊÅØÔºåÂØπËøôÈáåÁöÑÊñá‰ª∂ÁöÑËØªÂÜôÂ∞±ÊòØÂØπÂÜÖÊ†∏‰∏≠ÂØπË±°ÁöÑÊìç‰Ωú„ÄÇ Á°¨‰ª∂È©±Âä®ÊòØ Linux ÂÜÖÊ†∏ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåËøáÂéªÊòØË¢´ÈùôÊÄÅÁºñËØëÂà∞ÂÜÖÊ†∏‰∏≠ÔºåËÄåÂú®ÂΩì‰ª£ÁöÑ Linux Á≥ªÁªü‰∏≠Â§ßÈÉ®ÂàÜÈ©±Âä®Á®ãÂ∫èÈÉΩÂèØ‰ª•Ë¢´ÁºñËØëÊàêÂÜÖÊ†∏Ê®°ÂùóÔºàkernel moduleÔºâ„ÄÅÂä®ÊÄÅÂä†ËΩΩÂà∞ÂÜÖÊ†∏‰∏≠„ÄÇÂΩìËÆæÂ§áÊèíÂÖ•Êó∂ÔºåÂÜÖÊ†∏‰ºöÂàõÂª∫‰∏Ä‰∏™ÂÜÖÊ†∏ÂØπË±°ÔºåÂπ∂‰∏∫ÂØπÂØπË±°ÁöÑÊìç‰ΩúËÆæÁΩÆÂØπÂ∫îÈ©±Âä®‰∏≠ÁöÑÂõûË∞ÉÂáΩÊï∞„ÄÇËøô‰∏™ÂØπË±°‰πü‰ºöË¢´Êò†Â∞ÑÂà∞ sysfs ‰∏≠„ÄÇ sysfs ÁöÑÁªìÊûÑ Âú® Linux ‰∏≠Ôºåsysfs ‰∏ÄËà¨‰ºöË¢´Ëá™Âä®ÊåÇËΩΩÂà∞ /sys ÁõÆÂΩï‰∏ã„ÄÇÊàëÁöÑËÆ°ÁÆóÊú∫Âú®ËØ•ÁõÆÂΩï‰∏ãÊúâ‰ª•‰∏ãÂ≠êÁõÆÂΩïÔºö 1block bus class dev devices firmware fs hypervisor kernel module power ÊúâÂùóËÆæÂ§á„ÄÅÊåâÊÄªÁ∫øÂàÜÁ±ª„ÄÅÊåâËÆæÂ§áÁ±ªÂà´ÂàÜÁ±ª„ÄÅÊñá‰ª∂Á≥ªÁªü„ÄÅÂÜÖÊ†∏Ê®°ÂùóÁ≠â„ÄÇ Êàë‰∏™‰∫∫ÊØîËæÉÂ∏∏Áî®ÁöÑÊòØ classÔºåÂú®Ëøô‰∏™ÁõÆÂΩï‰∏ãÔºåËÆæÂ§áÊåâÁÖßÊâÄÂ±ûÁöÑÁ±ªÂà´ÂàÜÁ±ªÔºö ÂèØ‰ª•ÁúãÂà∞ÔºåÊúâ backlight ËÉåÂÖâËÆæÂ§á„ÄÅbluetooth ËìùÁâôËÆæÂ§á„ÄÅinput ËæìÂÖ•ËÆæÂ§á„ÄÅleds ÁÅØ„ÄÅtty Á≠â„ÄÇ ÂÆÉ‰ª¨ÁöÑÂ≠êÁõÆÂΩïÊòØ‰∏Ä‰∫õÂÖ∑‰ΩìÁöÑËÆæÂ§áÂØπÂ∫îÁöÑÁõÆÂΩïÔºàÂ¶ÇÊûúÊúâÁõ∏Â∫îËÆæÂ§áË¢´ÂÜÖÊ†∏È©±Âä®Ëµ∑Êù•ÁöÑËØùÔºâÔºåÂú®Ëøô‰∫õÁõÆÂΩïÈáåÂæÄÂæÄÊúâ‰∏Ä‰∫õÂèØ‰ª•ËØªÂÜôÁöÑÊñá‰ª∂ÔºåËøô‰∫õÊñá‰ª∂ÂØπÂ∫îÁùÄËÆæÂ§áÂú®ÂÜÖÊ†∏‰∏≠ÁöÑÁä∂ÊÄÅ„ÄÇ ÂÜô sysfs ÁöÑÊñá‰ª∂ÂØπË±°Ë∞ÉËäÇÊòæÁ§∫Âô®‰∫ÆÂ∫¶ Â¶ÇÊûú‰Ω†Êã•Êúâ‰∏ÄÂè∞Â∏¶Êúâ Intel ÈõÜÊàêÊòæÂç°ÁöÑÁ¨îËÆ∞Êú¨Ôºå‰∏îÂÆâË£Ö‰∫Ü‰∏Ä‰∏™Â∏¶ GUI ÁöÑ Linux ÂèëË°åÁâàÔºåÈÇ£Â§ßÊ¶ÇÁéá‰ΩøÁî®ÁöÑÊòØ i915 ÊàñËÄÖ i965 È©±Âä®„ÄÇÂú® /sys/class/backlight/intel_backlight ‰∏ãÂ∞±‰ºöÊúâ‰ª•‰∏ãÊñá‰ª∂Ôºö ÂÖ∂‰∏≠ brightness ‰∏∫‰∏Ä‰∏™ root ÂèØËØªÂèØÂÜôÁöÑÊñá‰ª∂ÔºåÈÄöËøáÂÆÉÂèØ‰ª•ËÆæÁΩÆÂ±èÂπï‰∫ÆÂ∫¶Ôºõmax_brightness ‰∏∫‰∏Ä‰∏™ root ÂèØËØªÁöÑÊñá‰ª∂ÔºåÂÆÉÂÇ®Â≠ò‰∫ÜÂèØ‰ª•ËÆæÁΩÆÁöÑÊúÄÂ§ßÂ±èÂπï‰∫ÆÂ∫¶„ÄÇÂõ†Ê≠§ÔºåÊàë‰ª¨ÂèØ‰ª•Áî®‰∏Ä‰∏™ÁÆÄÂçïÁöÑ shell ËÑöÊú¨ËØªÂèñÊúüÊúõ‰∫ÆÂ∫¶ÁôæÂàÜÊØî„ÄÅÂÖÅËÆ∏ÁöÑÊúÄÂ§ß‰∫ÆÂ∫¶ÔºåÂπ∂Â∞ÜËÆ°ÁÆóÁªìÊûúÂÜôÂÖ• brightness Êù•ËÆæÁΩÆÂ±èÂπï‰∫ÆÂ∫¶ÁôæÂàÜÊØîÔºö 123456789#!/bin/bashecho \"ËØ∑ËæìÂÖ•ÊÇ®ÊÉ≥Ë¶ÅÁöÑ‰∫ÆÂ∫¶ÁôæÂàÜÊØî:\"read expected_brightnessecho $expected_brightnessmax_brightness=$(cat /sys/class/backlight/intel_backlight/max_brightness)echo $(expr $expected_brightness \\* $max_brightness \\/ 100) &gt; /sys/class/backlight/intel_backlight/brightness ‰πãÂêéÔºå‰ΩøÁî® sudo ËøêË°åËøô‰∏™ËÑöÊú¨ÔºàÂÜôÂÖ• brightness Êñá‰ª∂ÈúÄË¶Å root Áî®Êà∑Ë∫´‰ªΩÔºâÂπ∂ËæìÂÖ•‰Ω†ÊúüÊúõÁöÑÁôæÂàÜÊØîÔºàÊ≥®ÊÑèÔºö‰∏∫‰∫Ü‰øùÊåÅÁÆÄÁü≠ÔºåËøô‰∏™ËÑöÊú¨Ê≤°ÊúâÂØπËæìÂÖ•ÂÄºËøõË°å‰ªª‰ΩïÂà§Êñ≠Ôºåtake your own riskÔºâÔºåÊïàÊûúÂ¶Ç‰∏ãÔºö ËøôÊó∂ÊàëÁöÑÂ±èÂπïËÉåÂÖâ‰∫ÆÂ∫¶Â∞±Ë¢´ËÆæÁΩÆ‰∏∫‰∫Ü 15%„ÄÇ ÂΩìÁÑ∂Ôºå‰Ω†‰πüÂèØ‰ª•Áî® C ËØ≠Ë®Ä„ÄÅPython ÊàñËÄÖ‰ªª‰Ωï‰Ω†ÂñúÊ¨¢ÁöÑËØ≠Ë®ÄÔºåÈÄöËøáËØªÂÜô sysfs ‰∏ãÁöÑÊñá‰ª∂ÊéßÂà∂‰∏Ä‰∫õÁ°¨‰ª∂„ÄÇËøôÈÉΩÂèñÂÜ≥‰∫é‰Ω†ÁöÑÊÉ≥Ê≥ïÂíåÂàõÊÑè‰∫ÜÔºÅ Ê≥®ÔºöÂ¶ÇÊûú‰Ω†‰ΩøÁî®ÁöÑÊòØÂÖ∂‰ªñÊòæÂç°„ÄÅÊàñËÄÖÂ§ñÊé•ÊòæÁ§∫Âô®ÔºåËÉΩÂê¶ÊúâÊïàÊûúÂ∞±ÂèñÂÜ≥‰∫éÂÖ∑‰ΩìÁöÑÁ°¨‰ª∂‰∫Ü„ÄÇ ÁªìËÆ∫ Êú¨ÊñáÁ≤óÁï•‰ªãÁªç‰∫Ü Linux Á≥ªÁªüÁöÑ sysfs Ê®°ÂùóÁöÑÊ¶ÇÂøµÂíåÁî®Ê≥ïÔºåÂπ∂Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑËÑöÊú¨Êù•ËÆæÁΩÆÊòæÁ§∫Â±èÁöÑËÉåÂÖâ„ÄÇ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"sysfs","slug":"Linux/sysfs","permalink":"https://blog.inoki.cc/categories/Linux/sysfs/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Linux Driver","slug":"Linux-Driver","permalink":"https://blog.inoki.cc/tags/Linux-Driver/"},{"name":"sysfs","slug":"sysfs","permalink":"https://blog.inoki.cc/tags/sysfs/"}]},{"title":"Android bootloader analysis -- ABL(1)","slug":"android-bootloader-analysis-abl-1-en","date":"2021-10-18T19:48:00.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2021/10/18/android-bootloader-analysis-abl-1-en/","link":"","permalink":"https://blog.inoki.cc/2021/10/18/android-bootloader-analysis-abl-1-en/","excerpt":"","text":"In my previous article ‚ÄúAndroid Bootloader Analysis ‚Äì Aboot‚Äù, I analyzed the overall boot flow and corresponding code of the previous generation of Aboot for Qualcomm platforms. After 2016, the PBL of the MSM8996 (Snapdragon 820) platform loads the new XBL, followed by a chain load of ABL or Aboot (only for the MSM8996 platform where the XBL is not yet mature), which is a boot loader built on EDK II to replace Aboot, which can choose to stay in It can choose to stay in fastboot, boot to Android using the system kernel and ramdisk in the system directory, or boot to Recovery using the recovery ramdisk, depending on key combinations. This article describes the code organization and general boot process of ABL. Due to space limitation, the code analysis for booting Linux and fastboot will be published in separate articles. Code Organization The Qualcomm ABL source code can be found at Code Aurora Forum ). The ABL is built on EDK II and the overall project structure is the standard EDK II source tree. This article uses the uefi.lnx.3.0.r1 branch as written for analysis, committed as c4da6fcb959fa67cb2aa89007beebfab66226268. In the Makefile of the project, the two most important build targets are 12ABL_FV_IMG := $(BUILD_ROOT)/FV/abl.fvABL_FV_ELF := $(BOOTLOADER_OUT)/... /... /unsigned_abl.elf Of these, ABL_FV_IMG is the most important build target, which is the firmware (fv, firmware) built from QcomModulePkg. 12345ABL_FV_IMG: EDK_TOOLS_BIN @. . /edksetup.sh BaseTools &amp;&amp; \\ build -p $(WORKSPACE)/QcomModulePkg/QcomModulePkg.dsc cp $(BUILD_ROOT)/FV/FVMAIN_COMPACT.Fv $(ABL_FV_IMG) Whereas ABL_FV_ELF just calls QcomModulePkg/Tools/image_header.py to convert abl.fv to an ELF file that can be flushed to the abl partition in the device‚Äôs EMMC or flash memory. In QcomModulePkg, the firmware entry is FV.FVMAIN_COMPACT, which contains FV.FVMAIN, a module that encapsulates the base ARM stack, MMU, and other components provided by EDK II, and contains QcomModulePkg/Application/ LinuxLoader/LinuxLoader.inf, a Linux loader, is used to boot the firmware and load the Android Linux kernel on the ARM platform. This LinuxLoader is a UEFI application and its program entry point is defined as follows. 1ENTRY_POINT = LinuxLoaderEntry It contains some modules from EDK II. 1234567[Packages] ArmPkg/ArmPkg.dec MdePkg/MdePkg.dec EmbeddedPkg/EmbeddedPkg.dec ArmPlatformPkg/ArmPlatformPkg.dec MdeModulePkg/MdeModulePkg.dec QcomModulePkg/QcomModulePkg.dec In the Library of QcomModulePkg, there are FastbootLib, BootLib, zlib, etc. The implementation of Fastboot is in FastbootLib, while BootLib contains the specific implementation for booting the Linux kernel, and zlib because Linux kernels are sometimes compressed. Boot process In the LinuxLoaderEntry entry point function, the program first calls some basic platform code to set up the environment, then gets the boot verification status and device status with DeviceInfoInit (), then uses EnumeratePartitions () and UpdatePartitionEntries () to get and update the partition information. If there is more than one boot slot (in this case, Android devices with A/B partitions, where A and B are generally two slots), find the activated slot and record it. Next, it gets the keystroke status and sets the boot to fastboot flag when SCAN_DOWN is pressed, SCAN_UP for boot to recovery, and SCAN_ESC for reboot to Emergency Download (EDL) mode. The program then gets the reason for the reboot and sets the appropriate flag. When not booting to fastboot, the boot image is loaded and verified, and if it is loaded and verified successfully, BootLinux (&amp;Info) is called to boot the Linux kernel. Otherwise, call FastbootInitialize () to initialize and run fastboot. Summary This article has analyzed the project structure and overall boot process of ABL. In the next article, we will discuss the code flow for booting Linux normally (also including recovery booting).","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Android","slug":"Linux/Android","permalink":"https://blog.inoki.cc/categories/Linux/Android/"},{"name":"Bootloader","slug":"Linux/Android/Bootloader","permalink":"https://blog.inoki.cc/categories/Linux/Android/Bootloader/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Android","slug":"Android","permalink":"https://blog.inoki.cc/tags/Android/"},{"name":"ABL","slug":"ABL","permalink":"https://blog.inoki.cc/tags/ABL/"},{"name":"Bootloader","slug":"Bootloader","permalink":"https://blog.inoki.cc/tags/Bootloader/"}]},{"title":"Android ÂêØÂä®Âä†ËΩΩÂô®ÂàÜÊûê ‚Äî‚Äî ABL(1)","slug":"android-bootloader-analysis-abl-1","date":"2021-10-18T19:48:00.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2021/10/18/android-bootloader-analysis-abl-1/","link":"","permalink":"https://blog.inoki.cc/2021/10/18/android-bootloader-analysis-abl-1/","excerpt":"","text":"ÊàëÁöÑÂâç‰∏ÄÁØáÊñáÁ´†„ÄäAndroid ÂêØÂä®Âä†ËΩΩÂô®ÂàÜÊûê ‚Äî‚Äî Aboot„Äã‰∏≠ÂàÜÊûê‰∫ÜÈ´òÈÄöÂπ≥Âè∞Ââç‰ª£ÁöÑ Aboot ÁöÑÊï¥‰ΩìÂêØÂä®ÊµÅÁ®ãÂíåÁõ∏Â∫îÁöÑ‰ª£Á†Å„ÄÇ Âú® 2016 Âπ¥‰πãÂêéÔºåMSM8996ÔºàSnapdragon 820ÔºâÂπ≥Âè∞ÁöÑ PBL Âä†ËΩΩÂÖ®Êñ∞ÁöÑ XBLÔºåÁ¥ßÊé•ÁùÄÈìæÂºèÂä†ËΩΩ ABL Êàñ AbootÔºà‰ªÖÂØπ‰∫é XBL ËøòÊú™ÊàêÁÜüÁöÑ MSM8996 Âπ≥Âè∞ÔºâÔºåËøô‰∏™Á®ãÂ∫èÊòØÂü∫‰∫é EDK II ÊûÑÂª∫ÁöÑÁî®Êù•ÊõøÊç¢ Aboot ÁöÑÂêØÂä®Âä†ËΩΩÂô®ÔºåÂÆÉÂèØ‰ª•Ê†πÊçÆÊåâÈîÆÁªÑÂêàÈÄâÊã©ÁïôÂú® fastboot„ÄÅ‰ΩøÁî®Á≥ªÁªü kernel ÂíåÂú®Á≥ªÁªüÁõÆÂΩïÁöÑ ramdisk ÂêØÂä®Âà∞ Android Á≥ªÁªü„ÄÅÊàñÊòØ‰ΩøÁî® recovery ÁöÑ ramdisk ÂêØÂä®Âà∞ Recovery„ÄÇ Êú¨Êñá‰ªãÁªç ABL ÁöÑ‰ª£Á†ÅÁªÑÁªáÂíåÂ§ßËá¥ÂêØÂä®ÊµÅÁ®ãÔºåÁî±‰∫éÁØáÂπÖÈôêÂà∂ÔºåÂØπ‰∫éÂêØÂä® Linux Âíå fastboot ÁöÑ‰ª£Á†ÅËß£ÊûêÂ∞Ü‰ºöÂçïÁã¨ÂèëÂêÑËá™ÁöÑÊñáÁ´†„ÄÇ ‰ª£Á†ÅÁªÑÁªá È´òÈÄöÂπ≥Âè∞ÁöÑ ABL Ê∫êÁ†ÅÂèØ‰ª•Âú® Code Aurora Forum ) Â§ÑÊâæÂà∞„ÄÇ ABL ÊòØÂü∫‰∫é EDK II ÊûÑÂª∫ÁöÑÔºåÊï¥‰ΩìÁöÑÈ°πÁõÆÁªìÊûÑÊòØÊ†áÂáÜÁöÑ EDK II Ê∫êÁ†ÅÊ†ë„ÄÇÊú¨Êñá‰ΩøÁî®ÊàêÊñáÊó∂ÁöÑ uefi.lnx.3.0.r1 ÂàÜÊîØÊù•ÂàÜÊûêÔºåÊèê‰∫§‰∏∫ c4da6fcb959fa67cb2aa89007beebfab66226268„ÄÇ Âú®È°πÁõÆÁöÑ Makefile ‰∏≠ÔºåÊúÄÈáçË¶ÅÁöÑ‰∏§‰∏™ÊûÑÂª∫ÁõÆÊ†áÊòØÔºö 12ABL_FV_IMG := $(BUILD_ROOT)/FV/abl.fvABL_FV_ELF := $(BOOTLOADER_OUT)/../../unsigned_abl.elf ÂÖ∂‰∏≠ÔºåABL_FV_IMG ÊòØÊúÄÈáçË¶ÅÁöÑÊûÑÂª∫ÁõÆÊ†áÔºåÂÆÉÊòØ‰ªé QcomModulePkg ÊûÑÂª∫ÁöÑ firmwareÔºàfvÔºåÂõ∫‰ª∂ÔºâÔºö 12345ABL_FV_IMG: EDK_TOOLS_BIN @. ./edksetup.sh BaseTools &amp;&amp; \\ build -p $(WORKSPACE)/QcomModulePkg/QcomModulePkg.dsc cp $(BUILD_ROOT)/FV/FVMAIN_COMPACT.Fv $(ABL_FV_IMG) ËÄå ABL_FV_ELF ÂàôÂè™ÊòØË∞ÉÁî® QcomModulePkg/Tools/image_header.py Êù•Êää abl.fv ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™ ELF Êñá‰ª∂ÔºåÂèØ‰ª•Âà∑ÂÜôÂà∞ËÆæÂ§áÁöÑ EMMC ÊàñÈó™Â≠ò‰∏≠ÁöÑ abl ÂàÜÂå∫„ÄÇ Âú® QcomModulePkg ‰∏≠ÔºåÂõ∫‰ª∂ÁöÑÂÖ•Âè£ÊòØ FV.FVMAIN_COMPACTÔºåÂÆÉÂåÖÂê´‰∫Ü FV.FVMAINÔºåÂú®Ëøô‰∏™Ê®°ÂùóÈáåÔºåÂõäÊã¨‰∫Ü EDK II Êèê‰æõÁöÑÂü∫Á°Ä ARM Ê†à„ÄÅMMU Á≠âÁªÑ‰ª∂ÔºåÂπ∂ÂåÖÂê´‰∫Ü QcomModulePkg/Application/LinuxLoader/LinuxLoader.inf Ëøô‰∏™ Linux ÁöÑÂä†ËΩΩÂô®ÔºåÁî®Êù•Âú® ARM Âπ≥Âè∞‰∏äÂ∞ÜËøô‰∏™Âõ∫‰ª∂ÂêØÂä®Âπ∂Âä†ËΩΩ Android ÁöÑ Linux ÂÜÖÊ†∏„ÄÇ Ëøô‰∏™ LinuxLoader ÊòØ‰∏Ä‰∏™ UEFI Â∫îÁî®Á®ãÂ∫èÔºåÂÆÉÁöÑÁ®ãÂ∫èÂÖ•Âè£ÁÇπÂÆö‰πâÂ¶Ç‰∏ãÔºö 1ENTRY_POINT = LinuxLoaderEntry ÂÆÉÂåÖÂê´‰∫Ü EDK II ‰∏≠ÁöÑ‰∏Ä‰∫õÊ®°ÂùóÔºö 1234567[Packages] ArmPkg/ArmPkg.dec MdePkg/MdePkg.dec EmbeddedPkg/EmbeddedPkg.dec ArmPlatformPkg/ArmPlatformPkg.dec MdeModulePkg/MdeModulePkg.dec QcomModulePkg/QcomModulePkg.dec ÂÖ∂‰∏≠ÔºåÂú® QcomModulePkg ÁöÑ Library ‰∏≠ÔºåÊúâ FastbootLib„ÄÅBootLib„ÄÅzlib Á≠âÂ∫ìÔºåFastboot ÁöÑÂÆûÁé∞Â∞±Âú® FastbootLib ‰∏≠ÔºåËÄå BootLib ‰∏≠ÂåÖÂê´‰∫ÜÂêØÂä® Linux ÂÜÖÊ†∏ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºåËá≥‰∫é zlib ÂàôÊòØÂõ†‰∏∫ Linux ÂÜÖÊ†∏ÊúâÊó∂ÊòØË¢´ÂéãÁº©‰∫ÜÁöÑ„ÄÇ ÂêØÂä®ÊµÅÁ®ã Âú® LinuxLoaderEntry ÂÖ•Âè£ÁÇπÁöÑÂáΩÊï∞‰∏≠ÔºåÁ®ãÂ∫èÈ¶ñÂÖàË∞ÉÁî®‰∏Ä‰∫õÂü∫Á°ÄÁöÑÂπ≥Âè∞‰ª£Á†ÅËÆæÁΩÆÁéØÂ¢ÉÔºåÁÑ∂ÂêéÈÄöËøá DeviceInfoInit () Ëé∑ÂèñÂêØÂä®È™åËØÅÁä∂ÊÄÅÂíåËÆæÂ§áÁä∂ÊÄÅÔºåÂÜç‰ΩøÁî® EnumeratePartitions () Âíå UpdatePartitionEntries () Ëé∑ÂèñÂπ∂Êõ¥Êñ∞ÂàÜÂå∫‰ø°ÊÅØ„ÄÇ Â¶ÇÊûúÂ≠òÂú®Â§ö‰∏™ÂêØÂä® slot ÁöÑËØùÔºàËøôÈáåÊåáÊúâ A/B ÂàÜÂå∫ÁöÑ Android ËÆæÂ§áÔºåÂÖ∂‰∏≠ A Âíå B ‰∏ÄËà¨Âç≥‰∏∫‰∏§‰∏™ slotÔºâÔºåÂ∞±ÂØªÊâæÂ∑≤ÊøÄÊ¥ªÁöÑ slot Âπ∂ËÆ∞ÂΩï„ÄÇ Á¥ßÊé•ÁùÄËé∑ÂèñÊåâÈîÆÁä∂ÊÄÅÔºåÂú® SCAN_DOWN Êåâ‰∏ãÊó∂ËÆæÁΩÆÂêØÂä®Ëá≥ fastboot ÁöÑÊ†áËØÜÔºåSCAN_UP ‰∏∫ÂêØÂä®Ëá≥ recovery ÁöÑË°®Á§∫ÔºåËÄå SCAN_ESC Êåâ‰∏ãÊó∂ÂàôÈáçÂêØËÆæÂ§áËá≥ Emergency DownloadÔºàEDLÔºâÊ®°Âºè„ÄÇÁÑ∂ÂêéÁ®ãÂ∫èËé∑ÂèñÈáçÂêØÁöÑÂéüÂõ†Âπ∂ËÆæÁΩÆÁõ∏Â∫îÊ†áËØÜ„ÄÇ Âú®‰∏çÂêØÂä®Ëá≥ fastboot Êó∂ÔºåÂä†ËΩΩÂπ∂È™åËØÅÂêØÂä®ÈïúÂÉèÔºåËã•Âä†ËΩΩÂπ∂È™åËØÅÊàêÂäüÔºåÂàôË∞ÉÁî® BootLinux (&amp;Info) ÂêØÂä® Linux ÂÜÖÊ†∏„ÄÇÂê¶ÂàôË∞ÉÁî® FastbootInitialize () ÂàùÂßãÂåñÂπ∂ËøêË°å fastboot„ÄÇ ÊûÑÂª∫ ÊûÑÂª∫ EDK II ÁöÑÂü∫Á°ÄÂ∑•ÂÖ∑ÈúÄË¶Å‰∏ªÊú∫Êåá‰ª§ÈõÜÁöÑ GCC Â∑•ÂÖ∑ÈõÜÔºåËÄå QcomModulePkg ÈúÄË¶Å LLVM Âíå CLANGÔºåÂõ†Ê≠§ÈúÄË¶ÅÂÆâË£ÖËøô‰∏§‰∏™Â∑•ÂÖ∑„ÄÇ‰πãÂêé‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§ÁºñËØëÔºö 1CLANG_PREFIX=aarch64-linux-gnu- PYTHON_COMMAND=python2 make ËøôÈáåÁî±‰∫éÊàëÁöÑÁ≥ªÁªü python ÊåáÂêëÁöÑÊòØ python3ÔºåËÄå EDK II Âü∫Á°ÄÂ∑•ÂÖ∑ÈõÜÈúÄË¶Å python2ÔºåÂõ†Ê≠§ÊàëÊåáÂÆö‰∫Ü‰ΩøÁî® python2 ‰∏∫ÈªòËÆ§ÁöÑËß£ÈáäÂô®„ÄÇ ÊÄªÁªì Êú¨ÊñáÂàÜÊûê‰∫Ü ABL ÁöÑÈ°πÁõÆÁªìÊûÑÂíåÊï¥‰ΩìÂêØÂä®ÊµÅÁ®ã„ÄÇ‰∏ãÁØáÊñáÁ´†‰∏≠‰ºöËÆ®ËÆ∫Ê≠£Â∏∏ÂêØÂä® LinuxÔºà‰πüÂåÖÂê´ recovery ÁöÑÂêØÂä®ÔºâÁöÑ‰ª£Á†ÅÊµÅÁ®ã„ÄÇ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Android","slug":"Linux/Android","permalink":"https://blog.inoki.cc/categories/Linux/Android/"},{"name":"Bootloader","slug":"Linux/Android/Bootloader","permalink":"https://blog.inoki.cc/categories/Linux/Android/Bootloader/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Android","slug":"Android","permalink":"https://blog.inoki.cc/tags/Android/"},{"name":"ABL","slug":"ABL","permalink":"https://blog.inoki.cc/tags/ABL/"},{"name":"Bootloader","slug":"Bootloader","permalink":"https://blog.inoki.cc/tags/Bootloader/"}]},{"title":"Android bootloader analysis -- Aboot","slug":"android-bootloader-analysis-aboot-en","date":"2021-10-17T10:48:00.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2021/10/17/android-bootloader-analysis-aboot-en/","link":"","permalink":"https://blog.inoki.cc/2021/10/17/android-bootloader-analysis-aboot-en/","excerpt":"","text":"There are already many articles that explain the boot process of Android on Qualcomm platform. From my translation of [Translation] Qualcomm Android device boot chain of trust, it can be summarized as follows. Aboot: Before MSM8994 (Snapdragon 810), the device first loads Qualcomm‚Äôs bootrom (PBL) and SBL to initialise some hardware, and immediately hands over to Aboot, an application built on top of the LittleKernel system, which contains fastboot and enables When using the adb reboot bootloader, this is where it boots and stays in in fastboot. XBL/ABL: After the MSM8996 (Snapdragon 820), PBL loads the new XBL, followed by a chain load of ABL, which is a bootloader built on EDK II to replace Aboot (in fact, on the MSM8996 platform, Aboot is still used because XBL and ABL are not mature enough, with XBL It can choose to boot into Android using fastboot, the system kernel and ramdisk in the system directory, or the recovery ramdisk, depending on the keystroke combination. For both boot modes, the source code for Aboot and ABL can be found on Google or at the Code Aurora Forum: CAF Aboot: [ramdisk CAF Aboot: https://source.codeaurora.org/quic/la/kernel/lk/ CAF ABL: https://source.codeaurora.org/quic/la/abl/tianocore/edk2/ Note that the Qualcomm maintained projects have been hosted on https://git.codelinaro.org/ since 2022 As you can see, the source tree of Aboot is named lk, short for LittleKernel, which is a small symmetric multiprocessing (SMP) operating system kernel, and Aboot is a device-related application built on top of this operating system. This article will briefly analyze the source code of Aboot as an application (excluding encryption and image verification), and cover some of the device-related code. Code Organization The CAF Aboot commit d37db810993015ea77cc5231a95250b250f4eb07 (the master branch commit at the time of writing) is used here for reference. As an application, the source code of Aboot is in app/aboot/, and the core files are aboot.c and fastboot.c, in addition to some auxiliary code that shows hardware-related information. Depending on the SoC, hardware-related code and definitions are located in platform/ and target/, and most of the device drivers are located in dev/. And arch is the architecture related code and kernel is the actual lk kernel code. Overview During the boot process, lk is loaded, and after the architecture and platform-related initialization, the Aboot application is started. In the aboot.c code, the following code registers Aboot as an application and uses aboot_init as the entry point. 123APP_START(aboot) .init = aboot_init,APP_END In this function, the device‚Äôs storage device type is detected as EMMC or flash, and two global variables page_size and page_mask are set according to the corresponding page size, which are later used to determine the size of the kernel, ramdisk, and other components loaded from the storage device. The device base information and oem unlock information is then read and stored in the following structs. 1234567891011struct device_info&#123; unsigned char magic[DEVICE_MAGIC_SIZE]; bool is_unlocked; bool is_tampered; bool is_verified; bool charger_screen_enabled; char display_panel[MAX_PANEL_ID_LEN]; char bootloader_version[MAX_VERSION_LEN]; char radio_version[MAX_VERSION_LEN];&#125;; Then initialize the screen (if any), read the device serial number according to the device definition. Immediately afterwards, the boot mode is determined. If it is force reset (usually a long press of the power button to reboot), it goes directly to normal system boot, otherwise it goes to detect the key. If the volume up and down keys are pressed simultaneously (i.e. keys_get_state(KEY_VOLUMEUP) &amp;&amp; keys_get_state(KEY_VOLUMEDOWN)), the device is rebooted and enters Qualcomm‚Äôs dload mode. If the Volume Up key or Home key is pressed, mark it as entering recovery mode. If the Volume Down key or Back key is pressed, the device is marked as entering fastboot mode. If there is a pre-set reboot mode (e.g., set by adb reboot), boot into the appropriate mode. Finally, check if any fastboot boot mode flag is set, if not, set the partition where the image used for booting is located according to the recovery flag and boot to Linux from EMMC or flash memory (call function boot_linux_from_xxxx()), otherwise leave it in Aboot, register the commands available for fastboot and initialize fastboot. Boot Linux normally (including Recovery) In both normal boot and boot-to-Recovery modes, Aboot loads the kernel and ramdisk from the partition used for booting (typically the boot partition for normal boot and the recovery partition for Recovery mode). A normal boot image consists of a header that stores meta information, and the rest of the image is used to store the kernel, ramdisk, and other components. When the image is flushed, the start of the partition should be read into the following structure. 123456789101112131415161718192021222324struct boot_img_hdr&#123; unsigned char magic[BOOT_MAGIC_SIZE]; unsigned kernel_size; /* size in bytes */ unsigned kernel_addr; /* physical load addr */ unsigned ramdisk_size; /* size in bytes */ unsigned ramdisk_addr; /* physical load addr */ unsigned second_size; /* size in bytes */ unsigned second_addr; /* physical load addr */ unsigned tags_addr; /* physical addr for kernel tags */ unsigned page_size; /* flash page size we assume */ unsigned dt_size; /* device_tree in bytes */ unsigned unused; /* future expansion: should be 0 */ unsigned char name[BOOT_NAME_SIZE]; /* asciiz product name */ unsigned char cmdline[BOOT_ARGS_SIZE]; unsigned id[8]; /* timestamp / checksum / sha1 / etc */&#125;; where kernel_size and ramdisk_size are the size of the kernel and ramdisk to be loaded, and the corresponding xxx_addr is the physical address of the memory to be loaded into (depending on the configuration and device). Before going through the loading of the kernel, ramdisk (and possibly device tree and secondary bootloader, which are ignored here for now), if the device is not unlocked, the kernel needs to be verified and loaded if it passes the verification, for devices that are already unlocked, Aboot will load them directly. Then call the boot_linux function with the read and prepared arguments to prepare the kernel for booting. 123boot_linux((void *)hdr-&gt;kernel_addr, (void *)hdr-&gt;tags_addr, (const char *)hdr-&gt;cmdline, board_machtype(), (void *)hdr-&gt;ramdisk_addr, hdr-&gt;ramdisk_size); In this function, Aboot first updates the kernel‚Äôs command line parameters based on the device, such as the type of device to add to the baseband, the type of storage device, and so on. Then the device tree (if it exists) is updated according to the parameters. The hardware needs to be managed by the kernel, so lk will first turn off some hardware: `target_display Shutting down the display with target_display_shutdown(). call target_uninit() to cancel the hardware initialization performed in lk. call enter_critical_section() to disable device interrupts. initialize Watchdog to monitor for early kernel crashes msm_wdog_init(). call platform_uninit() to clean up platform initialization performed by previous lk. Explicitly invalidate the cache arch_disable_cache(UCACHE) and turn off the memory management unit (MMU) arch_disable_mmu(). Finally, check if the Magic Number of the kernel is 64-bit, so that you can enter the kernel via scm_elexec_call, otherwise you can enter the 32-bit kernel directly in 32-bit mode. Entering fastboot mode If you boot into fastboot, you will first call aboot_fastboot_register_commands() to register the available fastboot commands, and then use fastboot_init to initialize and enter fastboot mode. Note that we will still be in Aboot here, and fastboot is part of Aboot, so to speak. Entering fastboot mode If you boot into fastboot, you will first call aboot_fastboot_register_commands() to register the available fastboot commands, and then use fastboot_init to initialize and enter fastboot mode. Note that we will still be in Aboot here, and fastboot is part of Aboot, so to speak. Registering the fastboot command When registering commands, fastboot_register is a very important function that accepts commands and callback functions as arguments. In this version, the available commands are. 123456789101112131415&#123;\"flash:\", cmd_flash&#125;,&#123;\"erase:\", cmd_erase&#125;,&#123;\"boot\", cmd_boot&#125;,&#123;\"continue\", cmd_continue&#125;,&#123;\"reboot\", cmd_reboot&#125;,&#123;\"reboot-bootloader\", cmd_reboot_bootloader&#125;,&#123;\"oem unlock\", cmd_oem_unlock&#125;,&#123;\"oem unlock-go\", cmd_oem_unlock_go&#125;,&#123;\"oem lock\", cmd_oem_lock&#125;,&#123;\"oem verified\", cmd_oem_verified&#125;,&#123;\"oem device-info\", cmd_oem_devinfo&#125;,&#123;\"preflash\", cmd_preflash&#125;,&#123;\"oem enable-charger-screen\", cmd_oem_enable_charger_screen&#125;, &#123;\"oem enable-charger-screen\", cmd_oem_enable_charger_screen&#125;,&#123;\"oem disable-charger-screen\", cmd_oem_disable_charger_screen&#125;, &#123;\"oem disable-charger-screen\", cmd_oem_disable_charger_screen&#125;,&#123;\"oem select-display-panel\", cmd_oem_select_display_panel&#125;, In addition, fastboot_publish can add some variables that can be considered as fastboot‚Äôs environment variables. Initialize and enter fastboot The fastboot_init function that is called is defined in fastboot.c. 1int fastboot_init(void *base, unsigned size); It first calls target_fastboot_init() to initialize the hardware of a particular device, more importantly the USB interface. This is a device-specific function, for example for the MSM8974 device, it is implemented as follows. 12345678910void target_fastboot_init(void)&#123; /* Set the BOOT_DONE flag in PM8921 */ pm8x41_set_boot_done();#ifdef SSD_ENABLE clock_ce_enable(SSD_CE_INSTANCE_1); ssd_load_keystore_from_emmc();#endif&#125; Located in target/msm8974/init.c. After this, the USB hardware should be set up, and Aboot then configures and initializes a USB UDC device on the USB interface to receive and send fastboot-related USB packets. Finally, create a lk thread to handle fastboot-related events and initialize the USB interface to receive fastboot commands. Conclusion This article briefly describes and analyzes the implementation of the Aboot boot loader for Android based on the lk kernel prior to 2016, but does not go too far into how lk is built and set up for a particular platform or architecture. We hope you find this helpful. Additions Note that both ARM32 and AArch64 devices run lk and its application Aboot in 32-bit mode, and it is only when the kernel is loaded that the kernel is determined to be 32-bit or 64-bit, and then the kernel is booted in the appropriate boot mode. At load time, Aboot uses the VA() macro to map the physical address to the virtual address read by lk and loads the kernel to that address, as the MMU may exist.","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Android","slug":"Linux/Android","permalink":"https://blog.inoki.cc/categories/Linux/Android/"},{"name":"Bootloader","slug":"Linux/Android/Bootloader","permalink":"https://blog.inoki.cc/categories/Linux/Android/Bootloader/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Android","slug":"Android","permalink":"https://blog.inoki.cc/tags/Android/"},{"name":"Bootloader","slug":"Bootloader","permalink":"https://blog.inoki.cc/tags/Bootloader/"},{"name":"Aboot","slug":"Aboot","permalink":"https://blog.inoki.cc/tags/Aboot/"}]},{"title":"Android ÂêØÂä®Âä†ËΩΩÂô®ÂàÜÊûê ‚Äî‚Äî Aboot","slug":"android-bootloader-analysis-aboot","date":"2021-10-17T10:48:00.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2021/10/17/android-bootloader-analysis-aboot/","link":"","permalink":"https://blog.inoki.cc/2021/10/17/android-bootloader-analysis-aboot/","excerpt":"","text":"Â∑≤ÁªèÊúâÂæàÂ§öÊñáÁ´†Ëß£ÊûêËøá Android Âú®È´òÈÄöÂπ≥Âè∞ÁöÑÂêØÂä®ÊµÅÁ®ã‰∫Ü„ÄÇ‰ªéÊàëÁøªËØëÁöÑ„ÄêËØë„ÄëÈ´òÈÄö Android ËÆæÂ§áÁöÑÂêØÂä®‰ø°‰ªªÈìæ‰∏≠ÔºåÂèØ‰ª•ÊÄªÁªì‰∏∫‰∏ãÔºö AbootÔºöÂú® MSM8994ÔºàSnapdragon 810Ôºâ‰πãÂâçÔºåËÆæÂ§áÈ¶ñÂÖàÂä†ËΩΩÈ´òÈÄöÁöÑ bootromÔºàPBLÔºâÂíå SBL Êù•ÂàùÂßãÂåñ‰∏Ä‰∫õÁ°¨‰ª∂ÔºåÁ¥ßÊé•ÁùÄ‰∫§Áªô AbootÔºåËøô‰∏™Á®ãÂ∫èÊòØÂú® LittleKernel Á≥ªÁªüÁöÑÂü∫Á°Ä‰∏äÊûÑÂª∫ÁöÑ‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÔºåÂÆÉÂåÖÂê´‰∫Ü fastbootÔºåÂèØ‰ª•ÂÆûÁé∞Ê≠£Â∏∏ÂêØÂä® boot ÂàÜÂå∫ÁöÑÈïúÂÉèÔºàÂåÖÂê´ Linux Kernel Âíå ramdiskÔºâ„ÄÅÊàñÊòØÊ†πÊçÆÁâπÂÆöÊåâÈîÆÁªÑÂêàÂêØÂä® recovery ‰∏≠ÁöÑÈïúÂÉèÔºà‰∏ÄËà¨‰∏∫ recoveryÔºâÊàñÁïôÂú® Aboot ‰∏≠ÁöÑ Fastboot„ÄÇÂΩì‰ΩøÁî® adb reboot bootloader Êó∂ÔºåÂ∞±ÊòØÂêØÂä®Âà∞ËøôÈáåÂπ∂ÂÅúÁïôÂú® fastboot ‰∏≠Ôºõ XBL/ABLÔºöÂú® MSM8996ÔºàSnapdragon 820Ôºâ‰πãÂêéÔºåPBL Âä†ËΩΩÂÖ®Êñ∞ÁöÑ XBLÔºåÁ¥ßÊé•ÁùÄÈìæÂºèÂä†ËΩΩ ABLÔºåËøô‰∏™Á®ãÂ∫èÊòØÂü∫‰∫é EDK II ÊûÑÂª∫ÁöÑÁî®Êù•ÊõøÊç¢ Aboot ÁöÑÂêØÂä®Âä†ËΩΩÂô®ÔºàÂÆûÈôÖ‰∏äÂú® MSM8996 Âπ≥Âè∞ÔºåÁî±‰∫é XBL Âíå ABL ‰∏çÂ§üÊàêÁÜüÔºå‰ªç‰ΩøÁî® AbootÔºåÁî± XBL Êù•ÂØπÂÖ∂ËøõË°åÂä†ËΩΩÔºâÔºåÂÆÉÂèØ‰ª•Ê†πÊçÆÊåâÈîÆÁªÑÂêàÈÄâÊã©ÁïôÂú® fastboot„ÄÅ‰ΩøÁî®Á≥ªÁªü kernel ÂíåÂú®Á≥ªÁªüÁõÆÂΩïÁöÑ ramdisk ÂêØÂä®Âà∞ Android Á≥ªÁªü„ÄÅÊàñÊòØ‰ΩøÁî® recovery ÁöÑ ramdisk ÂêØÂä®Âà∞ Recovery„ÄÇ Ëøô‰∏§ÁßçÂêØÂä®Ê®°Âºè‰∏≠ÔºåAboot Âíå ABL ÁöÑÊ∫êÁ†ÅÈÉΩÂèØ‰ª•Âú® Google ÊàñÊòØ Code Aurora Forum Â§ÑÊâæÂà∞Ôºö CAF AbootÔºöhttps://source.codeaurora.org/quic/la/kernel/lk/ CAF ABLÔºöhttps://source.codeaurora.org/quic/la/abl/tianocore/edk2/ ÂèØ‰ª•ÁúãÂà∞ÔºåAboot ÁöÑÊ∫êÁ†ÅÊ†ëÂêç‰∏∫ lkÔºåÂç≥ LittleKernel ÁöÑÁÆÄÁß∞ÔºåÂÆÉÊòØ‰∏Ä‰∏™ÂØπÁß∞Â§öÂ§ÑÁêÜÔºàSMPÔºâÁöÑÂ∞èÂûãÊìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏ÔºåËÄå Aboot ÊòØÂú®Ëøô‰∏™Êìç‰ΩúÁ≥ªÁªüÁöÑÂü∫Á°Ä‰∏äÊûÑÂª∫ÁöÑ‰∏Ä‰∏™ËÆæÂ§áÁõ∏ÂÖ≥ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇÊú¨ÊñáÂ∞ÜÂØπ Aboot ‰Ωú‰∏∫Â∫îÁî®Á®ãÂ∫èÈÉ®ÂàÜÁöÑÊ∫êÁ†ÅËøõË°åÁÆÄË¶ÅÂàÜÊûêÔºà‰∏çÂåÖÊã¨Âä†ÂØÜ‰∏éÈïúÂÉèÈ™åËØÅÔºâÔºåÂπ∂Ê∂âÂèä‰∏ÄÈÉ®ÂàÜËÆæÂ§áÁõ∏ÂÖ≥‰ª£Á†Å„ÄÇ ‰ª£Á†ÅÁªÑÁªá ËøôÈáå‰ΩøÁî® CAF Aboot ‰∏≠ commit d37db810993015ea77cc5231a95250b250f4eb07ÔºàÂú®ÊàêÊñáÊó∂ÁöÑ master ÂàÜÊîØÊèê‰∫§Ôºâ‰∏∫ÂèÇËÄÉ„ÄÇ ‰Ωú‰∏∫‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÔºåAboot ÁöÑÊ∫êÁ†ÅÂú® app/aboot/ ‰∏≠ÔºåÊ†∏ÂøÉÊñá‰ª∂‰∏∫ aboot.c Âíå fastboot.cÔºåÈô§Ê≠§‰πãÂ§ñÂÖ∂‰∏≠ËøòÊúâ‰∏Ä‰∫õÊòæÁ§∫Á°¨‰ª∂Áõ∏ÂÖ≥ÁöÑËæÖÂä©‰ª£Á†Å„ÄÇÊ†πÊçÆ SoC ‰∏çÂêåÔºåÁ°¨‰ª∂Áõ∏ÂÖ≥ÁöÑ‰ª£Á†ÅÂíåÂÆö‰πâÂàÜÂ∏ÉÂú® platform/ Âíå target/ ‰∏≠ÔºåÂ§ßÈÉ®ÂàÜËÆæÂ§áÈ©±Âä®ÈÉΩ‰Ωç‰∫é dev/ ‰∏≠„ÄÇËÄå arch ‰∏∫Êû∂ÊûÑÁõ∏ÂÖ≥‰ª£Á†ÅÔºåkernel ‰∏∫ÂÆûÈôÖÁöÑ lk ÂÜÖÊ†∏‰ª£Á†Å„ÄÇ Êï¥‰ΩìÊµÅÁ®ã ÂêØÂä®ËøáÁ®ã‰∏≠Ôºålk Ë¢´Âä†ËΩΩÔºåÂÆåÊàêÊû∂ÊûÑÂíåÂπ≥Âè∞Áõ∏ÂÖ≥ÁöÑÂàùÂßãÂåñ‰πãÂêéÔºåÂêØÂä® Aboot Ëøô‰∏™Â∫îÁî®Á®ãÂ∫è„ÄÇÂú® aboot.c ‰ª£Á†Å‰∏≠Ôºå‰ª•‰∏ã‰ª£Á†ÅÊ≥®ÂÜå Aboot ‰∏∫‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÔºåÂπ∂Â∞Ü aboot_init ‰Ωú‰∏∫ÂÖ•Âè£Ôºö 123APP_START(aboot) .init = aboot_init,APP_END Âú®Ëøô‰∏™ÂáΩÊï∞‰∏≠Ôºå‰ºöÊ£ÄÊµãËÆæÂ§áÁöÑÂÇ®Â≠òËÆæÂ§áÁ±ªÂûã‰∏∫ EMMC ËøòÊòØÈó™Â≠òÔºåÂπ∂Ê†πÊçÆÁõ∏Â∫îÁöÑ page Â§ßÂ∞èËÆæÁΩÆ page_size Âíå page_mask ‰∏§‰∏™ÂÖ®Â±ÄÂèòÈáèÔºåËøô‰∏§‰∏™ÂèòÈáèÂú®‰πãÂêéÁî®‰∫éÁ°ÆÂÆö‰ªéÂÇ®Â≠òËÆæÂ§á‰∏≠Âä†ËΩΩÁöÑÂÜÖÊ†∏„ÄÅramdisk Á≠âÁªÑ‰ª∂ÁöÑÂ§ßÂ∞è„ÄÇ ÁÑ∂ÂêéËØªÂèñËÆæÂ§áÁöÑÂü∫Á°Ä‰ø°ÊÅØÂíå oem Ëß£ÈîÅ‰ø°ÊÅØÔºåÂÇ®Â≠òÂà∞‰ª•‰∏ãÁªìÊûÑ‰Ωì‰∏≠Ôºö 1234567891011struct device_info&#123; unsigned char magic[DEVICE_MAGIC_SIZE]; bool is_unlocked; bool is_tampered; bool is_verified; bool charger_screen_enabled; char display_panel[MAX_PANEL_ID_LEN]; char bootloader_version[MAX_VERSION_LEN]; char radio_version[MAX_VERSION_LEN];&#125;; ÁÑ∂ÂêéÊ†πÊçÆËÆæÂ§áÂÆö‰πâÂàùÂßãÂåñÂ±èÂπïÔºàÂ¶ÇÊûúÊúâÁöÑËØùÔºâ„ÄÅËØªÂèñËÆæÂ§áÂ∫èÂàóÂè∑„ÄÇ Á¥ßÊé•ÁùÄÂ∞±ËøõÂÖ•ÂêØÂä®Ê®°ÂºèÁöÑÁ°ÆÂÆöÔºö Â¶ÇÊûúÊòØ force resetÔºà‰∏ÄËà¨‰∏∫ÈïøÊåâÁîµÊ∫êÈîÆÈáçÂêØÔºâÔºåÂàôÁõ¥Êé•ËøõÂÖ•Ê≠£Â∏∏Á≥ªÁªüÂêØÂä®ÔºåÂê¶Âàô‰ºöÂéªÊ£ÄÊµãÊåâÈîÆÔºõ Â¶ÇÊûúÊòØÈü≥Èáè‰∏ä‰∏ãÈîÆÂêåÊó∂Êåâ‰∏ãÔºàÂç≥ keys_get_state(KEY_VOLUMEUP) &amp;&amp; keys_get_state(KEY_VOLUMEDOWN)ÔºâÔºåÂàôÈáçÂêØËÆæÂ§áÂπ∂ËøõÂÖ•È´òÈÄöÁöÑ dload Ê®°ÂºèÔºõ Â¶ÇÊûúÈü≥Èáè‰∏äÈîÆÊàñËÄÖ Home ÈîÆË¢´Êåâ‰∏ãÔºåÊ†áËÆ∞‰∏∫ËøõÂÖ• recovery Ê®°ÂºèÔºõ Â¶ÇÊûúÈü≥Èáè‰∏ãÈîÆÊàñËÄÖ Back ÈîÆË¢´Êåâ‰∏ãÔºåÊ†áËÆ∞‰∏∫ËøõÂÖ• fastboot Ê®°ÂºèÔºõ Â¶ÇÊûúÊúâÈ¢ÑÂÖàËÆæÁΩÆÁöÑ reboot Ê®°ÂºèÔºàÊØîÂ¶Ç adb reboot ËÆæÁΩÆÁöÑÔºâÔºåÂàôÂêØÂä®Âà∞Áõ∏Â∫îÁöÑÊ®°ÂºèÔºõ ÊúÄÂêéÔºåÊ£ÄÊµãÊòØÂê¶Êúâ fastboot ÂêØÂä®Ê®°ÂºèÁöÑÊ†áËÆ∞Ë¢´ËÆæÁΩÆ‰∫ÜÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàôÊ†πÊçÆ recovery ÁöÑÊ†áËÆ∞ËÆæÁΩÆÂêØÂä®ÊâÄÁî®ÁöÑÈïúÂÉèÊâÄÂú®ÂàÜÂå∫ÔºåÂπ∂‰ªé EMMC ÊàñÈó™Â≠òÂêØÂä®Âà∞ LinuxÔºàË∞ÉÁî®ÂáΩÊï∞ boot_linux_from_xxxx()ÔºâÔºåÂê¶ÂàôÂ∞±ÁïôÂú® Aboot ‰∏≠ÔºåÊ≥®ÂÜå fastboot ÂèØÁî®ÁöÑÂëΩ‰ª§Âπ∂ÂàùÂßãÂåñ fastboot„ÄÇ Ê≠£Â∏∏ÂêØÂä® LinuxÔºàÂåÖÊã¨ RecoveryÔºâ Âú®Ê≠£Â∏∏ÂêØÂä®ÂíåÂêØÂä®Ëá≥ Recovery ‰∏§ÁßçÊ®°Âºè‰∏ãÔºåAboot ÈÉΩ‰ºö‰ªéÂêØÂä®ÊâÄÁî®ÂàÜÂå∫ÔºàÂØπÊ≠£Â∏∏ÂêØÂä®Êù•ËØ¥‰∏ÄËà¨‰∏∫ boot ÂàÜÂå∫ÔºåËÄå Recovery Ê®°Âºè‰∏∫ recovery ÂàÜÂå∫ÔºâÂä†ËΩΩÂÜÖÊ†∏Âíå ramdisk„ÄÇ ‰∏Ä‰∏™Ê≠£Â∏∏ÁöÑÂêØÂä®ÈïúÂÉèÁî± header ÂÇ®Â≠òÂÖÉ‰ø°ÊÅØÔºåÂâ©‰∏ãÁöÑÈÉ®ÂàÜÁî®Êù•Â≠òÊîæÂÜÖÊ†∏„ÄÅramdisk Á≠âÁªÑ‰ª∂„ÄÇÂΩìÂà∑ÂÖ•ÈïúÂÉèÊó∂ÔºåÂàÜÂå∫ÁöÑÂºÄÂßãÂ∫îÂΩìÂèØ‰ª•Ë¢´ËØªÂèñÂà∞‰ª•‰∏ãÁªìÊûÑ‰∏≠Ôºö 123456789101112131415161718192021222324struct boot_img_hdr&#123; unsigned char magic[BOOT_MAGIC_SIZE]; unsigned kernel_size; /* size in bytes */ unsigned kernel_addr; /* physical load addr */ unsigned ramdisk_size; /* size in bytes */ unsigned ramdisk_addr; /* physical load addr */ unsigned second_size; /* size in bytes */ unsigned second_addr; /* physical load addr */ unsigned tags_addr; /* physical addr for kernel tags */ unsigned page_size; /* flash page size we assume */ unsigned dt_size; /* device_tree in bytes */ unsigned unused; /* future expansion: should be 0 */ unsigned char name[BOOT_NAME_SIZE]; /* asciiz product name */ unsigned char cmdline[BOOT_ARGS_SIZE]; unsigned id[8]; /* timestamp / checksum / sha1 / etc */&#125;; ÂÖ∂‰∏≠ kernel_size Âíå ramdisk_size ÊòØË¶ÅÂä†ËΩΩÁöÑÂÜÖÊ†∏Âíå ramdisk ÁöÑÂ§ßÂ∞èÔºåÂØπÂ∫îÁöÑ xxx_addr ÊòØÈúÄË¶ÅÂä†ËΩΩÂà∞ÁöÑÂÜÖÂ≠òÁöÑÁâ©ÁêÜÂú∞ÂùÄÔºàÂèñÂÜ≥‰∫éÈÖçÁΩÆÂíåËÆæÂ§áÔºâ„ÄÇ Âú®ÁªèËøáÂÜÖÊ†∏„ÄÅramdiskÔºà‰πüÂèØËÉΩÊúâ device tree Âíå secondary bootloaderÔºåËøôÈáåÊöÇÊó∂ÂøΩÁï•ÔºâÁöÑÂä†ËΩΩÂâçÔºåËã•ËÆæÂ§áÊú™Ëß£ÈîÅÔºåÂàôÈúÄË¶ÅÈ™åËØÅÂÜÖÊ†∏Âπ∂Âú®È™åËØÅÈÄöËøáÁöÑÊÉÖÂÜµÂä†ËΩΩÔºåÂØπ‰∫éÂ∑≤ÁªèËß£ÈîÅÁöÑËÆæÂ§áÔºåAboot ‰ºöÁõ¥Êé•Âä†ËΩΩ„ÄÇ ÁÑ∂Âêé‰ΩøÁî®ËØªÂèñÁöÑÂíåÂáÜÂ§áÂ•ΩÁöÑÂèÇÊï∞Ë∞ÉÁî® boot_linux ÂáΩÊï∞ÂáÜÂ§áÂêØÂä®ÂÜÖÊ†∏„ÄÇ 123boot_linux((void *)hdr-&gt;kernel_addr, (void *)hdr-&gt;tags_addr, (const char *)hdr-&gt;cmdline, board_machtype(), (void *)hdr-&gt;ramdisk_addr, hdr-&gt;ramdisk_size); Âú®Ëøô‰∏™ÂáΩÊï∞‰∏≠ÔºåAboot ‰ºöÂÖàÊ†πÊçÆËÆæÂ§áÊõ¥Êñ∞ÂÜÖÊ†∏ÁöÑÂëΩ‰ª§Ë°åÂèÇÊï∞ÔºåÊØîÂ¶ÇÂä†ÂÖ•Âü∫Â∏¶ÁöÑËÆæÂ§áÁ±ªÂûã„ÄÅÂÇ®Â≠òËÆæÂ§áÁ±ªÂûãÁ≠â„ÄÇÁÑ∂ÂêéÊ†πÊçÆÂèÇÊï∞Êõ¥Êñ∞ device treeÔºàÂ¶ÇÊûúÂ≠òÂú®Ôºâ„ÄÇ ‰πãÂêéÂ∞±Ë¶ÅÂáÜÂ§áÂêØÂä®ÂÜÖÊ†∏‰∫ÜÔºåÁ°¨‰ª∂ÈúÄË¶ÅÁî±ÂÜÖÊ†∏ÁÆ°ÁêÜÔºåÂõ†Ê≠§ lk ‰ºöÂÖàÂ∞Ü‰∏Ä‰∫õÁ°¨‰ª∂ÂÖ≥Èó≠Ôºö ‰ΩøÁî® target_display_shutdown() ÂÖ≥Èó≠ÊòæÁ§∫Ôºõ Ë∞ÉÁî® target_uninit() ÂèñÊ∂à lk ‰∏≠ËøõË°åÁöÑÁ°¨‰ª∂ÂàùÂßãÂåñÔºõ Ë∞ÉÁî® enter_critical_section() Á¶ÅÁî®ËÆæÂ§á‰∏≠Êñ≠Ôºõ ÂàùÂßãÂåñ Watchdog Êù•ÁõëÊéßÊó©ÊúüÁöÑÂÜÖÊ†∏Â¥©Ê∫É msm_wdog_init()Ôºõ Ë∞ÉÁî® platform_uninit() Ê∏ÖÁêÜ‰πãÂâç lk ËøõË°åÁöÑÁöÑÂπ≥Âè∞ÂàùÂßãÂåñÔºõ ÊòæÂºèËÆ©ÁºìÂ≠òÂ§±Êïà arch_disable_cache(UCACHE) Âπ∂ÂÖ≥Èó≠ÂÜÖÂ≠òÁÆ°ÁêÜÂçïÂÖÉÔºàMMUÔºâarch_disable_mmu()„ÄÇ ÊúÄÂêéÔºåÊ£ÄÊµãÂÜÖÊ†∏ÁöÑ Magic Number ÊòØÂê¶‰∏∫ 64 ‰ΩçÔºå‰ªéËÄåÈÄöËøá scm_elexec_call ËøõÂÖ•ÂÜÖÊ†∏ÔºåÂê¶ÂàôÁõ¥Êé•‰ª• 32 ‰ΩçÊ®°ÂºèËøõÂÖ• 32 ‰ΩçÂÜÖÊ†∏„ÄÇ ËøõÂÖ• fastboot Ê®°Âºè Â¶ÇÊûúÂêØÂä®Ëá≥ fastbootÔºå‰ºöÂÖàË∞ÉÁî® aboot_fastboot_register_commands() Ê≥®ÂÜåÂèØÁî®ÁöÑ fastboot ÂëΩ‰ª§ÔºåÁÑ∂Âêé‰ΩøÁî® fastboot_init ÂàùÂßãÂåñÂπ∂ËøõÂÖ• fastboot Ê®°Âºè„ÄÇÊ≥®ÊÑèÔºåËøôÈáåÊàë‰ª¨‰ªç‰ºöÂú® Aboot ‰∏≠ÔºåÂèØ‰ª•ËØ¥ fastboot ÊòØ Aboot ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ Ê≥®ÂÜå fastboot ÂëΩ‰ª§ Âú®Ê≥®ÂÜåÂëΩ‰ª§Êó∂Ôºåfastboot_register ÊòØ‰∏Ä‰∏™ÂæàÈáçË¶ÅÁöÑÂáΩÊï∞ÔºåÂÆÉÊé•ÂèóÂëΩ‰ª§ÂíåÂõûË∞ÉÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞„ÄÇÂú®Ëøô‰∏™ÁâàÊú¨‰∏≠ÔºåÂèØÁî®ÁöÑÂëΩ‰ª§ÊúâÔºö 123456789101112131415&#123;\"flash:\", cmd_flash&#125;,&#123;\"erase:\", cmd_erase&#125;,&#123;\"boot\", cmd_boot&#125;,&#123;\"continue\", cmd_continue&#125;,&#123;\"reboot\", cmd_reboot&#125;,&#123;\"reboot-bootloader\", cmd_reboot_bootloader&#125;,&#123;\"oem unlock\", cmd_oem_unlock&#125;,&#123;\"oem unlock-go\", cmd_oem_unlock_go&#125;,&#123;\"oem lock\", cmd_oem_lock&#125;,&#123;\"oem verified\", cmd_oem_verified&#125;,&#123;\"oem device-info\", cmd_oem_devinfo&#125;,&#123;\"preflash\", cmd_preflash&#125;,&#123;\"oem enable-charger-screen\", cmd_oem_enable_charger_screen&#125;,&#123;\"oem disable-charger-screen\", cmd_oem_disable_charger_screen&#125;,&#123;\"oem select-display-panel\", cmd_oem_select_display_panel&#125;, Èô§Ê≠§‰πãÂ§ñÔºåfastboot_publish ÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∫õÂèòÈáèÔºåÂèØ‰ª•ËØ¥ÊòØ fastboot ÁöÑÁéØÂ¢ÉÂèòÈáè„ÄÇ ÂàùÂßãÂåñÂπ∂ËøõÂÖ• fastboot Ë∞ÉÁî®ÁöÑ fastboot_init ÂáΩÊï∞ÂÆö‰πâÂú® fastboot.c ‰∏≠Ôºö 1int fastboot_init(void *base, unsigned size); ÂÖ∂È¶ñÂÖàË∞ÉÁî® target_fastboot_init() ÂàùÂßãÂåñÁâπÂÆöËÆæÂ§áÁöÑÁ°¨‰ª∂ÔºåÊØîËæÉÈáçË¶ÅÁöÑÊòØ USB Êé•Âè£„ÄÇËøôÊòØ‰∏Ä‰∏™ËÆæÂ§áÁâπÂÆöÁöÑÂáΩÊï∞ÔºåÊØîÂ¶ÇÂØπ‰∫é MSM8974 ËÆæÂ§áÔºåÂÆÉÁöÑÂÆûÁé∞Â¶Ç‰∏ãÔºö 12345678910void target_fastboot_init(void)&#123; /* Set the BOOT_DONE flag in PM8921 */ pm8x41_set_boot_done();#ifdef SSD_ENABLE clock_ce_enable(SSD_CE_INSTANCE_1); ssd_load_keystore_from_emmc();#endif&#125; ‰Ωç‰∫é target/msm8974/init.c ‰∏≠„ÄÇ Âú®Ëøô‰πãÂêéÔºåUSB Á°¨‰ª∂Â∫îÂΩìÂ∑≤ÁªèËÆæÁΩÆÂ•Ω‰∫ÜÔºåAboot Â∞±Âú® USB Êé•Âè£‰∏äÈÖçÁΩÆÂπ∂ÂàùÂßãÂåñ‰∏Ä‰∏™ USB UDC ËÆæÂ§áÔºåÁî®Êù•Êé•Êî∂ÂíåÂèëÈÄÅ fastboot Áõ∏ÂÖ≥ÁöÑ USB ÂåÖ„ÄÇ ÊúÄÂêéÔºåÂàõÂª∫‰∏Ä‰∏™ lk ÁöÑÁ∫øÁ®ãÊù•Â§ÑÁêÜ fastboot Áõ∏ÂÖ≥‰∫ã‰ª∂ÔºåÂπ∂ÂàùÂßãÂåñ USB ÁöÑÊé•Âè£Êù•Êé•Êî∂ fastboot ÂëΩ‰ª§„ÄÇ ÁªìËÆ∫ ËøôÁØáÊñáÁ´†ÁÆÄË¶ÅÊèèËø∞ÂíåÂàÜÊûê‰∫Ü 2016 Âπ¥‰πãÂâç„ÄÅÂü∫‰∫é lk ÂÜÖÊ†∏ÁöÑ Android ‰ΩøÁî®ÁöÑ Aboot ÂêØÂä®Âä†ËΩΩÂô®ÁöÑÂÆûÁé∞Ôºå‰ΩÜÂπ∂Ê≤°ÊúâÂ§™ËøáÊ∑±ÂÖ• lk ÈíàÂØπÊüê‰∏ÄÂπ≥Âè∞ÊàñËÄÖÊüê‰∏ÄÊû∂ÊûÑËøõË°åÊûÑÂª∫ÂíåËÆæÁΩÆÁöÑÂÜÖÂÆπ„ÄÇÂ∏åÊúõÂØπÊÇ®ÊúâÊâÄÂ∏ÆÂä©„ÄÇ Ë°•ÂÖÖ ËØ∑Ê≥®ÊÑèÔºåÊó†ËÆ∫ ARM32 ËøòÊòØ AArch64 ÁöÑËÆæÂ§áÔºåÈÉΩ‰ºöÂú® 32 ‰ΩçÊ®°Âºè‰∏ãËøêË°å lk ÂíåÂÖ∂‰∏≠ÁöÑÂ∫îÁî®Á®ãÂ∫è AbootÔºåÂú®Âä†ËΩΩÂÜÖÊ†∏Êó∂Êâç‰ºöÁ°ÆÂÆö‰ΩøÁî®ÁöÑÂÜÖÊ†∏‰∏∫ 32 ‰ΩçÊàñÊòØ 64 ‰ΩçÔºåËøõËÄåÈÄöËøáÁõ∏Â∫îÁöÑÂêØÂä®Ê®°ÂºèÂêØÂä®ÂÜÖÊ†∏„ÄÇ Âú®Âä†ËΩΩÁöÑÊó∂ÂÄôÔºåÁî±‰∫é MMU ÂèØËÉΩÂ≠òÂú®ÔºåAboot ÈÄöËøá VA() ÂÆèÂ∞ÜÁâ©ÁêÜÂú∞ÂùÄÊò†Â∞ÑÂà∞ lk ËØªÂèñÂà∞ÁöÑËôöÊãüÂú∞ÂùÄ‰∏äÔºåÂπ∂ÊääÂÜÖÊ†∏Âä†ËΩΩÂà∞ËØ•Âú∞ÂùÄ„ÄÇ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Android","slug":"Linux/Android","permalink":"https://blog.inoki.cc/categories/Linux/Android/"},{"name":"Bootloader","slug":"Linux/Android/Bootloader","permalink":"https://blog.inoki.cc/categories/Linux/Android/Bootloader/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Android","slug":"Android","permalink":"https://blog.inoki.cc/tags/Android/"},{"name":"Bootloader","slug":"Bootloader","permalink":"https://blog.inoki.cc/tags/Bootloader/"},{"name":"Aboot","slug":"Aboot","permalink":"https://blog.inoki.cc/tags/Aboot/"}]},{"title":"„ÄêËØë„ÄëÈ´òÈÄö Android ËÆæÂ§áÁöÑÂêØÂä®‰ø°‰ªªÈìæ","slug":"android-qcom-chain-of-trust","date":"2021-10-17T09:40:00.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2021/10/17/android-qcom-chain-of-trust/","link":"","permalink":"https://blog.inoki.cc/2021/10/17/android-qcom-chain-of-trust/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://lineageos.org/engineering/Qualcomm-Firmware/ È´òÈÄöÂÖ¨Âè∏ÁöÑ‰ø°‰ªªÈìæÊòØ‰∏Ä‰∏™Â§çÊùÇÁöÑÔºå‰ΩÜÂèàÁÆÄÂçïÊòìÊáÇÁöÑÁ®ãÂ∫èÈõÜ„ÄÇ‰Ω†‰ª¨‰∏≠ÁöÑËÆ∏Â§ö‰∫∫ÂèØËÉΩÂê¨ËØ¥Ëøá‚ÄúÂêØÂä®ÂºïÂØºÁ®ãÂ∫è‚ÄùËøô‰∏™ÊúØËØ≠Ôºå‰ΩÜ‰∏çÁü•ÈÅìÂÆÉÂÆûÈôÖ‰∏äÊòØ‰ªÄ‰πàÔºåÊàñÂÅö‰ªÄ‰πà„ÄÇÂú®‰ªäÂ§©ÁöÑÊñáÁ´†‰∏≠ÔºåÊàë‰ª¨Â∞Ü‰ªãÁªç‰∏éÈ´òÈÄöÂÖ¨Âè∏ËäØÁâáÁªÑÊúâÂÖ≥ÁöÑ‰∏äËø∞ÂÜÖÂÆπ„ÄÇ ÊúØËØ≠ ÂºïÂØºÂô®ÔºöÂºïÂØºÈìæ‰∏≠ÁöÑ‰∏Ä‰∏™ÁéØËäÇÁöÑÊÄªÁß∞ÔºåÂÆÉÊúâ‰∏Ä‰∏™ÁâπÂÆöÁöÑÂ∑•‰ΩúÔºåÂú®ÊØèÊ¨°ÂÜ∑ÂêØÂä®Êó∂ËøêË°å„ÄÇ ÂÜ∑ÂêØÂä®Ôºö‰ªéÊñ≠ÁîµÁä∂ÊÄÅÈáçÊñ∞ÂêØÂä®„ÄÇ QFUSEÔºöÈõÜÊàêÂú® SoC ‰∏≠ÁöÑÂæÆËßÇÁ°¨‰ª∂‰øùÈô©‰∏ù - ‰∏ÄÊó¶Áâ©ÁêÜ‰∏äË¢´ÁÜîÊñ≠ÔºåÂ∞±Êó†Ê≥ïÈáçÁΩÆÊàñÊõ¥Êç¢„ÄÇ SoCÔºöÁâá‰∏äÁ≥ªÁªüÔºà‰Ω†ÁöÑÊâãÊú∫ÁöÑ‚Äú‰∏ªÊùø‚ÄùÁöÑ‰∏ÄÁßçÔºâ„ÄÇ EFUSE: Âü∫‰∫éËΩØ‰ª∂ÁöÑ‰øùÈô©‰∏ùÔºåÂÖ∂Êï∞ÊçÆÂ≠òÂÇ®Âú® QFPROM ‰∏≠„ÄÇ QFPROMÔºöÈ´òÈÄöÂÖ¨Âè∏ÁöÑÁÜîÊñ≠Âô®Âå∫Âüü„ÄÇ TrustZoneÔºöÈ´òÈÄöÂÖ¨Âè∏ ARM ËäØÁâáÁªÑÁöÑ‚ÄúÂÆâÂÖ®Âüü‚ÄùÂÆûÁé∞„ÄÇ QSEECOMÔºö‰∏Ä‰∏™ Linux ÂÜÖÊ†∏È©±Âä®ÔºåËÆ©Êàë‰ª¨‰∏é TrustZone ËøõË°åÈÄö‰ø°ÔºåÂπ∂Âêë TrustZone ÂèëÂá∫‰∏Ä‰∏™ SCM Ë∞ÉÁî®Ôºå‰ª•ÂÆåÊàê‰øùÈô©‰∏ùÁÜîÊñ≠Á≠âÊìç‰Ωú„ÄÇÂÆÉÂè™ÂÖÅËÆ∏ÁªèËøáÁ≠æÂêçÁöÑÂ∞èÁ®ãÂ∫èÂíåÁªèËøáÊâπÂáÜÁöÑË∞ÉÁî®„ÄÇ SCMÔºöÂÆâÂÖ®ÈÄöÈÅìÁÆ°ÁêÜÂô®ÔºàÊ≥®Ôºö‰∏é Linux ÁöÑ SMC Ë∞ÉÁî®Êó†ÂÖ≥Ôºâ„ÄÇ DTBÔºöËÆæÂ§áÊ†ë Blob ‰∫åËøõÂà∂„ÄÇÂÖ∂ÁõÆÁöÑÊòØ‰∏∫ Linux Êèê‰æõ‚Äú‰∏ÄÁßçÊèèËø∞‰∏çÂèØÂèëÁé∞ÁöÑÁ°¨‰ª∂ÁöÑÊñπÊ≥ï‚ÄùÔºåÈòÖËØªÊõ¥Â§öÂÜÖÂÆπ„ÄÇ ÂÆâÂçìÈ™åËØÅÂêØÂä®ÔºàAVBÔºâÔºöÂú® aboot/ABL Â±ÇÈù¢ÂÆûÊñΩÁöÑ‰∏ÄÂ•ó‰∏•Ê†ºÁöÑÊ£ÄÊü•Ôºå‰ª•È™åËØÅÊìç‰ΩúÁ≥ªÁªüÂêÑÈÉ®ÂàÜÁöÑÂÆåÊï¥ÊÄßÔºåËØ∑ÁÇπÂáªËøôÈáåÈòÖËØªÊõ¥Â§öÂÜÖÂÆπ„ÄÇ DM-Verity:ÂÆâÂçìÈ™åËØÅÂêØÂä®ÁöÑ‰∏Ä‰∏™ÁªÑ‰ª∂ÔºåÂÆÉÊ£ÄÊü•ÂàÜÂå∫ÔºåÁúãÂÆÉ‰ª¨‰πãÂâçÊòØÂê¶Ë¢´ÂÆâË£ÖËøáËØª/ÂÜôÔºåËØ∑ÁÇπÂáªËøôÈáåÈòÖËØªÊõ¥Â§ö‰ø°ÊÅØ„ÄÇ system_as_root: ‰∏Ä‰∏™Êñ∞ÁöÑÂÆâÂçìÊåÇËΩΩËÆæÁΩÆÈÄªËæëÔºåÂ∞ÜÁ≥ªÁªüÂàÜÂå∫ÊåÇËΩΩ‰∏∫&quot;/&quot;ÔºåËÄå‰∏çÊòØ&quot;/system&quot;„ÄÇËøôÊÑèÂë≥ÁùÄÁ≥ªÁªüÊñá‰ª∂Áé∞Âú®‰Ωç‰∫é&quot;/system/system&quot;„ÄÇËøôÊòØÈ´òÈÄöÂÖ¨Âè∏Ê£ÄÊü•&quot;/&quot;ÊòØÂê¶ÊõæÂú®È™åËØÅÂêØÂä®‰∏ãË¢´ÈáçÊñ∞ÊåÇËΩΩËØªÂÜôÁöÑ‰∏ÄÁßçÊñπÂºè„ÄÇÂÆÉËøòÂºïÂÖ•‰∫ÜÊñ∞ÁöÑÊ†áÂáÜÔºåÂç≥ÂÆâÂçì ramdisk Ë¶ÅÂ≠òÂÇ®Âú®Á≥ªÁªüÂàÜÂå∫‰∏äÔºåËÄå‰∏çÊòØÂ≠òÂÇ®Âú®ÂêØÂä®ÈïúÂÉè‰∏≠„ÄÇ ‰ªÄ‰πàÊòØÈ´òÈÄöÂÖ¨Âè∏ÁöÑ‰ø°‰ªªÈìæ/ÂêØÂä®Â∫èÂàóÔºü È´òÈÄöÂÖ¨Âè∏ËÆæÂ§áÁöÑ‰ø°‰ªªÈìæ„ÄÅÂºïÂØºÁ®ãÂ∫èÂ∫èÂàóÂíåÂÆâÂÖ®‰∏ñÁïå„ÄÇ ËØ¶ÁªÜ‰ø°ÊÅØ Ê†πÊçÆÂÆö‰πâÔºåÂºïÂØºÁ®ãÂ∫èÊòØ‰∏Ä‰∏™Âä†ËΩΩÊìç‰ΩúÁ≥ªÁªüÁöÑÁ®ãÂ∫èÔºåÊàñÂú®ËÆæÂ§áÂºÄÂêØÊó∂ÈìæÂºèÂä†ËΩΩÂè¶‰∏Ä‰∏™ÂºïÂØºÁ®ãÂ∫è„ÄÇ È´òÈÄöÂÖ¨Âè∏ÁöÑËÆæÂ§áÈÉΩ‰ΩøÁî®Âü∫‰∫éÁÜîÊñ≠Âô®ÁöÑÈÄªËæëÊù•ÂÜ≥ÂÆöÊ∞∏‰πÖÂäüËÉΩÈÖçÁΩÆ/Âä†ÂØÜÂØÜÈí•ÈõÜ„ÄÇÂ¶Ç‰∏äÊâÄËø∞ÔºåÂÖ∂Áâ©ÁêÜÁâàÊú¨Ë¢´Áß∞‰∏∫ QFUSEÔºåÂπ∂‰ª•Ë°å‰∏∫Âçï‰ΩçÂ≠òÂÇ®Âú® SoC ‰∏äÁß∞‰∏∫ QFPROM ÁöÑÂå∫Âüü‰∏≠„ÄÇ Â¶ÇÊûúÊ†áËÆ∞‰∏∫È´òÈÄöÂÆâÂÖ®ÂêØÂä®ÁöÑ QFUSE ‰øùÈô©‰∏ùÁÜîÊñ≠ÔºàÂú®Èùû‰∏≠ÂõΩ/OnePlus ÁöÑËÆæÂ§á‰∏äÂ∞±ÊòØËøôÊ†∑ÔºâÔºåPBLÔºàÈ´òÈÄöÁöÑ‰∏ªË¶ÅÂêØÂä®Á®ãÂ∫èÔºâË¢´È™åËØÅÂπ∂‰ªé BootROM Âä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåËøôÊòØ SoC ‰∏ä‰∏Ä‰∏™‰∏çÂèØÂÜôÁöÑÂ≠òÂÇ®Á©∫Èó¥„ÄÇ ÁÑ∂ÂêéÔºåPBL Ë¢´ÊâßË°åÔºåÂπ∂ÂêØÂä®‰∏ÄÁ≥ªÂàóÁ°¨‰ª∂ÔºåÁÑ∂ÂêéÈ™åËØÅÈìæ‰∏≠‰∏ã‰∏Ä‰∏™ÂºïÂØºË£ÖËΩΩÁ®ãÂ∫èÁöÑÁ≠æÂêçÔºåÂä†ËΩΩÂπ∂ÊâßË°åÂÆÉ„ÄÇ Èìæ‰∏≠ÁöÑ‰∏ã‰∏Ä‰∏™ÂºïÂØºÁ®ãÂ∫èÊòØ SBL*/XBLÔºàÈ´òÈÄöÂÖ¨Âè∏ÁöÑ‰∫åÁ∫ß/ÂèØÊâ©Â±ïÂºïÂØºÁ®ãÂ∫èÔºâ„ÄÇËøô‰∫õÊó©ÊúüÁöÑÂºïÂØºÁ®ãÂ∫èÂêØÂä®‰∫ÜÊ†∏ÂøÉÁ°¨‰ª∂ÔºåÂ¶Ç CPU ÂÜÖÊ†∏„ÄÅMMU Á≠â„ÄÇÂÆÉ‰ª¨ËøòË¥üË¥£ÂêØÂä®‰∏éÂÆâÂçìÁ≥ªÁªüÂêåÊó∂ËøõË°åÁöÑÊ†∏ÂøÉËøõÁ®ãÔºåÂ¶ÇË¢´Áß∞‰∏∫ TrustZone ÁöÑÈ´òÈÄö ARM ËäØÁâáÁªÑÁöÑÂÆâÂÖ®‰∏ñÁïå„ÄÇSBL*/XBL ÁöÑÊúÄÂêé‰∏Ä‰∏™ÁõÆÁöÑÊòØÈ™åËØÅÁ≠æÂêç„ÄÅÂä†ËΩΩÂíåÊâßË°å Aboot/ABL„ÄÇ Aboot Â∞±ÊòØ‰Ω†‰ª¨Â§ßÂ§öÊï∞‰∫∫ÊâÄËØ¥ÁöÑ ‚Äúbootloader Ê®°Âºè‚ÄùÔºåÂõ†‰∏∫ÂÆÉÊòØËØ∏Â¶Ç fastboot Êàñ OEM Âõ∫‰ª∂Âà∑ÂÜôÂ∑•ÂÖ∑Á≠âÊúçÂä°ÁöÑÊâÄÂú®Âú∞„ÄÇAboot Â∞ÜÂ§ßÈÉ®ÂàÜÂâ©‰ΩôÁöÑÊ†∏ÂøÉÁ°¨‰ª∂Âî§ÈÜíÔºåÁÑ∂Âêé‰æùÊ¨°È™åËØÅÂêØÂä®ÈïúÂÉèÁöÑÁ≠æÂêçÔºåÈÄöËøá dm-verity Â∞ÜÈ™åËØÅÁä∂ÊÄÅÊä•ÂëäÁªô Android È™åËØÅÂêØÂä®ÔºåÁÑ∂ÂêéÁ≠âÂæÖÂâç‰∏§‰∏™Ê≠•È™§ÁöÑÊàêÂäüÔºåÂ∞ÜÂÜÖÊ†∏/ramdisk/DTB Âä†ËΩΩÂà∞ÂÜÖÂ≠ò„ÄÇÂú®ËÆ∏Â§öËÆæÂ§á‰∏äÔºåAboot/ABL ÂèØ‰ª•Ë¢´ÈÖçÁΩÆ‰∏∫Ë∑≥ËøáÂØÜÁ†ÅÂ≠¶Á≠æÂêçÊ£ÄÊü•ÔºåÂÖÅËÆ∏ÂêØÂä®‰ªª‰ΩïÂÜÖÊ†∏/ÂêØÂä®ÈïúÂÉè„ÄÇÂú® Aboot Â∞ÜÊâÄÊúâ‰∏úË•øÂä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ÂêéÔºåÂÜÖÊ†∏ÔºàÂú®Êàë‰ª¨ÁöÑ‰æãÂ≠ê‰∏≠ÊòØ LinuxÔºâÁÑ∂Âêé‰ªéÂêØÂä®ÈïúÂÉè‰∏≠Ëß£ÂéãÔºåÊàñËÄÖÂú® system_as_root ÈÖçÁΩÆ‰∏≠ÔºåÁ≥ªÁªüÂàÜÂå∫Ë¢´È™åËØÅÂπ∂ÊåÇËΩΩÂà∞&quot;/&quot;ÔºåÁÑ∂Âêé‰ªéÈÇ£ÈáåÊèêÂèñÂá∫ ramdisk„ÄÇÂú®Ëøô‰πãÂêé‰∏ç‰πÖÔºåinit Ë¢´ÊâßË°åÔºåÂÆÉÂ∏¶Êù•‰∫ÜÊàë‰ª¨ÊâÄÁü•ÁöÑ Android„ÄÇ Âú® aboot/ABL ‰∏≠Á¶ÅÁî®Âä†ÂØÜÊ£ÄÊü•ÁöÑÈÖçÁΩÆÈÄâÈ°πÈÄöÂ∏∏Ë¢´Áß∞‰∏∫‚ÄúBootloader Lock Status‚Äù„ÄÇÂΩì‰∏Ä‰∏™ËÆæÂ§áË¢´ÈîÅÂÆöÊó∂ÔºåËøôÊÑèÂë≥ÁùÄ aboot ÁõÆÂâçÊ≠£Âú®ÈÄöËøá aboot/ABL ÂØπËØ•ËÆæÂ§áÁöÑÂêØÂä®ÈïúÂÉèÊâßË°åÊï∞Â≠óÁ≠æÂêçÂÆåÊï¥ÊÄßÊ£ÄÊü•ÔºåÂú®ËæÉÊñ∞ÁöÑËÆæÂ§á‰∏äÔºåÊâßË°å‚ÄúÁªøËâ≤‚ÄùÁöÑ Android È™åËØÅÂêØÂä®Áä∂ÊÄÅ„ÄÇËøô‰∫õË¢´‚ÄúÈîÅÂÆö‚ÄùÁöÑËÆæÂ§á‰∏çÂÖÅËÆ∏Áî®Êà∑Âà∑ÂÜôÂàÜÂå∫Ôºå‰πü‰∏çËÉΩÂêØÂä®Ëá™ÂÆö‰πâÁöÑÊó†Á≠æÂêçÂÜÖÊ†∏„ÄÇÂ¶ÇÊûúË¢´ÈîÅÂÆöÁöÑËÆæÂ§áË¢´ËÆ§‰∏∫ÊòØÂÆâÂÖ®ÁöÑÔºåÂÆâÂçìÈ™åËØÅÂêØÂä®ÈÄöÂ∏∏‰ºöÊä•Âëä‚ÄúÁªøËâ≤‚ÄùÔºåÂπ∂ÂÖÅËÆ∏ËÆæÂ§áÁªßÁª≠ÂêØÂä®ÔºåÂ¶ÇÊûúÂÆÉË¢´ËÆ§‰∏∫ÊòØ‰∏çÂÆâÂÖ®ÁöÑÔºåÂÆÉÂ∞ÜÊä•Âëä‚ÄúÁ∫¢Ëâ≤‚ÄùÁä∂ÊÄÅÔºåÂπ∂ÈòªÊ≠¢ËÆæÂ§áÂêØÂä®„ÄÇÂú®‚ÄúËß£ÈîÅ‚ÄùÁöÑËÆæÂ§á‰∏äÔºåaboot/ABL ÂÖÅËÆ∏ËÆæÂ§áÂà∑ÂÜôÔºå‰∏Ä‰∫õ OEM ÂéÇÂïÜÂÖÅËÆ∏‰ªéÂÜÖÂ≠ò‰∏≠ÂêØÂä®Êú™Á≠æÂêçÁöÑÂêØÂä®ÈïúÂÉèÔºàfastboot ÂêØÂä®ÔºâÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÈ™åËØÅÂêØÂä®‰ºöÊä•Âëä‚ÄúÊ©ôËâ≤‚ÄùÊàñ‚ÄúÁ∫¢Ëâ≤‚ÄùÔºåËøôÂèñÂÜ≥‰∫éÈïúÂÉèÊòØÂê¶ÊúâÁ≠æÂêçÔºå‰ΩÜÊó†ËÆ∫Â¶Ç‰ΩïÈÉΩÂÖÅËÆ∏ËÆæÂ§áÁªßÁª≠ÂêØÂä®„ÄÇ ‰ø°‰ªªÈìæÁöÑÊàêÁÜü Âú®ËøáÂéªÂçÅÂπ¥‰∏≠ÔºåÈ´òÈÄöÂÖ¨Âè∏ÁöÑ‰ø°‰ªªÈìæÂú®ÂÆâÂÖ®ÊÄßÊñπÈù¢Êúâ‰∫ÜÂ∑®Â§ßÁöÑÂ¢ûÈïø„ÄÇ ‰ª•‰∏ãÊòØÊèèËø∞‰ø°‰ªªÈìæÊàêÁÜüËøáÁ®ãÁöÑÂõæÁ§∫Ôºö Ëá≥ 2013 Êó∂‰ª£ Âú® MSM8960ÔºàSnapdragon S4 plusÔºâÂèä‰πãÂâçÔºö 2013-2016 Êó∂‰ª£ Âú® MSM8974ÔºàSnapdragon 800ÔºâÂà∞ MSM8994ÔºàSnapdragon 810Ôºâ‰πãÈó¥Ôºö Áé∞‰ª£Âåñ (2016-2018) Êó∂‰ª£ Âú® MSM8996ÔºàSnapdragon 820Ôºâ‰πãÂêéÔºö Ê≠£Â¶Ç‰Ω†ÊâÄÁúãÂà∞ÁöÑÔºåÂºïÂØºÈìæÂ∑≤ÁªèÊúâ‰∫ÜÂæàÂ§ßÁöÑÂèëÂ±ï„ÄÇ2015 Âπ¥ÔºåÂèØËÉΩÁöÑÊîªÂáªÂå∫ÂüüË¢´Áº©Â∞è‰∫ÜÔºå‰∫åÁ∫ßÂºïÂØºÁ®ãÂ∫èÔºàSBLÔºâÈìæË¢´ÂêàÂπ∂Êàê‰∏Ä‰∏™Áªü‰∏ÄÁöÑ SBL„ÄÇÈöèÁùÄËøõ‰∏ÄÊ≠•ÂèëÂ±ïÔºåÊàë‰ª¨ÁúãÂà∞ SBL ÂÆåÂÖ®Ë¢´È´òÈÄöÂÖ¨Âè∏ÁöÑÊñ∞ÁöÑ‰∏ìÊúâËß£ÂÜ≥ÊñπÊ°à‚ÄìÂèØÊâ©Â±ïÂºïÂØºÁ®ãÂ∫èÔºàXBLÔºâÊâÄÂèñ‰ª£ÔºåÂÆÉÁºìËß£‰∫Ü SBL Â∏¶Êù•ÁöÑËÆ∏Â§öÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇ Aboot ‰πüÂ∑≤Áªè‰ªé LittleKernelÔºà‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÂºïÂØºÁ®ãÂ∫èÔºâÂèëÂ±ïÂà∞‰∫ÜÂÆåÂÖ®Áã¨Á´ãÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÁé∞Âú®Ë¢´Áß∞‰∏∫‰∏ìÊúâÁöÑ Android ÂºïÂØºÁ®ãÂ∫èÔºàABLÔºâ„ÄÇËøô‰∏™Êñ∞ÁöÑÂºïÂØºÁ®ãÂ∫èÂÖÅËÆ∏‰ΩøÁî® UEFIÔºå‰ª•ÂèäÂÖ∂‰ªñËÆ∏Â§öÈíàÂØπÂºÄÂèëËÄÖ/OEM ÁöÑÂÆâÂÖ®ÂíåÁîüÊ¥ªË¥®ÈáèÁöÑÊîπËøõ„ÄÇ ËÄå system_as_root ÈÖçÁΩÆ‰πüÂ§ßÂ§ßÊîπÂñÑ‰∫ÜÂÆâÂÖ®ÊÄßÔºå‰ª•ÂèäÊÄª‰ΩìÊû∂ÊûÑ„ÄÇÂÆÉÂ∞Ü Android ramdisk ‰ªéÂ≠òÂÇ®Âú®ÂêØÂä®ÈïúÂÉè‰∏≠ËΩ¨ÁßªÂà∞‰∫ÜÁ≥ªÁªüÂàÜÂå∫‰∏≠ÔºåÊ≠£Â¶ÇÂÖ∂ÂêçÁß∞ÊâÄÊöóÁ§∫ÁöÑÔºåÁ≥ªÁªüÂàÜÂå∫Ë¢´ÊåÇËΩΩ‰∏∫&quot;/&quot;„ÄÇËøôÊ†∑ÂÅöÁöÑÈÉ®ÂàÜÂéüÂõ†ÊòØ‰∏∫‰∫ÜËÆ©ÂÆÉËÉΩÂ§üË¢´ dm-verity/Android È™åËØÅÂêØÂä®ÊâÄÈ™åËØÅ„ÄÇ Ê≥®ÊÑèÔºöÊñ∞ÁöÑÊó†ÁºùÊõ¥Êñ∞Á≥ªÁªüË¢´Áß∞‰∏∫‚ÄúA/B‚ÄùÔºåÂÆÉ‰∏é system_as_root ÊòØÁã¨Á´ãÊ¶ÇÂøµÁöÑÔºåÂ∞ΩÁÆ°ÂÆÉ‰ª¨ÈÄöÂ∏∏ÊòØÂπ∂ÂàóÁöÑ„ÄÇOEM ÂèØ‰ª•ÈÄâÊã©ÂÆûÁé∞‰∏Ä‰∏™ËÄå‰∏çÊòØÂè¶‰∏Ä‰∏™„ÄÇ OEM ÈôÑÂä†ÂäüËÉΩ ËÆ∏Â§ö OEM Âú®‰ªñ‰ª¨ÁöÑ bootloader ËÆæÁΩÆ‰∏≠ÂÆûÊñΩ‰∫ÜÈ¢ùÂ§ñÁöÑÂä†ÂØÜÊ£ÄÊü•Ôºå‰ª•ËØïÂõæËøõ‰∏ÄÊ≠•ÊèêÈ´òÂÆâÂÖ®ÊÄßÔºåÊàñÊòØ‰∏∫‰∫Ü‰∏ÄÁßçÂäüËÉΩÔºàÂ¶ÇÂÖÅËÆ∏ÁªàÁ´ØÁî®Êà∑Ëß£ÈîÅ bootloaderÔºâ„ÄÇ Âá†‰∏™ÊôÆÈÅçÁöÑ‰æãÂ≠êÔºö ‰∏âÊòü‰ΩøÁî® eMMC CID/a ÂØπÂ∫îÁöÑÂìàÂ∏å CID ÁöÑ aboot ÈïúÂÉèÊù•ÂÜ≥ÂÆöÂºÄÂèëËÄÖÔºàËß£ÈîÅÔºâÁä∂ÊÄÅ„ÄÇ ‰∏âÊòüÁöÑ‚ÄúKNOX QFUSE‚ÄùÂú®‰ªª‰ΩïÂÖ•‰æµÊó∂ÈÉΩ‰ºöË¢´ÂêπÂìçÔºåÂ¶ÇÊûúË¢´Ëß¶ÂèëÔºåÂèØ‰ª•Ë¢´ÈÖçÁΩÆ‰∏∫Êì¶Èô§ËÆæÂ§á„ÄÇ Êë©ÊâòÁΩóÊãâ‰ΩøÁî®Âçï‰∏ÄÁöÑ QFUSEÔºåÂøÖÈ°ªÁÜîÊñ≠ÊâçËÉΩËß£ÈîÅËÆæÂ§áÔºå‰ªéËÄå‰Ωø‰øù‰øÆÊúüÊ∞∏‰πÖÂ§±Êïà„ÄÇ Á¥¢Â∞º‰ΩøÁî®‰∫Ü‰∏Ä‰∏™Âä†ÂØÜ blob Âíå‰ªñ‰ª¨ÁöÑ‚ÄúTA‚ÄùÂàÜÂå∫‰∏äÁöÑ‰∏Ä‰∏™‰ΩçÊù•ÂÖÅËÆ∏Ëß£ÈîÅ„ÄÇ ÂéüÂßãËÆæÂ§áÂà∂ÈÄ†ÂïÜ‰πüÁªèÂ∏∏ÂÆûÊñΩ‰ªñ‰ª¨Ëá™Â∑±ÁöÑ‰∏ìÊúâÊ®°ÂºèÔºåËøôÊúâÂ§öÁßçÁî®ÈÄî„ÄÇ‰∏Ä‰∫õ‰æãÂ≠êÂåÖÊã¨Ôºö ‰∏âÊòüÁöÑ‰∏ìÊúâ‰∏ãËΩΩÊ®°ÂºèÔºåÁî®‰∫éÂõ∫‰ª∂Âà∑ÂÜô„ÄÇ LG‰∏ìÊúâÁöÑ LAFÔºà‰∏ãËΩΩÔºâÊ®°ÂºèÁî®‰∫éÂõ∫‰ª∂Âà∑ÂÜô„ÄÇ Ë∞∑Ê≠åÁöÑ OSS Fastboot Ê®°ÂºèÁî®‰∫éÂõ∫‰ª∂Âà∑ÂÜô„ÄÇ ‰∏é‰∏ÄËà¨ÁöÑËß£ÂÜ≥ÊñπÊ°àÁõ∏ÊØîÔºåOEM ÁöÑÁâπÂÆöÂäüËÉΩ/Ê®°ÂºèÂæÄÂæÄÊúâÂæàÂ§ßÁöÑ‰ºòÂäøÔºåÊØîÂ¶ÇÊë©ÊâòÁΩóÊãâÊòØÁ¨¨‰∏ÄÊâπÊâ©Â±ï fastboot ÂçèËÆÆ‰ª•ÂÖÅËÆ∏Âà∑ÂÜôÁ®ÄÁñèÂàÜÂùóÁöÑÁ≥ªÁªüÈïúÂÉèÁöÑ OEM ‰πã‰∏Ä„ÄÇÁÑ∂ËÄåÔºåËøô‰∫õËß£ÂÜ≥ÊñπÊ°à‰πüÂæàÊúâÂèØËÉΩÂ≠òÂú®‰∏çÂèØÈ¢ÑËßÅÁöÑÂÆâÂÖ®ÊºèÊ¥ûÔºåÊØîÂ¶Ç LG ÁªèÂ∏∏Âá∫Áé∞ÁöÑ LAF Ê®°ÂºèÊºèÊ¥ûÔºåÊàñËÄÖÂà©Áî®‰∏âÊòüÁöÑ CID ÊñπÊ≥ïËß£ÈîÅÂÖ∂‰ªñ‰∏çÂèØËß£ÈîÅËÆæÂ§áÁöÑ SamDunk ÊºèÊ¥û„ÄÇ ÂêåÊ†∑ÈáçË¶ÅÁöÑÊòØË¶ÅÊ≥®ÊÑèÔºåËôΩÁÑ∂ OEM ÂéÇÂïÜÂèØ‰ª•ÂÆöÂà∂aboot/ABLÔºå‰ª•ÂèäÊúâ‰ª∑Ê†ºÁöÑ SBL*/XBLÔºå‰ΩÜ PBL ÊòØÁî±È´òÈÄöÂÖ¨Âè∏Ëá™Â∑±Âú® SoC ‰∏äÊûÑÂª∫ÂíåÂèëÂ∏É„ÄÇPBL ÂæàÂ∞ëÂá∫Áé∞ÂÖ¨ÂºÄÁöÑÊºèÊ¥ûÔºåÂõ†‰∏∫Â§ßÂ§öÊï∞ÊºèÊ¥ûÈÄöËøáÈ´òÈÄöÂÖ¨Âè∏ÁöÑ Bug Bounty Program Ëé∑Âæó‰∫ÜÂ§ßÈáèÁöÑËµèÈáëÔºåÂ∞ΩÁÆ° PBL ‰ª•Ââç‰πüÂá∫Áé∞Ëøá‰∏Ä‰∫õÂÖ¨ÂºÄÁöÑÊºèÊ¥ûÔºå‰æãÂ¶Ç Aleph Security ÁöÑ EDLÔºàÈ´òÈÄö‰∏ãËΩΩÊ®°ÂºèÔºâÊºèÊ¥ûÔºå‰Ω†ÂèØ‰ª•Âú®ËøôÈáåÈòÖËØªÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Android","slug":"Linux/Android","permalink":"https://blog.inoki.cc/categories/Linux/Android/"},{"name":"Bootloader","slug":"Linux/Android/Bootloader","permalink":"https://blog.inoki.cc/categories/Linux/Android/Bootloader/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Android","slug":"Android","permalink":"https://blog.inoki.cc/tags/Android/"},{"name":"ABL","slug":"ABL","permalink":"https://blog.inoki.cc/tags/ABL/"},{"name":"Bootloader","slug":"Bootloader","permalink":"https://blog.inoki.cc/tags/Bootloader/"},{"name":"Aboot","slug":"Aboot","permalink":"https://blog.inoki.cc/tags/Aboot/"},{"name":"XBL","slug":"XBL","permalink":"https://blog.inoki.cc/tags/XBL/"}]},{"title":"„ÄêËØë„Äë‰ªéÈõ∂ÂºÄÂßãÁöÑ Wayland ÂêàÊàêÂô® ‚Äî‚Äî 3. Ê∏≤Êüì‰∏Ä‰∏™Á™óÂè£","slug":"Writing-a-wayland-compositor-3","date":"2021-09-06T20:48:40.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2021/09/06/Writing-a-wayland-compositor-3/","link":"","permalink":"https://blog.inoki.cc/2021/09/06/Writing-a-wayland-compositor-3/","excerpt":"","text":"ÂéüÊñáÈìæÊé•ÔºöWriting a Wayland Compositor, Part 3: Rendering a window ËØëËÄÖÊ≥®ÔºöËøô‰∏™Á≥ªÂàóÊñáÁ´†‰∏≠‰ΩøÁî®ÁöÑ‰∏∫Êó©Êúü wlroots ÁâàÊú¨ÔºåÂ§ßÁ∫¶Âú® 0.3 Âà∞ 0.4.1 ‰πãÈó¥ÔºåËØ∑Ê≥®ÊÑèÂÆâË£ÖÁöÑÁâàÊú¨ ËøôÊòØÂÖ≥‰∫é‰ΩøÁî® wlroots ‰ªéÂ§¥ÂºÄÂßãÁºñÂÜô Wayland ÂêàÊàêÂô®ÁöÑÁ≥ªÂàóÊñáÁ´†‰∏≠ÁöÑÁ¨¨‰∏âÁØá„ÄÇÂ¶ÇÊûú‰Ω†ËøòÊ≤°ÊúâÁúãËøáÁ¨¨‰∏ÄÁØáÊñáÁ´†ÁöÑËØùÔºåÂèØ‰ª•ÁúãÁúã„ÄÇÊàë‰ª¨‰ªé‰∏Ä‰∏™ Wayland ÊúçÂä°Âô®ÂºÄÂßãÔºåÂÆÉÊé•ÂèóÂÆ¢Êà∑Á´ØÁöÑËøûÊé•ÔºåÂπ∂Êö¥Èú≤‰∫Ü‰∏Ä‰∫õÂÖ®Â±ÄÁöÑ‰∏úË•øÔºå‰ΩÜËøòÊ≤°ÊúâÂÅö‰ªª‰ΩïÁâπÂà´ÊúâË∂£ÁöÑ‰∫ãÊÉÖ„ÄÇÊàë‰ª¨‰ªäÂ§©ÁöÑÁõÆÊ†áÊòØÂÅö‰∏Ä‰∫õÊúâË∂£ÁöÑ‰∫ãÊÉÖ‚ÄìÊ∏≤Êüì‰∏Ä‰∏™Á™óÂè£ÔºÅ„ÄÇ Êú¨ÊñáÊâÄÂâñÊûêÁöÑÊèê‰∫§ÊòØ 342b7b6„ÄÇ ‰∏∫‰∫ÜÊ∏≤ÊüìÁ™óÂè£ÔºåÊàë‰ª¨Ë¶ÅÂÅöÁöÑÁ¨¨‰∏Ä‰ª∂‰∫ãÂ∞±ÊòØÂª∫Á´ãÂêàÊàêÂô®„ÄÇÂÆ¢Êà∑Á´Ø‰ΩøÁî® wl_compositor ÂÖ®Â±ÄÊù•ÂàÜÈÖç wl_surfacesÔºåÂπ∂Â∞Ü wl_buffers ÈôÑÂä†Âà∞Ëøô‰∫õ surface„ÄÇËøô‰∫õ surface Âè™ÊòØ‰∏Ä‰∏™ÈÄöÁî®ÁöÑÊú∫Âà∂ÔºåÁî®‰∫é‰∏éÂêàÊàêÂô®ÂÖ±‰∫´ÂÉèÁ¥†ÁºìÂÜ≤Âå∫ÔºåÂπ∂‰∏çÂ∏¶ÊúâÈöêÂê´ÁöÑËßíËâ≤ÔºåÂ¶Ç &quot;Â∫îÁî®Á™óÂè£&quot;Êàñ ‚ÄúÈù¢Êùø‚Äù„ÄÇ wlroots Êèê‰æõ‰∫Ü‰∏Ä‰∏™ wl_compositor ÁöÑÂÆûÁé∞„ÄÇËÆ©Êàë‰ª¨‰∏∫ÂÆÉÈ¢ÑÁïô‰∏Ä‰∏™ÂºïÁî®Ôºö 12345678struct mcw_server &#123; struct wl_display *wl_display; struct wl_event_loop *wl_event_loop; struct wlr_backend *backend;+ struct wlr_compositor *compositor; struct wl_listener new_output; ÁÑ∂ÂêéÂ∞ÜÂÖ∂ÁªÑË£ÖËµ∑Êù•Ôºö 12345678 wlr_primary_selection_device_manager_create(server.wl_display); wlr_idle_create(server.wl_display); + server.compositor = wlr_compositor_create(server.wl_display,+ wlr_backend_get_renderer(server.backend));+ wl_display_run(server.wl_display); wl_display_destroy(server.wl_display); Â¶ÇÊûúÊàë‰ª¨Áé∞Âú®ËøêË°å mcwayfaceÔºåÁî® weston-info Êü•ÁúãÂÖ®Â±ÄÂèòÈáèÔºåÊàë‰ª¨‰ºöÁúãÂà∞‰∏Ä‰∏™ wl_compositor Âíå wl_subcompositor Â∑≤ÁªèÂá∫Áé∞Ôºö 12interface: &apos;wl_compositor&apos;, version: 4, name: 8interface: &apos;wl_subcompositor&apos;, version: 1, name: 9 ‰Ω†ÂèØ‰ª•ÈÄöËøá wlroots ÁöÑ wl_compositor Ëé∑Âæó‰∏Ä‰∏™ wl_subcompositor„ÄÇÊàë‰ª¨Â∞ÜÂú®‰ª•ÂêéÁöÑÊñáÁ´†‰∏≠ËÆ®ËÆ∫Â≠êÂêàÊàêÂô®„ÄÇËØ¥Âà∞Êàë‰ª¨Â∞ÜÂú®Âè¶‰∏ÄÁØáÊñáÁ´†‰∏≠ËÆ®ËÆ∫ÁöÑ‰∏úË•øÔºå‰πüË¶ÅÂä†‰∏äËøô‰∏™Ôºö 1234567891011 wlr_primary_selection_device_manager_create(server.wl_display); wlr_idle_create(server.wl_display); server.compositor = wlr_compositor_create(server.wl_display, wlr_backend_get_renderer(server.backend)); + wlr_xdg_shell_v6_create(server.wl_display);+ wl_display_run(server.wl_display); wl_display_destroy(server.wl_display); return 0; ËøòËÆ∞ÂæóÊàë‰πãÂâçËØ¥ËøáÔºåsurface Âè™ÊòØ‰∏Ä‰∫õÊ≤°Êúâ‰ΩúÁî®ÁöÑÂÉèÁ¥†Âõ¢ÂêóÔºü xdg_shell ÊòØ‰∏Ä‰∏™ÂèØ‰ª•ËÆ© surface ÂÖ∑Êúâ‰ΩúÁî®ÁöÑ‰∏úË•ø„ÄÇÊàë‰ª¨Â∞ÜÂú®‰∏ã‰∏ÄÁØáÊñáÁ´†‰∏≠Êõ¥Â§öÂú∞ËÆ®ËÆ∫Ëøô‰∏™ÈóÆÈ¢ò„ÄÇÊ∑ªÂä†‰∫ÜËøô‰∏™‰πãÂêéÔºåÂæàÂ§öÂÆ¢Êà∑Á´ØÂ∞±ÂèØ‰ª•ËøûÊé•Âà∞‰Ω†ÁöÑÂêàÊàêÂô®Âπ∂ÁîüÊàê‰∏Ä‰∏™Á™óÂè£„ÄÇÁÑ∂ËÄåÔºåÂ¶ÇÊûú‰∏çÊ∑ªÂä†ÂÖ∂‰ªñ‰∏úË•øÔºåËøô‰∫õÁ™óÂè£Ê∞∏Ëøú‰∏ç‰ºöÂú®Â±èÂπï‰∏äÊòæÁ§∫„ÄÇ‰Ω†ÂøÖÈ°ªË¶ÅÊ∏≤ÊüìÂÆÉ‰ª¨! wlroots ‰∏é wlc Âíå libweston Á≠âÂ∫ìÁöÑ‰∏çÂêå‰πãÂ§ÑÂú®‰∫éÔºåwlroots ‰∏ç‰∏∫‰Ω†ÂÅö‰ªª‰ΩïÊ∏≤Êüì„ÄÇËøôÁªô‰∫Ü‰Ω†ÂæàÂ§ßÁöÑÁÅµÊ¥ªÊÄßÔºå‰Ω†ÂèØ‰ª•Áî®‰ªª‰Ωï‰Ω†ÂñúÊ¨¢ÁöÑÊñπÂºèÊ∏≤ÊüìË°®Èù¢„ÄÇÂÆ¢Êà∑Á´ØÂè™ÊòØÁªô‰∫Ü‰Ω†‰∏ÄÂ†ÜÂÉèÁ¥†Ôºå‰Ω†Â¶Ç‰ΩïÂ§ÑÁêÜÂÆÉ‰ª¨Áî±‰Ω†Ëá™Â∑±ÂÜ≥ÂÆö‚Äì‰πüËÆ∏‰Ω†Ë¶ÅÂÅö‰∏Ä‰∏™Ê°åÈù¢ÂêàÊàêÂô®Ôºå‰πüËÆ∏‰Ω†ÊÉ≥ÊääÂÆÉ‰ª¨ÁîªÂú® Android È£éÊ†ºÁöÑÂ∫îÁî®ÂàáÊç¢Âô®‰∏äÔºå‰πüËÆ∏‰Ω†ÁöÑÂêàÊàêÂô®Âú® VR ‰∏≠ÊéíÂàóÁ™óÂè£‚ÄìÊâÄÊúâËøô‰∫õÈÉΩÂèØ‰ª•ÈÄöËøá wlroots ÂÆûÁé∞„ÄÇ ‰∫ãÊÉÖÂç≥Â∞ÜÂèòÂæóÂ§çÊùÇÔºåÊâÄ‰ª•ËÆ©Êàë‰ª¨‰ªéÁÆÄÂçïÁöÑÈÉ®ÂàÜÂºÄÂßãÔºöÂú® output_frame Â§ÑÁêÜÁ®ãÂ∫è‰∏≠ÔºåÊàë‰ª¨ÂøÖÈ°ªËé∑ÂæóÊàë‰ª¨ÊÉ≥Ë¶ÅÊ∏≤ÊüìÁöÑÊØè‰∏™ wlr_surface ÁöÑÂºïÁî®„ÄÇÊâÄ‰ª•ËÆ©Êàë‰ª¨ÈÅçÂéÜÊàë‰ª¨ÁöÑ wlr_compositor ÊâÄËÆ∞ÂΩïÁöÑÊØè‰∏Ä‰∏™ surfaceÔºö 123456789101112 wlr_renderer_begin(renderer, wlr_output);+ struct wl_resource *_surface;+ wl_resource_for_each(_surface, &amp;server-&gt;compositor-&gt;surfaces) &#123;+ struct wlr_surface *surface = wlr_surface_from_resource(_surface);+ if (!wlr_surface_has_buffer(surface)) &#123;+ continue;+ &#125;+ // TODO: Render this surface+ &#125; wlr_output_swap_buffers(wlr_output, NULL, NULL); wlr_compositor ÁªìÊûÑÊúâ‰∏Ä‰∏™Âêç‰∏∫ surface ÁöÑÊàêÂëòÔºåÂÆÉÊòØ‰∏Ä‰∏™ wl_resource ÁöÑÂàóË°®„ÄÇÊàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∏™ËæÖÂä©ÊñπÊ≥ïÊù•‰ªéÂÖ∂ÂØπÂ∫îÁöÑ wl_resource ‰∏≠‰∫ßÁîü‰∏Ä‰∏™ wlr_surface„ÄÇË∞ÉÁî® wlr_surface_has_buffer Âè™ÊòØ‰∏∫‰∫ÜÁ°Æ‰øùÂÆ¢Êà∑Á´ØÁ°ÆÂÆûÁªô‰∫ÜÊàë‰ª¨ÂÉèÁ¥†Êù•ÊòæÁ§∫Âú®Ëøô‰∏™Ë°®Èù¢„ÄÇ wlroots ÂèØËÉΩ‰ºöËÆ©‰Ω†Ëá™Â∑±ÂÅöÊ∏≤ÊüìÔºå‰ΩÜÊòØÊàë‰ª¨Êèê‰æõ‰∫Ü‰∏Ä‰∫õÂ∑•ÂÖ∑Êù•Â∏ÆÂä©‰Ω†ÁºñÂÜôÂÖ∑ÊúâÁÆÄÂçïÊ∏≤ÊüìË¶ÅÊ±ÇÁöÑÂêàÊàêÂô®Ôºöwlr_renderer„ÄÇÊàë‰ª¨Â∑≤ÁªèÁ®çÂæÆÊé•Ëß¶‰∫Ü‰∏Ä‰∏ãÔºå‰ΩÜÁé∞Âú®Êàë‰ª¨Ë¶ÅÁúüÊ≠£‰ΩøÁî®ÂÆÉ‰∫Ü„ÄÇËøôÈáåÈúÄË¶ÅÊúâ‰∏ÄÁÇπ OpenGL ÁöÑÁü•ËØÜ„ÄÇÂ¶ÇÊûú‰Ω†ÊòØ‰∏Ä‰∏™ÂÆåÂÖ®‰∏çÊáÇ OpenGL ÁöÑÊñ∞ÊâãÔºåÊàëÂèØ‰ª•Êé®ËçêËøô‰∏™ÊïôÁ®ãÊù•Â∏ÆÂä©‰Ω†„ÄÇÁî±‰∫é‰Ω†ÂæàÂåÜÂøôÔºåÊàë‰ª¨Â∞ÜÂØπÂà©Áî® wlr_renderer ÊâÄÈúÄÁöÑÊ¶ÇÂøµÂÅö‰∏Ä‰∏™Âø´ÈÄüÁöÑÈÄüÊàêËØæÁ®ã„ÄÇÂ¶ÇÊûú‰Ω†Ëø∑Ë∑Ø‰∫ÜÔºåÂ∞±Ë∑≥Âà∞‰∏ã‰∏Ä‰∏™diffÔºåÊääÂÆÉÂΩì‰Ωú‰Ωø‰Ω†ÁöÑÁ™óÂè£Âá∫Áé∞ÁöÑÈ≠îÊ≥ïÂííËØ≠„ÄÇ Êàë‰ª¨Êúâ‰∏ÄÂ†ÜÂÉèÁ¥†ÔºåÊàë‰ª¨ÊÉ≥ÊääÂÆÉÊîæÂú®Â±èÂπï‰∏ä„ÄÇÊàë‰ª¨ÂèØ‰ª•Áî®ÁùÄËâ≤Âô®Êù•ÂÅöËøô‰∏™„ÄÇÂ¶ÇÊûú‰Ω†‰ΩøÁî®ÁöÑÊòØ wlr_rendererÔºàmcwayface‰πü‰ºö‰ΩøÁî®ÔºâÔºåÁùÄËâ≤Âô®ÊòØ‰∏∫‰Ω†Êèê‰æõÁöÑ„ÄÇ‰∏∫‰∫Ü‰ΩøÁî®Êàë‰ª¨ÁöÑÁùÄËâ≤Âô®ÔºåÊàë‰ª¨ÁªôÂÆÉ‰ª¨Êèê‰æõ‰∏Ä‰∏™Á∫πÁêÜÔºà‰∏ÄÂ†ÜÂÉèÁ¥†ÔºâÂíå‰∏Ä‰∏™Áü©Èòµ„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÊääË°®Èù¢‰∏äÁöÑÊØè‰∏™ÂÉèÁ¥†ÂùêÊ†áÂΩì‰Ωú‰∏Ä‰∏™Áü¢ÈáèÔºå‰ªéÔºà0Ôºå0ÔºâÔºõÂ∑¶‰∏äËßíÔºåÂà∞Ôºà1Ôºå1ÔºâÔºõÂè≥‰∏ãËßíÔºåÊàë‰ª¨ÁöÑÁõÆÊ†áÊòØ‰∫ßÁîü‰∏Ä‰∏™Áü©ÈòµÔºåÊàë‰ª¨ÂèØ‰ª•ÊääÁü¢Èáè‰πò‰ª•Ëøô‰∏™Áü©ÈòµÊù•ÊâæÂà∞Â±èÂπï‰∏äË¶ÅÁªòÂà∂ÁöÑÂÉèÁ¥†ÁöÑÊúÄÁªàÂùêÊ†á„ÄÇÊàë‰ª¨ÂøÖÈ°ªÂ∞ÜÂÉèÁ¥†ÂùêÊ†á‰ªéËøô‰∏™0-1Á≥ªÁªüÊäïÂ∞ÑÂà∞Â±èÂπï‰∏äÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÁü©ÂΩ¢ÁöÑÂùêÊ†á„ÄÇ ÁÑ∂ËÄåÔºåËøôÈáåÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÔºöÂ±èÂπï‰∏äÁöÑÂùêÊ†á‰πüÊòØ‰ªé0Âà∞1ÔºåËÄå‰∏çÊòØÔºå‰æãÂ¶ÇÔºå0-1920Âíå0-1080„ÄÇ‰∏∫‰∫ÜÊää &quot;ÊääÊàëÁöÑ640x480Á™óÂè£ÊîæÂú®ÂùêÊ†á100,100Â§Ñ &quot;ËøôÊ†∑ÁöÑÂùêÊ†áÊäïÂ∞ÑÂà∞Â±èÂπïÂùêÊ†á‰∏äÔºåÊàë‰ª¨‰ΩøÁî®Ê≠£ÊäïÂΩ±Áü©Èòµ„ÄÇÊàëÁü•ÈÅìËøôÂê¨Ëµ∑Êù•ÂæàÂêì‰∫∫Ôºå‰ΩÜ‰∏çÁî®ÊãÖÂøÉ-- wlroots ‰∏∫‰Ω†ÂÅö‰∫ÜÊâÄÊúâÁöÑÂ∑•‰Ωú„ÄÇ‰Ω†ÁöÑ wlr_output Â∑≤ÁªèÊúâ‰∏Ä‰∏™ÂêàÈÄÇÁöÑÁü©ÈòµÔºåÂè´ÂÅö transform_matrixÔºåÂÆÉÊää‰Ω†ÁöÑÂ±èÂπïÁöÑÂΩìÂâçÂàÜËæ®Áéá„ÄÅÊØî‰æãÁ≥ªÊï∞ÂíåÊóãËΩ¨ÈÉΩÁ∫≥ÂÖ•ÂÖ∂‰∏≠„ÄÇ Â•Ω‰∫ÜÔºåÂ∏åÊúõ‰Ω†ËøòÂú®Âê¨ÊàëËØ¥„ÄÇËøôÂê¨Ëµ∑Êù•ÊúâÁÇπÂ§çÊùÇÔºå‰ΩÜÊâÄÊúâËøô‰∫õÂ∫üËØùÁöÑË°®Áé∞ÊòØÁõ∏ÂΩìÁõ¥Êé•ÁöÑ„ÄÇwlroots Êèê‰æõ‰∫Ü‰∏Ä‰∫õÂ∑•ÂÖ∑Ôºå‰Ωø‰πãÂØπ‰Ω†Êù•ËØ¥ÂæàÂÆπÊòì„ÄÇÈ¶ñÂÖàÔºåÊàë‰ª¨Ë¶ÅÂáÜÂ§á‰∏Ä‰∏™ wlr_boxÔºåÂÆÉ‰ª£Ë°®ÔºàÂú®ËæìÂá∫ÂùêÊ†á‰∏≠ÔºâÊàë‰ª¨Â∏åÊúõ surface ÊòæÁ§∫ÁöÑÂú∞Êñπ„ÄÇ 12345678910111213 struct wl_resource *_surface; wl_resource_for_each(_surface, &amp;server-&gt;compositor-&gt;surfaces) &#123; struct wlr_surface *surface = wlr_surface_from_resource(_surface); if (!wlr_surface_has_buffer(surface)) &#123; continue; &#125;- // TODO: Render this surface+ struct wlr_box render_box = &#123;+ .x = 20, .y = 20,+ .width = surface-&gt;current-&gt;width,+ .height = surface-&gt;current-&gt;height+ &#125;; &#125; Áé∞Âú®ÔºåÊúÄÁ≤æÂΩ©ÁöÑÈÉ®ÂàÜÊù•‰∫ÜÔºöÊàëÂàöÊâçËØ¥ÁöÑÈÇ£‰∫õËä±Âì®ÁöÑÊï∞Â≠¶ËøêÁÆóÈÉΩÂèØ‰ª•ÈÄöËøá wlroots Êèê‰æõÁöÑ‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞Êù•ÂÆåÊàêÔºöwlr_matrix_project_box„ÄÇ 12345678910111213141516 struct wl_resource *_surface; wl_resource_for_each(_surface, &amp;server-&gt;compositor-&gt;surfaces) &#123; struct wlr_surface *surface = wlr_surface_from_resource(_surface); if (!wlr_surface_has_buffer(surface)) &#123; continue; &#125; struct wlr_box render_box = &#123; .x = 20, .y = 20, .width = surface-&gt;current-&gt;width, .height = surface-&gt;current-&gt;height &#125;;+ float matrix[16];+ wlr_matrix_project_box(&amp;matrix, &amp;render_box,+ surface-&gt;current-&gt;transform,+ 0, &amp;wlr_output-&gt;transform_matrix); &#125; ËøôÈúÄË¶Å‰∏Ä‰∏™ float[16] ÁöÑÂºïÁî®Êù•Â≠òÂÇ®ËæìÂá∫Áü©ÈòµÔºå‰∏Ä‰∏™‰Ω†ÊÉ≥ÊäïÂΩ±ÁöÑÁõíÂ≠êÔºå‰∏Ä‰∫õÂÖ∂‰ªñÁöÑ‰∏úË•øÔºåÁé∞Âú®Âπ∂‰∏çÈáçË¶ÅÔºå‰ª•Âèä‰Ω†ÊÉ≥‰ΩøÁî®ÁöÑÊäïÂΩ±‚ÄìÂú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨Âè™ÊòØ‰ΩøÁî® wlr_output Êèê‰æõÁöÑÊäïÂΩ±„ÄÇ Êàë‰ª¨‰πãÊâÄ‰ª•ËÆ©‰Ω†ÁêÜËß£Âπ∂ÊâßË°åËøô‰∫õÊ≠•È™§ÔºåÊòØÂõ†‰∏∫‰Ω†ÂÆåÂÖ®ÊúâÂèØËÉΩÂú®Â∞ÜÊù•ÊÉ≥Áî®‰∏çÂêåÁöÑÊñπÂºèÊù•ÂÅöËøô‰∫õ‰∫ãÊÉÖ„ÄÇËøôÂè™ÊòØÊúÄÁÆÄÂçïÁöÑÊÉÖÂÜµÔºå‰ΩÜËØ∑ËÆ∞‰ΩèÔºåwlroots ÊòØ‰∏∫ÂêÑÁßçÊÉÖÂÜµËÆæËÆ°ÁöÑ„ÄÇÁé∞Âú®Êàë‰ª¨Â∑≤ÁªèÂæóÂà∞‰∫ÜËøô‰∏™Áü©ÈòµÔºåÊàë‰ª¨Áªà‰∫éÂèØ‰ª•Ê∏≤ÊüìËøô‰∏™ surface ‰∫Ü„ÄÇ 123456789101112131415161718 struct wl_resource *_surface; wl_resource_for_each(_surface, &amp;server-&gt;compositor-&gt;surfaces) &#123; struct wlr_surface *surface = wlr_surface_from_resource(_surface); if (!wlr_surface_has_buffer(surface)) &#123; continue; &#125; struct wlr_box render_box = &#123; .x = 20, .y = 20, .width = surface-&gt;current-&gt;width, .height = surface-&gt;current-&gt;height &#125;; float matrix[16]; wlr_matrix_project_box(&amp;matrix, &amp;render_box, surface-&gt;current-&gt;transform, 0, &amp;wlr_output-&gt;transform_matrix);+ wlr_render_with_matrix(renderer, surface-&gt;texture, &amp;matrix, 1.0f);+ wlr_surface_send_frame_done(surface, &amp;now); &#125; Êàë‰ª¨ËøòÊäõÂá∫‰∫Ü‰∏Ä‰∏™ wlr_surface_send_frame_doneÔºåËøôËÆ©ÂÆ¢Êà∑Á´ØÁü•ÈÅìÊàë‰ª¨Â∑≤ÁªèÂÆåÊàê‰∫ÜÔºåÊâÄ‰ª•‰ªñ‰ª¨ÂèØ‰ª•ÂèëÈÄÅÂè¶‰∏ÄÂ∏ß„ÄÇÊàë‰ª¨ÂÆåÊàê‰∫Ü! Áé∞Âú®ËøêË°å mcwayfaceÔºåÁÑ∂ÂêéÊâßË°å‰ª•‰∏ãÂëΩ‰ª§Ôºö 12$ WAYLAND_DISPLAY=wayland-1 weston-simple-shm &amp;$ WAYLAND_DISPLAY=wayland-1 gnome-terminal -- htop ÁúãÁúãËøôÁæéÂ¶ôÁöÑÂõæÁâáÔºö ËøêË°å‰ªª‰Ωï‰Ω†ÂñúÊ¨¢ÁöÑÂÖ∂‰ªñÂÆ¢Êà∑Á´Ø‚ÄìÂÆÉ‰ª¨‰∏≠ÁöÑËÆ∏Â§öÈÉΩÂèØ‰ª•Â∑•‰Ωú„ÄÇ Êàë‰ª¨‰ªäÂ§©‰ΩøÁî®‰∫Ü‰∏ÄÁÇπÈªëÂÆ¢ÊäÄÊúØÔºåÁÆÄÂçïÂú∞Ê∏≤Êüì‰∫Ü wl_compositor ÊâÄÁü•ÈÅìÁöÑÊâÄÊúâË°®Èù¢„ÄÇÂú®ÂÆûË∑µ‰∏≠ÔºåÊàë‰ª¨ÈúÄË¶ÅÊâ©Â±ïÊàë‰ª¨ÁöÑ xdg_shell ÊîØÊåÅÔºà‰πüÂèØ‰ª•Ê∑ªÂä†‰∏Ä‰∫õÂÖ∂‰ªñÁöÑ shellÔºâÊù•Ê≠£Á°ÆÂú∞ÂÆåÊàêËøô‰∏™‰ªªÂä°„ÄÇÊàë‰ª¨Â∞ÜÂú®‰∏ã‰∏ÄÁØáÊñáÁ´†‰∏≠ËÆ®ËÆ∫Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ Âú®‰Ω†Ëµ∞‰πãÂâçÔºåËØ∑Ê≥®ÊÑèÔºöÂú®ËøôÊ¨°Êèê‰∫§‰πãÂêéÔºåÊàëÈáçÊñ∞ÁªÑÁªá‰∫Ü‰∏Ä‰∫õ‰∏úË•ø‚ÄìÊàë‰ª¨ÂæàÂø´Â∞±‰ºöÊ∑òÊ±∞ËøôÁßçÂçïÊñá‰ª∂ÁöÑÊñπÊ≥ï„ÄÇËØ∑ÁúãËøôÈáåÁöÑÊèê‰∫§„ÄÇ ‰∏ãÂõûËßÅ! Êú¨ÊñáÂèäÂéüÊñá‰ΩøÁî® CC-BY-SA ÂçèËÆÆÂºÄÊîæ„ÄÇ","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Wayland","slug":"Linux/Wayland","permalink":"https://blog.inoki.cc/categories/Linux/Wayland/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"}]},{"title":"„ÄêËØë„Äë‰ªéÈõ∂ÂºÄÂßãÁöÑ Wayland ÂêàÊàêÂô® ‚Äî‚Äî 2. Ë£ÖÈÖçÊúçÂä°Âô®","slug":"Writing-a-wayland-compositor-2","date":"2021-09-06T20:47:40.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2021/09/06/Writing-a-wayland-compositor-2/","link":"","permalink":"https://blog.inoki.cc/2021/09/06/Writing-a-wayland-compositor-2/","excerpt":"","text":"ÂéüÊñáÈìæÊé•ÔºöWriting a Wayland Compositor, Part 2: Rigging up the server ËØëËÄÖÊ≥®ÔºöËøô‰∏™Á≥ªÂàóÊñáÁ´†‰∏≠‰ΩøÁî®ÁöÑ‰∏∫Êó©Êúü wlroots ÁâàÊú¨ÔºåÂ§ßÁ∫¶Âú® 0.3 Âà∞ 0.4.1 ‰πãÈó¥ÔºåËØ∑Ê≥®ÊÑèÂÆâË£ÖÁöÑÁâàÊú¨ ËøôÊòØÂÖ≥‰∫é‰ΩøÁî® wlroots ‰ªéÂ§¥ÂºÄÂßãÁºñÂÜô Wayland ÂêàÊàêÂô®ÁöÑÁ≥ªÂàóÊñáÁ´†‰∏≠ÁöÑÁ¨¨‰∫åÁØá„ÄÇÂ¶ÇÊûú‰Ω†ËøòÊ≤°ÊúâÁúãËøáÁ¨¨‰∏ÄÁØáÊñáÁ´†ÔºåÂèØ‰ª•ÁúãÁúã„ÄÇ‰∏ä‰∏ÄÊ¨°ÔºåÊàë‰ª¨ÊúÄÁªàÂæóÂà∞‰∫Ü‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÔºåÂÆÉÂêØÂä®‰∫Ü wlroots ÂêéÁ´ØÔºåÊûö‰∏æ‰∫ÜËæìÂá∫ËÆæÂ§áÔºåÂπ∂Âú®Â±èÂπï‰∏äÁªòÂà∂‰∫Ü‰∏Ä‰∫õÊºÇ‰∫ÆÁöÑÈ¢úËâ≤„ÄÇ‰ªäÂ§©ÔºåÊàë‰ª¨Â∞ÜÂºÄÂßãÊé•Âèó Wayland ÂÆ¢Êà∑Á´ØÁöÑËøûÊé•ÔºåÂ∞ΩÁÆ°Êàë‰ª¨Ëøò‰∏çÊâìÁÆóÂØπÂÆÉ‰ª¨ÂÅö‰ªÄ‰πà„ÄÇ Êú¨ÊñáÂâñÊûêÁöÑÊèê‰∫§ÊòØb45c651„ÄÇ ÂÖ≥‰∫éËøô‰∫õÂçöÂÆ¢ÊñáÁ´†ÁöÑÊÄßË¥®ÔºåÊàëÊÉ≥ËØ¥ÁöÑÊòØÔºöÊàë‰ª¨Â∞ÜÈúÄË¶ÅÂ§ßÈáèÁöÑÊñáÁ´†Êù•ÂÖÖÂÆûÊàë‰ª¨ÁöÑÂêàÊàêÂô®„ÄÇÊàëÂ∞Ü‰ºöÊØîÂπ≥Êó∂Êõ¥È¢ëÁπÅÂú∞ÂèëÂ∏ÉËøô‰∫õÊñáÁ´†ÔºåÂ§ßÊ¶ÇÊØèÂë®1-2ÁØáÔºåÂπ∂ÁªßÁª≠‰ª•ÈÄöÂ∏∏ÁöÑÈÄüÂ∫¶ÂèëÂ∏ÉÊàëÁöÑÊñáÁ´†„ÄÇÂ•ΩÂêóÔºüÂæàÂ•Ω„ÄÇ ÊâÄ‰ª•Êàë‰ª¨Â∑≤ÁªèÂêØÂä®‰∫ÜÂêéÁ´ØÔºåÂπ∂‰∏îÊ≠£Âú®Ê∏≤Êüì‰∏Ä‰∫õÊúâË∂£ÁöÑ‰∏úË•øÔºå‰ΩÜÊòØÊàë‰ª¨‰ªçÁÑ∂Ê≤°ÊúâËøêË°åWaylandÊúçÂä°Âô®‚ÄìWaylandÂÆ¢Êà∑Á´ØÊ≤°ÊúâËøûÊé•Âà∞Êàë‰ª¨ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇÊ∑ªÂä†Ëøô‰∏™ÂÖ∂ÂÆûÂæàÂÆπÊòìÔºö 12345678910111213141516171819@@ -113,12 +113,18 @@ int main(int argc, char **argv) &#123; server.new_output.notify = new_output_notify; wl_signal_add(&amp;server.backend-&gt;events.new_output, &amp;server.new_output); + const char *socket = wl_display_add_socket_auto(server.wl_display);+ assert(socket);+ if (!wlr_backend_start(server.backend)) &#123; fprintf(stderr, \"Failed to start backend\\n\"); wl_display_destroy(server.wl_display); return 1; &#125; + printf(\"Running compositor on wayland display '%s'\\n\", socket);+ setenv(\"WAYLAND_DISPLAY\", socket, true);+ wl_display_run(server.wl_display); wl_display_destroy(server.wl_display); return 0; ËøôÂ∞±ÊòØ‰∫Ü! Â¶ÇÊûú‰Ω†ÂÜçÊ¨°ËøêË°å McWayfaceÔºåÂÆÉÂ∞ÜÊâìÂç∞Âá∫ËøôÊ†∑ÁöÑ‰∏úË•øÔºö 1Running compositor on wayland display &apos;wayland-1&apos; Weston ÊòØ Wayland ÁöÑÂèÇËÄÉÂêàÊàêÂô®ÔºåÂåÖÊã¨‰∏Ä‰∫õÁÆÄÂçïÁöÑÂèÇËÄÉÂÆ¢Êà∑Á´Ø„ÄÇÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® weston-info ËøûÊé•Âà∞Êàë‰ª¨ÁöÑÊúçÂä°Âô®Âπ∂ÂàóÂá∫ÂÖ®Â±ÄÂèòÈáèÔºö 12$ WAYLAND_DISPLAY=wayland-1 weston-infointerface: &apos;wl_drm&apos;, version: 2, name: 1 Â¶ÇÊûú‰Ω†ËøòËÆ∞ÂæóÊàëÁöÑ„ÄäWayland ÁÆÄ‰ªã„ÄãÔºåWayland ÊúçÂä°Âô®ÈÄöËøá Wayland Ê≥®ÂÜåË°®ÂêëÂÆ¢Êà∑Á´ØËæìÂá∫‰∫Ü‰∏Ä‰∏™ÂÖ®Â±ÄÂèòÈáèÂàóË°®„ÄÇËøô‰∫õÂÖ®Â±ÄÂèòÈáèÊèê‰æõ‰∫ÜÂÆ¢Êà∑Á´ØÂèØ‰ª•Áî®Êù•‰∏éÊúçÂä°Âô®‰∫íÂä®ÁöÑÊé•Âè£„ÄÇÊàë‰ª¨ÈÄöËøá wlroots Ëé∑Âæó‰∫Ü wl_drmÔºå‰ΩÜÊàë‰ª¨ÂÆûÈôÖ‰∏äËøòÊ≤°ÊúâËøûÊé•‰∏ä‰ªª‰ΩïÊúâÁî®ÁöÑ‰∏úË•ø„ÄÇwlrootsÊèê‰æõ‰∫ÜËÆ∏Â§ö ‚ÄúÁ±ªÂûã‚ÄùÔºåÂÖ∂‰∏≠Â§ßÈÉ®ÂàÜÊòØÂÉèËøôÊ†∑ÁöÑ Wayland ÂÖ®Â±ÄÊé•Âè£ÁöÑÂÆûÁé∞„ÄÇ ‰∏Ä‰∫õ wlroots ÁöÑÂÆûÁé∞ÈúÄË¶Å‰Ω†ËøõË°å‰∏Ä‰∫õÊìçÁ∫µÔºå‰ΩÜÂÖ∂‰∏≠ÊúâÂá†‰∏™ÊòØËá™Âä®ÊêûÂÆöÁöÑ„ÄÇË£ÖÈÖçËøô‰∫õ‰∏úË•øÂæàÂÆπÊòìÔºö 1234567891011 printf(\"Running compositor on wayland display '%s'\\n\", socket); setenv(\"WAYLAND_DISPLAY\", socket, true);++ wl_display_init_shm(server.wl_display);+ wlr_gamma_control_manager_create(server.wl_display);+ wlr_screenshooter_create(server.wl_display);+ wlr_primary_selection_device_manager_create(server.wl_display);+ wlr_idle_create(server.wl_display); wl_display_run(server.wl_display); wl_display_destroy(server.wl_display); ËØ∑Ê≥®ÊÑèÔºåËøô‰∫õÊé•Âè£‰∏≠ÁöÑ‰∏Ä‰∫õÂπ∂‰∏ç‰∏ÄÂÆöÊòØ‰Ω†ÈÄöÂ∏∏ÊÉ≥Ë¶ÅÊö¥Èú≤ÁªôÊâÄÊúâ Wayland ÂÆ¢Êà∑Á´ØÁöÑÊé•Âè£‚Äì‰æãÂ¶ÇÔºåscreenshooter ÊòØÂ∫îËØ•Ë¢´‰øùÊä§Ëµ∑Êù•ÁöÑ‰∏úË•ø„ÄÇÊàë‰ª¨Â∞ÜÂú®ÂêéÈù¢ÁöÑÊñáÁ´†‰∏≠ËÆ®ËÆ∫ÂÆâÂÖ®ÈóÆÈ¢ò„ÄÇÁé∞Âú®ÔºåÂ¶ÇÊûúÊàë‰ª¨ÂÜçÊ¨°ËøêË°å weston-infoÔºåÊàë‰ª¨‰ºöÁúãÂà∞Êõ¥Â§öÁöÑÂÖ®Â±ÄÂèòÈáèÂ∑≤ÁªèÂá∫Áé∞Ôºö 12345678$ WAYLAND_DISPLAY=wayland-1 weston-infointerface: &apos;wl_shm&apos;, version: 1, name: 3 formats: XRGB8888 ARGB8888interface: &apos;wl_drm&apos;, version: 2, name: 1interface: &apos;gamma_control_manager&apos;, version: 1, name: 2interface: &apos;orbital_screenshooter&apos;, version: 1, name: 3interface: &apos;gtk_primary_selection_device_manager&apos;, version: 1, name: 4interface: &apos;org_kde_kwin_idle&apos;, version: 1, name: 5 ‰Ω†‰ºöÂèëÁé∞ wlroots ÂÆûÁé∞‰∫ÜÂêÑÁßç‰∏çÂêåÊù•Ê∫êÁöÑÂçèËÆÆ‚ÄìÂú®ËøôÈáåÊàë‰ª¨ÁúãÂà∞ Orbital„ÄÅGTK Âíå KDEÁöÑ ÂçèËÆÆ„ÄÇwlroots ÂåÖÊã¨‰∏Ä‰∏™ Orbital Â±èÂπïÊà™ÂõæÁöÑÂÆ¢Êà∑Á´ØÂÆû‰æã‚ÄìÊàë‰ª¨Áé∞Âú®ÂèØ‰ª•Áî®ÂÆÉÊù•ÁªôÊàë‰ª¨ÁöÑÂêàÊàêÂô®Êà™‰∏™ÂõæÔºö 12$ WAYLAND_DISPLAY=wayland-1 ./examples/screenshotcannot set buffer size ÂïäÔºåËøôÊòØ‰∏™ÈóÆÈ¢ò‚Äì‰Ω†ÂèØËÉΩÂ∑≤ÁªèÊ≥®ÊÑèÂà∞ÔºåÊàë‰ª¨Ê≤°Êúâ‰ªª‰Ωï wl_output ÁöÑÂÖ®Â±ÄÂèòÈáèÔºåÂ±èÂπïÊà™ÂõæÂÆ¢Êà∑Á´Ø‰æùÈù†ÂÆÉÊù•ËÆ°ÁÆóÂ±èÂπïÊà™ÂõæÁºìÂÜ≤Âå∫ÁöÑÂàÜËæ®Áéá„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•Ê∑ªÂä†Ëøô‰∫õÔºö 1234567@@ -95,6 +99,8 @@ static void new_output_notify(struct wl_listener *listener, void *data) &#123; wl_signal_add(&amp;wlr_output-&gt;events.destroy, &amp;output-&gt;destroy); output-&gt;frame.notify = output_frame_notify; wl_signal_add(&amp;wlr_output-&gt;events.frame, &amp;output-&gt;frame);++ wlr_output_create_global(wlr_output); &#125; ÂÜçÊ¨°ËøêË°å weston-info ‰ºöÁªôÊàë‰ª¨Êèê‰æõ‰∏Ä‰∫õÂÖ≥‰∫éÊàë‰ª¨Áé∞Âú®ÁöÑ output ÁöÑ‰ø°ÊÅØÔºö 12345678910111213141516$ WAYLAND_DISPLAY=wayland-1 weston-infointerface: &apos;wl_drm&apos;, version: 2, name: 1interface: &apos;wl_output&apos;, version: 3, name: 2 x: 0, y: 0, scale: 1, physical_width: 0 mm, physical_height: 0 mm, make: &apos;wayland&apos;, model: &apos;wayland&apos;, subpixel_orientation: unknown, output_transform: normal, mode: width: 952 px, height: 521 px, refresh: 0.000 Hz, flags: currentinterface: &apos;wl_shm&apos;, version: 1, name: 3 formats: XRGB8888 ARGB8888interface: &apos;gamma_control_manager&apos;, version: 1, name: 4interface: &apos;orbital_screenshooter&apos;, version: 1, name: 5interface: &apos;gtk_primary_selection_device_manager&apos;, version: 1, name: 6interface: &apos;org_kde_kwin_idle&apos;, version: 1, name: 7 Áé∞Âú®Êàë‰ª¨ÂèØ‰ª•Êãç‰∏ãÈÇ£Âº†Êà™Âõæ‰∫Ü! ÁªôÂÆÉ‰∏Ä‰∏™Êú∫‰ºöÔºàwwwwwwÔºâ! Êàë‰ª¨Áé∞Âú®Â∑≤ÁªèÊé•ËøëÂÆåÊàê‰∫Ü„ÄÇ‰∏ã‰∏ÄÁØáÊñáÁ´†Â∞Ü‰ªãÁªç Surface ÁöÑÊ¶ÇÂøµÔºåÊàë‰ª¨Â∞ÜÁî®ÂÆÉ‰ª¨Êù•Ê∏≤ÊüìÊàë‰ª¨ÁöÑÁ¨¨‰∏Ä‰∏™Á™óÂè£„ÄÇÂ¶ÇÊûú‰Ω†Âú®ËøôÁØáÊñáÁ´†‰∏≠ÈÅáÂà∞‰ªª‰ΩïÈóÆÈ¢òÔºåËØ∑ËÅîÁ≥ªÊàëÔºåsir@cmpwn.comÔºåÊàñËÄÖËÅîÁ≥ª wlroots Âõ¢ÈòüÔºå#sway-devel„ÄÇ Êú¨ÊñáÂèäÂéüÊñá‰ΩøÁî® CC-BY-SA ÂçèËÆÆÂºÄÊîæ„ÄÇ","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Wayland","slug":"Linux/Wayland","permalink":"https://blog.inoki.cc/categories/Linux/Wayland/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"}]},{"title":"„ÄêËØë„Äë‰ªéÈõ∂ÂºÄÂßãÁöÑ Wayland ÂêàÊàêÂô® ‚Äî‚Äî 1. Hello wlroots","slug":"Writing-a-wayland-compositor-1","date":"2021-09-05T20:47:40.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2021/09/05/Writing-a-wayland-compositor-1/","link":"","permalink":"https://blog.inoki.cc/2021/09/05/Writing-a-wayland-compositor-1/","excerpt":"","text":"ÂéüÊñáÈìæÊé•ÔºöWriting a Wayland Compositor, Part 1: Hello wlroots ËØëËÄÖÊ≥®ÔºöËøô‰∏™Á≥ªÂàóÊñáÁ´†‰∏≠‰ΩøÁî®ÁöÑ‰∏∫Êó©Êúü wlroots ÁâàÊú¨ÔºåÂ§ßÁ∫¶Âú® 0.3 Âà∞ 0.4.1 ‰πãÈó¥ÔºåËØ∑Ê≥®ÊÑèÂÆâË£ÖÁöÑÁâàÊú¨ ËøôÊòØ‰∏ÄÁ≥ªÂàóÊñáÁ´†‰∏≠ÁöÑÁ¨¨‰∏ÄÁØá„ÄÇ ÊàëÊ≠£Âú®ÂÜô‰∏ÄÁØáÂÖ≥‰∫é‰ªéÂ§¥ÂºÄÂßãÊûÑÂª∫‰∏Ä‰∏™ Wayland ÂêàÊàêÂô®ÁöÑÊñáÁ´†„ÄÇ‰Ω†ÂèØËÉΩÁü•ÈÅìÔºåÊàëÔºàÂéü‰ΩúËÄÖÔºâÊòØ Sway ÁöÑ‰∏ªË¶ÅÁª¥Êä§ËÄÖÔºåËøôÊòØ‰∏Ä‰∏™Áõ∏ÂΩìÂèóÊ¨¢ËøéÁöÑ Wayland ÂêàÊàêÂô®„ÄÇÂú®ËøáÂéªÁöÑÂá†‰∏™ÊúàÈáåÔºåÊàë‰ª¨ÂíåËÆ∏Â§öÂÖ∂‰ªñ‰ºòÁßÄÁöÑÂºÄÂèëËÄÖ‰∏ÄËµ∑Ôºå‰∏ÄÁõ¥Âú®ÂºÄÂèë wlroots„ÄÇËøôÊòØ‰∏Ä‰∏™Áî®‰∫éÂàõÂª∫Êñ∞ÁöÑ Wayland ÂêàÊàêÂô®ÁöÑÂº∫Â§ßÂ∑•ÂÖ∑Ôºå‰ΩÜÂÆÉÈùûÂ∏∏Â§çÊùÇÈöæ‰ª•ÁêÜËß£„ÄÇ‰∏çË¶ÅÊÑüÂà∞ÁªùÊúõÔºÅËøôÁØáÊñáÁ´†ÁöÑÁõÆÁöÑÊòØËÆ©Â§ßÂÆ∂‰∫ÜËß£ Wayland ÂêàÊàêÂô®„ÄÇËøô‰∫õÊñáÁ´†ÁöÑÁõÆÁöÑÊòØËÆ©‰Ω†ÁêÜËß£Âπ∂Ëá™Â¶ÇÂú∞‰ΩøÁî®ÂÆÉ„ÄÇ Âú®Êàë‰ª¨Ê∑±ÂÖ•ËÆ®ËÆ∫‰πãÂâçÔºåËØ∑Ê≥®ÊÑèÔºöwlroots Âõ¢Èòü‰ªäÂ§©ÂºÄÂßã‰∫Ü‰∏ÄÈ°π‰ºóÁ≠πÊ¥ªÂä®Ôºå‰ª•ËµÑÂä©Êàë‰ª¨ÊØè‰∏™Ê†∏ÂøÉË¥°ÁåÆËÄÖÁöÑÊóÖË°åÔºåËÆ©‰ªñ‰ª¨‰∫≤Ëá™‰ºöÈù¢Âπ∂Âú®ÈªëÂÆ¢È©¨ÊãâÊùæ‰∏äÂ∑•‰Ωú‰∏§Âë®„ÄÇËØ∑ËÄÉËôë‰∏∫ËØ•Ê¥ªÂä®ÂÅöÂá∫Ë¥°ÁåÆ! Âú®ËØïÂõæÁêÜËß£Ëøô‰∏ÄÁ≥ªÂàóÂçöÊñá‰πãÂâçÔºå‰Ω†ÂøÖÈ°ªÈòÖËØªÂπ∂ÁêÜËß£Êàë‰πãÂâçÁöÑÊñáÁ´†„ÄäWayland ‰ªãÁªç„ÄãÔºåÂõ†‰∏∫ÊàëÂ∞Ü‰æùÈù†ÈÇ£Èáå‰ªãÁªçÁöÑÊ¶ÇÂøµÂíåÊúØËØ≠Êù•Âä†Âø´‰∫ãÊÉÖÁöÑËøõÂ±ï„ÄÇ‰∏Ä‰∫õ OpenGL ÁöÑËÉåÊôØÊòØÊúâÂ∏ÆÂä©ÁöÑÔºå‰ΩÜ‰∏çÊòØÂøÖÈ°ªÁöÑ„ÄÇÂØπ C ËØ≠Ë®ÄÁöÑËâØÂ•ΩÁêÜËß£ÊòØÂøÖÈ°ªÁöÑ„ÄÇÂ¶ÇÊûú‰Ω†ÂØπËøô‰∏™Á≥ªÂàóÁöÑ‰ªª‰ΩïÊñáÁ´†Êúâ‰ªª‰ΩïÈóÆÈ¢òÔºåËØ∑ÈÄöËøá sir@cmpwn.com Áõ¥Êé•ËÅîÁ≥ªÊàëÔºåÊàñËÄÖËÅîÁ≥ª irc.freenode.net ‰∏äÁöÑ #sway-devel ÁöÑ wlroots Âõ¢Èòü„ÄÇ Âú®Ëøô‰∏ÄÁ≥ªÂàóÁöÑÊñáÁ´†‰∏≠ÔºåÊàë‰ª¨Ê≠£Âú®ÊûÑÂª∫ÁöÑÂêàÊàêÂô®Â∞ÜÊâòÁÆ°Âú® GitHub ‰∏ä‚Äî‚ÄîWayland McWayface„ÄÇÊú¨Á≥ªÂàóÊñáÁ´†‰∏≠ÁöÑÊØèÁØáÊñáÁ´†ÈÉΩ‰ºöÂØπ‰ªéÈõ∂Âà∞ÂäüËÉΩÈΩêÂÖ®ÁöÑ Wayland ÂêàÊàêÂô®‰πãÈó¥ÁöÑ‰∏ÄÊ¨°Êèê‰∫§ËøõË°åÂàÜËß£ÔºåËøôÁØáÊñáÁ´†ÁöÑÊèê‰∫§ÊòØ f89092e„ÄÇÊàëÂè™Ëß£ÈáäÈáçË¶ÅÁöÑÈÉ®ÂàÜ‚ÄìÊàëÂª∫ËÆÆ‰Ω†ÂçïÁã¨Êü•ÁúãÊï¥‰∏™Êèê‰∫§„ÄÇ ËÆ©Êàë‰ª¨ÂºÄÂßãÂêß„ÄÇ Á¨¨‰∏ÄÊ≠• È¶ñÂÖàÔºåÊàëÂ∞ÜÂÆö‰πâ‰∏Ä‰∏™ÁªìÊûÑÊù•‰øùÂ≠òÊàë‰ª¨ÁöÑÂêàÊàêÂô®ÁöÑÁä∂ÊÄÅÔºö 1234struct mcw_server &#123; struct wl_display *wl_display; struct wl_event_loop *wl_event_loop;&#125;; Ê≥®ÊÑèÔºömcw ÊòØ McWayface ÁöÑÁÆÄÁß∞„ÄÇÊàë‰ª¨Â∞ÜÂú®Êï¥‰∏™Á≥ªÂàóÊñáÁ´†‰∏≠‰ΩøÁî®Ëøô‰∏™Áº©ÂÜô„ÄÇÊàë‰ª¨Â∞ÜÊääÂÖ∂‰∏≠‰∏Ä‰∏™ÊîæÂú®‰∏ÄËæπÔºåÂπ∂‰∏∫ÂÆÉÂàùÂßãÂåñ‰∏Ä‰∏™ Wayland ÁöÑ displayÔºàÊ≥®ÊÑèÔºöÊàë‰ª¨ÂÆåÂÖ®ÂèØ‰ª•Âà©Áî® wlroots ÂêéÁ´ØÊù•Âà∂‰ΩúÈùû Wayland ÂêàÊàêÂô®ÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇÁÑ∂ËÄåÔºåÊàë‰ª¨ËøòÊòØÈúÄË¶Å‰∏Ä‰∏™ Wayland ÁöÑ displayÔºåÂõ†‰∏∫‰∫ã‰ª∂Âæ™ÁéØÂØπ‰∫éÂæàÂ§ö wlroots ÁöÑÂÜÖÈÉ®Á®ãÂ∫èÊù•ËØ¥ÊòØÂøÖË¶ÅÁöÑÔºâÔºö 123456789int main(int argc, char **argv) &#123; struct mcw_server server; server.wl_display = wl_display_create(); assert(server.wl_display); server.wl_event_loop = wl_display_get_event_loop(server.wl_display); assert(server.wl_event_loop); return 0;&#125; Wayland ÁöÑ display Áªô‰∫ÜÊàë‰ª¨ÂæàÂ§ö‰∏úË•øÔºå‰ΩÜÁé∞Âú®Êàë‰ª¨ÂÖ≥ÂøÉÁöÑÊòØ‰∫ã‰ª∂Âæ™ÁéØ„ÄÇËøô‰∏™‰∫ã‰ª∂Âæ™ÁéØË¢´Ê∑±Ê∑±Âú∞Êï¥ÂêàÂà∞‰∫Ü wlroots ‰∏≠ÔºåÂÆÉË¢´Áî®Êù•Âú®Êï¥‰∏™Â∫îÁî®Á®ãÂ∫è‰∏≠ÂàÜÈÖç‰ø°Âè∑ÔºåÂΩìÂêÑÁßçÊñá‰ª∂ÊèèËø∞Á¨¶‰∏äÁöÑÊï∞ÊçÆÂèØÁî®Êó∂Ë¢´ÈÄöÁü•ÔºåÁ≠âÁ≠â„ÄÇ ÂàõÂª∫ÂêéÁ´Ø Êé•‰∏ãÊù•ÔºåÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫ÂêéÁ´ØÔºö 123456struct mcw_server &#123; struct wl_display *wl_display; struct wl_event_loop *wl_event_loop; struct wlr_backend *backend;&#125;; ÂêéÁ´ØÊòØÊàë‰ª¨Á¨¨‰∏Ä‰∏™ wlroots Ê¶ÇÂøµÔºåÂÆÉË¥üË¥£‰ªé‰Ω†ÈÇ£ÈáåÊäΩË±°Âá∫‰ΩéÂ±ÇÊ¨°ÁöÑËæìÂÖ•ÂíåËæìÂá∫ÂÆûÁé∞„ÄÇÊØè‰∏™ÂêéÁ´ØÂèØ‰ª•ÁîüÊàêÈõ∂‰∏™ÊàñÂ§ö‰∏™ËæìÂÖ•ËÆæÂ§áÔºàÂ¶ÇÈº†Ê†á„ÄÅÈîÆÁõòÁ≠âÔºâÂíåÈõ∂‰∏™ÊàñÂ§ö‰∏™ËæìÂá∫ËÆæÂ§áÔºàÂ¶Ç‰Ω†Ê°å‰∏äÁöÑÊòæÁ§∫Âô®Ôºâ„ÄÇÂêéÁ´Ø‰∏é Wayland Êó†ÂÖ≥‚ÄìÂÆÉ‰ª¨ÁöÑÁõÆÁöÑÊòØÂ∏ÆÂä©‰Ω†‰ΩøÁî®‰Ω†‰Ωú‰∏∫ Wayland ÂêàÊàêÂô®ÊâÄÈúÄÁöÑÂÖ∂‰ªñ API„ÄÇÊúâÂêÑÁßç‰∏çÂêåÁõÆÁöÑÁöÑÂêéÁ´ØÔºö drm ÂêéÁ´ØÂà©Áî® Linux ÁöÑ DRM Â≠êÁ≥ªÁªüÁõ¥Êé•Ê∏≤ÊüìÂà∞‰Ω†ÁöÑÁâ©ÁêÜÊòæÁ§∫Âô® libinput ÂêéÁ´ØÂà©Áî® libinput Êù•Êûö‰∏æÂíåÊéßÂà∂Áâ©ÁêÜËæìÂÖ•ËÆæÂ§á Wayland ÂêéÁ´ØÂú®Âè¶‰∏Ä‰∏™ËøêË°å Wayland ÂêàÊàêÂô®ÁöÑÁ™óÂè£‰∏äÂàõÂª∫ ‚ÄúËæìÂá∫‚ÄùÔºåÂÖÅËÆ∏‰Ω†ÂØπÂêàÊàêÂô®ËøõË°åÂµåÂ•ó„ÄÇËøôÂØπË∞ÉËØïÂæàÊúâÁî® X11 ÂêéÁ´Ø‰∏é Wayland ÂêéÁ´ØÁ±ª‰ººÔºå‰ΩÜÂú® X11 ÊúçÂä°Âô®‰∏äÊâìÂºÄ‰∏Ä‰∏™ X11 Á™óÂè£ÔºåËÄå‰∏çÊòØÂú® Wayland ÊúçÂä°Âô®‰∏äÊâìÂºÄ‰∏Ä‰∏™ Wayland Á™óÂè£ Âè¶‰∏Ä‰∏™ÈáçË¶ÅÁöÑÂêéÁ´ØÊòØÂ§öÂêéÁ´ØÔºåÂÆÉÂÖÅËÆ∏‰Ω†ÂêåÊó∂ÂàùÂßãÂåñÂá†‰∏™ÂêéÁ´ØÂπ∂ËÅöÂêàÂÆÉ‰ª¨ÁöÑËæìÂÖ•ÂíåËæìÂá∫ËÆæÂ§á„ÄÇ‰æãÂ¶ÇÔºåËøôÂØπ‰∫éÂêåÊó∂Âà©Áî® drm Âíå libinput ÊòØÂøÖË¶ÅÁöÑ„ÄÇ Êàë‰ª¨ÁöÑÂ∫ì wlroots Êèê‰æõ‰∫Ü‰∏Ä‰∏™ËæÖÂä©ÂáΩÊï∞ÔºåÁî®‰∫éÊ†πÊçÆÁî®Êà∑ÁöÑÁéØÂ¢ÉËá™Âä®ÈÄâÊã©ÊúÄÂêàÈÄÇÁöÑÂêéÁ´ØÔºö 1234567 server.wl_event_loop = wl_display_get_event_loop(server.wl_display); assert(server.wl_event_loop); server.backend = wlr_backend_autocreate(server.wl_display); assert(server.backend); return 0;&#125; Êàë‰∏ÄËà¨Âª∫ËÆÆÂú®ÂºÄÂèëËøáÁ®ã‰∏≠‰ΩøÁî® Wayland Êàñ X11 ÂêéÁ´ØÔºåÁâπÂà´ÊòØÂú®Êàë‰ª¨ÊúâÂäûÊ≥ïÈÄÄÂá∫ÂêàÊàêÂô®‰πãÂâç„ÄÇÂ¶ÇÊûú‰Ω†Âú®ËøêË°å‰∏≠ÁöÑ Wayland Êàñ X11 ‰ºöËØù‰∏≠Ë∞ÉÁî® wlr_backend_autocreateÔºåÁõ∏Â∫îÁöÑÂêéÁ´Ø‰ºöË¢´Ëá™Âä®ÈÄâÊã©„ÄÇ Êàë‰ª¨Áé∞Âú®ÂèØ‰ª•ÂêØÂä®ÂêéÁ´ØÂπ∂ËøõÂÖ• Wayland ‰∫ã‰ª∂Âæ™ÁéØÔºö 12345678if (!wlr_backend_start(server.backend)) &#123; fprintf(stderr, \"Failed to start backend\\n\"); return 1;&#125;wl_display_run(server.wl_display);wl_display_destroy(server.wl_display);return 0; Â¶ÇÊûú‰Ω†Âú®ËøôÊó∂ËøêË°å‰Ω†ÁöÑÂêàÊàêÂô®Ôºå‰Ω†Â∫îËØ•ÁúãÂà∞ÂêéÁ´ØÂêØÂä®ÔºåÁÑ∂Âêé‚Ä¶‰ªÄ‰πàÈÉΩ‰∏çÂÅö„ÄÇÂ¶ÇÊûú‰Ω†‰ªéËøêË°å‰∏≠ÁöÑ Wayland Êàñ X11 ÊúçÂä°Âô®‰∏äËøêË°åÔºåÂÆÉ‰ºöÊâìÂºÄ‰∏Ä‰∏™Á™óÂè£„ÄÇÂ¶ÇÊûú‰Ω†Âú® DRM ‰∏äËøêË°åÂÆÉÔºåÂÆÉÂèØËÉΩ‰ºöÂÅöÂæóÂæàÂ∞ëÔºå‰Ω†ÁîöËá≥‰∏çËÉΩÂàáÊç¢Âà∞Âè¶‰∏Ä‰∏™ TTY Êù•ÊùÄÊ≠ªÂÆÉ„ÄÇ Ê∑ªÂä†‰∫ã‰ª∂ÁõëÂê¨ÂáΩÊï∞ ‰∏∫‰∫ÜÊ∏≤Êüì‰∏úË•øÔºåÊàë‰ª¨ÈúÄË¶ÅÁü•ÈÅìÊàë‰ª¨ÂèØ‰ª•Âú®Âì™‰∫õËæìÂá∫‰∏äÊ∏≤Êüì„ÄÇÂêéÂè∞Êèê‰æõ‰∫Ü‰∏Ä‰∏™ wl_signalÔºåÂΩìÂÆÉÂæóÂà∞‰∏Ä‰∏™Êñ∞ÁöÑËæìÂá∫Êó∂ÈÄöÁü•Êàë‰ª¨„ÄÇËøôÂ∞ÜÂèëÁîüÂú®ÂêØÂä®Êó∂Ôºå‰ª•Âèä‰ªª‰ΩïËæìÂá∫Âú®ËøêË°åÊó∂Ë¢´ÁÉ≠ÊèíÊãîÊó∂„ÄÇ ËÆ©Êàë‰ª¨ÊääÂÆÉÊ∑ªÂä†Âà∞Êàë‰ª¨ÁöÑÊúçÂä°Âô®ÁªìÊûÑ‰Ωì‰∏≠Ôºö 12345678struct mcw_server &#123; struct wl_display *wl_display; struct wl_event_loop *wl_event_loop; struct wlr_backend *backend; struct wl_listener new_output; struct wl_list outputs; // mcw_output::link&#125;; ËøôÂ¢ûÂä†‰∫Ü‰∏Ä‰∏™ wl_listenersÔºåÂΩìÊñ∞ÁöÑËæìÂá∫Ë¢´Ê∑ªÂä†Êó∂ÔºåÂÆÉÂ∞±‰ºöË¢´ÈÄöÁü•„ÄÇÊàë‰ª¨ËøòÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™ wl_listÔºàËøôÂè™ÊòØ‰∏Ä‰∏™Áî± libwayland-server Êèê‰æõÁöÑÈìæÊé•ÂàóË°®ÔºâÔºåÊàë‰ª¨‰ª•Âêé‰ºöÂú®ÂÖ∂‰∏≠Â≠òÂÇ®‰∏Ä‰∫õÁä∂ÊÄÅ„ÄÇ‰∏∫‰∫ÜÂæóÂà∞ÈÄöÁü•ÔºåÊàë‰ª¨ÂøÖÈ°ª‰ΩøÁî® wl_signal_addÔºö 1234567assert(server.backend);wl_list_init(&amp;server.outputs);server.new_output.notify = new_output_notify;wl_signal_add(&amp;server.backend-&gt;events.new_output, &amp;server.new_output); if (!wlr_backend_start(server.backend)) &#123; Êàë‰ª¨Âú®ËøôÈáåÊåáÂÆöË¢´ÈÄöÁü•ÁöÑÂáΩÊï∞ new_output_notifyÔºö 1234567891011121314151617static void new_output_notify(struct wl_listener *listener, void *data) &#123; struct mcw_server *server = wl_container_of( listener, server, new_output); struct wlr_output *wlr_output = data; if (!wl_list_empty(&amp;wlr_output-&gt;modes)) &#123; struct wlr_output_mode *mode = wl_container_of(wlr_output-&gt;modes.prev, mode, link); wlr_output_set_mode(wlr_output, mode); &#125; struct mcw_output *output = calloc(1, sizeof(struct mcw_output)); clock_gettime(CLOCK_MONOTONIC, &amp;output-&gt;last_frame); output-&gt;server = server; output-&gt;wlr_output = wlr_output; wl_list_insert(&amp;server-&gt;outputs, &amp;output-&gt;link);&#125; ËøôÊúâÁÇπÂ§çÊùÇ! Ëøô‰∏™ÂáΩÊï∞Âú®Â§ÑÁêÜ‰º†ÂÖ•ÁöÑ wlr_output Êó∂ÊúâÂá†‰∏™‰ΩúÁî®„ÄÇwl_container_of ‰ΩøÁî®‰∏Ä‰∫õÂü∫‰∫é offsetof ÁöÑÈ≠îÊ≥ïÔºå‰ªéÁõëÂê¨Âô®ÁöÑÊåáÈíà‰∏≠ÂæóÂà∞ mcw_server ÁöÑÂºïÁî®ÔºåÁÑ∂ÂêéÊàë‰ª¨Â∞ÜÊï∞ÊçÆÊäïÂà∞ÂÆûÈôÖÁöÑÁ±ªÂûãÔºåÂç≥ wlr_output„ÄÇ ËÆæÁΩÆËæìÂá∫ Êàë‰ª¨Ë¶ÅÂÅöÁöÑ‰∏ã‰∏Ä‰ª∂‰∫ãÊòØËÆæÁΩÆËæìÂá∫Ê®°Âºè„ÄÇ‰∏Ä‰∫õÂêéÁ´ØÔºàÁâπÂà´ÊòØ X11 Âíå WaylandÔºâ‰∏çÊîØÊåÅËÆæÁΩÆÊ®°ÂºèÔºå‰ΩÜÂÆÉ‰ª¨ÂØπ‰∫é DRM ÊòØÂøÖË¶ÅÁöÑ„ÄÇËæìÂá∫Ê®°ÂºèÊåáÂÆö‰∫ÜËæìÂá∫ÊâÄÊîØÊåÅÁöÑÂ∞∫ÂØ∏ÂíåÂà∑Êñ∞ÁéáÔºå‰æãÂ¶Ç 1920x1080@60Hz„ÄÇËøô‰∏™ if ËØ≠Âè•ÁöÑ‰∏ª‰ΩìÂè™ÊòØÈÄâÊã©‰∫ÜÊúÄÂêé‰∏Ä‰∏™ÔºàÈÄöÂ∏∏ÊòØÊúÄÈ´òÁöÑÂàÜËæ®ÁéáÂíåÂà∑Êñ∞ÁéáÔºâÔºåÂπ∂ÈÄöËøá wlr_output_set_mode Â∞ÜÂÖ∂Â∫îÁî®‰∫éËæìÂá∫„ÄÇÊàë‰ª¨ÂøÖÈ°ªËÆæÁΩÆËæìÂá∫Ê®°ÂºèÔºå‰ª•‰æøÂØπÂÖ∂ËøõË°åÊ∏≤Êüì„ÄÇ ÁÑ∂ÂêéÔºåÊàë‰ª¨ËÆæÁΩÆ‰∫Ü‰∏Ä‰∫õÁä∂ÊÄÅÔºåËÆ©Êàë‰ª¨Âú®ÂêàÊàêÂô®‰∏≠Ë∑üË∏™Ëøô‰∫õËæìÂá∫„ÄÇÊàëÂú®Êñá‰ª∂ÁöÑÈ°∂ÈÉ®Ê∑ªÂä†‰∫ÜËøô‰∏™ÁªìÊûÑÂÆö‰πâÔºö 1234567struct mcw_output &#123; struct wlr_output *wlr_output; struct mcw_server *server; struct timespec last_frame; struct wl_list link;&#125;; ËøôÂ∞ÜÊòØÊàë‰ª¨Áî®Êù•Â≠òÂÇ®Êàë‰ª¨ÂØπËøô‰∏™ËæìÂá∫ÁöÑ‰ªª‰ΩïÁä∂ÊÄÅÁöÑÁªìÊûÑÔºåËøô‰∫õÁä∂ÊÄÅÊòØÁâπÂÆö‰∫éÊàë‰ª¨ÁöÑÂêàÊàêÂô®ÈúÄÊ±ÇÁöÑ„ÄÇÊàë‰ª¨ÂåÖÊã¨‰∏Ä‰∏™ÂØπ wlr_output ÁöÑÂºïÁî®Ôºå‰∏Ä‰∏™ÂØπÊã•ÊúâËøô‰∏™ËæìÂá∫ÁöÑ mcw_server ÁöÑÂºïÁî®Ôºå‰ª•ÂèäÊúÄÂêé‰∏ÄÂ∏ßÁöÑÊó∂Èó¥ÔºåËøôÂú®ÂêéÈù¢‰ºöÊúâÁî®„ÄÇÊàë‰ª¨ËøòÈ¢ÑÁïô‰∫Ü‰∏Ä‰∏™ wl_listÔºåÂÆÉË¢´ libwayland Áî®‰∫éÈìæÊé•ÂàóË°®„ÄÇ ÊúÄÂêéÔºåÊàë‰ª¨Â∞ÜËøô‰∏™ËæìÂá∫Ê∑ªÂä†Âà∞ÊúçÂä°Âô®ÁöÑËæìÂá∫ÂàóË°®‰∏≠„ÄÇ Êàë‰ª¨Áé∞Âú®ÂèØ‰ª•‰ΩøÁî®‰∫ÜÔºå‰ΩÜÂÆÉ‰ºöÊ≥ÑÈú≤ÂÜÖÂ≠ò„ÄÇÊàë‰ª¨ËøòÈúÄË¶ÅÂ§ÑÁêÜËæìÂá∫ÁöÑÁßªÈô§ÔºåÁî®‰∏Ä‰∏™Áî± wlr_output Êèê‰æõÁöÑ‰ø°Âè∑„ÄÇÊàë‰ª¨Â∞ÜÁõëÂê¨Âô®Ê∑ªÂä†Âà∞ mcw_output ÁªìÊûÑ‰∏≠Ôºö 123456789struct mcw_output &#123; struct wlr_output *wlr_output; struct mcw_server *server; struct timespec last_frame; struct wl_listener destroy; struct wl_list link;&#125;; ÁÑ∂ÂêéÊàë‰ª¨Âú®Â¢ûÂä†ËæìÂá∫ÁöÑÊó∂ÂÄôÊääÂÆÉÂä†ËøõÊù•Ôºö 12345 wl_list_insert(&amp;server-&gt;outputs, &amp;output-&gt;link); output-&gt;destroy.notify = output_destroy_notify; wl_signal_add(&amp;wlr_output-&gt;events.destroy, &amp;output-&gt;destroy);&#125; ËøôÂ∞ÜË∞ÉÁî®Êàë‰ª¨ÁöÑ output_destroy_notify ÂáΩÊï∞Êù•Â§ÑÁêÜÂΩìËæìÂá∫Ë¢´ÊãîÊéâÊàñ‰ª•ÂÖ∂‰ªñÊñπÂºè‰ªé wlroots ÁßªÈô§Êó∂ÁöÑÊ∏ÖÁêÜÂ∑•‰Ωú„ÄÇÊàë‰ª¨ÁöÑÂ§ÑÁêÜÁ®ãÂ∫èÁúãËµ∑Êù•ÂÉèËøôÊ†∑Ôºö 1234567static void output_destroy_notify(struct wl_listener *listener, void *data) &#123; struct mcw_output *output = wl_container_of(listener, output, destroy); wl_list_remove(&amp;output-&gt;link); wl_list_remove(&amp;output-&gt;destroy.link); wl_list_remove(&amp;output-&gt;frame.link); free(output);&#125; Ëøô‰∫õ‰ª£Á†ÅÂ∫îËØ•ËÉΩÂ§üËá™Ëß£ÈáäÁöÑ„ÄÇÊàë‰ª¨Áé∞Âú®Êúâ‰∏Ä‰∏™ÂØπËæìÂá∫ÁöÑÂºïÁî®„ÄÇÁÑ∂ËÄåÔºåÊàë‰ª¨‰ªçÁÑ∂Ê≤°ÊúâÊ∏≤Êüì‰ªª‰Ωï‰∏úË•ø‚ÄìÂ¶ÇÊûú‰Ω†ÂÜçÊ¨°ËøêË°åÂêàÊàêÂô®Ôºå‰Ω†‰ºöÂèëÁé∞ÂêåÊ†∑ÁöÑË°å‰∏∫„ÄÇ ÁõëÂê¨Â∏ßÁöÑÊõ¥Êñ∞‰ø°Âè∑ ‰∏∫‰∫ÜÊ∏≤Êüì‰∏úË•øÔºåÊàë‰ª¨ÂøÖÈ°ªÁõëÂê¨Â∏ßÁöÑ‰ø°Âè∑„ÄÇÊ†πÊçÆÈÄâÊã©ÁöÑÊ®°ÂºèÔºåËæìÂá∫Âè™ËÉΩ‰ª•‰∏ÄÂÆöÁöÑÈÄüÁéáÊé•Êî∂Êñ∞ÁöÑÂ∏ß„ÄÇÊàë‰ª¨Âú® wlroots ‰∏≠‰∏∫‰Ω†Ë∑üË∏™Ëøô‰∏ÄÁÇπÔºåÂπ∂Âú®ÁªòÂà∂Êñ∞Â∏ßÁöÑÊó∂ÂÄôÂèëÂá∫Â∏ß‰ø°Âè∑„ÄÇ ËÆ©Êàë‰ª¨‰∏∫Ê≠§ÁõÆÁöÑÂú® mcw_output ÁªìÊûÑ‰∏≠Ê∑ªÂä†‰∏Ä‰∏™ÁõëÂê¨Âô®„ÄÇ 123456789struct mcw_output &#123; struct wlr_output *wlr_output; struct mcw_server *server; struct wl_listener destroy; struct wl_listener frame; struct wl_list link;&#125;; ÁÑ∂ÂêéÔºåÊàë‰ª¨ÂèØ‰ª•Êâ©Â±ï new_output_notify Êù•Ê≥®ÂÜåÂ∏ß‰ø°Âè∑ÁöÑÁõëÂê¨Âô®„ÄÇ 12345 output-&gt;destroy.notify = output_destroy_notify; wl_signal_add(&amp;wlr_output-&gt;events.destroy, &amp;output-&gt;destroy); output-&gt;frame.notify = output_frame_notify; wl_signal_add(&amp;wlr_output-&gt;events.frame, &amp;output-&gt;frame);&#125; Áé∞Âú®ÔºåÊØèÂΩìËæìÂá∫ÂáÜÂ§áÂ•Ω‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂ∏ßÔºåoutput_frame_notify Â∞±‰ºöË¢´Ë∞ÉÁî®„ÄÇ‰∏çËøáÔºåÊàë‰ª¨‰ªçÁÑ∂ÈúÄË¶ÅÁºñÂÜôËøô‰∏™ÂáΩÊï∞„ÄÇËÆ©Êàë‰ª¨‰ªéÊúÄÂü∫Êú¨ÁöÑÂºÄÂßã„ÄÇ 1234static void output_frame_notify(struct wl_listener *listener, void *data) &#123; struct mcw_output *output = wl_container_of(listener, output, frame); struct wlr_output *wlr_output = data;&#125; Ê∏≤Êüì‰∏Ä‰∫õÂÜÖÂÆπ ‰∏∫‰∫ÜÂú®ËøôÈáåÊ∏≤Êüì‰ªª‰Ωï‰∏úË•øÔºåÊàë‰ª¨ÈúÄË¶ÅÈ¶ñÂÖàËé∑Âæó‰∏Ä‰∏™ wlr_renderer2„ÄÇÊàë‰ª¨ÂèØ‰ª•‰ªéÂêéÁ´ØËé∑Âæó‰∏Ä‰∏™„ÄÇ 12345static void output_frame_notify(struct wl_listener *listener, void *data) &#123; struct mcw_output *output = wl_container_of(listener, output, frame); struct wlr_output *wlr_output = data; struct wlr_renderer *renderer = wlr_backend_get_renderer(wlr_output-&gt;backend);&#125; Áé∞Âú®Êàë‰ª¨ÂèØ‰ª•Âà©Áî®Ëøô‰∏™Ê∏≤ÊüìÂô®ÔºåÂú®ËæìÂá∫Á´ØÁîª‰∏Ä‰∫õ‰∏úË•øÔºö 1234567891011121314static void output_frame_notify(struct wl_listener *listener, void *data) &#123; struct mcw_output *output = wl_container_of(listener, output, frame); struct wlr_output *wlr_output = data; struct wlr_renderer *renderer = wlr_backend_get_renderer(wlr_output-&gt;backend); wlr_output_make_current(wlr_output, NULL); wlr_renderer_begin(renderer, wlr_output); float color[4] = &#123;1.0, 0, 0, 1.0&#125;; wlr_renderer_clear(renderer, color); wlr_output_swap_buffers(wlr_output, NULL, NULL); wlr_renderer_end(renderer);&#125; Ë∞ÉÁî® wlr_output_make_current ‰ΩøËæìÂá∫ÁöÑ OpenGL ‰∏ä‰∏ãÊñáÊàê‰∏∫ ‚ÄúÂΩìÂâç‚ÄùÔºå‰ªéËøôÈáå‰Ω†ÂèØ‰ª•‰ΩøÁî® OpenGL Ë∞ÉÁî®Êù•Ê∏≤ÊüìÂà∞ËæìÂá∫ÁöÑÁºìÂÜ≤Âå∫„ÄÇÊàë‰ª¨Ë∞ÉÁî® wlr_renderer_begin Êù•‰∏∫Êàë‰ª¨ÈÖçÁΩÆ‰∏Ä‰∫õÂêàÁêÜÁöÑOpenGLÈªòËÆ§ÂÄº„ÄÇ Âú®Ëøô‰∏ÄÁÇπ‰∏äÔºåÊàë‰ª¨ÂèØ‰ª•ÂºÄÂßãÊ∏≤Êüì‰∫Ü„ÄÇÊàë‰ª¨Â∞ÜÂú®ÂêéÈù¢ËØ¶ÁªÜ‰ªãÁªç‰Ω†ËÉΩÁî® wlr_renderer ÂÅö‰ªÄ‰πàÔºå‰ΩÜÁé∞Âú®Êàë‰ª¨Â∞ÜÊª°Ë∂≥‰∫éÊääËæìÂá∫Ê∏ÖÈô§‰∏∫Á∫ØÁ∫¢Ëâ≤„ÄÇ ÂΩìÊàë‰ª¨ÂÆåÊàêÊ∏≤ÊüìÂêéÔºåÊàë‰ª¨Ë∞ÉÁî® wlr_output_swap_buffers Êù•‰∫§Êç¢ËæìÂá∫ÁöÑÂâçÂêéÁºìÂÜ≤Âå∫ÔºåÂ∞ÜÊàë‰ª¨ÊâÄÊ∏≤ÊüìÁöÑÂÜÖÂÆπÊèê‰∫§Âà∞ÂÆûÈôÖÁöÑÂ±èÂπï‰∏ä„ÄÇÊàë‰ª¨Ë∞ÉÁî® wlr_renderer_end Êù•Ê∏ÖÁêÜ OpenGL ‰∏ä‰∏ãÊñáÔºåÊàë‰ª¨Â∞±ÂÆåÊàê‰∫Ü„ÄÇÁé∞Âú®ËøêË°åÊàë‰ª¨ÁöÑÂêàÊàêÂô®Â∫îËØ•ÂèØ‰ª•ÁúãÂà∞‰∏Ä‰∏™Á∫ØÁ∫¢Ëâ≤ÁöÑÂ±èÂπï ÊÄªÁªì ‰ªäÂ§©ÁöÑÊñáÁ´†Âà∞Ê≠§ÁªìÊùü„ÄÇÂ¶ÇÊûú‰Ω†Áúã‰∏Ä‰∏ãÊú¨ÊñáÊâÄÊèèËø∞ÁöÑÊèê‰∫§Ôºå‰Ω†‰ºöÂèëÁé∞ÊàëÁî®‰∏Ä‰∫õ‰ª£Á†ÅÊõ¥Ëøõ‰∏ÄÊ≠•ÔºåÊØè‰∏ÄÂ∏ßÈÉΩÊääÊòæÁ§∫Âô®Ê∏ÖÈô§Êàê‰∏çÂêåÈ¢úËâ≤„ÄÇËØ∑ÈöèÊÑèÂ∞ùËØïÁ±ª‰ººÁöÑÂèòÂåñÂêß Âú®Êé•‰∏ãÊù•ÁöÑ‰∏§ÁØáÊñáÁ´†‰∏≠ÔºåÊàë‰ª¨Â∞ÜÂÆåÊàê Wayland ÊúçÂä°Âô®ÁöÑËøûÊé•ÔºåÂπ∂Âú®Â±èÂπï‰∏äÂëàÁé∞‰∏Ä‰∏™ Wayland ÂÆ¢Êà∑Á´Ø„ÄÇËØ∑ÊúüÂæÖÂêß! Êú¨ÊñáÂèäÂéüÊñá‰ΩøÁî® CC-BY-SA ÂçèËÆÆÂºÄÊîæ„ÄÇ","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"Wayland","slug":"Linux/Wayland","permalink":"https://blog.inoki.cc/categories/Linux/Wayland/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"}]},{"title":"The right way to store and retrieve SecIdentity/Identity on iOS","slug":"SecIdentity-iOS-storage","date":"2021-09-05T09:42:00.000Z","updated":"2022-05-09T18:41:39.490Z","comments":true,"path":"2021/09/05/SecIdentity-iOS-storage/","link":"","permalink":"https://blog.inoki.cc/2021/09/05/SecIdentity-iOS-storage/","excerpt":"","text":"Apple does have a documentation describing how to store an identity in the keychain. In this doc, it is described as a process much like the storage of certificate in the keychain. The only difference is: Use SecIdentityRef objects instead of SecCertificateRef objects. Use kSecClassIdentity instead of kSecClassCertificate for the kSecClass attribute. So, the code of storing an Identity becomes: 123456789NSDictionary* addquery = @&#123; (id)kSecValueRef: (__bridge id)identity, (id)kSecClass: (id)kSecClassIdentity, (id)kSecAttrLabel: @&quot;Identity&quot;, &#125;;OSStatus status = SecItemAdd((__bridge CFDictionaryRef)addquery, NULL);if (status != errSecSuccess) &#123; // Handle the error&#125; and retrieving as follows: 123456789101112NSDictionary *getquery = @&#123; (id)kSecClass: (id)kSecClassIdentity, (id)kSecAttrLabel: @&quot;Identity&quot;, (id)kSecReturnRef: @YES, &#125;;SecIdentityRef identity = NULL;OSStatus status = SecItemCopyMatching((__bridge CFDictionaryRef)getquery, (CFTypeRef *)&amp;identity);if (status != errSecSuccess) &#123; &lt;# Handle error #&gt; &#125;else &#123; &lt;# Use identity #&gt; &#125;if (identity) &#123; CFRelease(identity); &#125; // After you are done with it Problem However, on the iOS 14.5 emulator, although SecItemAdd returns 0 with no error, there is no identity stored: 1234Identity Test[2377:102582] Internet Password: (null)Identity Test[2377:102582] Cert: (null)Identity Test[2377:102582] Key: (null)Identity Test[2377:102582] Identity: (null) It is very weird‚Ä¶ Solution I searched on Internet. This thread helps me a little: I can‚Äôt get SecIdentity from Keychain: 1Using labels on an identity is tricky because identities are not stored in the keychain as an atomic item but are store as a separate private key and certificate, and those items use labels in different ways. It inspired me to remove the kSecClass when storing. The code becomes: 12345678NSDictionary* addquery = @&#123; (id)kSecValueRef: (__bridge id)identity, (id)kSecAttrLabel: @&quot;Identity&quot;, &#125;;OSStatus status = SecItemAdd((__bridge CFDictionaryRef)addquery, NULL);if (status != errSecSuccess) &#123; // Handle the error&#125; With these lines of code, when querying, KeyChains gives me: 12345678910111213141516171819202122Identity Test[2555:109912] Internet Password: (null)Identity Test[2555:109912] Cert: ( &#123; ... labl = Identity; ... &#125;)Identity Test[2555:109912] Key: ( &#123; ... labl = Identity; ... &#125;)Identity Test[2555:109912] Identity: ( &#123; ... labl = Identity; ... &#125;) There are a private key, a certificate and an identity with my label. It works now üòÉ When retrieving, we can still keep the kSecClass in the query to filter the identity only. Regarding that these are not mentioned by Apple at all, I hope this workaround can help someone. Unique Identity issue Then, I tried to store a second identity(labelled by Identity1) with the workaround. But it fails with the same observation above. So, I add some code to remove the previous identity before adding new: 12NSDictionary *spec = @&#123;(__bridge id)kSecClass: (id)kSecClassIdentity&#125;;SecItemDelete((__bridge CFDictionaryRef)spec); This will remove the corresponding private key, certificate and the identity itself. And the new identity can be added successfully. Thus, I wonder if the removal of the private key or the certificate will affect the identity? Here are the answers: kSecClass Certificate removed Private key removed Identity removed Identity can be added kSecClassCertificate YES NO YES YES kSecClassKey NO YES YES NO kSecClassIdentity YES YES YES YES We can see that, removing both certificate or identity should work. In my case, I need to store some more certificates other than the one from the identity. So, I should not remove all the certificates. I choose to remove the identity to keep atmost one at the same time. You could also do your own choice. Conclusion This post explores the Identity storage on iOS. Here are my discovery: do not store the identity with kSecClass, the KeyChain service will do this for you; only one identity is OK for an app. Any other questions? Post them in the comments.","categories":[{"name":"iOS","slug":"iOS","permalink":"https://blog.inoki.cc/categories/iOS/"}],"tags":[{"name":"iOS","slug":"iOS","permalink":"https://blog.inoki.cc/tags/iOS/"}]},{"title":"„ÄêËØë„Äë Vulkan ÂÖâÁ∫øËøΩË∏™","slug":"Vulkan-Ray-Tracing-Specification","date":"2021-08-02T23:08:10.000Z","updated":"2022-05-09T18:41:39.490Z","comments":true,"path":"2021/08/02/Vulkan-Ray-Tracing-Specification/","link":"","permalink":"https://blog.inoki.cc/2021/08/02/Vulkan-Ray-Tracing-Specification/","excerpt":"","text":"ÂéüÊñáÈìæÊé•ÔºöVulkan Ray Tracing Final Specification Release ÊÄªËßà ‰ªäÂ§©ÔºåKhronos¬Æ ÂèëÂ∏É‰∫Ü‰∏ÄÂ•ó Vulkan¬Æ„ÄÅGLSL Âíå SPIR-V Êâ©Â±ïËßÑËåÉÁöÑÊúÄÁªàÁâàÊú¨ÔºåÂ∞ÜÂÖâÁ∫øËøΩË∏™Êó†ÁºùÈõÜÊàêÂà∞Áé∞ÊúâÁöÑVulkanÊ°ÜÊû∂‰∏≠„ÄÇËøôÊòØ‰∏Ä‰∏™ÈáçË¶ÅÁöÑÈáåÁ®ãÁ¢ëÔºåÂõ†‰∏∫ÂÆÉÊòØ‰∏öÁïåÁ¨¨‰∏Ä‰∏™ÂºÄÊîæÁöÑ„ÄÅË∑®ÂéÇÂïÜÁöÑ„ÄÅË∑®Âπ≥Âè∞ÁöÑÂÖâÁ∫øËøΩË∏™Âä†ÈÄüÊ†áÂáÜ‚ÄìÂèØ‰ª•‰ΩøÁî®Áé∞ÊúâÁöÑGPUËÆ°ÁÆóÊàñ‰∏ìÈó®ÁöÑÂÖâÁ∫øËøΩË∏™Ê†∏ÂøÉÊù•ÈÉ®ÁΩ≤„ÄÇÂá°ÊòØ‰ΩøÁî®Ëøá DirectX 12 ‰∏≠ÁöÑ DirectX ÂÖâÁ∫øËøΩË∏™ÔºàDXRÔºâÁöÑ‰∫∫ÈÉΩ‰ºöÂØπ Vulkan ÂÖâÁ∫øËøΩË∏™ÊÑüÂà∞ÁÜüÊÇâÔºå‰ΩÜÂÆÉ‰πüÂºïÂÖ•‰∫Ü‰∏Ä‰∫õÈ´òÁ∫ßÂäüËÉΩÔºåÊØîÂ¶ÇÂ∞ÜÂÖâÁ∫øËøΩË∏™ËÆæÁΩÆÊìç‰ΩúË¥üËΩΩÂπ≥Ë°°Âà∞‰∏ªÊú∫ CPU ‰∏äÁöÑËÉΩÂäõ„ÄÇÂ∞ΩÁÆ°ÂÖâÁ∫øËøΩË∏™Â∞ÜÈ¶ñÂÖàÈÉ®ÁΩ≤Âú®Ê°åÈù¢Á≥ªÁªü‰∏äÔºå‰ΩÜËøô‰∫õ Vulkan Êâ©Â±ïÁöÑËÆæËÆ°ÊòØ‰∏∫‰∫Ü‰ΩøÂÖâÁ∫øËøΩË∏™‰πüËÉΩÈÉ®ÁΩ≤Âú®ÁßªÂä®ËÆæÂ§á‰∏äÔºåÂπ∂ÊøÄÂä±ÂÖâÁ∫øËøΩË∏™ÁöÑ‰ΩøÁî®„ÄÇ Ëøô‰∫õÊâ©Â±ïÊúÄÂàùÊòØÂú® 2020 Âπ¥ 3 Êúà‰Ωú‰∏∫‰∏¥Êó∂ÁâàÊú¨ÂèëÂ∏ÉÁöÑ„ÄÇ‰ªéÈÇ£Êó∂Ëµ∑ÔºàËßÅÂõæ 1ÔºâÔºåÊàë‰ª¨Êî∂Âà∞Âπ∂ÈááÁ∫≥‰∫ÜÁ°¨‰ª∂‰æõÂ∫îÂïÜÂíåËΩØ‰ª∂ÂºÄÂèëÂïÜÁöÑÂèçÈ¶àÔºåÂåÖÊã¨ Khronos ÂÜÖÈÉ®ÂíåÊõ¥ÂπøÊ≥õÁöÑË°å‰∏öÔºå‰ΩÜ API ÁöÑÊï¥‰ΩìÁä∂ÊÄÅÂíåÊèê‰æõÁöÑÂäüËÉΩÂü∫Êú¨‰∏äÊ≤°ÊúâÂèòÂåñ„ÄÇÊÑüË∞¢ÊâÄÊúâÂÆ°ÈòÖÂíå‰ΩøÁî®‰∏¥Êó∂Êâ©Â±ïÁöÑ‰∫∫ÔºåÁâπÂà´ÊòØÈÇ£‰∫õÊèê‰æõÂèçÈ¶àÊÑèËßÅÁöÑ‰∫∫! ‰ªäÂ§©ÂèëÂ∏ÉÁöÑÊâ©Â±ïËßÑËåÉÂè™ÊòØ Vulkan ÂÖâÁ∫øËøΩË∏™ÊäÄÊúØÊé®ÂπøÁöÑÂºÄÂßã„ÄÇÂú®Êú™Êù•Âá†Â§©ÂíåÂá†Âë®ÂÜÖÔºåÂÖ∂‰ªñÁîüÊÄÅÁ≥ªÁªüÁªÑ‰ª∂ÔºåÂ¶ÇÁùÄËâ≤Âô®Â∑•ÂÖ∑ÈìæÂíåÈ™åËØÅÂ±ÇÂ∞ÜË¢´Êõ¥Êñ∞Ôºå‰ª•ÊîØÊåÅÂÖâÁ∫øËøΩË∏™ÂäüËÉΩÔºåÁ°Æ‰øùÂºÄÂèë‰∫∫ÂëòËÉΩÂ§üÂú®‰ªñ‰ª¨ÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠ËΩªÊùæ‰ΩøÁî®Ëøô‰∫õÊâ©Â±ï„ÄÇËøô‰∫õÁîüÊÄÅÁ≥ªÁªüÁöÑÊõ¥Êñ∞ËøõÂ±ïÂèØ‰ª•Âú® GitHub ‰∏äË∑üË∏™„ÄÇËøôÂ∞ÜÂú®12Êúà‰∏≠Êó¨ÂèëÂ∏ÉÊîØÊåÅ Khronos Vulkan ÂÖâÁ∫øËøΩË∏™ÁöÑ Vulkan SDKÔºà1.2.162.0 ÊàñÊõ¥È´òÁâàÊú¨ÔºâÊó∂ËææÂà∞ÊúÄÈ´òÊ¥ªË∑ÉÂ∫¶„ÄÇ ËøôÁØáÊñáÁ´†Â∞ÜÂº∫Ë∞É Vulkan Ray Tracing Êâ©Â±ïÁöÑ‰∏¥Êó∂ÁâàÊú¨ÂíåÊúÄÁªàÁâàÊú¨‰πãÈó¥ÊúÄÈáçË¶ÅÁöÑÂå∫Âà´ÔºåÂπ∂Ëß£ÈáäËøô‰∫õÂèòÂåñËÉåÂêéÁöÑ‰∏Ä‰∫õÂéüÂõ†„ÄÇ ÁßÄÂá∫Êàë‰ª¨ÁöÑËßÑËåÉÔºÅ ËøôÂ•ó Vulkan ÂÖâÁ∫øËøΩË∏™Êâ©Â±ïÊâÄÊèê‰æõÁöÑÊï¥‰ΩìÂäüËÉΩËá™ÂÖ∂‰∏¥Êó∂ÁâàÊú¨‰ª•Êù•Ê≤°ÊúâÂèòÂåñ„ÄÇ‰ªäÂ§©ÂèëÂ∏ÉÁöÑÊúÄÁªàÊâ©Â±ïÈõÜÊòØÔºö 12345678910111213Vulkan extension specifications VK_KHR_acceleration_structure VK_KHR_ray_tracing_pipeline VK_KHR_ray_query VK_KHR_pipeline_library VK_KHR_deferred_host_operationsSPIR-V extensions specifications SPV_KHR_ray_tracing SPV_KHR_ray_queryGLSL extensions specifications GLSL_EXT_ray_tracing GLSL_EXT_ray_query GLSL_EXT_ray_flags_primitive_culling ÊãìÂ±ïÁöÑÁªìÊûÑ ÊúÄÊòéÊòæÁöÑÂèòÂåñÊòØÔºå‰∏¥Êó∂ÁöÑ VK_KHR_ray_tracing Êâ©Â±ïÂ∑≤ÁªèË¢´ÂàÜÊàê‰∫Ü 3 ‰∏™Êâ©Â±ïÔºö VK_KHR_acceleration_structure - Áî®‰∫éÂä†ÈÄüÁªìÊûÑÁöÑÊûÑÂª∫ÂíåÁÆ°ÁêÜ VK_KHR_ray_tracing_pipeline - Áî®‰∫éÂÖâÁ∫øËøΩË∏™ÁùÄËâ≤Âô®ÁöÑÈò∂ÊÆµÂíåÊµÅÊ∞¥Á∫ø VK_KHR_ray_query - ‰∏∫ÊâÄÊúâÁùÄËâ≤Âô®Èò∂ÊÆµÊèê‰æõÂÖâÁ∫øÊü•ËØ¢ÁöÑÂü∫Êú¨ Êàë‰ª¨Êî∂Âà∞ÁöÑÂèçÈ¶àÊòØÔºå‰∏Ä‰∫õÂ∏ÇÂú∫Â∏åÊúõËÉΩÂ§üÊîØÊåÅÂÖâÁ∫øËøΩË∏™Êü•ËØ¢ËÄå‰∏çÊîØÊåÅÂÖâÁ∫øËøΩË∏™ÊµÅÊ∞¥Á∫øÔºå‰∏∫‰∫ÜÈÅøÂÖçÈáçÂ§çÂíå‰∫∫‰∏∫ÁöÑ‰æùËµñÔºåÊàë‰ª¨ÂØπÂéüÊù•ÁöÑÊâ©Â±ïËøõË°å‰∫ÜÁªÜÂàÜ„ÄÇÂÆûÁé∞ÂèØ‰ª•ÈÄâÊã©ÊîØÊåÅ VK_KHR_ray_tracing_pipeline„ÄÅVK_KHR_ray_query Êàñ‰∏§ËÄÖ‰πã‰∏ÄÔºåÂèñÂÜ≥‰∫éÂ∏ÇÂú∫ÈúÄË¶Å„ÄÇËøô‰∏§‰∏™Êâ©Â±ïÈÉΩ‰æùËµñ‰∫éVK_KHR_acceleration_structure Êâ©Â±ïÔºå‰∏∫Âä†ÈÄüÁªìÊûÑÁÆ°ÁêÜÊèê‰æõ‰∏Ä‰∏™ÂÖ±ÂêåÁöÑÂü∫Á°Ä„ÄÇ‰∏ªË¶ÅÁöÑÊ°åÈù¢ÂéÇÂïÜ‰ªçÁÑ∂Ëá¥Âäõ‰∫éÊîØÊåÅÂÖâÁ∫øÊµÅÊ∞¥Á∫øÂíåÂÖâÁ∫øÊü•ËØ¢„ÄÇÂÖ≥‰∫éÂØπÂèØÈÄâÂäüËÉΩÁöÑÊîØÊåÅÂíåÂØπÂÖ∂‰ªñÂ∏ÇÂú∫ÁöÑÊîØÊåÅÁöÑÂÖ∑‰ΩìÁªÜËäÇÔºåËØ∑‰∏éÂêÑ‰∏™‰æõÂ∫îÂïÜÂïÜË∞à„ÄÇ Vulkan ÂÖâÁ∫øËøΩË∏™Êâ©Â±ï‰∏çÂÜçË¢´Ê†áËÆ∞‰∏∫‰∏¥Êó∂ÊÄßÁöÑÔºåÂõ†Ê≠§‰∫î‰∏™Êâ©Â±ïÁöÑÊâ©Â±ïÊé•Âè£Áé∞Âú®Ë¢´ÂÆö‰πâÂú®‰∏ª vulkan_core.h Â§¥‰∏≠ÔºåËÄå‰∏çÊòØ‰∏¥Êó∂ÁöÑ vulkan_beta.hÔºåÁî®Êà∑‰∏çÂÜçÈúÄË¶Å #define VK_ENABLE_BETA_EXTENSIONS Êù•ÂêØÁî® Vulkan ÂÖâÁ∫øËøΩË∏™ÂäüËÉΩ„ÄÇ Êâ©Â±ïÁöÑ‰æùËµñÊÄß‰πüÊúâÂèòÂåñ„ÄÇÁé∞Âú®ÈúÄË¶Å Vulkan 1.1 Âíå SPIR-V 1.4„ÄÇVK_KHR_acceleration_structure ÈúÄË¶ÅVulkan 1.1„ÄÅVK_EXT_descriptor_indexing„ÄÅVK_KHR_buffer_device_addressÔºå‰ª•ÂèäVK_KHR_deferred_host_operations„ÄÇÊàë‰ª¨ÊÑèËØÜÂà∞Ôºå‰∏Ä‰∏™ÂÜóÈïøÁöÑÊâ©Â±ï‰æùËµñÂàóË°®ÊòØ‰ª§‰∫∫ËÆ®ÂéåÁöÑÔºåÁêÜÊÉ≥ÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨Â∏åÊúõÁÆÄÂçïÂú∞Ë¶ÅÊ±Ç Vulkan 1.2Ôºå‰ΩÜÁõÆÂâçÂπ∂ÈùûÊâÄÊúâÂπ≥Âè∞ÈÉΩÊîØÊåÅ Vulkan 1.2ÔºåÊàë‰ª¨‰∏çÊÉ≥‰∏∫ÈááÁî®ÂÖâÁ∫øËøΩË∏™ÂäüËÉΩÊ∑ªÂä†‰ªª‰Ωï‰∫∫‰∏∫ÈöúÁ¢ç„ÄÇÂ¶ÇÊûúÊâÄÊúâÁöÑÁõÆÊ†áÂ∏ÇÂú∫ÈÉΩÊîØÊåÅ Vulkan 1.2ÔºåÈÇ£‰πàÂ∫îÁî®Á®ãÂ∫èÂ∞±ÂèØ‰ª•Áõ¥Êé•‰ª• Vulkan 1.2 ‰∏∫ÁõÆÊ†áÔºå‰ª•ËææÂà∞ÁÆÄÂåñÁöÑÁõÆÁöÑ„ÄÇÊàë‰ª¨‰πüËÄÉËôëËøá‰∏çÊää VK_KHR_deferred_host_operations ‰Ωú‰∏∫‰∏Ä‰∏™ÊòéÁ°ÆÁöÑ‰æùËµñÂÖ≥Á≥ªÔºå‰ΩÜÊòØÁî®Âª∂ËøüÊìç‰ΩúÂàõÂª∫ÊµÅÊ∞¥Á∫øÁöÑÂèòÂåñË¶ÅÊ±ÇÊàë‰ª¨‰øùÁïôÂÆÉ„ÄÇÊàë‰ª¨Êää VK_KHR_pipeline_library ‰Ωú‰∏∫ VK_KHR_ray_tracing_pipeline ÁöÑËΩØË¶ÅÊ±ÇÔºåËÄå‰∏çÊòØ‰∏•Ê†ºË¶ÅÊ±ÇÔºåÂõ†Ê≠§Â∫îÁî®Á®ãÂ∫èÂè™ÈúÄË¶ÅÂú®ÂÆûÈôÖ‰ΩøÁî®Êó∂ÂêØÁî®ÂÆÉ„ÄÇÈô§‰∫Ü VK_KHR_acceleration_structureÔºåVK_KHR_ray_tracing_pipeline Âíå VK_KHR_ray_query ÈÉΩËá≥Â∞ëÈúÄË¶Å SPIR-V 1.4ÔºåÂõ†‰∏∫ËØ•ÁâàÊú¨‰∏≠Â¢ûÂä†‰∫ÜÂÖ•Âè£ÁÇπË¶ÅÊ±ÇÁöÑÂèòÂåñ„ÄÇSPIR-V 1.5 ‰πüÂèØ‰ª•Áî®‰∫é Vulkan 1.2 ÁöÑÂÆûÁé∞„ÄÇ ‰ªéÂäüËÉΩ‰∏äËÆ≤ÔºåÊâÄÊúâÁöÑÂÆûÁé∞ÈÉΩÂøÖÈ°ªÂÖ∑Â§á‰ª•‰∏ãÂäüËÉΩÔºö VK_KHR_deferred_host_operations accelerationStructure descriptorBindingAccelerationStructureUpdateAfterBind descriptorIndexing ÂäüËÉΩÔºàÂ¶ÇÊûúÊîØÊåÅ Vulkan 1.2ÔºâÊàñ VK_EXT_descriptor_indexing Êâ©Â±ïÊâÄÈúÄÁöÑÊâÄÊúâÂäüËÉΩ Vulkan 1.2 ‰∏≠ÁöÑ bufferDeviceAddress Êàñ VK_KHR_buffer_device_address ÊîØÊåÅ VK_KHR_ray_tracing_pipeline ÁöÑÂÆûÁé∞ÈúÄË¶ÅÔºö VK_KHR_acceleration_structure rayTracingPipeline rayTracingPipelineTraceRaysIndirect rayTraversalPrimitiveCulling Ëã• VK_KHR_ray_query ‰πüË¢´ÊîØÊåÅ VK_KHR_pipeline_library ÊîØÊåÅ VK_KHR_ray_query ÁöÑÂÆûÁé∞ÈúÄË¶Å require: VK_KHR_acceleration_structure rayQuery. Ê≠§Â§ñÔºåËøòÊúâ‰∏Ä‰∫õÂèØÈÄâÊã©ÁöÑËÉΩÂäõ‰∏éÊâ©Â±ïÂÆö‰πâ„ÄÇ ÂØπ‰∫é VK_KHR_acceleration_structureÔºåÊúâÔºö accelerationStructureCaptureReplay accelerationStructureIndirectBuild accelerationStructureHostCommands ÂØπ‰∫é VK_KHR_ray_tracing_pipelineÔºåÊúâÔºö rayTracingPipelineShaderGroupHandleCaptureReplay rayTracingPipelineShaderGroupHandleCaptureReplayMixed rayTraversalPrimitiveCullingÔºåËã• VK_KHR_ray_query Êú™ÊîØÊåÅ Âä†ÈÄüÁªìÊûÑ Âú®ÊúÄÁªàÁöÑ Vulkan ÂÖâÁ∫øËøΩË∏™ÂäüËÉΩ‰∏≠ÔºåÂØπÂ∫îÁî®Á®ãÂ∫èÂΩ±ÂìçÊúÄÂ§ßÁöÑÂèòÂåñÊòØÂä†ÈÄüÁªìÊûÑÁöÑÂàõÂª∫ÂíåÂ∏ÉÂ±Ä„ÄÇ Êàë‰ª¨‰ªé API ÁøªËØëÂ±ÇÔºàÂ¶Ç vkd3d-protonÔºâÁöÑ‰ΩúËÄÖÈÇ£ÈáåÂæóÂà∞ÂèçÈ¶àÔºåÂú®‰∏¥Êó∂ API Vulkan ÂÖâÁ∫øËøΩË∏™Âä†ÈÄüÁªìÊûÑÁöÑÂü∫Á°Ä‰∏äÂàÜÂ±Ç DXR ÊòØ‰∏çÁé∞ÂÆûÁöÑ„ÄÇËøôÂØºËá¥‰∫ÜÂØπÂä†ÈÄüÁªìÊûÑÂàõÂª∫Â§ßÂ∞èÁöÑÊîπÂèòÔºåÂπ∂‰ΩøÁî® VkBuffer ‰∏äÁöÑÂä†ÈÄüÁªìÊûÑÂ≠òÂÇ®ÂàÜÈÖçÔºåËÄå‰∏çÊòØ‰∏ìÈó®ÁöÑÂä†ÈÄüÁªìÊûÑÂØπË±°Â≠òÂÇ®„ÄÇËøô‰∫õÂèòÂåñÁöÑ‰∏Ä‰∏™ÂΩ±ÂìçÊòØÔºåVkAccelerationStructureKHR Âíå VkAccelerationStructureNV ‰∏çÂÜçÊòØÂà´ÂêçÔºå‰∏çËÉΩ‰∫íÊç¢‰ΩøÁî®„ÄÇÂêåÊ†∑Âú∞Ôºå‰ªª‰Ωï‰ª•ÂÆÉ‰ª¨‰∏∫ÂèÇÊï∞ÁöÑÁªìÊûÑÊàñÂáΩÊï∞‰πü‰∏çÂÜçÊòØÂà´Âêç‰∫Ü„ÄÇ Êàë‰ª¨Ëøò‰∏∫ÂàÜÂ±ÇÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂä†ÈÄüÁªìÊûÑÁ±ªÂûã VK_ACCELERATION_STRUCTURE_TYPE_GENERIC_KHR„ÄÇ Âú®ÂÆûÈôÖÁöÑÂä†ÈÄüÁªìÊûÑÁ±ªÂûãÔºàÈ°∂ÈÉ®ÊàñÂ∫ïÈÉ®ÔºâËøò‰∏çÊ∏ÖÊ•öÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•Âú®Âä†ÈÄüÁªìÊûÑÂàõÂª∫Êó∂‰ΩøÁî®„ÄÇÂÆûÈôÖÁöÑÂä†ÈÄüÁªìÊûÑÁ±ªÂûãÂøÖÈ°ªÊåáÂÆö‰∏∫ VK_ACCELERATION_STRUCTURE_TYPE_TOP_LEVEL_KHR Êàñ VK_ACCELERATION_STRUCTURE_TYPE_BOTTOM_LEVEL_KHRÔºåÂΩìÊâßË°åÊûÑÂª∫Êó∂‰∏çËÉΩÊîπÂèò„ÄÇÁõ¥Êé•‰∏∫ Vulkan ÁºñÂÜôÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏çÂ∫îËØ•‰ΩøÁî® VK_ACCELERATION_STRUCTURE_TYPE_GENERIC_KHRÔºåÂõ†‰∏∫ËøôÂèØËÉΩ‰ºöÂΩ±ÂìçÊú™Êù•ÁöÑËÉΩÂäõÊàñÊÄßËÉΩ„ÄÇ Êàë‰ª¨ËøòÊî∂Âà∞‰∫ÜÂàÜÂ±Ç Vulkan ÂÆûÁé∞ÔºàÂ¶Ç MoltenVKÔºâÁöÑ‰ΩúËÄÖÁöÑÂèçÈ¶àÔºåÊåáÂá∫‰∏Ä‰∫õÂÖâÁ∫øËøΩË∏™ÁöÑË¶ÅÊ±ÇÔºàÂ¶ÇËÆæÂ§áÂú∞ÂùÄÔºâ‰ºö‰Ωø Vulkan Êó†Ê≥ïÂú®ÂÖ∂‰ªñ‰∏Ä‰∫õ API ‰∏ä‰ª•ÂàÜÂ±ÇÊñπÂºèÂÆûÁé∞„ÄÇ‰∏çÂπ∏ÁöÑÊòØÔºåÊàë‰ª¨‰∏çÂèØËÉΩÂú®Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑÂêåÊó∂ËøòÊîØÊåÅÂÖ∂‰ªñÁõÆÊ†áÔºåÊØîÂ¶Ç‰∏é DXR ÁöÑÂäüËÉΩÂØπÁ≠â„ÄÇÊàë‰ª¨Â∏åÊúõÂÖ∂‰ªñ API ÁöÑÊú™Êù•ÁâàÊú¨‰πüËÉΩÊ∑ªÂä†ÂøÖË¶ÅÁöÑÂäüËÉΩÊù•ÂÆûÁé∞ËøôÁßçÂàÜÂ±Ç„ÄÇ Êàë‰ª¨Âê¨ËØ¥ÂºÄÂèëËÄÖÁúüÁöÑÂæàÂñúÊ¨¢Áªü‰∏ÄÁöÑÂàõÂª∫ÂíåÊûÑÂª∫ÂèÇÊï∞ÔºåÂ∞±ÂÉèÂú® VK_NV_ray_tracing Âíå DXR ‰∏≠„ÄÇÊàë‰ª¨Â∞ÜÂä†ÈÄüÁªìÊûÑÁöÑÂàõÂª∫Êîπ‰∏∫Âü∫‰∫éÂ§ßÂ∞èÔºåÂ§ßÂ∞èÂèØ‰ª•‰ªéÁî®‰∫éÊûÑÂª∫ÁöÑÂêå‰∏ÄÁªìÊûÑ‰∏≠ËÆ°ÁÆóÔºàvkGetAccelerationStructureBuildSizesKHRÔºâÔºåÊàñËÄÖ‰ªéÁ≤æÁÆÄÊü•ËØ¢‰∏≠ËÆ°ÁÆóÔºàvkCmdWriteAccelerationStructuresPropertiesKHRÔºâ„ÄÇÊàë‰ª¨Ëøò‰∫ÜËß£Âà∞Ôºå‰∏Ä‰∫õÂÆûÁé∞Âú®ÂàõÂª∫Êó∂ÈúÄË¶ÅÈ¢ùÂ§ñÁöÑ‰ø°ÊÅØÔºåËøôÂØºËá¥ vkGetAccelerationStructureBuildSizesKHR ‰∏≠Â¢ûÂä†‰∫Ü pMaxPrimitiveCounts„ÄÇ ‰ª•ÂâçÁöÑÂá†‰Ωï‰ΩìÊèèËø∞ÁöÑÊüê‰∫õÊñπÈù¢ÂæàÊ∑∑‰π±Ôºå‰∏éËá™Âä®ÁîüÊàêÁöÑ‰ª£Á†Å‰∏çËÉΩÂæàÂ•ΩÂú∞ÈÖçÂêàÔºàÂ¶ÇÈ™åËØÅÂ±ÇÔºâÔºåÂõ†Ê≠§Êàë‰ª¨Ëß£ÂÜ≥‰∫Ü ppGeometries ‰∫åÂÖÉÊÄßÈÄ†ÊàêÁöÑÊ®°Á≥äÔºåÂπ∂Â¢ûÂä†‰∫Ü‰∏Ä‰∏™È¢ùÂ§ñÁöÑ pGeometries Â≠óÊÆµÔºå‰ΩÜË¶ÅÊ±ÇÊØèÊ¨°Âè™‰ΩøÁî®ÂÖ∂‰∏≠‰∏Ä‰∏™Â≠óÊÆµ„ÄÇ ÂÖ∂‰ªñÊñ∞Â¢ûÂÜÖÂÆπÂåÖÊã¨ÔºöÂä†ÈÄüÂô®ÁªìÊûÑÁöÑÂàõÂª∫Êó∂Èó¥ÊçïËé∑ÂíåÈáçÊîæÊ†áÂøóÔºàÁî®‰∫éË∞ÉËØïÂ∑•ÂÖ∑ÔºâÔºåÂä†ÈÄüÂô®ÁªìÊûÑÁöÑ nullDescriptor ÊîØÊåÅÔºå‰Ωú‰∏∫‰∏é VK_EXT_robustness2 ÁöÑ‰∫§‰∫íÔºå‰ª•ÂèäÂä†ÈÄüÂô®ÁªìÊûÑÁöÑ VK_DESCRIPTOR_SET_LAYOUT_CREATE_UPDATE_AFTER_BIND_POOL_BIT ÊîØÊåÅ„ÄÇ ÊúÄÂêé‰ΩÜÂπ∂ÈùûÊúÄ‰∏çÈáçË¶ÅÁöÑÊòØÔºåÊàë‰ª¨ÂÅö‰∫Ü‰øÆÊîπÔºå‰ª•‰æøÂú®ÊâÄÊúâÊâ©Â±ï‰∏≠‰∏ÄËá¥Âú∞‰ΩøÁî®ËÆæÂ§áÂú∞ÂùÄ„ÄÇÊàë‰ª¨ËøòÊèêÂá∫‰∫ÜËÆ∏Â§öÂëΩÂêçÂª∫ËÆÆÔºåÂÖ∂‰∏≠‰∏Ä‰∫õË¢´ÈááÁ∫≥‰∫ÜÔºåÂπ∂‰∏îÂá∫‰∫é‰∏ÄËá¥ÊÄßÂíåÂèØÊâ©Â±ïÊÄßÁöÑËÄÉËôëÔºåÊàë‰ª¨ÂÅö‰∫ÜÂêÑÁßçÂëΩÂêçÂíåÈ£éÊ†º‰∏äÁöÑÊîπÂèò„ÄÇÂÖ≥‰∫éËøô‰∫õÂíåÂÖ∂‰ªñÂèòÂåñÁöÑÊõ¥Â§öÁªÜËäÇÔºåËØ∑ÂèÇËßÅÈóÆÈ¢ò 3 Âíå 4 ‰ª•Âèä VK_KHR_acceleration_structure ‰∏≠ÁöÑÂèòÂåñÊó•Âøó„ÄÇ Âª∂ËøüÁöÑ‰∏ªÊú∫Êìç‰Ωú Êàë‰ª¨‰øÆÊîπ‰∫Ü vkBuildAccelerationStructuresKHR Âíå vkCreateRayTracingPipelinesKHR ÂëΩ‰ª§‰∏≠Âª∂Ëøü‰∏ªÊú∫Êìç‰ΩúÁöÑ‰ΩøÁî®ÊñπÂºè„ÄÇÁé∞Âú®ÔºåÂª∂ËøüÊìç‰ΩúËØ∑Ê±Ç‰∏çÂÜçË¢´ÈìæÂÖ•ÊØè‰∏™ÂçïÁã¨ÁöÑÊûÑÂª∫ÊàñÂàõÂª∫Êìç‰ΩúÁöÑ pNext ‰∏≠ÔºåËÄåÊòØ‰Ωú‰∏∫ÂëΩ‰ª§ÁöÑÈ°∂Á∫ßÂèÇÊï∞‰º†ÂÖ•ÔºåÊï¥‰∏™ÂëΩ‰ª§Ë¶Å‰πàÂª∂ËøüÔºåË¶Å‰πà‰∏çÂª∂Ëøü„ÄÇÂΩìÂëΩ‰ª§Ë¢´Êé®ËøüÊó∂ÔºåÂ∫îÁî®Á®ãÂ∫è‰∏çÂæóËÆøÈóÆËøîÂõûÂèÇÊï∞ÔºåÁõ¥Âà∞Êé®ËøüÁöÑÊìç‰ΩúÂÆåÊàê„ÄÇ‰πãÂâçÁöÑÂëΩ‰ª§ËØ≠‰πâ‰∏≠Ôºå‰∏Ä‰∫õÂ≠êÊìç‰ΩúÂèØ‰ª•Ë¢´Âª∂ËøüÔºåËÄåÂè¶‰∏Ä‰∫õÂàô‰∏çËÉΩÔºåËøô‰ΩøÂæóÂØπÂëΩ‰ª§ËøîÂõûÂÄºÁöÑË°å‰∏∫È¢ÑÊúü‰∏çÊòéÁ°ÆÔºåÂæàÈöæÁêÜËß£‰ªÄ‰πàÊó∂ÂÄôËÆøÈóÆÂÆÉ‰ª¨ÊòØÂÆâÂÖ®ÁöÑ„ÄÇÊàë‰ª¨ËÆ§‰∏∫ÔºåÊñ∞ÁöÑËØ≠‰πâÊõ¥Ê∏ÖÊô∞ÔºåÂ∫îËØ•ËÉΩÂ§üÊèê‰æõÊõ¥Â§öÁöÑÂπ∂Ë°åÊú∫‰ºöÔºå‰ΩÜÂ¶Ç‰∏äÊâÄËø∞ÔºåËøôÊòØ‰ª•Ë¶ÅÊ±Ç VK_KHR_deferred_host_operations Êâ©Â±ïÂú®‰ªª‰ΩïÊó∂ÂÄôÈÉΩË¢´ÂêØÁî®‰∏∫‰ª£‰ª∑„ÄÇ ÂÖâÁ∫øËøΩË∏™ÊµÅÊ∞¥Á∫ø ÂØπÂÖâÁ∫øËøΩË∏™ÊµÅÊ∞¥Á∫øÊú∫Âà∂ÁöÑÊîπÂèòÊ≤°ÊúâÈÇ£‰πàÂâßÁÉàÔºåÂÖ∂‰∏≠‰∏Ä‰∫õÂè™ÂΩ±Âìç SPIR-V ÂíåÁùÄËâ≤Âô®ÁºñËØëÂô®Â∑•ÂÖ∑Èìæ„ÄÇ Èô§‰∫Ü‰∏äÈù¢ÊèêÂà∞ÁöÑÈíàÂØπÂª∂ËøüÊìç‰ΩúÁöÑ vkCreateRayTracingPipelinesKHR ÁöÑÂèòÂåñ‰πãÂ§ñÔºåËøòÊúâ‰∏Ä‰∫õÂèòÂåñÔºå‰Ωø VkPipelineLibraryCreateInfoKHR Âíå VkRayTracingPipelineInterfaceCreateInfoKHR Êàê‰∏∫ÂèØÈÄâÈ°πÔºåËøôÊ†∑Â¶ÇÊûú‰∏ç‰ΩøÁî® VK_KHR_pipeline_libraryÔºåÂ∞±‰∏çÈúÄË¶ÅÂêØÁî®ÂÆÉ‰ª¨„ÄÇ ÂØπ‰∫éÂÖâÁ∫øËøΩË∏™ÊµÅÊ∞¥Á∫øÊù•ËØ¥ÔºåÊúÄÂ§ßÁöÑ API ÂèòÂåñÊòØÂ¢ûÂä†‰∫ÜÊòéÁ°ÆÁöÑÂ†ÜÊ†àÂ§ßÂ∞èÁÆ°ÁêÜ„ÄÇÂÖâÁ∫øËøΩË∏™ÊµÅÊ∞¥Á∫øÊúâ‰∏Ä‰∏™ÊΩúÂú®ÁöÑÂ§ßÂûãÁùÄËâ≤Âô®ÈõÜÔºåÂú®ÂÖâÁ∫øËøΩË∏™ËøáÁ®ã‰∏≠ÂèØËÉΩ‰ºö‰ª•ÂêÑÁßçË∞ÉÁî®ÈìæÁªÑÂêàÁöÑÊñπÂºèË¢´Ë∞ÉÁî®„ÄÇÂú®ÁªôÂÆöÁöÑÁùÄËâ≤Âô®ÊâßË°åËøáÁ®ã‰∏≠ÔºåÂÆûÁé∞ÂèØ‰ª•‰ΩøÁî®Â†ÜÊ†àÂú®ÂÜÖÂ≠ò‰∏≠Â≠òÂÇ®ÂèÇÊï∞ÔºåËøô‰∏™Â†ÜÊ†àÁöÑÂ§ßÂ∞èÈúÄË¶ÅË∂≥Â§üÂ§ßÔºå‰ª•Â§ÑÁêÜÂÆûÁé∞ÂèØ‰ª•ÊâßË°åÁöÑ‰ªª‰ΩïË∞ÉÁî®Èìæ‰∏≠ÊâÄÊúâÁùÄËâ≤Âô®ÊâÄÈúÄÁöÑÂ†ÜÊ†àÂ§ßÂ∞è„ÄÇÈªòËÆ§ÁöÑÂ†ÜÊ†àÂ§ßÂ∞èÊúâÂèØËÉΩÁõ∏ÂΩìÂ§ßÔºåÊâÄ‰ª•Êàë‰ª¨Â¢ûÂä†‰∫Ü‰∏ÄÁßçÊñπÊ≥ïÔºåËÆ©Â∫îÁî®Á®ãÂ∫èÂú®ÊµÅÊ∞¥Á∫øÁºñËØëÂêéÊåáÂÆö‰∏Ä‰∏™Êõ¥ÁêÜÊÉ≥ÁöÑÂ†ÜÊ†àÂ§ßÂ∞è„ÄÇËøôÊòØÂú®Â∫îÁî®Á®ãÂ∫èÂèØ‰ª•Ê†πÊçÆÂØπÁùÄËâ≤Âô®ÂíåË∞ÉÁî®ÈìæÂ±ûÊÄßÁöÑÁâπÂÆöÂ∫îÁî®Áü•ËØÜËÆ°ÁÆóÂá∫Êõ¥‰∏•Ê†ºÁöÑÂ†ÜÊ†àÂ§ßÂ∞èÁ∫¶ÊùüÁöÑÊÉÖÂÜµ‰∏ã‰ΩøÁî®ÁöÑ„ÄÇ‰∏∫ÂÖâÁ∫øËøΩË∏™ÊµÅÊ∞¥Á∫øÊ∑ªÂä†‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂä®ÊÄÅÁä∂ÊÄÅÔºàVK_DYNAMIC_STATE_RAY_TRACING_PIPELINE_STACK_SIZE_KHRÔºâÔºå‰ª•ÂèäÊü•ËØ¢ÁùÄËâ≤Âô®ÁªÑÁöÑÂ†ÜÊ†àÂ§ßÂ∞èÔºàvkGetRayTracingShaderGroupStackSizeKHRÔºâÂíå‰∏∫ÊµÅÊ∞¥Á∫øËÆæÁΩÆÂä®ÊÄÅÂ†ÜÊ†àÂ§ßÂ∞èÔºàvkCmdSetRayTracingPipelineStackSizeKHRÔºâÁöÑÂëΩ‰ª§„ÄÇ Âè¶‰∏Ä‰∏™Êñ∞Â¢ûÂäüËÉΩÊòØÂü∫‰∫é DXR ÂàÜÂ±ÇÂ∑•‰ΩúÁöÑÂèçÈ¶àÔºåÂç≥ÈÄöËøáÂä†ÈÄüÁªìÊûÑÂú∞ÂùÄËøΩË∏™ÂÖâÁ∫øÁöÑËÉΩÂäõ„ÄÇÊúâ‰∫ÜËøô‰∏™ÂäüËÉΩÔºå‰ªé vkGetAccelerationStructureDeviceAddressKHR Ëé∑ÂèñÁöÑÂä†ÈÄüÁªìÊûÑÁöÑËÆæÂ§áÂú∞ÂùÄÂèØ‰ª•Â≠òÂÇ®Âú®‰∏Ä‰∏™ÁºìÂÜ≤Âå∫ÊàñÂÖ∂‰ªñÁùÄËâ≤Âô®ËµÑÊ∫ê‰∏≠„ÄÇÂú®ÁùÄËâ≤Âô®‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®SPIR-V OpConvertUToAccelerationStructureKHRÊåá‰ª§ÔºàÂú® GLSL ‰∏≠Ë°®Áé∞‰∏∫ accelerationStructureEXT Á±ªÂûãÊûÑÈÄ†Âô®ÔºâÂ∞ÜÂÖ∂ËΩ¨Êç¢‰∏∫‰∏çÈÄèÊòéÁöÑ OpTypeAccelerationStructureKHR ÊèèËø∞Âô®Á±ªÂûã„ÄÇÁÑ∂ÂêéÔºå‰∫ßÁîüÁöÑÂèòÈáèÂèØ‰ª•Áî®Êù•ÊåáÂÆöÂä†ÈÄüÁªìÊûÑÔºå‰ª•‰æøÂú® OpTraceRayKHR Êåá‰ª§ÔºàtraceRayEXT()Ôºâ‰∏≠ËøõË°åËøΩË∏™„ÄÇËøôÁßçËΩ¨Êç¢ÊòØÂçïÂêëÁöÑÔºåÂú®‰∏çÈÄèÊòéÁöÑÂä†ÈÄüÁªìÊûÑÊèèËø∞Á¨¶‰∏ä‰∏çÊîØÊåÅÂÖ∂‰ªñÊìç‰Ωú„ÄÇ SPIR-V Â∑•‰ΩúÁªÑ‰πüÊèê‰æõ‰∫ÜÂÖ≥‰∫é SPIR-V Êâ©Â±ïÁöÑÂèçÈ¶àÔºåËøôÂØºËá¥‰∫ÜÂØπ OpTraceRayKHR ÁöÑÊúâÊïàËΩΩËç∑ÂèÇÊï∞Âíå OpExecuteCallableKHR ÁöÑÂèØË∞ÉÁî®Êï∞ÊçÆÂèÇÊï∞ÁöÑ‰øÆÊîπ„ÄÇ‰ª•ÂâçÔºåËøô‰∫õÂèÇÊï∞‰∏é GLSL ‰∏≠Â£∞ÊòéÁöÑÊúâÊïàËΩΩËç∑ÊàñÂèØË∞ÉÁî®Êï∞ÊçÆÁªìÊûÑÁöÑ‰ΩçÁΩÆÂ∏ÉÂ±ÄÈôêÂÆöÁ¨¶ÂåπÈÖç„ÄÇÁÑ∂ËÄåÔºåËøô‰∫õ‰ΩçÁΩÆÂú® SPIR-V ‰∏≠ÊòØÊ≤°ÊúâÊÑè‰πâÁöÑÔºåÂõ†Ê≠§Ë¢´ÊõøÊç¢‰∏∫Áõ¥Êé•ÊåáÂêëÈÄÇÂΩìÁöÑÂ≠òÂÇ®Á±ªÁöÑÊåáÈíàÔºåËÄå‰∏çÊòØ‰ΩøÁî®Êï¥Êï∞‰ΩçÁΩÆ„ÄÇËøôÂØπ GLSL Êâ©Â±ïÊ≤°ÊúâÂΩ±ÂìçÔºåÂõ†‰∏∫ glslang Ëá™Âä®Â§ÑÁêÜ‰∫ÜËΩ¨Êç¢ÔºåÁÑ∂ËÄåÔºåËøôÁ°ÆÂÆûÈúÄË¶Å OpTraceRayKHR Âíå OpExecuteCallableKHR ÁöÑÊñ∞Êìç‰ΩúÁ†ÅÔºåÂÆÉ‰ª¨‰∏çËÉΩÂÜç‰∏é SPV_NV_ray_tracing ÁöÑÁõ∏Â∫îÊìç‰ΩúÁõ∏ËÅîÁ≥ª„ÄÇ Âè¶‰∏Ä‰∏™Áî±ÂÜÖÈÉ®ÂèçÈ¶àÈ©±Âä®ÁöÑ SPIR-V ÂèòÂåñÊòØÂ∞Ü OpIgnoreIntersectionKHR Âíå OpTerminateRayKHR ÂèòÊàêÁªàÊ≠¢Êåá‰ª§ÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÁªàÊ≠¢‰∫ÜÊâßË°åÂÆÉ‰ª¨ÁöÑË∞ÉÁî®„ÄÇËøô‰∫õÊåá‰ª§‰πüÂøÖÈ°ªÊòØ‰∏Ä‰∏™Âùó‰∏≠ÁöÑÊúÄÂêé‰∏ÄÊù°Êåá‰ª§„ÄÇÂêåÊ†∑ÔºåËøô‰πüÂØºËá¥‰∫ÜÊñ∞ÁöÑÊìç‰ΩúÁ†ÅË¢´ÂàÜÈÖçÁªôËøô‰∫õÊåá‰ª§„ÄÇËøô‰∏ÄÂèòÂåñÁ°ÆÂÆûÂΩ±Âìç‰∫Ü GLSL‚ÄìËøô‰∫õÊåá‰ª§‰∏çÂÜçÊòØÂÜÖÁΩÆÂáΩÊï∞ÔºåËÄåÊòØË∑≥ËΩ¨ËØ≠Âè•ÔºåÂõ†Ê≠§Âú®ÁùÄËâ≤Âô®‰∏≠‰ΩøÁî®Êó∂Ôºå‰∏çÂÜçÊòæÁ§∫‰∏∫ ignoreIntersectionEXT()ÔºõËÄåÊòØÁÆÄÂçïÂú∞ÊòæÁ§∫‰∏∫ ignoreIntersectionEXTÔºõ„ÄÇ Âú®ÊÄªÁªì SPIR-V ÂØπÂÖâÁ∫øËøΩË∏™ÊµÅÊ∞¥Á∫øÁöÑ‰øÆÊîπÊó∂ÔºåÊúâ‰∏Ä‰∏™Êñ∞ÁöÑËÉΩÂäõÂíåÊûö‰∏æÔºàRayTracingKHRÔºâÔºå‰ΩøÂÆûÁé∞ÂíåÂ∑•ÂÖ∑ÈìæËÉΩÂ§üÂå∫ÂàÜ‰∏∫Áé∞Âú®Â∑≤ÁªèËøáÊó∂ÁöÑ‰∏¥Êó∂Êâ©Â±ïËÄåÁºñÂÜôÁöÑ SPIR-V ÂíåÊúÄÁªàËØ≠‰πâ„ÄÇÊàë‰ª¨ËøòÂØπ ShaderRecordBufferKHR ÊâÄÈúÄÁöÑÊòéÁ°ÆÂ∏ÉÂ±ÄÂÅö‰∫Ü‰∏Ä‰∫õÊæÑÊ∏ÖÔºåÂπ∂Â∞ÜÂÖ∂‰∏éStorageBufferÂ≠òÂÇ®Á±ªÁöÑÂ§ÑÁêÜÊñπÂºèÁõ∏Âêå„ÄÇÊàë‰ª¨ËøòËßÑÂÆö‰∫Ü OpReportIntersectionKHR ÁöÑËøîÂõûÂÄºÂíåË∂ÖÂá∫ËåÉÂõ¥ÁöÑTÂÄºÁöÑË°å‰∏∫ÔºåÂπ∂ÊæÑÊ∏Ö‰∫ÜÂè™Êúâ‰∏Ä‰∏™Â≠êÈõÜÁöÑÊØîÁâπÁî®‰∫éÂêÑÁßçÂÖâÁ∫øËøΩË∏™ÂèÇÊï∞„ÄÇ ‰∏é VK_KHR_acceleration_structure Êâ©Â±ï‰∏ÄÊ†∑ÔºåÊàë‰ª¨ÂÅö‰∫Ü‰øÆÊîπÔºå‰ª•ÂÆåÂÖ®‰ΩøÁî®ÁºìÂÜ≤ËÆæÂ§áÂú∞ÂùÄÔºåÂõ†Ê≠§ÁùÄËâ≤Âô®ÁªëÂÆöË°®Áé∞Âú®Ë¢´‰Ωú‰∏∫ÁºìÂÜ≤ËÆæÂ§áÂú∞ÂùÄÈÄöËøá VkStridedDeviceAddressRegionKHR ÁªìÊûÑÊèê‰æõÁªôËøΩË∏™ÂÖâÁ∫øÂëΩ‰ª§„ÄÇÂêåÊ†∑Âú∞ÔºåvkCmdTraceRaysIndirectKHR ÁöÑÈó¥Êé•ÂèÇÊï∞‰πüÈÄöËøáÁºìÂÜ≤ËÆæÂ§áÂú∞ÂùÄ‰º†ÈÄí„ÄÇ Êàë‰ª¨ËøòÊõ¥Êñ∞‰∫Ü‰∏é Vulkan 1.2 Âíå VK_KHR_vulkan_memory_model Êâ©Â±ïÁöÑ‰∫§‰∫íÔºåÂπ∂Ë¶ÅÊ±ÇÊüê‰∫õÂÜÖÁΩÆÂèòÈáèÔºà‰∏ªË¶ÅÊòØ‰∏éÂ≠êÁªÑÁõ∏ÂÖ≥ÁöÑÔºâÂú®ÊîØÊåÅÁùÄËâ≤Âô®Ë∞ÉÁî®ÁöÑÁùÄËâ≤Âô®‰∏≠Ë¢´Ê†áËÆ∞‰∏∫ Volatile„ÄÇ ÂÖ∂‰ªñÂèòÂåñÂåÖÊã¨‰∏∫ÁùÄËâ≤Âô®ÁªÑÂè•ÊüÑÊ∑ªÂä†ÂàõÂª∫Êó∂Èó¥ÊçïËé∑ÂíåÈáçÊîæÊ†áÂøóÔºåÊ∑ªÂä†‰ª•ÂâçÈÅóÊºèÁöÑÂêÑÁßçÂ±ûÊÄßÂíåÈôêÂà∂Ôºå‰ª•Âèä‰∏Ä‰∫õÈáçÂëΩÂêç‰ª•ÊèêÈ´òÊ∏ÖÊô∞Â∫¶„ÄÇÂÖ≥‰∫éËøô‰∫õÂíåÂÖ∂‰ªñÂèòÂåñÁöÑÊõ¥Â§öÁªÜËäÇÔºåËØ∑ÂèÇËßÅ VK_KHR_ray_tracing_pipeline ‰∏≠ÁöÑÈóÆÈ¢ò 3 Âíå 4ÔºåSPV_KHR_ray_tracing ‰∏≠ÁöÑÈóÆÈ¢ò 2Ôºå‰ª•ÂèäÊâ©Â±ïÂèòÂåñÊó•Âøó„ÄÇ ÂÖâÁ∫øÊü•ËØ¢ Èâ¥‰∫é Vulkan ÁöÑ API ‰∏≠ÂæàÂ∞ëÊúâÂÖâÁ∫øÊü•ËØ¢ÔºåÂ§ßÈÉ®ÂàÜ‰∏éÂÖâÁ∫øÊü•ËØ¢ÊúâÂÖ≥ÁöÑÂèòÂåñÈÉΩÂú® SPIR-V ÁöÑÊâ©Â±ïÂíå‰∫§‰∫í‰∏≠„ÄÇ SPV_KHR_ray_query ËøòÂåÖÊã¨ÊîØÊåÅÈÄöËøáÂä†ÈÄüÁªìÊûÑÂú∞ÂùÄÂèëÂá∫ÂÖâÁ∫øÊü•ËØ¢ÔºåÂπ∂Â¢ûÂä†‰∫ÜOpConvertUToAccelerationStructureKHRÔºåÂêåÊ†∑ÂèØ‰ª•Áî®Êù•Â∞ÜÂä†ÈÄüÁªìÊûÑËÆæÂ§áÂú∞ÂùÄËΩ¨Êç¢Êàê‰∏çÈÄèÊòéÁöÑOpTypeAccelerationStructureKHR ÊèèËø∞Á¨¶„ÄÇÁÑ∂ÂêéÔºåËøô‰∫õÊèèËø∞Á¨¶ÂèØ‰ª•Áî®Êù•‰∏∫ OpRayQueryInitializeKHR ÊåáÂÆöË¶ÅËøΩË∏™ÁöÑÂä†ÈÄüÁªìÊûÑ„ÄÇ ‰∏éÂÖâÁ∫øÊµÅÊ∞¥Á∫ø‰∏ÄÊ†∑ÔºåÂ≠òÂú®‰∏Ä‰∏™Êñ∞ÁöÑËÉΩÂäõÂíåÊûö‰∏æÔºàRayQueryKHRÔºâÔºå‰ΩøÂÆûÁé∞ÂíåÂ∑•ÂÖ∑ÈìæËÉΩÂ§üÂå∫ÂàÜ‰∏∫Áé∞Âú®Â∑≤ÁªèËøáÊó∂ÁöÑ‰∏¥Êó∂Êâ©Â±ïËÄåÁºñÂÜôÁöÑ SPIR-V ÂíåÊúÄÁªàËØ≠‰πâ„ÄÇÊàë‰ª¨ËøòÊæÑÊ∏Ö‰∫ÜÂè™Êúâ‰∏Ä‰∏™Â≠êÈõÜÁöÑ‰ΩçÁî®‰∫éÂâîÈô§Êé©Á†ÅÔºåÂπ∂‰∏î‰∏çÂÖÅËÆ∏‰ªé AABB Âü∫ÂÖÉ‰∏≠Êü•ËØ¢ÂÄôÈÄâ T ÂÄº„ÄÇ ÊúÄÂêéÔºåÊàë‰ª¨ËøòËßÑÂÆö‰∫ÜÂÖâÁ∫øÂèÇÊï∞ÁöÑÊï∞ÂÄºÈôêÂà∂ÔºåË¶ÅÊ±Ç HitT Âú® OpRayQueryGenerateIntersectionKHR ÁöÑÂÖâÁ∫øÂå∫Èó¥ÂÜÖÔºåÂπ∂Â∞ÜËøΩË∏™ÈôêÂà∂Âú®È°∂Â±ÇÂä†ÈÄüÁªìÊûÑ‰∏ä„ÄÇ ÂÖ≥‰∫éËøô‰∫õÂíåÂÖ∂‰ªñÂèòÂåñÁöÑÊõ¥Â§öÁªÜËäÇÔºåËØ∑ÂèÇËßÅ VK_KHR_ray_query ÁöÑÁ¨¨1ÊúüÔºåSPV_KHR_ray_query ÁöÑÁ¨¨1ÊúüÔºå‰ª•ÂèäÊâ©Â±ïÁöÑÂèòÂåñÊó•Âøó„ÄÇ Ë∑ØÂú®ËÑö‰∏ã This section gives an overview of the new flow for acceleration structure creation and includes a quick primer on resource creation flags and ray tracing synchronization. Âä†ÈÄüÁªìÊûÑÁöÑÂàõÂª∫ ‰∏∫‰∫ÜÂàõÂª∫‰∏Ä‰∏™Âä†ÈÄüÁªìÊûÑÔºåÂ∫îÁî®Á®ãÂ∫èÂøÖÈ°ªÈ¶ñÂÖàÁ°ÆÂÆöÂä†ÈÄüÁªìÊûÑÊâÄÈúÄÁöÑÂ∞∫ÂØ∏„ÄÇÂØπ‰∫éÊûÑÂª∫Êù•ËØ¥ÔºåÂä†ÈÄüÁªìÊûÑÁöÑÂ§ßÂ∞è‰ª•ÂèäÊûÑÂª∫ÂíåÊõ¥Êñ∞ÁöÑÁºìÂÜ≤Âå∫Â§ßÂ∞èÊòØÈÄöËøá vkGetAccelerationStructureBuildSizesInfoKHR ÁªìÊûÑ‰∏≠ÁöÑ vkGetAccelerationStructureBuildSizesKHR ÂëΩ‰ª§Ëé∑Âæó„ÄÇË¶ÅÂàõÂª∫ÁöÑÂä†ÈÄüÁªìÊûÑÁöÑÂΩ¢Áä∂ÂíåÁ±ªÂûãÂú® VkAccelerationStructureBuildGeometryInfoKHR ÁªìÊûÑ‰∏≠ÊèèËø∞„ÄÇËøôÂíå‰ª•ÂêéÁî®‰∫éÂÆûÈôÖÊûÑÂª∫ÁöÑÁªìÊûÑÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰ΩÜÊòØÂä†ÈÄüÁªìÊûÑÂèÇÊï∞ÂíåÂá†‰Ωï‰ΩìÊï∞ÊçÆÊåáÈíà‰∏çÈúÄË¶ÅÂú®ËøôÊó∂ÂÆåÂÖ®Â°´ÂÖÖÔºàÂ∞ΩÁÆ°ÂÆÉ‰ª¨ÂèØ‰ª•Â°´ÂÖÖÔºâÔºåÂè™ÊòØÂä†ÈÄüÁªìÊûÑÁ±ªÂûãÔºå‰ª•ÂèäÂá†‰Ωï‰ΩìÁ±ªÂûã„ÄÅËÆ°Êï∞ÂíåÊúÄÂ§ßÂ∞∫ÂØ∏„ÄÇËøô‰∫õÂ∞∫ÂØ∏ÂØπ‰ªª‰ΩïË∂≥Â§üÁõ∏‰ººÁöÑÂä†ÈÄüÁªìÊûÑÈÉΩÊòØÊúâÊïàÁöÑ„ÄÇÂØπ‰∫éÂ∞ÜÊàê‰∏∫ÂéãÁº©Êã∑Ë¥ùÁõÆÊ†áÁöÑÂä†ÈÄüÁªìÊûÑÔºåÊâÄÈúÄÁöÑÂ∞∫ÂØ∏ÂèØ‰ª•ÈÄöËøá vkCmdWriteAccelerationStructuresPropertiesKHR ÂëΩ‰ª§Ëé∑Âæó„ÄÇ‰∏ÄÊó¶Á°ÆÂÆö‰∫ÜÊâÄÈúÄÁöÑÂ§ßÂ∞èÔºåÂ∫îÁî®Á®ãÂ∫èÂ∞±‰ºö‰∏∫Âä†ÈÄüÁªìÊûÑÂàõÂª∫‰∏Ä‰∏™ VkBufferÔºàaccelerationStructureSizeÔºâÔºåÂπ∂Ê†πÊçÆÈúÄË¶Å‰∏∫ÊûÑÂª∫ÔºàbuildScratchSizeÔºâÂíåÊõ¥Êñ∞ÔºàupdateScratchSizeÔºâÁºìÂÜ≤Âå∫ÂàõÂª∫ VkBuffer„ÄÇ Êé•‰∏ãÊù•ÔºåÂèØ‰ª•‰ΩøÁî® vkCreateAccelerationStructureKHR ÂëΩ‰ª§ÂàõÂª∫ VkAccelerationStructureKHR ÂØπË±°ÔºåËØ•ÂëΩ‰ª§ÂàõÂª∫‰∏Ä‰∏™ÊåáÂÆöÁ±ªÂûãÂíåÂ§ßÂ∞èÁöÑÂä†ÈÄüÁªìÊûÑÔºåÂπ∂Â∞ÜÂÖ∂ÊîæÁΩÆÂú® VkAccelerationStructureCreateInfoKHR ‰∏≠Êèê‰æõÁöÑÁºìÂÜ≤Âå∫ÁöÑÂÅèÁßªÂ§Ñ„ÄÇ‰∏é Vulkan ‰∏≠ÁöÑÂ§ßÂ§öÊï∞ÂÖ∂‰ªñËµÑÊ∫ê‰∏çÂêåÔºåÁºìÂÜ≤Âå∫ÁöÑÊåáÂÆöÈÉ®ÂàÜÂÆåÂÖ®‰∏∫Âä†ÈÄüÁªìÊûÑÊèê‰æõ‰∫ÜÂÜÖÂ≠òÔºõ‰∏çÈúÄË¶ÅÊü•ËØ¢È¢ùÂ§ñÁöÑÂÜÖÂ≠òÈúÄÊ±ÇÊàñÂ∞ÜÂÜÖÂ≠òÁªëÂÆöÂà∞Âä†ÈÄüÁªìÊûÑÂØπË±°‰∏ä„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÔºåÂèØ‰ª•Âú®Âêå‰∏Ä‰∏™ VkBuffer ‰∏≠ÊîæÁΩÆÂ§ö‰∏™Âä†ÈÄüÁªìÊûÑÔºåÂè™Ë¶ÅÂä†ÈÄüÁªìÊûÑ‰∏çÈáçÂè†„ÄÇ ÊúÄÂêéÔºåÂèØ‰ª•‰ΩøÁî® vkCmdBuildAccelerationStructuresKHR ÂëΩ‰ª§Êù•ÊûÑÂª∫Âä†ÈÄüÁªìÊûÑ„ÄÇÊûÑÂª∫Êó∂‰ΩøÁî®‰∏éÁ°ÆÂÆöÂä†ÈÄüÁªìÊûÑÂ§ßÂ∞èÁõ∏ÂêåÁöÑ VkAccelerationStructureBuildGeometryInfoKHR ÁªìÊûÑÔºå‰ΩÜËøôÊ¨°ÂøÖÈ°ªÊåáÂÆöÁõÆÊ†áÂä†ÈÄüÁªìÊûÑ‰ª•ÂèäÊâÄÊúâÂá†‰ΩïÊï∞ÊçÆÊåáÈíàÔºàÁî®‰∫éÈ°∂ÁÇπ„ÄÅÁ¥¢Âºï„ÄÅÂèòÊç¢„ÄÅaabbsÂíåÂÆû‰æãÔºâÂíåÊäìÂèñÊï∞ÊçÆÊåáÈíà„ÄÇ‰∏ÄÊó¶ÊûÑÂª∫ÂÆåÊàêÔºåÂä†ÈÄüÁªìÊûÑÊòØÂÆåÂÖ®Áã¨Á´ãÁöÑÔºåÊûÑÂª∫ËæìÂÖ•Âíå‰ªéÂ§¥ÂºÄÂßãÁöÑÁºìÂÜ≤Âå∫ÂèØ‰ª•Ë¢´Â∫îÁî®Á®ãÂ∫èÈáçÊñ∞Âà©Áî®ÔºåÈô§ÈùûÂÆÉËÆ°ÂàíÂ∞ÜÂÆÉ‰ª¨Áî®‰∫éÊú™Êù•ÁöÑÊõ¥Êñ∞ÊûÑÂª∫„ÄÇ ËµÑÊ∫ê‰ΩøÁî®‰∏éÂêåÊ≠• Êú¨ËäÇÊèê‰æõ‰∫ÜÂÖ≥‰∫é‰ΩïÊó∂Â∫î‰ΩøÁî®ÂêÑÁßçÁºìÂÜ≤Âå∫‰ΩøÁî®Ê†áÂøóÁöÑÈ´òÂ±ÇÊ¨°Ê¶ÇËø∞Ôºå‰ª•ÂèäÂØπÂêÑÁßçÂÖâÁ∫øËøΩË∏™Êìç‰ΩúÂ∫î‰ΩøÁî®‰ΩïÁßçÁ±ªÂûãÁöÑÂêåÊ≠•ÁöÑÁÆÄË¶ÅÊèèËø∞„ÄÇ Â∞ÜÁî®‰∫éÂä†ÈÄüÁªìÊûÑÂ§á‰ªΩÁöÑÁºìÂÜ≤Âå∫ÊòØÁî® VK_BUFFER_USAGE_ACCELERATION_STRUCTURE_STORAGE_BIT_KHR Áî®Ê≥ïÂàõÂª∫ÁöÑÔºåÂ∞ÜÁî®‰∫éÊûÑÂª∫‰ªéÂ§¥Á©∫Èó¥ÁöÑÁºìÂÜ≤Âå∫ÈúÄË¶ÅÊåáÂÆö VK_BUFFER_USAGE_STORAGE_BUFFER_BIT Áî®Ê≥ï„ÄÇÂíåÂä†ÈÄüÁªìÊûÑÁöÑÊûÑÂª∫ËæìÂÖ•ÔºåÂ¶ÇÈ°∂ÁÇπ„ÄÅÁ¥¢Âºï„ÄÅÂèòÊç¢„ÄÅaabbÂíåÂÆû‰æãÊï∞ÊçÆÔºåÈúÄË¶ÅÊåáÂÆö VK_BUFFER_USAGE_ACCELERATION_STRUCTURE_BUILD_INPUT_READ_ONLY_BIT_KHR Áî®Ê≥ï„ÄÇÁî®‰∫éÁùÄËâ≤Âô®ÁªëÂÆöË°®ÁöÑÁºìÂÜ≤Âå∫‰ª• VK_BUFFER_USAGE_SHADER_BINDING_TABLE_BIT_KHR Áî®Ê≥ïÂàõÂª∫ÔºåÁî®‰∫éÈó¥Êé•ÊûÑÂª∫ÂíåË∑üË∏™ÂèÇÊï∞ÁöÑÁºìÂÜ≤Âå∫‰ª• VK_BUFFER_USAGE_INDIRECT_BUFFER_BIT Áî®Ê≥ïÂàõÂª∫„ÄÇ ‰∏∫‰∫Ü‰∏éÂä†ÈÄüÁªìÊûÑÊûÑÂª∫ÂëΩ‰ª§ÔºàvkCmdBuildAccelerationStructuresKHR vkCmdBuildAccelerationStructuresIndirectKHRÔºâÂêåÊ≠•‰æùËµñÔºå‰ΩøÁî® VK_PIPELINE_STAGE_ACCELERATION_STRUCTURE_BUILD_BIT_KHRpipeline Èò∂ÊÆµ„ÄÇÂØπÊ∫êÂä†ÈÄüÁªìÊûÑÊàñÁõÆÊ†áÂä†ÈÄüÁªìÊûÑÁöÑËÆøÈóÆÔºå‰ª•ÂèäÂØπÂèñÂõûÁºìÂÜ≤Âå∫ÁöÑËÆøÈóÆÔºå‰ΩøÁî® VK_ACCESS_ACCELERATION_STRUCTURE_READ_BIT_KHR Êàñ VK_ACCESS_ACCELERATION_STRUCTURE_WRITE_BIT_KHR ÁöÑËÆøÈóÆÁ±ªÂûã„ÄÇÂØπÊûÑÂª∫ÁöÑËæìÂÖ•ÁºìÂÜ≤Âå∫ÔºàÈ°∂ÁÇπ„ÄÅÁ¥¢Âºï„ÄÅÂèòÊç¢„ÄÅaabbÊàñÂÆû‰æãÊï∞ÊçÆÔºâÁöÑËÆøÈóÆ‰ΩøÁî® VK_ACCESS_SHADER_READ_BIT ÁöÑËÆøÈóÆÁ±ªÂûãÔºåÂØπÈó¥Êé•ÂèÇÊï∞ÁöÑËÆøÈóÆ‰ΩøÁî® VK_ACCESS_INDIRECT_COMMAND_READ_BIT ÁöÑËÆøÈóÆÁ±ªÂûã„ÄÇ ÂΩì‰∏éÂä†ÈÄüÁªìÊûÑÂ§çÂà∂ÂëΩ‰ª§ÔºàvkCmdWriteAccelerationStructuresPropertiesKHR„ÄÅvkCmdCopyAccelerationStructureKHR„ÄÅvkCmdCopyAccelerationStructureToMemoryKHR Âíå vkCmdCopyMemoryToAccelerationStructureKHRÔºâÂêåÊ≠•‰æùËµñÊó∂Ôºå‰πü‰ΩøÁî® VK_PIPELINE_STAGE_ACCELERATION_STRUCTURE_BUILD_BIT_KHR ÊµÅÊ∞¥Á∫øÈò∂ÊÆµ„ÄÇËØªÂèñÊàñÂÜôÂÖ•Âä†ÈÄüÁªìÊûÑÁöÑËÆøÈóÆÂàÜÂà´‰ΩøÁî® VK_ACCESS_ACCELERATION_STRUCTURE_READ_BIT_KHR ÊàñËÄÖ VK_ACCESS_ACCELERATION_STRUCTURE_WRITE_BIT_KHR„ÄÇÈÄöËøáËÆæÂ§áÂú∞ÂùÄËÆøÈóÆÁºìÂÜ≤Âå∫ËøõË°åËØªÂèñÊàñÂÜôÂÖ•ÔºåÂàÜÂà´‰ΩøÁî® VK_ACCESS_TRANSFER_READ_BIT Êàñ VK_ACCESS_TRANSFER_WRITE_BIT ÁöÑËÆøÈóÆÁ±ªÂûã„ÄÇ ‰∏∫‰∫Ü‰∏éÂÖâÁ∫øËøΩË∏™ÂëΩ‰ª§ÔºàvkCmdTraceRaysKHR Âíå vkCmdTraceRaysIndirectKHRÔºâÂêåÊ≠•‰æùËµñÔºå VK_PIPELINE_STAGE_RAY_TRACING_SHADER_BIT_KHR ÊµÅÊ∞¥Á∫øÈò∂ÊÆµË¢´Áî®‰∫éËÆøÈóÆÁùÄËâ≤Âô®ÁªëÂÆöË°®ÁºìÂÜ≤Âå∫ÔºåËÆøÈóÆÁ±ªÂûã‰∏∫ VK_ACCESS_SHADER_READ_BIT„ÄÇÂØπ‰∫éÈó¥Êé•ÂèÇÊï∞ÁöÑËÆøÈóÆÔºå‰ΩøÁî® VK_PIPELINE_STAGE_DRAW_INDIRECT_BIT ÊµÅÊ∞¥Á∫øÈò∂ÊÆµÔºåËÆøÈóÆÁ±ªÂûã‰∏∫ VK_ACCESS_INDIRECT_COMMAND_READ_BIT„ÄÇ ‰∏∫‰∫Ü‰∏é‰ªª‰ΩïÂõæÂΩ¢„ÄÅËÆ°ÁÆóÊàñÂÖâÁ∫øËøΩË∏™ÊµÅÊ∞¥Á∫øÈò∂ÊÆµ‰∏≠Áî®‰∫éÂÖâÁ∫øÊü•ËØ¢Êåá‰ª§ÁöÑÂä†ÈÄüÁªìÊûÑÂêåÊ≠•‰æùËµñÂÖ≥Á≥ªÔºåÈÄÇÂΩìÁöÑÊµÅÊ∞¥Á∫øÈò∂ÊÆµ‰∏é VK_ACCESS_ACCELERATION_STRUCTURE_READ_BIT_KHR ËÆøÈóÆÁ±ªÂûãÂ∫îÂΩì‰∏ÄËµ∑‰ΩøÁî®„ÄÇ ÁªìËÆ∫‰∏éËµÑÊ∫ê Áé∞Âú®ÔºåÊúÄÁªàÁöÑ Vulkan ÂÖâÁ∫øËøΩË∏™Êâ©Â±ïÂ∑≤ÁªèÂèëÂ∏ÉÔºåÁõÆÂâçÊîØÊåÅ‰∏¥Êó∂ËßÑËåÉÁöÑÁîüÊÄÅÁ≥ªÁªüÂ∑•‰ª∂Â∞ÜÂ∞ΩÂø´Êõ¥Êñ∞ÔºåÂ∑•ÂÖ∑ÂíåÂÖ∂‰ªñÁªÑ‰ª∂ÁöÑÊé®Âá∫Â∞ÜÂú® GitHub ‰∏äËøõË°åË∑üË∏™„ÄÇÊàë‰ª¨ÈºìÂä±ÊâÄÊúâÂºÄÂèëËÄÖËøáÊ∏°Âà∞‰ΩøÁî®ÊúÄÁªàÁöÑ Khronos Vulkan ÂÖâÁ∫øËøΩË∏™Êâ©Â±ï„ÄÇ ÂåÖÊã¨Áî®‰∫é NVIDIA GPU ÁöÑÊúÄÁªà Vulkan ÂÖâÁ∫øËøΩË∏™Êâ©Â±ïÁöÑÈ©±Âä®Á®ãÂ∫èÂèØ‰ª•Âú® developer.nvidia.com/vulkan-driver ‰∏äÊâæÂà∞ÔºåÂêåÊó∂ËøòÊúâÂÖ≥‰∫éÂì™‰∫õGPUÂèóÂà∞ÊîØÊåÅÁöÑ‰ø°ÊÅØ„ÄÇÊîØÊåÅËøô‰∫õÊâ©Â±ïÁöÑ AMD GPU ÁöÑÂàùÂßãÈ©±Âä®Á®ãÂ∫èÂèØ‰ª•Âú®https://www.amd.com/en/support/kb/release-notes/rn-rad-win-20-11-2-vrt-beta„ÄÇËã±ÁâπÂ∞î Xe-HPG GPU Â∞ÜÊîØÊåÅÂÖâÁ∫øËøΩË∏™Êâ©Â±ïÔºå‰∫é2021Âπ¥Êé®Âá∫ÔºåÂπ∂ÈÄöËøáÂ∏∏ËßÑÈ©±Âä®Êõ¥Êñ∞Á®ãÂ∫èÊèê‰æõÈ©±Âä®ÊîØÊåÅ„ÄÇ ÂÖ≥‰∫éÂ¶Ç‰ΩïÂ∞Ü Vulkan ÂÖâÁ∫øËøΩË∏™Áî®‰∫éÊ∑∑ÂêàÊ∏≤ÊüìÁöÑËßÅËß£ÔºåÂÖ∂‰∏≠ÂÖâÊ†ÖÂåñÂíåÂÖâÁ∫øËøΩË∏™Ë¢´‰∏≤ËÅî‰ΩøÁî®Ôºå‰ª•ÂÆûÁé∞Âºï‰∫∫Ê≥®ÁõÆÁöÑËßÜËßâ‰øùÁúüÂ∫¶Âíå‰∫íÂä®ÊÄßÔºåËØ∑Êü•Áúã Vulkan ÂÖâÁ∫øËøΩË∏™Ê∑∑ÂêàÊ∏≤ÊüìÁöÑÊúÄ‰Ω≥ÂÆûË∑µÂçöÂÆ¢ÔºåÂÖ∂‰∏≠ËÆ®ËÆ∫‰∫ÜÂÖâÁ∫øËøΩË∏™ÂèçÂ∞ÑÂú®„ÄäÈáçËøîÂæ∑ÂÜõÊÄªÈÉ®ÔºöÊñ∞Ë°ÄÁºò„Äã‰∏≠‰ΩøÁî®ÊúÄÁªàÊâ©Â±ïÊèèËø∞ÁöÑÂÖâÁ∫øËøΩË∏™ÂèçÂ∞ÑÁöÑÂÆûÁé∞„ÄÇ„ÄÇ ‰ªäÂ§©ËøòÂèëÂ∏É‰∫ÜÊúÄÊñ∞ÁöÑ NVIDIA Vulkan ÂÖâÁ∫øËøΩË∏™ÊïôÁ®ãÔºå‰ª•ÂèäÊîØÊåÅ Vulkan ÂÖâÁ∫øËøΩË∏™Êâ©Â±ïÁöÑ NVIDIA Nsight ÂõæÂΩ¢ÂºÄÂèëÂ∑•ÂÖ∑ÁöÑ 2020.6 ÁâàÊú¨„ÄÇÊï¨ËØ∑ÂÖ≥Ê≥®Êõ¥Â§öÂç≥Â∞ÜÂèëÂ∏ÉÁöÑÂÖ≥‰∫éÁîü‰∫ßÈ©±Âä®„ÄÅÂ∑•ÂÖ∑ÂíåÁ§∫‰æãÁöÑÂÖ¨Âëä„ÄÇ Vulkan Â∑•‰ΩúÁªÑÂæàÈ´òÂÖ¥ËÉΩÂ§üËÆ©ÂºÄÂèëËÄÖÂíåÂÜÖÂÆπÂàõ‰ΩúÁ§æÂå∫‰ΩøÁî® Vulkan ÂÖâÁ∫øËøΩË∏™ÔºåÊàë‰ª¨Ê¨¢Ëøé‰ªª‰ΩïÂèçÈ¶àÊàñÈóÆÈ¢ò„ÄÇËøô‰∫õÈóÆÈ¢òÂèØ‰ª•ÈÄöËøá Khronos ÂºÄÂèëËÄÖ Slack Âíå Vulkan GitHub ÈóÆÈ¢òËøΩË∏™Âô®ËøõË°åÂàÜ‰∫´„ÄÇ Ê¨¢ËøéÊù•Âà∞‰æøÊê∫Âºè„ÄÅË∑®ÂéÇÂïÜ„ÄÅË∑®Âπ≥Âè∞ÁöÑÂÖâÁ∫øËøΩË∏™Âä†ÈÄüÊó∂‰ª£ÔºÅ","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"Computer Graphics","slug":"Computer-Graphics","permalink":"https://blog.inoki.cc/categories/Computer-Graphics/"},{"name":"Vulkan","slug":"Computer-Graphics/Vulkan","permalink":"https://blog.inoki.cc/categories/Computer-Graphics/Vulkan/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Computer Graphics","slug":"Computer-Graphics","permalink":"https://blog.inoki.cc/tags/Computer-Graphics/"},{"name":"Vulkan","slug":"Vulkan","permalink":"https://blog.inoki.cc/tags/Vulkan/"},{"name":"Ray Tracing","slug":"Ray-Tracing","permalink":"https://blog.inoki.cc/tags/Ray-Tracing/"}]},{"title":"Write your own IME on macOS - 1. Create project","slug":"Write-your-own-IME-on-macOS-1","date":"2021-06-19T19:15:00.000Z","updated":"2022-05-09T18:41:39.502Z","comments":true,"path":"2021/06/19/Write-your-own-IME-on-macOS-1/","link":"","permalink":"https://blog.inoki.cc/2021/06/19/Write-your-own-IME-on-macOS-1/","excerpt":"","text":"On macOS, it is not so difficult to write an Input Method Engine (IME). Unlike Linux or the other Unix-like OS, macOS provides an official framework, InputMethodKit, to help you write an Input Method Engine. An IME project is in fact a normal Cocoa app located in a special directory, with a special bundle identifier, some special declarations in plist manifest file, and some special classes/objects in the project. This post may help you initiate your own IME project. Let‚Äôs go! Create the project First, open XCode, create a new App project: Then, type your IME name. Here I choose the typical name ‚ÄúHelloWorld‚Äù. Notice that there must be an inputmethod identifier in the bundle identifier. I choose to append a suffix to my organization identifier. However, you should also be able to do it in another way. Add some magic In this section, I‚Äôll add some magic to to turn the app into an IME. Plist magic In the manifest file Info.plist, there are magic to declare some information of your IME: Key Type InputMethodConnectionName String InputMethodServerControllerClass String tsInputMethodCharacterRepertoireKey Array The InputMethodConnectionName will be the name of your IME, recognized by macOS. The InputMethodServerControllerClass is the name of the Input Method controller class in your IME, which is in charge of communicating with macOS, exchanging the input events and submitting the candidate selected by the user. The tsInputMethodCharacterRepertoireKey can help you declare the category of your IME. It will depend where your IME will show up in the Input Source panel of the macOS system preference. As an array, there can be multiple items. Thus, an IME for several languages is possible. For example, Squirrel has a zh-Hans string in the array, so it shows up in the Chinese, Simplified language as follow: If all is set, we can have an Info.plist like this: I choose InokiHelloWorldIME as the connection name. There will be an Input Method controller class named InokiHelloWorldController in my project, in charge of events. And I added zh-Hans, zh-Hant and Latn for the category. Class magic We need to create our Input Method controller class, inheriting IMKInputController class from Input Method Kit. Add these codes to the implementation(.m) file, so that we can observe what happens when we are ‚Äúusing‚Äù(not actually) the IME: 123456789- (void)activateServer:(id)sender&#123; NSLog(@\"Server activated for %@\", [sender bundleIdentifier]);&#125;- (void)deactivateServer:(id)sender&#123; NSLog(@\"Server deactivated for %@\", [sender bundleIdentifier]);&#125; This method is using one of the controller API to receive input event from macOS: 12345- (BOOL)inputText:(NSString*)string client:(id)sender&#123; NSLog(@\"Controller received: %@\", string); return NO;&#125; There are in fact 3 different APIs to handle the input event, such as: 123- (BOOL)inputText:(NSString*)string key:(NSInteger)keyCode modifiers:(NSUInteger)flags client:(id)sender;- (BOOL)inputText:(NSString*)string client:(id)sender;- (BOOL)handleEvent:(NSEvent*)event client:(id)sender; For more details, you can take a look at the declaration of IMKInputController in InputMethodKit/IMKInputController.h. With all these done, macOS should be able to find your Input Controller, thanks to the runtime information in Objective-C. Main Code magic Finally, we need a minimum main function like this. 123456789101112131415#import &lt;Cocoa/Cocoa.h&gt;#import &lt;InputMethodKit/InputMethodKit.h&gt;NSString* connectionName = @\"InokiHelloWorldIME\";IMKServer* server;int main(int argc, char * argv[]) &#123; @autoreleasepool&#123; server = [[IMKServer alloc] initWithName:(NSString*)connectionName bundleIdentifier:[[NSBundle mainBundle] bundleIdentifier]]; [[NSApplication sharedApplication] run]; &#125; return 0;&#125; In which we create an instance of IMKServer and make it alive during all the life cycle of our app. The server is also registered to macOS, so that the OS knows which process it should communicate. Run it Finally, we can build it and copy it into /Library/Input Methods. For debug or running, this post (in Chinese) is a good example. Here, I concentrate more on the potential and undocumented bug (ok, it might be a feature) as follows. Oups, you may be isolated in a sandbox You may suffer an error like: 1[IMKServer _createConnection]: *Failed* to register NSConnection name=xxxxx Same to me. I took several hours to dive into macOS and debug such error. I found that the reason: IMKServer needs an NSConnection to communicate with macOS. However, by default, the app is sandboxized (by the &lt;project-name.entitlements&gt;) since a version of XCode. So, the solutions are various: Remove the entitlements file; Allow NSConnection from sandbox; Disable the App sandbox in the entitlements file. Then, your IME should be good to go. Conclusion In this post, there is a brief description for creating an IME project. I show an issue that may generally exist related to the sandbox stuff. Hope this can help you. In the next post, I‚Äôll try to show up the event handle in an IME on macOS.","categories":[{"name":"IME","slug":"IME","permalink":"https://blog.inoki.cc/categories/IME/"}],"tags":[{"name":"macOS","slug":"macOS","permalink":"https://blog.inoki.cc/tags/macOS/"},{"name":"IME","slug":"IME","permalink":"https://blog.inoki.cc/tags/IME/"}]},{"title":"KDE Connect iOS Develop Dairy(3) Certificate","slug":"KDEConnect-iOS-dev-dairy-3","date":"2021-02-07T14:34:50.000Z","updated":"2022-05-09T18:41:39.470Z","comments":true,"path":"2021/02/07/KDEConnect-iOS-dev-dairy-3/","link":"","permalink":"https://blog.inoki.cc/2021/02/07/KDEConnect-iOS-dev-dairy-3/","excerpt":"","text":"As mentioned at the end of my previous post KDE Connect iOS Develop Dairy(2) Identity Protocol, the new version KDE Connect protocol needs a TLS/SSL connection to make a completed identification. Indeed, devices use the TLS/SSL connection to communicate with each other, under secure consideration. In such a connection with asymmetric cryptography, the most important thing is the private key, the public key exchange, and the certificate signed with each device‚Äôs private key. This post describes how I added a related library (OpenSSL) and used it to generate these elements. Investigation OpenSSL is a widely used library for my purpose. However, there are too many options for each entity. For the private-public key pair, there are several algorithms such as the Elliptic-Curve Digital Signature Algorithm (ECDSA), RSA, etc. What we need to use is precisely the one used by the original KDE Connect. So, I did an investigation on the original version on KDE Invent. Implementation in KDE Connect codebase KDE Connect uses QCA-Qt5 (Qt Cryptographic Architecture), a Qt library providing a straightforward API. To generate a private key (and its paired public key) with 2048 bits from the RSA algorithm, KDE Connect profits this single line: 123456void KdeConnectConfig::generatePrivateKey(const QString&amp; keyPath)&#123; // ... d-&gt;m_privateKey = QCA::KeyGenerator().createRSA(2048); // ...&#125; Then, the generated private key is stored in m_privateKey field. To generate a certificate, KDE Connect uses this method: 1234567891011121314151617181920212223242526void KdeConnectConfig::generateCertificate(const QString&amp; certPath)&#123; // ... QString uuid = QUuid::createUuid().toString(); DBusHelper::filterNonExportableCharacters(uuid); qCDebug(KDECONNECT_CORE) &lt;&lt; \"My id:\" &lt;&lt; uuid; // FIXME: We only use QCA here to generate the cert and key, would be nice to get rid of it completely. // The same thing we are doing with QCA could be done invoking openssl (although it's potentially less portable): // openssl req -new -x509 -sha256 -newkey rsa:2048 -nodes -keyout privateKey.pem -days 3650 -out certificate.pem -subj \"/O=KDE/OU=KDE Connect/CN=_e6e29ad4_2b31_4b6d_8f7a_9872dbaa9095_\" QCA::CertificateOptions certificateOptions = QCA::CertificateOptions(); QDateTime startTime = QDateTime::currentDateTime().addYears(-1); QDateTime endTime = startTime.addYears(10); QCA::CertificateInfo certificateInfo; certificateInfo.insert(QCA::CommonName, uuid); certificateInfo.insert(QCA::Organization,QStringLiteral(\"KDE\")); certificateInfo.insert(QCA::OrganizationalUnit,QStringLiteral(\"Kde connect\")); certificateOptions.setInfo(certificateInfo); certificateOptions.setFormat(QCA::PKCS10); certificateOptions.setSerialNumber(QCA::BigInteger(10)); certificateOptions.setValidityPeriod(startTime, endTime); d-&gt;m_certificate = QSslCertificate(QCA::Certificate(certificateOptions, d-&gt;m_privateKey).toPEM().toLatin1()); // ...&#125; TL;DR, KDE Connect gets a UUID of the current device, use it as Common Name(CN) to generate a certificate with PKCS10; the certificate is valid from one year before to ten years later; there are 2 other fields: Orgnization(O) set to KDE and Organization Unit(OU) set to `Kde connect. Finally, KDE Connect uses the private key to sign the certificate (we can call it self-sign, because there is no authority). We can see that the QCA::Certificate constructor is in charge of all of them. Unfortunately, on iOS, it is not so easy to find an all-in-one solution. I needed to find out how it is done in detail. 123456789Certificate::Certificate(const CertificateOptions &amp;opts, const PrivateKey &amp;key, const QString &amp;provider):d(new Private)&#123; CertContext *c = static_cast&lt;CertContext *&gt;(getContext(QStringLiteral(\"cert\"), provider)); if(c-&gt;createSelfSigned(opts, *(static_cast&lt;const PKeyContext *&gt;(key.context())))) change(c); else delete c;&#125; In the constructor, we can see that a cert context is got, and used to create a self-signed certificate. The method is declared here: 1234567891011121314151617181920212223class QCA_EXPORT CertContext : public CertBase&#123; Q_OBJECTpublic: /** Standard constructor \\param p the provider associated with this context */ CertContext(Provider *p) : CertBase(p, QStringLiteral(\"cert\")) &#123;&#125; /** Create a self-signed certificate based on the given options and private key. Returns true if successful, otherwise false. If successful, this object becomes the self-signed certificate. If unsuccessful, this object is considered to be in an uninitialized state. \\param opts the options to set on the certificate \\param priv the key to be used to sign the certificate */ virtual bool createSelfSigned(const CertificateOptions &amp;opts, const PKeyContext &amp;priv) = 0; and implemented here: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111class MyCertContext : public CertContext&#123; Q_OBJECTpublic: bool createSelfSigned(const CertificateOptions &amp;opts, const PKeyContext &amp;priv) override &#123; _props = CertContextProps(); item.reset(); CertificateInfo info = opts.info(); // Note: removing default constraints, let the app choose these if it wants Constraints constraints = opts.constraints(); // constraints - logic from Botan /*Constraints constraints; if(opts.isCA()) &#123; constraints += KeyCertificateSign; constraints += CRLSign; &#125; else constraints = find_constraints(priv, opts.constraints());*/ EVP_PKEY *pk = static_cast&lt;const MyPKeyContext *&gt;(&amp;priv)-&gt;get_pkey(); X509_EXTENSION *ex; const EVP_MD *md; if(priv.key()-&gt;type() == PKey::RSA) md = EVP_sha1(); else if(priv.key()-&gt;type() == PKey::DSA) md = EVP_sha1(); else return false; // create X509 *x = X509_new(); X509_set_version(x, 2); // serial BIGNUM *bn = bi2bn(opts.serialNumber()); BN_to_ASN1_INTEGER(bn, X509_get_serialNumber(x)); BN_free(bn); // validity period ASN1_TIME_set(X509_get_notBefore(x), opts.notValidBefore().toTime_t()); ASN1_TIME_set(X509_get_notAfter(x), opts.notValidAfter().toTime_t()); // public key X509_set_pubkey(x, pk); // subject X509_NAME *name = new_cert_name(info); X509_set_subject_name(x, name); // issuer == subject X509_set_issuer_name(x, name); // subject key id ex = new_subject_key_id(x); &#123; X509_add_ext(x, ex, -1); X509_EXTENSION_free(ex); &#125; // CA mode ex = new_basic_constraints(opts.isCA(), opts.pathLimit()); if(ex) &#123; X509_add_ext(x, ex, -1); X509_EXTENSION_free(ex); &#125; // subject alt name ex = new_cert_subject_alt_name(info); if(ex) &#123; X509_add_ext(x, ex, -1); X509_EXTENSION_free(ex); &#125; // key usage ex = new_cert_key_usage(constraints); if(ex) &#123; X509_add_ext(x, ex, -1); X509_EXTENSION_free(ex); &#125; // extended key usage ex = new_cert_ext_key_usage(constraints); if(ex) &#123; X509_add_ext(x, ex, -1); X509_EXTENSION_free(ex); &#125; // policies ex = new_cert_policies(opts.policies()); if(ex) &#123; X509_add_ext(x, ex, -1); X509_EXTENSION_free(ex); &#125; // finished X509_sign(x, pk, md); item.cert = x; make_props(); return true; &#125; I could use this as a reference to implement the generation of the private key and the certificate. Implementation on iOS The next step is to generate a certificate and load it on iOS, to test. Generate and store self-signed certificate on iOS I tried several times and several ways, because there were many difficulties. They are noted here. Hope these can help. First generation with OpenSSL cli To make an easy start, I tried to generate a private key and a certificate using OpenSSL. The equivalent command is listed in the comment: 1openssl req -new -x509 -sha256 -newkey rsa:2048 -nodes -keyout privateKey.pem -days 3650 -out certificate.pem -subj &quot;/O=KDE/OU=KDE Connect/CN=_e6e29ad4_2b31_4b6d_8f7a_9872dbaa9095_&quot; After this, I have a privateKey.pem and a certificate.pem. Load self-signed certificate on iOS I tried to separetly load the key and the certificate on iOS, but I did not find a proper API to do so. In a secure connection on iOS, the type needed is SecIdentityRef. However, there is an API to do so: 1OSStatus SecItemImport(CFDataRef importedData, CFStringRef fileNameOrExtension, SecExternalFormat *inputFormat, SecExternalItemType *itemType, SecItemImportExportFlags flags, const SecItemImportExportKeyParameters *keyParams, SecKeychainRef importKeychain, CFArrayRef _Nullable *outItems); only for macOS 10.7+, but not for iOS. There is another one: 1OSStatus SecPKCS12Import(CFDataRef pkcs12_data, CFDictionaryRef options, CFArrayRef _Nullable *items); to import both the private key and the certificate at the same time. But it only accepts the data from a p12 file. So, finally, I sumed the private key and the certificate into a p12 file. And the loading method is like: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152- (void) loadSecIdentity&#123; BOOL needGenerateCertificate = NO; NSString *resourcePath = NULL; NSArray *documentDirectories = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); for (NSString *directory in documentDirectories) &#123; NSLog(@&quot;Find %@&quot;, directory); resourcePath = [directory stringByAppendingString:@&quot;/rsaPrivate.p12&quot;]; &#125; NSFileManager *fileManager = [NSFileManager defaultManager]; if (resourcePath != NULL &amp;&amp; [fileManager fileExistsAtPath:resourcePath]) &#123; NSData *p12Data = [NSData dataWithContentsOfFile:resourcePath]; NSMutableDictionary * options = [[NSMutableDictionary alloc] init]; [options setObject:@&quot;&quot; forKey:(id)kSecImportExportPassphrase]; // No password CFArrayRef items = CFArrayCreate(NULL, 0, 0, NULL); OSStatus securityError = SecPKCS12Import((CFDataRef) p12Data, (CFDictionaryRef)options, &amp;items); SecIdentityRef identityApp; if (securityError == noErr &amp;&amp; CFArrayGetCount(items) &gt; 0) &#123; SecKeyRef privateKeyRef = NULL; CFDictionaryRef identityDict = CFArrayGetValueAtIndex(items, 0); identityApp = (SecIdentityRef)CFDictionaryGetValue(identityDict, kSecImportItemIdentity); securityError = SecIdentityCopyPrivateKey(identityApp, &amp;privateKeyRef); if (securityError != noErr) &#123; // Fail to retrieve private key from the .p12 file needGenerateCertificate = YES; &#125; else &#123; _identity = identityApp; NSLog(@&quot;Certificate loaded successfully from %@&quot;, resourcePath); &#125; &#125; else &#123; // Not valid component in the .p12 file needGenerateCertificate = YES; &#125; &#125; else &#123; // No .p12 file needGenerateCertificate = YES; &#125; if (needGenerateCertificate) &#123; // generate certificate NSLog(@&quot;Need generate certificate&quot;); [self generateAndLoadSecIdentity]; &#125;&#125; The p12 file is still available in the project, and should be removed soon. Attemption on generation with OpenSSL-Universal I tried to use OpenSSL-Universal by adding: 1pod 'OpenSSL-Universal' But it does not work, in both meanings: the generated certificate cannot be correctly loaded; there is an error indicating the missing bitcode on Xcode 11.3.1 and on a real iPhone. Success generation After searching, I choose to use: 1pod 'openssl-ios-bitcode' The final generation method is as follow: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081- (void) generateSecIdentity&#123; // generate private key EVP_PKEY * pkey; pkey = EVP_PKEY_new(); RSA * rsa; rsa = RSA_generate_key( 2048, /* number of bits for the key - 2048 is a sensible value */ RSA_F4, /* exponent - RSA_F4 is defined as 0x10001L */ NULL, /* callback - can be NULL if we aren&apos;t displaying progress */ NULL /* callback argument - not needed in this case */ ); EVP_PKEY_assign_RSA(pkey, rsa); // generate cert X509 *x509; x509 = X509_new(); ASN1_INTEGER_set(X509_get_serialNumber(x509), 10); X509_gmtime_adj(X509_get_notBefore(x509), 0); X509_gmtime_adj(X509_get_notAfter(x509), 31536000L); X509_set_pubkey(x509, pkey); X509_NAME *name; name = X509_get_subject_name(x509); X509_NAME_add_entry_by_txt(name, &quot;OU&quot;, MBSTRING_ASC, // OU = organisational unit (unsigned char *)&quot;Kde connect&quot;, -1, -1, 0); X509_NAME_add_entry_by_txt(name, &quot;O&quot;, MBSTRING_ASC, // O = organization (unsigned char *)&quot;KDE&quot;, -1, -1, 0); X509_NAME_add_entry_by_txt(name, &quot;CN&quot;, MBSTRING_ASC, // CN = common name, TODO: uuid (unsigned char *)[[NetworkPackage getUUID] UTF8String], -1, -1, 0); X509_set_issuer_name(x509, name); if (!X509_sign(x509, pkey, EVP_md5())) &#123; @throw [[NSException alloc] initWithName:@&quot;Fail sign cert&quot; reason:@&quot;Error&quot; userInfo:nil]; &#125; if (!X509_check_private_key(x509, pkey)) &#123; @throw [[NSException alloc] initWithName:@&quot;Fail validate cert&quot; reason:@&quot;Error&quot; userInfo:nil]; &#125; // load algo and encryption components SSLeay_add_all_algorithms(); ERR_load_crypto_strings(); // create p12 format data PKCS12 *p12 = NULL; p12 = PKCS12_create(/* password */ &quot;&quot;, /* name */ &quot;KDE Connect&quot;, pkey, x509, /* ca */ NULL, /* nid_key */ 0, /* nid_cert */ 0, /* iter */ 0, /* mac_iter */ PKCS12_DEFAULT_ITER, /* keytype */ 0); if(!p12) &#123; @throw [[NSException alloc] initWithName:@&quot;Fail getP12File&quot; reason:@&quot;Error creating PKCS#12 structure&quot; userInfo:nil]; &#125; // write into `Documents/rsaPrivate.p12` NSArray *documentDirectories = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES); NSString *p12FilePath = NULL; for (NSString *directory in documentDirectories) &#123; NSLog(@&quot;Find %@&quot;, directory); p12FilePath = [directory stringByAppendingString:@&quot;/rsaPrivate.p12&quot;]; &#125; if (![[NSFileManager defaultManager] createFileAtPath:p12FilePath contents:nil attributes:nil]) &#123; NSLog(@&quot;Error creating file for P12&quot;); @throw [[NSException alloc] initWithName:@&quot;Fail getP12File&quot; reason:@&quot;Fail Error creating file for P12&quot; userInfo:nil]; &#125; // get a FILE struct for the P12 file NSFileHandle *outputFileHandle = [NSFileHandle fileHandleForWritingAtPath:p12FilePath]; FILE *p12File = fdopen([outputFileHandle fileDescriptor], &quot;w&quot;); i2d_PKCS12_fp(p12File, p12); PKCS12_free(p12); fclose(p12File); [outputFileHandle closeFile];&#125; Conclusion In this post, I described, in general, how I generate and load the private key and certificate in KDE Connect iOS. This aims at preparing a TLS/SSL connection between an iOS device and a device using the current version of KDE Connect. In the next post, I will tell the TLS/SSL transport in KDE Connect iOS. Thanks for reading!","categories":[{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/categories/KDE-Connect/"}],"tags":[{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/tags/KDE-Connect/"}]},{"title":"„ÄêËØë„ÄëXen ÁöÑÂ•áÂ¶ôÂÜíÈô© ‚Äî‚Äî RPi4 ÁØá","slug":"Xen-on-Raspberry-Pi-4-Adeventures","date":"2021-01-27T15:47:40.000Z","updated":"2022-05-09T18:41:39.506Z","comments":true,"path":"2021/01/27/Xen-on-Raspberry-Pi-4-Adeventures/","link":"","permalink":"https://blog.inoki.cc/2021/01/27/Xen-on-Raspberry-Pi-4-Adeventures/","excerpt":"","text":"ÂéüÊñáÈìæÊé•ÔºöXen on Raspberry Pi 4 adventures ‰ΩúËÄÖÔºöStefano Stabellini Âíå Roman Shaposhnik Ê†ëËéìÊ¥æÔºàRPiÔºâÁî±‰∫é‰ª∑Ê†º‰ΩéÂªâËÄåÂ∫îÁî®ÂπøÊ≥õÔºåÂ§öÂπ¥Êù•‰∏ÄÁõ¥ÊòØ ARM Á§æÂå∫ÁöÑÂÖ≥ÈîÆËÆæÂ§á„ÄÇÊ†πÊçÆ RPi Âü∫Èáë‰ºöÁöÑÊï∞ÊçÆÔºåÂ∑≤ÁªèÂîÆÂá∫‰∫ÜË∂ÖËøá 3500 ‰∏áÂè∞ÔºåÂÖ∂‰∏≠ 44% ÈîÄÂæÄÂ∑•‰∏öÈ¢ÜÂüü„ÄÇÊàë‰ª¨‰∏ÄÁõ¥Ê∏¥ÊúõÂú®ÂÖ∂‰∏äËøêË°å Xen ÁÆ°ÁêÜÁ®ãÂ∫èÔºå‰ΩÜ RPi ‰∏éÂÖ∂‰ªñ ARM Âπ≥Âè∞‰πãÈó¥ÁöÑÊäÄÊúØÂ∑ÆÂºÇ‰ΩøÂÖ∂Âú®ÂæàÈïø‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÈÉΩ‰∏çËÉΩÊàê‰∏∫Áé∞ÂÆû„ÄÇÂÖ∑‰ΩìÊù•ËØ¥ÔºåÂ∞±ÊòØÂõ†‰∏∫ÂÖ∂‰ΩøÁî®‰∫Ü‰∏Ä‰∏™Ê≤°ÊúâËôöÊãüÂåñÊîØÊåÅÁöÑÈùûÊ†áÂáÜ‰∏≠Êñ≠ÊéßÂà∂Âô®„ÄÇ ÁÑ∂ÂêéÔºåÂ∏¶Êúâ‰∏Ä‰∏™Ê†áÂáÜ GIC-400 ‰∏≠Êñ≠ÊéßÂà∂Âô®ÁöÑ Raspberry Pi 4 Âá∫Áé∞‰∫Ü„ÄÇËøô‰∏™‰∏≠Êñ≠ÊéßÂà∂Âô®Êú¨Êù•Â∞±Ë¢´ Xen Âπ≥Âè∞ÊîØÊåÅ„ÄÇÁªà‰∫éÔºåÊàë‰ª¨ÂèØ‰ª•Âú® RPi ËÆæÂ§á‰∏äËøêË°å Xen ‰∫Ü„ÄÇÂæàÂø´ÔºåProject EVE ÁöÑ Roman Shaposhnik ÂíåÂÖ∂‰ªñ‰∏Ä‰∫õÁ§æÂå∫ÊàêÂëòÂºÄÂßãÂú® xen-devel ÈÇÆ‰ª∂ÂàóË°®‰∏≠ËØ¢ÈóÆËøô‰∏™ÈóÆÈ¢ò„ÄÇ&quot;ËøôÂ∫îËØ•ÂæàÂÆπÊòìÔºå&quot;Êàë‰ª¨ÂõûÁ≠îÈÅì„ÄÇ&quot;ÂÆÉÁîöËá≥ÂèØËÉΩ‰∏çÁî®‰ªª‰ΩïÈ¢ùÂ§ñÂ∑•‰ΩúÂ∞±ËÉΩÂ∑•‰ΩúÔºå&quot;Êàë‰ª¨Âú®ÂõûÂ§ç‰∏≠ÂÜôÈÅì„ÄÇ‰ΩÜÊàë‰ª¨ÂÆåÂÖ®Ê≤°ÊúâÊÑèËØÜÂà∞ÔºåÊàë‰ª¨Âç≥Â∞ÜÂú® Xen ÂÜÖÂ≠òÂàÜÈÖçÂô®Âíå Linux Âú∞ÂùÄËΩ¨Êç¢Â±ÇÁöÑ‰πãÈó¥ÈáåÂ±ïÂºÄ‰∏ÄÂú∫ÂÆèÂ§ßÁöÑÂÜíÈô©„ÄÇ Á¨¨‰∏Ä‰∏™ÈöúÁ¢çÊòØ‰ΩéÂÜÖÂ≠òÂú∞ÂùÄÁöÑÂèØÁî®ÊÄß„ÄÇRPi4 ÁöÑËÆæÂ§áÂè™ËÉΩËÆøÈóÆÂâç 1GB ÁöÑÂÜÖÂ≠ò„ÄÇÂØπ Dom0 Êù•ËØ¥ 1GB ‰ª•‰∏ãÁöÑÂÜÖÂ≠òÊòØ‰∏çÂ§üÁöÑ„ÄÇJulien Grall ÈÄöËøá‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂçïË°å‰øÆÂ§çËß£ÂÜ≥‰∫ÜËøô‰∏™ÈóÆÈ¢òÔºåÂ¢ûÂä†‰∫ÜÂú® RPi4 ‰∏ä Dom0 ÁöÑ 1GB ‰ª•‰∏ãÂÜÖÂ≠òÂàÜÈÖç„ÄÇËØ•Ë°•‰∏ÅÁé∞Âú®Â∑≤ÁªèÂá∫Áé∞Âú® Xen 4.14 ‰∏≠„ÄÇ &quot;ËøôÁßç‰Ωé‰∫é1GBÁöÑÈôêÂà∂ËôΩÁÑ∂‰∏çÂ∏∏ËßÅÁöÑÔºå‰ΩÜÁé∞Âú®ÂÆÉË¢´‰øÆÂ§ç‰∫ÜÔºåÂÆÉÂ∫îÂΩìÂèØ‰ª•Â∑•‰Ωú‰∫Ü„ÄÇ&quot;‰ΩÜÊàë‰ª¨ÂèàÈîô‰∫ÜÔºåLinux‰∏≠ÁöÑ Xen Â≠êÁ≥ªÁªü‰ΩøÁî® virt_to_phys Â∞ÜËôöÊãüÂú∞ÂùÄËΩ¨Êç¢‰∏∫Áâ©ÁêÜÂú∞ÂùÄÔºåËøôÂØπÂ§ßÂ§öÊï∞ËôöÊãüÂú∞ÂùÄÈÉΩÊúâÊïàÔºå‰ΩÜ‰∏çÊòØÊâÄÊúâÁöÑËôöÊãüÂú∞ÂùÄ„ÄÇÂéüÊù•ÔºåRPi4 Linux ÂÜÖÊ†∏ÊúâÊó∂‰ºö‰ΩøÁî®Êó†Ê≥ïÈÄöËøá virt_to_phys ËΩ¨Âåñ‰∏∫Áâ©ÁêÜÂú∞ÂùÄÁöÑËôöÊãüÂú∞ÂùÄÔºåËøôÊ†∑ÂÅö‰ºöÂØºËá¥‰∏•ÈáçÈîôËØØ„ÄÇ‰øÆÊ≠£ÁöÑÊñπÊ≥ïÊòØÂú®ÈÄÇÂΩìÁöÑÊó∂ÂÄô‰ΩøÁî®‰∏çÂêåÁöÑÂú∞ÂùÄÁøªËØëÂáΩÊï∞„ÄÇÁé∞Âú®ËØ•Ë°•‰∏ÅÂ∑≤ÁªèÂ≠òÂú®‰∫é Linux ÁöÑ‰∏ªÂàÜÊîØ‰∏≠„ÄÇ Êàë‰ª¨ÊÑüÂà∞‰ø°ÂøÉÂçÅË∂≥ÔºåÁªà‰∫éÂà∞‰∫ÜÁªàÁÇπ„ÄÇ&quot;ÂÜÖÂ≠òÂàÜÈÖç‚ÄìÊ£ÄÊü•„ÄÇÂÜÖÂ≠òÁøªËØë‚ÄìÊ£ÄÊü•„ÄÇÊàê‰∫ÜÔºÅ&quot;‰∏çÔºåËøòÊ≤°Êúâ„ÄÇ‰∫ãÂÆûËØÅÊòéÔºåÊúÄÈáçË¶ÅÁöÑÈóÆÈ¢òËøòÊ≤°ÊúâË¢´ÂèëÁé∞„ÄÇLinux ÂÜÖÊ†∏‰∏ÄÁõ¥ÊúâÁâ©ÁêÜÂú∞ÂùÄÂíå DMA Âú∞ÂùÄÁöÑÊ¶ÇÂøµÔºåÂÖ∂‰∏≠ DMA Âú∞ÂùÄÊòØÁî®Êù•ÁªôËÆæÂ§áÁºñÁ®ãÁöÑÔºåÂÆÉÂèØËÉΩÂíåÁâ©ÁêÜÂú∞ÂùÄ‰∏çÂêå„ÄÇ‰ΩÜÂÆûÈôÖ‰∏äÔºåÂú® Xen ÂèØ‰ª•ËøêË°åÁöÑ x86„ÄÅARM Âíå ARM64 Âπ≥Âè∞ÔºåDMA Âú∞ÂùÄ‰∏éÁâ©ÁêÜÂú∞ÂùÄÁõ∏Âêå„ÄÇLinux ‰∏≠ÁöÑ Xen Â≠êÁ≥ªÁªüÂ∞±ÊòØÂà©Áî® DMA ‰∏éÁâ©ÁêÜÂú∞ÂùÄÁöÑ‰∫åÂÖÉÊÄßÊù•ËøõË°åËá™Â∑±ÁöÑÂú∞ÂùÄËΩ¨Êç¢„ÄÇÂÆÉÂà©Áî®ÂÆÉÂ∞ÜÂÆ¢Êà∑Êú∫ÁúãÂà∞ÁöÑÁâ©ÁêÜÂú∞ÂùÄËΩ¨Êç¢‰∏∫ Xen ÁúãÂà∞ÁöÑÁâ©ÁêÜÂú∞ÂùÄ„ÄÇ ËÆ©Êàë‰ª¨ÊÑüÂà∞ÊÉäËÆ∂ÂíåÊÉäÂñúÁöÑÊòØÔºåRaspberry Pi 4 ÊòØÁ¨¨‰∏Ä‰∏™Áâ©ÁêÜÂú∞ÂùÄ‰∏é DMA Âú∞ÂùÄ‰∏çÂêåÁöÑÂπ≥Âè∞ÔºåÂØºËá¥ Linux ‰∏≠ÁöÑ Xen Â≠êÁ≥ªÁªüÂ¥©Ê∫É„ÄÇË¶ÅÁº©Â∞èÈóÆÈ¢òÁöÑËåÉÂõ¥Âπ∂‰∏çÂÆπÊòì„ÄÇ‰∏ÄÊó¶Êàë‰ª¨‰∫ÜËß£‰∫ÜËøô‰∏™ÈóÆÈ¢òÔºåÈÄöËøáÂçÅÂá†‰∏™Ë°•‰∏ÅÔºåÊàë‰ª¨ÂÆåÂÖ®ÊîØÊåÅ‰∫ÜÂú® Linux ‰∏≠Â§ÑÁêÜ DMA ‰∏éÁâ©ÁêÜÂú∞ÂùÄÁöÑËΩ¨Êç¢„ÄÇLinux Ë°•‰∏ÅÂ∑≤ÁªèÂú®‰∏ªÂàÜÊîØ‰∏≠ÔºåÂ∞ÜÂú® Linux 5.9 ‰∏≠Êèê‰æõ„ÄÇ Ëß£ÂÜ≥‰∫ÜÂú∞ÂùÄÁøªËØëÈóÆÈ¢òÔºåÊàë‰ª¨ÊúâË∂£ÁöÑ Hack ÂÜíÈô©Â∞±ÁªìÊùü‰∫Ü„ÄÇÂ∫îÁî® Xen Âíå Linux Ë°•‰∏ÅÂêéÔºåXen Âíå Dom0 ÂèØ‰ª•ÂÆåÁæéÂú∞Â∑•‰Ωú„ÄÇ‰∏ÄÊó¶ Linux 5.9 Âá∫Êù•ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ËÆ© Xen Âú® RPi4 ‰∏äÂºÄÁÆ±Âç≥Áî®„ÄÇ Êàë‰ª¨Â∞ÜÂêëÊÇ®Â±ïÁ§∫Â¶Ç‰ΩïÂú® RPi4 ‰∏äËøêË°å XenÔºåÁúüÊ≠£ÁöÑ Xen Hack ÊñπÂºèÔºåÂπ∂‰Ωú‰∏∫‰∏ãÊ∏∏ÂàÜÂèëÁöÑ‰∏ÄÈÉ®ÂàÜÔºå‰ª•Ëé∑ÂæóÊõ¥ÁÆÄÂçïÁöÑÊúÄÁªàÁî®Êà∑‰ΩìÈ™å„ÄÇ Âú®Ê†ëËéìÊ¥æ 4 ‰∏äÁé©ËΩ¨ Xen Â¶ÇÊûú‰Ω†ÊâìÁÆóÂú® ARM ‰∏äÂØπ Xen ËøõË°å HackÔºåÂπ∂Â∏åÊúõ‰ΩøÁî® RPi4 Êù•ÂÆåÊàêÔºåËøôÈáåÊòØ‰Ω†ÈúÄË¶ÅÂÅöÁöÑÔºå‰ª•‰Ωø Xen ‰ΩøÁî® UBoot Âíå TFTP ÂêØÂä®ÂíåËøêË°å„ÄÇÊàëÂñúÊ¨¢‰ΩøÁî® TFTPÔºåÂõ†‰∏∫ÂÆÉÂèØ‰ª•Âú®ÂºÄÂèëËøáÁ®ã‰∏≠ÊûÅÂø´Âú∞Êõ¥Êñ∞‰ªª‰Ωï‰∫åËøõÂà∂Êñá‰ª∂„ÄÇËØ∑ÂèÇÈòÖÊú¨ÊïôÁ®ãÔºå‰∫ÜËß£Â¶Ç‰ΩïËÆæÁΩÆÂíåÈÖçÁΩÆ TFTP ÊúçÂä°Âô®„ÄÇ‰Ω†ËøòÈúÄË¶Å‰∏Ä‰∏™ UART ËøûÊé•Êù•Ëé∑Âæó Xen Âíå Linux ÁöÑÊó©ÊúüËæìÂá∫ÔºåËØ∑ÂèÇËÄÉËøôÁØáÊñáÁ´†„ÄÇ ‰ΩøÁî® rpi-imager Ê†ºÂºèÂåñ SD Âç°‰∏éÂ∏∏ËßÑÈªòËÆ§ÁöÑ Raspberry Pi Êìç‰ΩúÁ≥ªÁªü„ÄÇÊåÇËΩΩÁ¨¨‰∏Ä‰∏™SDÂç°ÂàÜÂå∫Âπ∂ÁºñËæë config.txt„ÄÇÁ°Æ‰øùÊ∑ªÂä†‰ª•‰∏ãÂÜÖÂÆπÔºö 12345kernel=u-boot.binenable_uart=1arm_64bit=1 ‰ªé‰ªª‰ΩïÂèëË°åÁâà‰∏≠‰∏ãËΩΩ‰∏Ä‰∏™ÈÄÇÂêà RPi4 ÁöÑ U Boot ‰∫åËøõÂà∂Êñá‰ª∂(u-boot.bin)Ôºå‰æãÂ¶Ç OpenSUSE„ÄÇ‰∏ãËΩΩ JeOS ÈïúÂÉèÔºåÁÑ∂ÂêéÊâìÂºÄÂÆÉÂπ∂‰øùÂ≠ò u-boot.bin„ÄÇ 1234567xz -d openSUSE-Tumbleweed-ARM-JeOS-raspberrypi4.aarch64.raw.xzkpartx -a ./openSUSE-Tumbleweed-ARM-JeOS-raspberrypi4.aarch64.rawmount /dev/mapper/loop0p1 /mntcp /mnt/u-boot.bin /tmp Â∞Ü u-boot.bin Âíå config.txt ‰∏ÄËµ∑ÊîæÂÖ•Á¨¨‰∏Ä‰∏™SDÂç°ÂàÜÂå∫„ÄÇ‰∏ãÊ¨°Á≥ªÁªüÂêØÂä®Êó∂Ôºå‰Ω†‰ºöÂæóÂà∞‰∏Ä‰∏™ UBoot ÊèêÁ§∫ÔºåÂÖÅËÆ∏‰Ω†‰ªéÁΩëÁªú‰∏äÁöÑ TFTP ÊúçÂä°Âô®Âä†ËΩΩ Xen„ÄÅDom0 ÁöÑ Linux ÂÜÖÊ†∏„ÄÅDom0 rootfs ÂíåËÆæÂ§áÊ†ë„ÄÇÊàëÈÄöËøáÂú® SD Âç°‰∏äÊîæÁΩÆ UBoot boot.scr ËÑöÊú¨Êù•Ëá™Âä®ÂÆåÊàêÂä†ËΩΩÊ≠•È™§Ôºö 1234567setenv serverip 192.168.0.1setenv ipaddr 192.168.0.2tftpb 0xC00000 boot2.scrsource 0xC00000 ÂÖ∂‰∏≠Ôºö 12- serverip ÊòØ‰Ω†ÁöÑ TFTP ÊúçÂä°Âô®ÁöÑ IP- ipaddr ÊòØ‰Ω†ÁöÑ RPi4 ÁöÑ IP ‰ΩøÁî® mkimage ÁîüÊàê boot.scrÔºåÂπ∂Â∞ÜÂÖ∂ÊîæÂú® config.txt Âíå u-boot.bin ‰∏ÄËµ∑Ôºö 1mkimage -T script -A arm64 -C none -a 0x2400000 -e 0x2400000 -d boot.source boot.scr ÂÖ∂‰∏≠Ôºö 12- boot.source ÊòØËæìÂÖ•- boot.scr ÊòØËæìÂá∫ UBoot ÊúÉËá™Âä®ÊâßË°åÊâÄÊèê‰æõÁöÑ boot.scrÔºåÂÆÉ‰ºöËÆæÂÆöÁΩëÁªúÔºåÂπ∂‰ªé TFTP ÊúçÂä°Âô®ÂèñÂæóÁ¨¨‰∫å‰∏™ËÑöÊú¨ (boot2.scr)„ÄÇboot2.scr Â∫îÂΩìÂåÖÂê´‰∫ÜÊâÄÊúâËΩΩÂÖ• Xen ÂíåÂÖ∂‰ªñÊâÄÈúÄ‰∫åËøõÂà∂Êñá‰ª∂ÁöÑÊåá‰ª§„ÄÇÊÇ®ÂèØ‰ª•‰ΩøÁî® ImageBuilder ÁîüÊàê boot2.scr„ÄÇ Á°Æ‰øù‰ΩøÁî® Xen 4.14 ÊàñÊõ¥È´òÁâàÊú¨„ÄÇLinux ÂÜÖÊ†∏Â∫îËØ•ÊòØ‰∏ªÂàÜÊîØÔºàÊàñÁ≠âÂà∞ 5.9 Âá∫Êù•ÂêéÔºå5.4-rc4 ‰πüÂèØ‰ª•ÔºâÔºåLinux ARM64 ÈªòËÆ§ÈÖçÁΩÆÂèØ‰ª•‰Ωú‰∏∫ÂÜÖÊ†∏ÈÖçÁΩÆ„ÄÇ‰ªª‰Ωï 64 ‰ΩçÁöÑ rootfs ÈÉΩÂ∫îËØ•ÂèØ‰ª•Áî®‰∫é Dom0„ÄÇ‰ΩøÁî®‰∏äÊ∏∏ Linux Ëá™Â∏¶ÁöÑ RPi4 ÁöÑËÆæÂ§áÊ†ëÔºàarch/arm64/boot/dts/broadcom/bcm2711-rpi-4-b.dtbÔºâ„ÄÇÊ≥®ÊÑè RPi4 Êúâ‰∏§‰∏™ UARTÔºåÈªòËÆ§ÊòØÂú∞ÂùÄ‰∏∫ 0x7e215040 ÁöÑ bcm2835-aux-uart„ÄÇÂÆÉÂú®ËÆæÂ§áÊ†ë‰∏≠Ë¢´ÊåáÂÆö‰∏∫ serial1ÔºåËÄå‰∏çÊòØ serial0„ÄÇÊÇ®ÂèØ‰ª•ÈÄöËøáÂú® Xen ÂëΩ‰ª§Ë°å‰∏≠ÊåáÂÆöËÆ© Xen ‰ΩøÁî® serial1Ôºö 1console=dtuart dtuart=serial1 sync_console Xen ÂëΩ‰ª§Ë°åÁî± ImageBuilder ÁîüÊàêÁöÑ boot2.scr ËÑöÊú¨Êèê‰æõÔºåÂêç‰∏∫ ‚Äúxen,xen-bootargs‚Äù„ÄÇÁºñËæë boot2.source ÂêéÔºå‰Ω†ÂèØ‰ª•Áî® mkimage ÈáçÊñ∞ÁîüÊàê boot2.scrÔºö 1mkimage -A arm64 -T script -C none -a 0xC00000 -e 0xC00000 -d boot2.source boot2.scr Ê†ëËéìÊ¥æ 4 ‰∏äÁöÑ XenÔºö‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊìç‰Ωú ÈÄöËøáÂú® RPi 4 ‰∏ä‰ªéÂ§¥ÂºÄÂßãÊûÑÂª∫ÂíåÂêØÂä® Xen ËøôÊ†∑ÁöÑËÑèÊ¥ªÔºå‰∏ç‰ªÖÂèØ‰ª•ËÆ©‰Ω†Ê∑±ÊÑüÊª°Ë∂≥ÔºåËÄå‰∏îÂèØ‰ª•ËÆ©‰Ω†Ê∑±ÂÖ•‰∫ÜËß£ ARM ‰∏äÁöÑ‰∏ÄÂàáÊòØÂ¶Ç‰ΩïÁªìÂêàÂú®‰∏ÄËµ∑ÁöÑ„ÄÇÁÑ∂ËÄåÔºåÊúâÊó∂ÊÇ®Âè™ÊòØÊÉ≥Âø´ÈÄü‰ΩìÈ™å‰∏Ä‰∏ãÂú®ËøôÂùóÊùøÂ≠ê‰∏ä‰ΩøÁî® Xen ÁöÑÊÑüËßâ„ÄÇÂØπ‰∫é Xen Êù•ËØ¥ÔºåËøôÈÄöÂ∏∏‰∏çÊòØÈóÆÈ¢òÔºåÂõ†‰∏∫Âá†‰πéÊØè‰∏™ Linux ÂèëË°åÁâàÈÉΩÊèê‰æõ Xen ÂåÖÔºåÂè™ÈúÄË∞ÉÁî® ‚Äúapt‚Äù Êàñ ‚Äúzypper‚Äù Â∞±ÂèØ‰ª•Âú®Á≥ªÁªü‰∏äËøêË°å‰∏Ä‰∏™ÂäüËÉΩÈΩêÂÖ®ÁöÑ Xen„ÄÇÁÑ∂ËÄåÔºåÈâ¥‰∫é Raspberry Pi 4 ÁöÑÊîØÊåÅÂè™ÊúâÂá†‰∏™ÊúàÁöÑÊó∂Èó¥ÔºåÊï¥ÂêàÂ∑•‰ΩúËøòÊ≤°ÊúâÂÆåÊàê„ÄÇÂîØ‰∏Ä‰∏Ä‰∏™Âú® Raspberry Pi 4 ‰∏äÂÆåÂÖ®ÈõÜÊàêÂíåÊµãËØïÊîØÊåÅ Xen ÁöÑÊìç‰ΩúÁ≥ªÁªüÊòØ LF Edge ÁöÑ Project EVE„ÄÇ Project EVE ÊòØ‰∏Ä‰∏™ËÆæËÆ°‰∏äÂÆâÂÖ®ÁöÑÊìç‰ΩúÁ≥ªÁªüÔºåÊîØÊåÅÂú®Áé∞Âú∫ÈÉ®ÁΩ≤ÁöÑËÆ°ÁÆóËÆæÂ§á‰∏äËøêË°åËæπÁºòÂÆπÂô®„ÄÇËøô‰∫õËÆæÂ§áÂèØ‰ª•ÊòØÁâ©ËÅîÁΩëÁΩëÂÖ≥„ÄÅÂ∑•‰∏ö PC ÊàñÈÄöÁî®ËÆ°ÁÆóÊú∫„ÄÇÊâÄÊúâÂú® EVE ‰∏äËøêË°åÁöÑÂ∫îÁî®ÈÉΩË¢´Ë°®Á§∫‰∏∫ËæπÁºòÂÆπÂô®ÔºåÂπ∂ÂèóÂà∂‰∫éÁî± k3s È©±Âä®ÁöÑÂÆπÂô®ÂçèË∞ÉÁ≠ñÁï•„ÄÇËæπÁºòÂÆπÂô®Êú¨Ë∫´ÂèØ‰ª•Â∞ÅË£ÖËôöÊãüÊú∫„ÄÅÂÆπÂô®Êàñ Unikernels„ÄÇ ‰Ω†ÂèØ‰ª•Âú®ËØ•È°πÁõÆÁΩëÁ´ô http://projecteve.dev ÂíåÂÖ∂ GitHub repo ÊâæÂà∞Êõ¥Â§öÂÖ≥‰∫é EVE ÁöÑ‰ø°ÊÅØ„ÄÇ‰∏∫ Raspberry Pi 4 ÂàõÂª∫ÂèØÂêØÂä®Â™í‰ΩìÁöÑÊúÄÊñ∞ËØ¥Êòé‰πüÂèØÂú®‰ª•‰∏ãÁΩëÁ´ôËé∑Âæó„ÄÇ https://github.com/lf-edge/eve/blob/master/docs/README.md Âõ†‰∏∫ EVE ÂèëÂ∏ÉÁöÑÊòØÂÆåÂÖ®ÁºñËØëÂÆåÊàêÁöÑÂèØ‰∏ãËΩΩÁöÑ‰∫åËøõÂà∂Êñá‰ª∂Ôºå‰ΩøÁî®ÂÆÉÂú® Raspberry Pi 4 ‰∏äÂ∞ùËØï Xen Â∞±ÂæàÁÆÄÂçï‰∫ÜÔºö 123$ docker pull lfedge/eve:5.9.0-rpi-xen-arm64 # you can pick a different 5.x.y release if you like$ docker run lfedge/eve:5.9.0-rpi-xen-arm64 live &gt; live.raw ÈöèÂêé‰ΩøÁî®‰Ω†ÂñúÊ¨¢ÁöÑÂ∑•ÂÖ∑Â∞ÜÁîüÊàêÁöÑ live.raw ‰∫åËøõÂà∂Êñá‰ª∂Âà∑ÂÜôÂà∞ SD Âç°‰∏ä„ÄÇ ‰∏ÄÊó¶Ëøô‰∫õÊ≠•È™§ÂÆåÊàêÔºå‰Ω†Â∞±ÂèØ‰ª•Â∞ÜÂç°ÊèíÂÖ•Âà∞‰Ω†ÁöÑ Raspberry Pi 4 ‰∏≠ÔºåËøûÊé•ÈîÆÁõòÂíåÊòæÁ§∫Âô®Ôºå‰∫´Âèó‰∏Ä‰∏™ÊûÅÁÆÄ‰∏ª‰πâÁöÑ Linux ÂèëË°åÁâàÔºàÂü∫‰∫é Alpine Linux Âíå LinuxkitÔºâÔºåËøôÂ∞±ÊòØÂú® Xen ‰∏ãËøêË°åÁöÑ Dom0 È°πÁõÆ EVE„ÄÇ Â∞± Linux ÂèëË°åÁâàËÄåË®ÄÔºåEVE ÂëàÁé∞Âá∫‰∫Ü‰∏ÄÁßçÊúâ‰∫õÊñ∞È¢ñÁöÑÊìç‰ΩúÁ≥ªÁªüËÆæËÆ°Ôºå‰ΩÜÂêåÊó∂ÔºåÂÆÉ‰πüÊ∑±Âèó Qubes OS„ÄÅChromeOS„ÄÅCore OS Âíå Smart OS ÁöÑÂêØÂèë„ÄÇÂ¶ÇÊûú‰Ω†ÊÉ≥ËÆ©ÂÆÉË∂ÖË∂äÁÆÄÂçïÁöÑÊéßÂà∂Âè∞‰ªªÂä°ÔºåÊé¢Á¥¢Â¶Ç‰ΩïÂú®‰∏äÈù¢ËøêË°åÁî®Êà∑ÂüüÔºåÊàë‰ª¨Âª∫ËÆÆÂâçÂæÄ EVE ÁöÑÂßäÂ¶πÈ°πÁõÆ EdenÔºåÊåâÁÖßÈÇ£ËæπÁöÑÁÆÄÁü≠ÊïôÁ®ãËøõË°åÊìç‰Ωú„ÄÇ Â¶ÇÊûúÊúâ‰ªª‰ΩïÈóÆÈ¢òÔºåÊÇ®ÂèØ‰ª•Âú® LF Edge ÁöÑ Slack È¢ëÈÅì‰∏≠ÊâæÂà∞‰∏Ä‰∏™Ê¥ªË∑ÉÁöÑ EVE Âíå Eden Áî®Êà∑Á§æÂå∫Ôºå‰ªé http://lfedge.slack.com/ ÁöÑ #eve ÂºÄÂßã‚ÄìÊàë‰ª¨Âæà‰πêÊÑèÂê¨Âà∞ÊÇ®ÁöÑÂèçÈ¶à„ÄÇ Hack ÊÑâÂø´ÔºÅ","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/categories/Embedded-System/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"Raspberry Pi","slug":"Embedded-System/Raspberry-Pi","permalink":"https://blog.inoki.cc/categories/Embedded-System/Raspberry-Pi/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"}]},{"title":"SDDM tips (1)","slug":"AX88179_178a_USB_Ethernet_adapter_Linux_Driver/SDDM-tips-1","date":"2021-01-25T09:30:40.000Z","updated":"2022-05-09T18:41:39.430Z","comments":true,"path":"2021/01/25/AX88179_178a_USB_Ethernet_adapter_Linux_Driver/SDDM-tips-1/","link":"","permalink":"https://blog.inoki.cc/2021/01/25/AX88179_178a_USB_Ethernet_adapter_Linux_Driver/SDDM-tips-1/","excerpt":"","text":"SDDM is the abbreviation of Simple Desktop Display Manager, which is a default display manager for LXQt and KDE Plasma. It officially supports Linux and FreeBSD, but should also work well with other Unix-like system. User HOME SDDM works under a special user in an UNIX-like system: sddm. Its HOME directory is set to /var/lib/sddm. If we want to install it ourselves, an sddm user needs to be created, with its home set to /var/lib/sddm by default. In this directory, a state.conf will be created. The content of it on my PC is: 123456789[Last]# Name of the last logged-in user.# This user will be preselected when the login screen appearsUser=inoki# Name of the session for the last logged-in user.# This session will be preselected when the login screen appears.Session=/usr/share/xsessions/plasma.desktop which notes the latest login user and the correspond session. This will accelerate the next login. The file is declared in src/common/configuration.h and will be loaded later. Configurations Like the other programs, SDDM also reads configuration from /etc. The file is /etc/sddm.conf, which contains several sections: General Theme Users Wayland X11 Icons User icons are stored in $(DATADIR)/faces/ or ~/.face.icon (for each user). Themes Themes are stored in $(DATADIR)/themes/. SDDM loads Main.qml file in it to create an user interface. Scripts Scripts to launch a specific session under an environment are stored in $(DATADIR)/scripts/. These scripts will start the desktop environment. For example, for X11, the configuration items are: 12345678910111213[X11]DisplayCommand=/usr/share/sddm/scripts/XsetupDisplayStopCommand=/usr/share/sddm/scripts/XstopEnableHiDPI=falseMinimumVT=1ServerArguments=-nolisten tcpServerPath=/usr/bin/XSessionCommand=/usr/share/sddm/scripts/XsessionSessionDir=/usr/share/xsessionsSessionLogFile=.local/share/sddm/xorg-session.logUserAuthFile=.XauthorityXauthPath=/usr/bin/xauthXephyrPath=/usr/bin/Xephyr The script is Xsetup, Xsession, Xstop, etc. The desktop entries for desktop environments are placed in /usr/share/xsessions. In my case, the plasma.desktop indicates the executable: 1234567[Desktop Entry]Type=XSessionExec=/usr/bin/startplasma-x11TryExec=/usr/bin/startplasma-x11DesktopNames=KDEName=Plasma... Conclusion Unfinished. TBC‚Ä¶","categories":[{"name":"KDE","slug":"KDE","permalink":"https://blog.inoki.cc/categories/KDE/"}],"tags":[{"name":"KDE","slug":"KDE","permalink":"https://blog.inoki.cc/tags/KDE/"},{"name":"SDDM","slug":"SDDM","permalink":"https://blog.inoki.cc/tags/SDDM/"}]},{"title":"ÊªëÁ®Ω„ÄÅÊ∑∑‰π±„ÄÅÂ±Ä‰øÉ‰∏é 2020","slug":"My-2020","date":"2020-12-30T09:41:40.000Z","updated":"2022-05-09T18:41:39.482Z","comments":true,"path":"2020/12/30/My-2020/","link":"","permalink":"https://blog.inoki.cc/2020/12/30/My-2020/","excerpt":"","text":"‰ªéÂéªÂπ¥ 11 ÊúàÈôÜÁª≠Êî∂Âà∞ offer Âπ∂ÈÄâÊã©‰∫ÜËá™Â∑±ÊúÄÊÑüÂÖ¥Ë∂£ÁöÑ‰∏Ä‰∏™ÈÇ£‰∏ÄÂàªËµ∑ÔºåÊàëÊÉ≥Ë±°‰∏≠ÁöÑ 2020 Êú¨Â∫îÊú™Êù•ÂèØÊúüÔºö‰∫åÊúàÊú´ÂÆû‰π†ÁªìÊùüÔºåÂíå‰∏ÄÂπ¥Ê≤°ÂõûÂÆ∂ÁöÑÂ•≥ÊúãÂèãÂõûÊàêÈÉΩÂêÉÂ•ΩÂêÉÁöÑÔºå‰∏âÊúàÊú´ÂÜç‰∏ÄËµ∑Âá∫ÂõΩ„ÄÅÂú®‰∏Ä‰∏™ÂÖ®Êñ∞ÁöÑÂú∞ÊñπÂÆâÂÆ∂ÔºåÊàëÂäûÂÖ•Â≠¶ÊâãÁª≠ÔºåÂ•πÊâæÂà∞Â∑•‰Ωú„ÄÇÁÑ∂ÂêéÂ∞±ÂèØ‰ª•Ëøá‰∏äÊ≤°ÁæûÊ≤°ËáäÊó†ÂøßÊó†ËôëÁöÑÂ∞èÁîüÊ¥ª„ÄÇ ‰ΩÜÊàëÊ≤°ÊÉ≥Âà∞ÔºåÂú®‰∫åÂçÅ‰∏Ä‰∏ñÁ∫™ÁöÑ 10 Âπ¥‰ªΩÁöÑÊúÄÂêéÂèàÁúãÂà∞‰∫ÜÂºïÂèëËÇ∫ÁÇéÁöÑÁóÖÊØí‰º†Êí≠ÁöÑÊ∂àÊÅØÔºåÊõ¥Ê≤°ÊúâÊÉ≥Âà∞„ÄÅÂÆÉÂØπÊàëÁöÑ‰∏ÄÂπ¥„ÄÅ‰πÉËá≥‰πãÂêéËÉΩ‰∫ßÁîüÂ§öÂ§ßÁöÑÂΩ±Âìç„ÄÇ ÂºÄÁ´Ø Ëøô‰∏ÄÂπ¥ÊòØ‰ªéÂú£ËØûÂíåÂÖÉÊó¶ÁªÑÊàêÁöÑÂÅáÊúüÂºÄÂßãÁöÑÔºåËøô‰∏™ÂÅáÊúüÂú®Ë•øÁè≠ÁâôÁé©ÂæóÊå∫ÂºÄÂøÉÔºå‰ΩÜ‰πüÈöêÈöêÊãÖÂøÉÁóÖÊØíÁöÑÊÉÖÂÜµÔºåÂõûÂà∞‰ΩèÊâÄ‰æøÁªôÂú®ÂõΩÂÜÖÁöÑÂÆ∂Èáå‰∫∫ÊâìÁîµËØùÔºåÂ∏åÊúõ‰ªñ‰ª¨Â∞èÂøÉ„ÄÇ ÂÅáÊúüÁªìÊùüÔºåÂõûÂà∞ÂÆû‰π†ÁöÑÂÖ¨Âè∏ÔºåÈÇ£Êó∂ WHO Â∑≤ÁªèÂèëÂ∏É‰∫ÜÂΩìÊó∂ÁöÑÁóÖÊØíÊÉÖÂÜµÔºå‰ΩÜËøòÊ≤°ÊúâÊèêÂà∞‰∫∫‰º†‰∫∫Ôºå‰ΩÜÂá≠ÂÄüÂ∞èÊó∂ÂÄôÁöÑÁªèÈ™å„ÄÅ Âä†‰∏äÊàëËôΩÁÑ∂ÊúâÈôê‰ΩÜËøòÂ≠òÂú®ÁöÑÁîüÁâ©Áü•ËØÜÔºåÊàëËßâÂæóÂÆÉÂíå 03 Âπ¥ÈÇ£Ê¨°Â∫îÂΩìÂ∑Æ‰∏çÂ§ö„ÄÇ ÂíåÂêå‰∫ã‰ª¨‰∏ÄËµ∑ÂêÉÂçàÈ•≠ÁöÑÊó∂ÂÄôËÅäÂà∞‰∫ÜÁóÖÊØí„ÄÇÁî±‰∫éÂâçÂè∏Âú®ÂõΩÂÜÖ‰πüÊúâÂ§ßÈáè‰∏öÂä°ÔºåÊúâ‰∏™Âêå‰∫ãÁªèÂ∏∏‰ºöÂéªÊ≠¶Ê±âÂèÇ‰∏é‰∏≠ÂõΩÂõΩÊ†á GB ÁöÑËßÑËåÉËÆ®ËÆ∫ÔºåÊàë‰æøÊèêÈÜí‰ªñË¶ÅÂ∞èÂøÉ„ÄÅÊúÄËøëË¶ÅÈÅøÂÖçÂéªÊ≠¶Ê±âÔºåËøôÊ≥¢Áñ´ÊÉÖÂèØËÉΩ‰ºöÊå∫‰∏•ÈáçÁöÑ„ÄÇ‰ΩÜÂÜ≥Á≠ñ‰πü‰∏çÊòØ‰ªñÂÆöÁöÑÔºå‰ªñ‰πüÂè™ËÉΩË∞¢Ë∞¢ÊàëÁöÑÊèêÈÜíÔºåËã•ÊòØ‰∏äÁ∫ßÂèë‰∏ãÊù•ËØùÔºåËØ•ÂéªËøòÊòØË¶ÅÂéªÁöÑ„ÄÇÂêéÊù•Áî±‰∫éÂ∞ÅÂüéÔºåÂêéÁª≠ÁöÑ‰ºöËÆÆËÆ°Âàí‰πüÂ∞±ÂèñÊ∂à‰∫Ü„ÄÇ Âà∞‰∫Ü‰∏ÄÊúàÊú´ÔºåÂõΩÂÜÖÂ∑≤ÁªèÂ§ßËßÑÊ®°Â∞ÅÂüéÔºåÂüéÈôÖÊóÖË°åÈÉΩË¶ÅËøõË°åÂ§öÊó•ÁöÑÈöîÁ¶ª„ÄÇÂú®ÂÆ∂‰∫∫ÁöÑÂäùËØ¥‰∏ãÔºåÂ•≥ÊúãÂèãÂíåÊàë‰∏ÄÂïÜÈáèÔºåÊääÂõûÂõΩÁöÑÊú∫Á•®ÈÄÄ‰∫ÜÔºåËøôÊ†∑Ê≤°ÈÇ£‰πàÂ§öÈ∫ªÁÉ¶ÂíåÊäòËÖæ„ÄÇÊ≤°ÊÉ≥Âà∞Êõ¥Â§öÁöÑ‰∫ãÊÉÖËøòÂú®Á≠âÁùÄÊàë‰ª¨„ÄÇ ÊªëÁ®Ω Êó¢ÁÑ∂‰∏çÊâìÁÆóÂõûÂõΩ‰∫ÜÔºåËµ∑Á†Å‰∏âÊúà‰ªΩÊòØÁ©∫Âá∫Êù•‰∫ÜÔºåÊàë‰ª¨Â∞±ÊâìÁÆóÂÖàÂéªÊÑèÂ§ßÂà©Áé©‰∏ÄÊÆµÊó∂Èó¥„ÄÇË°åÁ®ãËøòÊ≤°Á°ÆÂÆö‰∏ãÊù•ÔºåÂà∞‰∫Ü‰∫åÊúàÂàùÔºåÂøΩÁÑ∂ÊÑèÂ§ßÂà©ÂèòÊàê‰∫ÜÁñ´Âå∫ÔºåÂåóÊñπÂæàÂ§öÂüéÂ∏ÇÁ°ÆËØäÈ£ôÂ¢ûÔºåÂæàÂ§öÂå∫ÂüüËÄÉËôëÂ∞ÅÂüé„ÄÇ‰∫éÊòØËøô‰∏ÄË°åÁ®ãÂ∞±ÊêÅÁΩÆ‰∫Ü‰∏ãÊù•„ÄÇ ËΩ¨Âøµ‰∏ÄÊÉ≥‰∏âÊúàÂà∞ÁëûÂ£´ÂéªÂùêÂùêÁÅ´ËΩ¶„ÄÅÊªëÊªëÈõ™‰πüÂèØ‰ª•Ôºå‰∫éÊòØÂáÜÂ§áËÆ¢‰∏âÊúàÁöÑÁ•®„ÄÇÂøΩÁÑ∂ÁàÜÂá∫‰∫ÜÁëûÂ£´Á°ÆËØäÂºÄÂßã‰∏äÂçá„ÄÅËøòË¢´Âë®ËæπÂõΩÂÆ∂Êä¢‰∫ÜÂêÑÁßçÈò≤Áñ´Áâ©ËµÑ„ÄÇ ÈÄÄËÄåÊ±ÇÂÖ∂Ê¨°ÔºåÊàë‰ª¨ÂéªÊ≥¢Â∞îÂ§öÂíåÈáåÊòÇÊÄªÂèØ‰ª•‰∫ÜÂêßÔºåÁªìÊûúÁ¨¨‰∫åÂ§©Ê≥¢Â∞îÂ§öÂ∞±ÂèëÁé∞‰∏Ä‰æã‰ªéÊ≠¶Ê±âËÄåÊù•ÁöÑÁ°ÆËØä„ÄÅÈáåÊòÇÁî±‰∫é‰∏¥ËøëÊÑèÂ§ßÂà©‰πüËøõÂÖ•‰∫ÜÂ¢ûÈïøÊúü„ÄÇ ÂêÑÁßçÊóÖË°åÊñπÊ°àË¢´ÁóÖÊØíÂê¶ÂÜ≥ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊó∂Èó¥Êù•Âà∞‰∫Ü‰∫åÊúàÊú´ÔºåÊàëË¶ÅÂõûÂà∞Â≠¶Ê†°ÊâÄÂú®Âú∞Â∏ÆÂ•≥ÊúãÂèãÊê¨ÂÆ∂„ÄÇÂá∫Ë°åÂâç‰∏ÄÂ§©ÔºåÊñ∞ÈóªÁàÜÂá∫Â≠¶Ê†°ÊâÄÂú®Âú∞ÊúâÊï∞‰æãÁ°ÆËØä„ÄÅÊ∫ØÊ∫ê‰∏çÊòé„ÄÅÊÅêÊàê‰∏∫Ê≥ïÂõΩÁ¨¨‰∏Ä‰∏™ÁàÜÂèëÁÇπ„ÄÇ ÂÜçÂä†‰∏äÂú£ËØûÊúüÈó¥ÂéªÁöÑÂ∑¥Â°ûÁΩóÈÇ£ÂíåÈ©¨Âæ∑ÈáåÁöÑÁàÜÂèëÔºåÊàëËßâÂæóËá™Â∑±ÂØπÁñ´ÊÉÖÁöÑÁàÜÂèëÁúüÁöÑÊòØÊåáÂì™ÊâìÂì™„ÄÇÂïäÔºåÂéüÊù•Â∞è‰∏ëÁ´üÊòØÊàëËá™Â∑±„ÄÇ Ê∑∑‰π± Êó∂Èó¥Êù•Âà∞‰∏âÊúà‰∏≠Êó¨ÔºåÂú®Ê≥ïÂõΩÂ∞ÅÂüéÁöÑÂâç‰∏ÄÂ§©ÔºåÂè™Â∏¶‰∫Ü‰∏ÄÁÇπÁÇπË°åÊùéÂ∞±Á¶ªÂºÄ‰∫Ü‰ΩèÊâÄÔºåÈ£ûÂà∞Êñ∞Â≠¶Ê†°ÊâÄÂú®ÂüéÂ∏ÇÈÇ£ËæπÁßüÂà∞ÁöÑÊàøÂ≠êÔºàËøôÁÇπË∂≥Â§üÂπ∏ËøêXDÔºâ„ÄÇ‰ΩÜÊñ∞Â≠¶Ê†°ÁöÑË°åÊîøÈÉ®Èó®ÊöÇÊó∂ËøúÁ®ãÔºàÁõ¥Êé•Á≠â‰∫é‰∏çÂ∑•‰ΩúÔºâÔºåÂØºËá¥ÂÖ•Â≠¶ÊâãÁª≠Ê≤°Ê≥ïÂäûÁêÜÔºåÈ¢ÑËÆ°Âà∞‰∫îÊúàÂ∫ïÊâçËÉΩÈáçÂºÄ„ÄÇ Êó¢ÁÑ∂ÂÖ•Â≠¶Âª∂Âêé‰∫ÜÔºåÂ∞±ÊâìÁÆóÂÖàÊâæÁÇπ‰∫ãÊÉÖÂÅö„ÄÇ‰∫éÊòØ‰∏âÊúàÂèàÂºÄ‰∫Ü‰∫õÂºÄÊ∫êÈ°πÁõÆ„ÄÅËøòÊúâÂú®ÂíåÂêà‰ΩúËÄÖÁöÑÈ°πÁõÆÈáåÂÜôÂÜô‰ª£Á†ÅÔºõÂõõÊúà‰ªΩÈáçÊñ∞Êç°Ëµ∑‰∫Ü B Á´ôÂ∏êÂè∑ÔºåÂÅö‰∏Ä‰∫õ KDE Á§æÂå∫ÁöÑÂÆ£‰º†Â∑•‰Ωú„ÄÅÊ∞¥‰∫ÜÂ•Ω‰∏Ä‰∫õËßÜÈ¢ëÔºõ‰∫îÊúàËΩ¨‰∏ñ‰∫ÜÊüêÂ¢ÉÂ§ñÁ§æ‰∫§Ë¥¶Âè∑ÔºåÂà∂ÈÄ†‰∏Ä‰∫õÊö¥ËÆ∫ÔºõÂÖ≠Êúà‰ªΩÂèàÂºÄÂßãÊãøÁùÄÁãóÂÆ∂ÁöÑËµÑÂä©ÊâìÂ∑•„ÄÇ Âπ∏ËøêÁöÑÊòØÂ•≥ÊúãÂèã‰∏¥Êó∂Á≠æ‰πü‰∏ãÊù•‰∫ÜÔºåÂèØ‰ª•ÂíåÊàë‰∏ÄËµ∑ÂëÜ‰∏ÄÂπ¥Ôºå‰∏çËá≥‰∫éÂ§™ËøáÂ≠§Âçï„ÄÇ‰ΩÜÁî±‰∫é‰∏çÊòØÂΩìÂú∞Â≠¶Ê†°ÊØï‰∏öÁöÑÂ≠¶ÁîüÔºåÂ•π‰πüÈúÄË¶ÅÊâæÂà∞Â∑•‰ΩúÊàñËÄÖÁªìÂ©öÊâçËÉΩÊääÁ≠æËØÅÁª≠‰∏ãÂéª„ÄÇÂèØÊÉú‰ºº‰πéÂΩìÂú∞Êãõ‰∫∫‰πü‰∏çÊòØÂæàÂ§öÔºåÊâæÊúãÂèãÂÜÖÊé®‰∫öÈ∫ªÁöÑÊú∫‰ºö‰πüÂõ†‰∏∫ÁªèÈ™åÂíåÊñπÂêëÁöÑÂéüÂõ†ËçâËçâÊî∂Âú∫„ÄÇÂêéÊù•ÊÄªÁªìÂèëÁé∞ÔºåÂ§çÊùÇÁ≥ªÁªüÁúüÁöÑ‰∏çËÉΩÁÆóÊòØ‰∏Ä‰∏™Â•ΩÊâæÂ∑•‰ΩúÁöÑ‰∏ì‰∏ö„ÄÇ ÂÖ≠ÊúàÂàùÔºåÁªà‰∫éÂÆåÊàê‰∏ÄÂ§ßÂ†Ü paperwork È°∫Âà©ÂÖ•Â≠¶ÔºåÁÑ∂Âêé‰∫ãÊÉÖÁ™ÅÁÑ∂Â∞±Â§ö‰∫ÜËµ∑Êù•ÔºöÂêà‰ΩúËÄÖÁöÑÈ°πÁõÆÔºõËá™Â∑±ÁöÑÁßëÁ†îÂ∑•‰ΩúÔºõËµöÁãóÂÆ∂ËµÑÂä©ÁöÑÊöëÊúüÊâìÂ∑•ÔºõÁªôÂ•≥ÊúãÂèãËÆ≤ËÆ°ÁÆóÊú∫Â∑•Á®ã„ÄÅÁÆóÊ≥ï„ÄÅÂâçÁ´Ø ReactJS„ÄÅÂêéÁ´Ø JavaÔºõËøòÊúâ‰πãÂâçÂú®ÂêÑ‰∏™Âπ≥Âè∞Êåñ‰∫ÜÁöÑÂùë„ÄÇ ÂíåÂêà‰ΩúËÄÖÁöÑ‰∏ä‰∏Ä‰∏™È°πÁõÆÊäï‰∫Ü‰∏™‰ªñ‰ª¨È¢ÜÂüüÁöÑÈ°∂ÂàäÔºåÊúâÂæàÂ§ö‰øÆÊîπÊÑèËßÅÔºåÁ®ãÂ∫è‰πüË∑üÁùÄÊÑèËßÅÊîπÔºåÂè™ËÉΩÊÑüÊÖ®È°∂ÂàäÁöÑ reviewer Â∞±ÊòØËÆ§ÁúüË¥üË¥£‰∏î‰∏ì‰∏öÔºõËá™Â∑±ÁöÑÂ∑•‰Ωú‰πüÈÄêÊ∏êÂÖ•Èó®Ôºå‰ΩÜÊØèÂ§©ÂºÄÂßã push Ëá™Â∑±Ëµ∂Âø´Âá∫ÊàêÊûúÔºõÊöëÊúüÊâìÂ∑•‰πüË¶Å‰øùËØÅ‰∏ÄÂÆöÁöÑÂ∑•‰ΩúÊó∂Èó¥ÂíåÂ∑•‰ΩúÈáèÔºõËÄåÂ•≥ÊúãÂèãÈÇ£ËæπÂõ†‰∏∫Á†îÁ©∂Áîü‰∏ªË¶ÅÊòØÂª∫Ê®°„ÄÅÂàÜÊûêÔºåÂ§™‰πÖÊ≤°ÊúâÊé•Ëß¶ËÆ°ÁÆóÊú∫Â∑•Á®ãÁõ∏ÂÖ≥ÁöÑ‰∏úË•øÔºåÂæàÂ§öÁü•ËØÜÂ∑≤ÁªèÂøòËÆ∞‰∫ÜÔºå‰∫éÊòØÈúÄË¶Å‰∏ÄÁÇπ‰∏ÄÁÇπ‰ªéÂ§¥ÂºÄÂßãÊ¢≥ÁêÜÔºõËá≥‰∫éÂπ≥Âè∞ÊåñÁöÑÂùëÔºåÊó†ÈùûÂ∞±ÊòØÂÅö‰∏Ä‰∫õÁøªËØëÂ∑•‰Ωú„ÄÅÂ≠¶ Rust„ÄÅÂ≠¶ k8s Á≠â„ÄÇÂú®ËøúÁ®ãÂ∑•‰ΩúÊúüÈó¥ÔºåÁîüÊ¥ª‰∏éÂ∑•‰ΩúÁöÑÁïåÈôêÂèòÂæóÊ®°Á≥äÔºåÂ§ßÈáèÁöÑÂ∑•‰ΩúÁßØÂéãÂ∞±ÈùûÂ∏∏ÂÆπÊòìÈ°æÊ≠§Â§±ÂΩºÔºåÂºÇÂ∏∏ÁöÑÊ∑∑‰π±Â∞±Áî±Ê≠§ÂºÄÂßãÔºåÊØèÂ§©Ê≥°Âú®ÁîµËÑëÂâçÂçÅÂ§ö‰∏™Â∞èÊó∂ÔºåÁº∫‰πèÁ§æ‰∫§ÔºåËÑæÊ∞î‰πüÊ∏êÊ∏êÂèòÂ∑Æ„ÄÇ ÂéãÂäõ‰πüÊÖ¢ÊÖ¢ÁßØÊîí‰∫ÜËµ∑Êù•Ôºå‰ΩÜÊÄªÊúâÁàÜÂèëÁöÑÊó∂ÂÄôÔºå‰∫éÊòØÂú®ÂÖ´ÊúàÂ∫ïÂà∞‰πùÊúàÂ∫ïÁöÑÂë®Êú´ÔºåÂºÄÂßãÊ≤°Êó•Ê≤°Â§úÁöÑÊâìÊ∏∏ÊàèÔºöÂÖàÊòØ„ÄäGTA: V„ÄãÂíå„ÄäÈ©¨ÈáåÂ••ÔºöÂ••Âæ∑Ëµõ„Äã„ÄÇÊé•ÁùÄ„ÄäNier: Automata„ÄãÊàê‰∫ÜÊï∞Âπ¥Ê≤°ÊúâÁé©ËøáÂ§ß‰ΩúÁöÑËá™Â∑±ÂÆ£Ê≥ÑÁöÑÂá∫Âè£ÔºåÂÖàÊòØ‰∏âÂë®ÁõÆÈÄöÂÖ≥ÔºåÁÑ∂ÂêéÊòØÊîØÁ∫øÔºåÊîØÁ∫øÊúâ‰ªªÂä°‰æùËµñ‰∫éÊÄ™Áâ©ÂõæÈâ¥Êî∂ÈõÜÂíåÊ≠¶Âô®ÊêúÈõÜÔºå‰∫éÊòØÂà∑‰∫ÜÂ•ΩÂá†‰∏™ 100% Âá∫Êù•„ÄÇÂõ†‰∏∫Áº∫‰πèÁù°Áú†ÔºåÊ∏êÊ∏êÂàÜ‰∏çÊ∏ÖÊ∏∏ÊàèÂíåÁé∞ÂÆûÔºåÂÜÖÂøÉ‰∫ßÁîü‰∫Ü ‚ÄúËøô‰∏ÄÂàáÈÉΩÊØ´Êó†ÊÑè‰πâ‚Äù ÁöÑÊÉ≥Ê≥ï„ÄÇÂÜçÂä†‰∏äÂΩìÊó∂ÂÖ®‰∏ñÁïåÁöÑÊ∑∑‰π±ÔºåËÆ©ÊàëËßâÂæó‰∫∫Á±ªÊúÄÁªàËøòÊòØ‰ºöÂõ†‰∏∫Ëá™Â∑±ÁÅ≠‰∫°ÁöÑÔºåËá™Â∑±ÂÅö‰ªÄ‰πàÈÉΩÊòØÊ≤°ÊúâÊÑè‰πâÁöÑ„ÄÇ ‰πùÊúàÂ∫ïÁöÑÊó∂ÂÄôÔºåÂºÄÂßãËØ¶ÁªÜÁ†îÁ©∂Â¶Ç‰ΩïÂÜôÊõ¥Â•ΩÁöÑ paper„ÄÇÁñØÁãÇÁöÑËá™ÊàëÂê¶ÂÆöÂíåÂØπËøô‰∏™‰∏ñÁïåÁöÑÂê¶ÂÆö‰ΩøÊàëÊ∂àÊûÅÂú∞Èù¢ÂØπ„ÄÇÂçÅÊúàÂ∫ïÁöÑÊó∂ÂÄôÔºåÂáÜÂ§áÂèëÊñáÁöÑ‰∏Ä‰∏™ÁÇπÂ≠êÁ°ÆÂÆö‰∫Ü‰∏ãÊù•Ôºå‰∫éÊòØÊé®Ëøü‰∫ÜÂÖ∂‰ªñ‰∫ãÊÉÖÔºå‰∏ìÂøÉÂÅöËøô‰∏Ä‰ª∂‰∫ã„ÄÇ Ê∑∑‰π±ÈÄêÊ∏êÊ∂àÂ§±ÔºåÂ§ßËÑë‰πüÂºÄÂßãÊîæÊùæÔºåÂºÄÂßãËÄÉËôëËá™Â∑±ÁöÑÂ∑•‰Ωú‰ª•Â§ñ„ÄÅÂç¥ÂêåÊ†∑ÈáçË¶ÅÁöÑ‰∫ãÊÉÖ„ÄÇ Â±Ä‰øÉ ËøúË∑ùÁ¶ªÊê¨ÂÆ∂Áïô‰∏ã‰∫ÜÂæàÂ§ö‰∏úË•øÔºåÂåÖÊã¨‰πãÂâçÂú®Â∑¥ÈªéÁöÑÊàøÂ≠êÁöÑÂêàÁ∫¶„ÄÇÊ≥ïÂõΩÂèàÊó∂‰∏çÊó∂Â∞ÅÂüé„ÄÅÈôêÂà∂ÊóÖË°åË∑ùÁ¶ª„ÄÅÈôêÂà∂Âá∫ÂÖ•Â¢ÉÔºåÂØºËá¥ÊàëÊú¨‰∫∫Ê≤°Ê≥ïÂÜçÈ£ûÂõûÂéªÊãøË°åÊùéÂíåÈÄÄÊàøÔºå‰∫éÊòØÂ∞±ÊãúÊâòÊúãÂèãÂ∏ÆÊàëÂÆåÊàêÈÄÄÊàø„ÄÇÂåÜÂåÜÂøôÂøô‰πã‰∏ãÔºå‰∏¢Êéâ‰∫ÜÂæàÂ§ö‰∏úË•øÔºåÊØîÂ¶ÇÁßØÊîíÂ§öÂπ¥ÁöÑÁÆóÊ≥ïÁ¨îËÆ∞„ÄÅÊØîÂ¶ÇÂÆúÂÆ∂Â∞èÈ≤®È±º„ÄÇÊúÄÂêéÊäΩ‰∫Ü‰∏ÄÂë®ÔºåË∂ÅÁùÄÊ≥ïÂõΩÊ≤°Â∞ÅÂüéÔºåÈ£û‰∫Ü‰∏Ä‰∏™ÂæÄËøîÔºå‰ªéÊúãÂèãÈÇ£ÈáåÊãøËµ∞‰∫ÜË°åÊùé„ÄÇË°åÊùéÂæàÂ§öÔºåÂú®Â∑¥Èªé‰∏äÂú∞ÈìÅÁöÑÊó∂ÂÄô‰∏çÂ§™Êñπ‰æøÔºåÂ∑ÆÁÇπË¢´ÈªëÂì•Âì•Êä¢‰∫Ü„ÄÇÊúÄÂêéÊâòËøêÂÆåË°åÊùéÔºåÂú®ÊúÄÂêéÊó∂ÂàªËµ∂‰∏ä‰∫ÜÈ£ûÊú∫„ÄÇ ËÄåÂáÜÂ§áÂèëÊñáÁöÑÈÇ£‰∏™ idea Á°ÆÂÆö‰∫Ü‰∏ãÊù•‰πãÂêéÔºåÈúÄË¶ÅÂú®‰∏Ä‰∏™ÊúàÁöÑÊó∂Èó¥ÂÜÖÂÆåÊàêÊï¥‰∏™ÊñáÁ´†Áõ∏ÂÖ≥ÁöÑÂÆûÈ™å„ÄÅÊñáÁ´†ÁöÑ‰π¶ÂÜôÂíå‰øÆÊîπÔºå‰ªéÈõ∂ÂºÄÂßãÊûÑÂª∫Ëøô‰∏ÄÂàá„ÄÇÂøÖÈ°ªÂÅöÁöÑ‰∫ãÊÉÖÈÉΩÊòØÂéãÁùÄ deadline ÂÆåÊàêÔºåËøôËÆ©ÊàëÊÄÄÁñëËá™Â∑±ÊòØÂê¶Êé•‰∫ÜÂ§™Â§ö‰∫ÜÂ∑•‰ΩúÔºå‰∫¶ÊàñÊòØËÉΩÂäõÂºÄÂßãÈÄÄÂåñ„ÄÇ ÂçÅ‰∫åÊúàÂàùËµ∂ÂÆåÊúÄÂêé‰∏Ä‰∏™ÔºåÁåõÁÑ∂ÂèëÁé∞Á¶ªÂ•≥ÊúãÂèã‰∏¥Êó∂Á≠æËØÅËøáÊúüÂ∑≤ÁªèÊ≤°ÊúâÂ§ö‰πÖ‰∫ÜÔºåÂéªÊéâÂú£ËØûËäÇÂâçÂêéÁöÑÂÅáÊúüÔºåÂ•πÂèäÊó∂ÊâæÂà∞Â∑•‰ΩúÁöÑÂèØËÉΩÊÄßÂ∑≤ÁªèÈôçÂà∞‰∫Ü‰∏Ä‰∏™ÊûÅ‰ΩéÁöÑÊ∞¥Âπ≥„ÄÇËÄÉËôëÁªìÂ©öÂèàÊ≠£ÈÅáÂà∞Â∏ÇÊîøÂéÖÂª∂ÁºìÊé•ÂæÖÔºåÈ¢Ñ‰º∞‰∫Ü‰∏Ä‰∏ãÊó∂Èó¥ÔºåÂ∫îËØ•ÊòØËµ∂‰∏ç‰∏ä‰∫ÜÔºõÂÜçËÄÖËØ¥ÔºåËøôÁßçÊÉÖÂÜµ‰∏ãÂ©öÁ§º‰πü‰∏çÂ•ΩÂäûÔºåËçâËçâ‰∫Ü‰∫ãÊÄªËßâÂæóÂØπ‰∏çËµ∑Â•π„ÄÇ‰∏∫‰∫Ü‰∏çÂèëÁîüÈªëÊà∑ÁöÑÊÉÖÂÜµÂØºËá¥ÈªëÂêçÂçïÔºåÁ≠âÁñ´ÊÉÖÁªìÊùü‰πãÂêéÂ•ΩÂÜçÂõûÊù•ÔºåÊúÄÂêéÂÜ≥ÂÆöËÆ©‰∏§Âπ¥ÈÉΩÊ≤°ÂõûÊàêÂÆ∂ÁöÑÂ•≥ÊúãÂèãÂÖàÂõûÂÆ∂Áé©‰∏ÄÊÆµÊó∂Èó¥„ÄÇ ÂêÑÁßçÂ±Ä‰øÉÁöÑ‰∫ã‰ª∂Âíå‰∫ã‰ª∂ËÉåÊôØ‰∏ãÂ±ÄÈôêÁöÑÈÄâÊã©ÔºåÊûÑÊàê‰∫ÜËøô‰∏ÄÂπ¥„ÄÇ Â∞æÂ£∞ ÊÄªÁöÑÁúã‰∏ãÊù•ÔºåËøô‰∏ÄÂπ¥ÊàëÁöÑ‰∏ªÂü∫Ë∞ÉÂíå‰∏ñÁïåÁöÑÊÄª‰ΩìÂü∫Ë∞É‰øùÊåÅ‰∫Ü‰∏ÄËá¥ÔºöÊ∑∑‰π±„ÄÇËÄå‰∏îÂ¶ÇÂêåÊó†Â§¥ËãçËùáÔºå‰∏çÁü•‰ΩïÂ§ÑÂéª„ÄÇ ÂéüÊú¨ÂíåÂ•≥ÊúãÂèãÂ§öÂéªÂá†‰∏™ÂõΩÂÆ∂„ÄÅÂú∞Âå∫Áé©ÁöÑËÆ°ÂàíÂÆåÂÖ®ËêΩÁ©∫ÔºåÂú®Ëøô‰∏ÄÂπ¥ÔºåÊØèÂ§©Â∞±ÊòØÂëÜÂú®ÂÆ∂ÈáåÔºåÂÜô‰ª£Á†Å„ÄÅÁé©Ê∏∏Êàè„ÄÅÂÅöÈ•≠„ÄÇ Âú®‰∏ÄÂπ¥ÁöÑÊúÄÂêéÔºåÂíåÂ•≥ÊúãÂèãÂà∞Êµ∑ËæπÁé©‰∏ÄÁé©ÔºåÂÆåÂÖ®‰∏¢‰∏ãÂ∑•‰ΩúÊîæÁ©∫Âá†Â§©Ôºå‰ºº‰πéÂèàÊâæÂõû‰∫ÜÂ§öÂπ¥ÂâçÁöÑËá™Â∑±„ÄÇ ‰ΩÜ‰∏ñÁïåÂÜç‰π±ÔºåÁîüÊ¥ªÂÜçÈöæÔºåÊÄªÊúâ‰∏Ä‰∫õÂ∞èÁ°ÆÂπ∏Ôºå‰πüÂÆåÊàê‰∫Ü‰∏Ä‰∫õ‰∫ãÊÉÖ„ÄÅÂ≠¶Âà∞‰∫Ü‰∏Ä‰∫õ‰∏úË•øÔºå‰πüÁÆóÊúâ‰∫ÜÊàêÈïø„ÄÇ ‰ª£Á†Å ÂÜô‰∫Ü iOS ÁâàÊú¨ÁöÑ KDE ConnectÔºåÁªôÂÖ®Âπ≥Âè∞Â°´Â•Ω‰∫ÜÂùë„ÄÇ Áªô embox ÂµåÂÖ•Âºè OS„ÄÅfcitx ËæìÂÖ•Ê°ÜÊû∂„ÄÅlibpinyin ÂèäÂÖ∂ ibus ÁªëÂÆö„ÄÅhomebrew È°πÁõÆË¥°ÁåÆ‰∫Ü‰ª£Á†Å„ÄÇ Â≠¶‰∫Ü Rust„ÄÅHaskellÔºàÊú™ÂÆåÂæÖÁª≠ÔºâÔºåÂºÄ‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïËß£ÈáäÂô®È°πÁõÆÂíå‰∏Ä‰∏™ emulator È°πÁõÆÁªÉÁªÉÊâãÔºõÂ≠¶‰∫Ü Julia„ÄÅk8s Âç¥‰∏çÁü•ÈÅìÂèØ‰ª•Áî®Âú®Âì™ÔºõÁ†îÁ©∂‰∫Ü macOS ÁöÑË∑®ËøõÁ®ãÈÄö‰ø° XPC„ÄÅË∑®Âπ≥Âè∞ÁªòÂõæÊ†áÂáÜ EGL Âπ∂ÂÜô‰∫Ü‰∫õ Hello World„ÄÇ ‰∫∫ÈôÖ Âú®ÁΩë‰∏äËÆ§ËØÜ‰∫ÜÂæàÂ§ö‰∫∫ÔºåËôΩÁÑ∂ËßâÂæóÊúâ‰∏ÄÈÉ®ÂàÜ‰∫∫ÂèØËÉΩÂíåËá™Â∑±ÁöÑ‰∏âËßÇ‰∏çÊòØÂæàÂêàÔºå‰ΩÜÊàëËøòÊòØËßâÂæó‰∫∫ÁöÑÂ§öÊ†∑ÊÄßÊâçÊòØËøô‰∏™Á§æ‰ºöÊúÄÁ≤æÂΩ©ÁöÑÂú∞ÊñπÔºåÊ≠£Â¶ÇÁîüÁâ©ÁöÑÂ§öÊ†∑ÊÄßÊâçÊòØÂú∞ÁêÉÁöÑÂ•áËøπ„ÄÇ‰∫éÊòØÂøÉÁêÜ‰∏äÊääËá™Â∑±ÂÆö‰ΩçÊàê‰∫∫Á±ªËßÇÂØüËÄÖÔºåÁúãÂæÖ‰∏ÄÂàáÂ∞±ÂÆåÂÖ®Âπ≥Âíå‰∫Ü‰∏ãÊù•„ÄÇÊúÄÂêéËøô‰∏™ÊúàÔºåÁîöËá≥ÊääÊú¨Â∞±‰∏™‰ΩçÊï∞ÁöÑ Block Âíå Mute ÂàóË°®ÂÖ®ÈÉ®Ê∏ÖÁ©∫„ÄÇ ÈÄöËøáÊΩúÊ∞¥ÁúãÁæ§ÂèãËÆ®ËÆ∫Êù•È¢ÜÊÇü programming language„ÄÅËø´ÂÆ≥Áæ§ÂèãÊàê‰∫ÜÊØèÂ§©ÂøÖÂÅöÁöÑÂø´‰πêÁöÑ‰∫ãÔºåËøô‰πüÂæàÂ§ßÁ®ãÂ∫¶‰∏äÂ∏ÆÂä©Êàë„ÄÇËôΩÁÑ∂‰æùÁÑ∂ÊÄª‰∏çÁü•ÈÅìÊÄé‰πà‰øùÊåÅÂ•ΩÂ∞∫Â∫¶ÔºåÂ∏åÊúõÊúâËßâÂæóËá™Â∑±Ë¢´ÂÜíÁäØÂà∞ÁöÑÊé®/Áæ§ÂèãÁõ¥Êé• pm ÊàëÂëÄ„ÄÇ ÊúÄÂêéÔºåÂ∞±ÂΩìÂæóÂà∞ÁöÑÂ§±ÂéªÁöÑÈÉΩÊòØÂëΩ„ÄÇ ‰∫∫ÂòõÔºå‰∏ÄÂπ¥‰∏ÄÂπ¥ËøáÂæóÂæàÂø´ÁöÑÔºåÂø´‰πêÂ∞±Â•Ω‰∫Ü„ÄÇ","categories":[{"name":"Dairy","slug":"Dairy","permalink":"https://blog.inoki.cc/categories/Dairy/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"private","slug":"private","permalink":"https://blog.inoki.cc/tags/private/"}]},{"title":"„ÄêËØë„ÄëGBDK ÊâãÊüÑ","slug":"GBDK-Joypad-Tutorial","date":"2020-09-19T22:41:23.000Z","updated":"2022-05-09T18:41:39.454Z","comments":true,"path":"2020/09/19/GBDK-Joypad-Tutorial/","link":"","permalink":"https://blog.inoki.cc/2020/09/19/GBDK-Joypad-Tutorial/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://gbdev.gg8.se/wiki/articles/GBDK_Joypad_Tutorial ‰ªãÁªç Êú¨ÊïôÁ®ãÊó®Âú®ËØ¶ÁªÜ‰ªãÁªçÂ∞ÜÊâãÊüÑ‰∏é GBDK ÈÖçÂêà‰ΩøÁî®ÁöÑÊñπÊ≥ï„ÄÇ Â∑•ÂÖ∑ ÊÇ®Â∞ÜÈúÄË¶ÅÔºöGBDKÔºåÊñáÊú¨ÁºñËæëÂô®ÔºåGame Boy Tile Designer Âíå‰ªøÁúüÂô®ÔºàÂª∫ËÆÆ‰ΩøÁî® BGBÔºåÂÆÉÊúâËÆ∏Â§öË∞ÉËØïÂäüËÉΩÔºâ‰ª•Âèä‰ªª‰ΩïÊ∞¥Âπ≥ÁöÑ C Áü•ËØÜ„ÄÇ Â¶ÇÊûúÈúÄË¶ÅÔºåËØ∑ÊõøÊç¢ÊÇ®ÂñúÊ¨¢ÁöÑÂ∑•ÂÖ∑Ôºå‰ΩÜÊòØÊú¨ÊïôÁ®ãÂÅáÂÆöÊÇ®ÂÖ∑Êúâ‰∏äÈù¢ÂàóÂá∫ÁöÑÂ∑•ÂÖ∑„ÄÇ joypad() ÂáΩÊï∞ GBDK ÁöÑ gb.h ÂÖ∑Êúâ Joypad() ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞ËøîÂõûÊâãÊüÑÁöÑÁä∂ÊÄÅ„ÄÇ joypad() ÂáΩÊï∞ÂèØ‰ª•ËøîÂõû‰ª•‰∏ãËæìÂÖ•ÁöÑÁä∂ÊÄÅÔºö 12345678J_STARTJ_SELECTJ_BJ_AJ_DOWNJ_UPJ_LEFTJ_RIGHT Program 1: ËøîÂõû joypad() Áä∂ÊÄÅ ËÆ©Êàë‰ª¨ÁºñÂÜô‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁ®ãÂ∫èÊù•Âú®Êåâ‰∏ãÊåâÈíÆÊó∂ËøîÂõû joypad() ÁöÑÁä∂ÊÄÅÔºö 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;stdio.h&gt; // include this file for the printf() function#include &lt;gb/gb.h&gt; // include this file for Game Boy functionsvoid main(void)&#123; while(1) &#123; switch(joypad()) &#123; case J_RIGHT : // If joypad() is equal to RIGHT printf(\"Right!\\n\"); delay(100); break; case J_LEFT : // If joypad() is equal to LEFT printf(\"Left!\\n\"); delay(100); break; case J_UP : // If joypad() is equal to UP printf(\"Up!\\n\"); delay(100); break; case J_DOWN : // If joypad() is equal to DOWN printf(\"Down!\\n\"); delay(100); break; case J_START : // If joypad() is equal to START printf(\"Start!\\n\"); delay(100); break; case J_SELECT : // If joypad() is equal to SELECT printf(\"Select!\\n\"); delay(100); break; case J_A : // If joypad() is equal to A printf(\"A!\\n\"); delay(100); break; case J_B : // If joypad() is equal to B printf(\"B!\\n\"); delay(100); break; default : break; &#125; &#125; &#125; Program 2: ‰ΩøÁî® waitpad() Âíå waitpadup() ÊÇ®ËøòÂèØ‰ª•‰ΩøÁî®Âè¶Â§ñ‰∏§‰∏™Ê∏∏ÊàèÊâãÊüÑÁöÑÂáΩÊï∞Ôºö 12waitpad() // This function waits for a button to be pressed.waitpadup() // This function waits for all buttons to be released. ËÆ©Êàë‰ª¨Âú®‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁ®ãÂ∫è‰∏≠ÂêåÊó∂‰ΩøÁî® waitpad() ÂáΩÊï∞Âíå waitpadup() ÂáΩÊï∞Ôºö 1234567891011121314151617181920#include &lt;stdio.h&gt; // include this file for the printf() function#include &lt;gb/gb.h&gt; // include this file for Game Boy functionsvoid main(void)&#123; while(1) &#123; printf(\"Please press A\\n\"); waitpad(J_A); // waitpad() is waiting for the A button to be pressed. printf(\"You pressed A! Cool!\\n\\n\"); printf(\"Hold down the LEFT button\\n\"); waitpad(J_LEFT); // waitpad() is waiting for the LEFT button to be pressed. printf(\"You're holding down LEFT!\\n\"); waitpadup(); // waitpadup() is waiting for all buttons to be depressed but you have to hold down LEFT to get here so it is // waiting on LEFT to be depressed. printf(\"You've released LEFT\\n\\n\\n\"); &#125; &#125; Program 3: Âú®Â±èÂπï‰∏äÁßªÂä®Á≤æÁÅµ Áé∞Âú®ÔºåËÆ©Êàë‰ª¨‰ΩøÁî® joypad() ÂáΩÊï∞Âú®Â±èÂπï‰∏äÁßªÂä®Á≤æÁÅµ„ÄÇÂ¶ÇÊûúÊÇ®ÂØπ GBDK Sprite ‰∏çÁÜüÊÇâÔºåÂàôÈúÄË¶ÅÊü•Áúã GBDK Sprite ÊïôÁ®ã„ÄÇ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;gb/gb.h&gt; // include this file for Game Boy functions//Created with GBTD, exported to .c with options from: 0, to: 0, label: smileunsigned char smile[] =&#123; 0x3C,0x3C,0x42,0x42,0x81,0x81,0xA5,0xA5, 0x81,0x81,0x81,0xA5,0x42,0x5A,0x3C,0x3C&#125;;void main()&#123; int x = 55; // Our beginning x coord int y = 75; // Our beginning y coord SPRITES_8x8; set_sprite_data(0, 0, smile); set_sprite_tile(0, 0); move_sprite(0, x, y); // Move sprite to our predefined x and y coords SHOW_SPRITES; while(1)&#123; if(joypad()==J_RIGHT) // If RIGHT is pressed &#123; x++; move_sprite(0,x,y); // move sprite 0 to x and y coords delay(10); &#125; if(joypad()==J_LEFT) // If LEFT is pressed &#123; x--; move_sprite(0,x,y); // move sprite 0 to x and y coords delay(10); &#125; if(joypad()==J_UP) // If UP is pressed &#123; y--; move_sprite(0,x,y); // move sprite 0 to x and y coords delay(10); &#125; if(joypad()==J_DOWN) // If DOWN is pressed &#123; y++; move_sprite(0,x,y); // move sprite 0 to x and y coords delay(10); &#125; &#125;","categories":[{"name":"GBDK","slug":"GBDK","permalink":"https://blog.inoki.cc/categories/GBDK/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"GBDK","slug":"GBDK","permalink":"https://blog.inoki.cc/tags/GBDK/"}]},{"title":"„ÄêËØë„ÄëGBDK Sprite Á≤æÁÅµ","slug":"GBDK-Sprite-Tutorial","date":"2020-09-19T21:41:23.000Z","updated":"2022-05-09T18:41:39.454Z","comments":true,"path":"2020/09/19/GBDK-Sprite-Tutorial/","link":"","permalink":"https://blog.inoki.cc/2020/09/19/GBDK-Sprite-Tutorial/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://gbdev.gg8.se/wiki/articles/GBDK_Sprite_Tutorial ‰ªãÁªç Êú¨ÊïôÁ®ãÊó®Âú®‰ªãÁªç‰∏ÄÁßçÂ∑•‰ΩúÊµÅÁ®ãÔºåËÉΩÂ§üÊòæÁ§∫Â§ö‰∏™Á≤æÁÅµÂíåËÆæÁΩÆÂä®Áîª„ÄÇ‰∏∫‰∫Ü‰ΩøÂÆÉÂ∞ΩÂèØËÉΩÂú∞Êòì‰∫éËÆøÈóÆÔºåÊàëÂÅáËÆæÊÇ®‰∏ç‰∫ÜËß£ C ËØ≠Ë®Ä„ÄÇÂ¶ÇÊûúÊÇ®‰∏çÊÉ≥Âú®ÂºÄÂßã‰πãÂâçÁöÑÂá†‰∏™Â∞èÊó∂ÂÜÖÊµèËßàÂèÇËÄÉÊñá‰ª∂ÔºåËøôÂ∞±ÊòØ‰∏∫ÊÇ®ÂáÜÂ§áÁöÑ„ÄÇ Â∑•ÂÖ∑ ÊÇ®Â∞ÜÈúÄË¶ÅÔºöGBDKÔºåÊñáÊú¨ÁºñËæëÂô®ÔºåGame Boy Tile Designer Âíå‰ªøÁúüÂô®ÔºàÂª∫ËÆÆ‰ΩøÁî® BGBÔºåÂÆÉÊúâËÆ∏Â§öË∞ÉËØïÂäüËÉΩÔºâ‰ª•Âèä‰ªª‰ΩïÊ∞¥Âπ≥ÁöÑ C Áü•ËØÜ„ÄÇ Â¶ÇÊûúÈúÄË¶ÅÔºåËØ∑ÊõøÊç¢ÊÇ®ÂñúÊ¨¢ÁöÑÂ∑•ÂÖ∑Ôºå‰ΩÜÊòØÊú¨ÊïôÁ®ãÂÅáÂÆöÊÇ®ÂÖ∑Êúâ‰∏äÈù¢ÂàóÂá∫ÁöÑÂ∑•ÂÖ∑„ÄÇ Á¨¨‰∏ÄÊ≠•ÔºöÂàõÂª∫Áì¶Âùó ËøêË°å GBTD„ÄÇÂçïÂáªËßÜÂõæÔºåÂõæÂùóÂ§ßÂ∞èÔºå16x16„ÄÇ ÁªòÂà∂ÂõæÂÉèÔºåÂ∞ÜÂÖ∂Â§çÂà∂Âπ∂Á≤òË¥¥Âà∞Á¨¨‰∫å‰∏™Áì¶ÂùóÊèíÊßΩ‰∏≠ÔºåÁÑ∂ÂêéËøõË°åÊõ¥Êîπ‰ª•Âà∂‰Ωú‰∏§Â∏ßÂä®Áîª„ÄÇ Êàë‰ª¨Â∞ÜÂú®Ëøô‰∫õ‰πãÈó¥Êù•ÂõûÂàáÊç¢„ÄÇ ÂçïÂáªÊñá‰ª∂ÔºåÂØºÂá∫Âà∞ÔºåÂ∞Ü Type Êõ¥Êîπ‰∏∫ GBDK C Êñá‰ª∂Ôºà* .cÔºâÔºåÂπ∂Â∞Ü To Êõ¥Êîπ‰∏∫1„ÄÇÊàëËøòÂ∞ÜÊñá‰ª∂ÂêçÂíåÊ†áÁ≠æÊõ¥Êîπ‰∏∫‚Äú smile‚Äù„ÄÇ ÁÇπÂáªÁ°ÆÂÆö„ÄÇ ËøôÂ∞ÜÂàõÂª∫‰∏Ä‰∏™ .c Âíå .h Êñá‰ª∂„ÄÇ.c Êñá‰ª∂Â∫îÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö 123456789101112131415161718192021//lots of commentsunsigned char smile[] =&#123; 0x0F,0x0F,0x30,0x30,0x40,0x40,0x40,0x40, 0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84, 0x84,0x84,0x84,0x84,0x80,0x80,0x80,0x80, 0x44,0x44,0x43,0x43,0x30,0x30,0x0F,0x0F, 0xF0,0xF0,0x0C,0x0C,0x02,0x02,0x02,0x02, 0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21, 0x21,0x21,0x21,0x21,0x01,0x01,0x01,0x01, 0x22,0x22,0xC2,0xC2,0x0C,0x0C,0xF0,0xF0, 0x0F,0x0F,0x30,0x30,0x40,0x40,0x40,0x40, 0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84, 0x84,0x84,0x84,0x84,0x80,0x80,0x80,0x80, 0x44,0x44,0x43,0x43,0x30,0x30,0x0F,0x0F, 0xF0,0xF0,0x0C,0x0C,0x02,0x02,0x02,0x02, 0x01,0x01,0x01,0x01,0x01,0x01,0xF9,0xF9, 0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01, 0x22,0x22,0xC2,0xC2,0x0C,0x0C,0xF0,0xF0&#125;;//more comments ÂèØËßÅÔºåGBTE Âè™ÊòØÂ∞ÜÂÉèÁ¥†ËΩ¨Êç¢‰∏∫‰ª•Ê†áÁ≠æÂëΩÂêçÁöÑÊï∞ÁªÑ„ÄÇÊàë‰ª¨Â∞ÜÂú®Ë¶ÅÁºñÂÜôÁöÑ‰ª£Á†Å‰∏≠ÂåÖÂê´ .c Êñá‰ª∂„ÄÇ Á¨¨‰∫åÊ≠•Ôºöset_sprite_data Âú®Â±èÂπï‰∏äÁªòÂà∂Á≤æÁÅµ GBDK ÈÄöËøá gb.h ‰∏≠Êèê‰æõÁöÑ‰∏Ä‰∫õÂáΩÊï∞Êù•Â§ÑÁêÜÁ≤æÁÅµ„ÄÇ ÂêØÂä®ÊÇ®ÁöÑÊñáÊú¨ÁºñËæëÂô®ÔºåÂπ∂ÂåÖÂê´ÂøÖË¶ÅÁöÑÊñá‰ª∂Ôºö 12#include &lt;gb/gb.h&gt; //Angle brackets check the compiler's include folders#include \"smile.c\" //double quotes check the folder of the code that's being compiled ÊØè‰∏™ C ËÑöÊú¨ÈÉΩÈúÄË¶Å‰∏Ä‰∏™‰∏ªÂáΩÊï∞ÔºåÂõ†Ê≠§ËØ∑Âú®ÂÖ∂‰∏≠Ê∑ªÂä†‰ª•‰∏ãÂáΩÊï∞‰πã‰∏ÄÔºö 123void main()&#123;&#125; ËøôÊòØÊàë‰ª¨Â∞ÜÁºñÂÜôÊâÄÊúâ‰ª£Á†ÅÁöÑÂú∞Êñπ„ÄÇ ËøõÂÖ• main ÂáΩÊï∞ÔºåËæìÂÖ•Ôºö 12345SPRITES_8x16;set_sprite_data(0, 8, smile);set_sprite_tile(0, 0);move_sprite(0, 75, 75);SHOW_SPRITES; ÈÄêË°åÊòæÁ§∫Ôºö ÂëäËØâ GBDK ‰∏ÄÊ¨°Âä†ËΩΩ‰∏§‰∏™ 8x8 Á≤æÁÅµÔºåÂà∂‰Ωú‰∏Ä‰∏™ 8x16 Áì¶Áâá ‰ªéÈõ∂ÂºÄÂßãÔºåÂ∞Ü 8 ‰∏™ 8x8 Áì¶Áâá‰ªé smile Êï∞ÁªÑÊé®ÂÖ•ËøêË°å‰∏≠ÁöÑÁ≤æÁÅµÊï∞ÊçÆ Â∞ÜÂõæÂùó 0 ËÆæÁΩÆ‰∏∫Á≤æÁÅµÊï∞ÊçÆ‰∏≠ÁºñÂè∑‰∏∫ 0 ÁöÑÁ≤æÁÅµ Â∞ÜÁ≤æÁÅµ 0 ÁßªÂä®Âà∞ËØ•ÂùêÊ†á ËøôÊòØÂà∞ÁõÆÂâç‰∏∫Ê≠¢ÁöÑÂÆåÊï¥‰ª£Á†ÅÔºö 12345678910#include &lt;gb/gb.h&gt;#include \"smile.c\"void main()&#123; SPRITES_8x16; set_sprite_data(0, 8, smile); set_sprite_tile(0, 0); move_sprite(0, 75, 75); SHOW_SPRITES;&#125; Â∞ÜËØ•Êñá‰ª∂‰øùÂ≠ò‰∏∫ filename.cÔºå‰ΩøÁî® lcc ÁºñËØëÔºö/path/to/GBDK/bin/lcc -o gamename.gb filename.c„ÄÇ ËøêË°å BGB Âπ∂Âä†ËΩΩ gamename.gb„ÄÇ EmmmmmmÔºåËøôÈáåÂè™ÊúâÂçäÂº†ËÑ∏„ÄÇÂ•ΩÂêßÔºåÁî±‰∫é Gameboy Âè™ËÉΩÂ§ÑÁêÜÊúÄÂ§ß 8x16 ÁöÑÁì¶ÂùóÔºåÊàë‰ª¨ÈúÄË¶ÅÈÄöËøáÊää‰∏§‰∏™ 8x16 ÁöÑÁì¶ÂùóÁîªÂú®‰∏ÄËµ∑Êù•ÊûÑÈÄ†‰∏Ä‰∏™ 16x16 ÁöÑ„ÄÇ È¶ñÂÖàÔºåËÆ©Êàë‰ª¨ÁúãÁúãÁ≤æÁÅµÂíåÂõæÂùóÂ¶Ç‰ΩïÂ≠òÂÇ®Âú® Gameboy ‰∏ä„ÄÇ Âú® BGB ‰∏≠ÔºåÊÇ®Â∑≤ÁºñÂÜôÁöÑ rom Â∑≤Âä†ËΩΩÂπ∂ËøêË°åÔºåÂè≥ÈîÆÂçïÂáªÔºåÂ∞ÜÈº†Ê†áÊÇ¨ÂÅúÂú® ‚ÄúÂÖ∂‰ªñ‚Äù ‰∏äÔºåÂçïÂáª ‚ÄúVRAMÊü•ÁúãÂô®‚Äù„ÄÇ Âú®ËøôÈáåÔºåÊÇ®ÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨‰ΩøÁî® set_sprite_data ËÆæÁΩÆ‰∏∫ 8x8 Áì¶ÁâáÁöÑÁ≤æÁÅµ„ÄÇÊúÄÂ∑¶‰æßÁöÑ‰∏§‰∏™Êï∞Â≠ó 0 Âíå 1 ‰∫ÆËµ∑ÔºåË°®Á§∫ÂÆÉ‰ª¨Ê≠£Âú®‰ΩøÁî®‰∏≠„ÄÇÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊòØËÆæÁΩÆÁ¨¨‰∫å‰∏™ÂõæÂùóÔºåÂ∞ÜÂÖ∂Áî®ËÑ∏ÁöÑÂè≥ÂçäÈÉ®ÂàÜÂ°´ÂÖÖÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂‰∏éÂ∑¶ÂçäÈÉ®ÂàÜÂØπÈΩê„ÄÇ Â∞ÜÊ≠§Ê∑ªÂä†Âà∞‰ª£Á†Å‰∏≠Ôºö 12set_sprite_tile(1, 2);move_sprite(1, 75 + 8, 75); Âú® VRAM Êü•ÁúãÂô®‰∏≠ËøõË°åËÆ°Êï∞Êó∂ÔºåËØ•Èù¢ÁöÑÂ∑¶‰∏äË±°ÈôêÊòØÁ≤æÁÅµ 0ÔºåÂ∑¶‰∏ãËßíÊòØ 1ÔºåÂè≥‰∏äËßí‰ªé 2 ÂºÄÂßãÔºåÂπ∂‰∏î SPRITES_8x16 Ë°åÂ∞Ü‰ΩøÊàë‰ª¨ËÆæÁΩÆÁöÑÂõæÂùóÂåÖÂê´Á≤æÁÅµ 3ÔºåÂç≥ ÊâÄÊúâÂõõ‰∏™Ë±°Èôê„ÄÇÁé∞Âú®ÔºåÊàë‰ª¨Âú®Â±èÂπï‰∏äÊøÄÊ¥ª‰∫Ü‰∏§‰∏™Á≤æÁÅµÔºåÂàÜÂà´ÊòØ 0 Âè∑Âíå 1 Âè∑ ÔºåËÄåÁ≤æÁÅµ 1 ÊØîÁ≤æÁÅµ 0 Èù†Âè≥ 8 ‰∏™ÂÉèÁ¥†ÔºåËøôÊÑèÂë≥ÁùÄÂÆÉÂèØ‰ª•ÂÆåÁæéÊéíÂàó‰ª•ÊòæÁ§∫‰∏Ä‰∏™ 16x16 ÁöÑÈù¢„ÄÇ ËØ∑ËÆ∞‰ΩèÔºåÊØèÊ¨°ÁßªÂä®Ê≠§Á≤æÁÅµÊó∂ÔºåÈÉΩÈúÄË¶ÅÂ∞Ü‰∏§‰∏™ÈÉ®ÂàÜ‰∏ÄËµ∑ÁßªÂä®„ÄÇ ÁºñËØëÂπ∂ËøêË°åÂÆÉÔºåÁÑ∂ÂêéÂú® VRAM Êü•ÁúãÂô®‰∏≠Êü•Áúã„ÄÇ Á¨¨‰∏âÊ≠•ÔºöÂä®Áîª Êàë‰ª¨Â∞ÜÂÆöÊó∂‰ΩøÁî® set_sprite_tile ÊõøÊç¢ÂõæÂùó„ÄÇ Âú® SHOW_SPRITES ‰πãÂêéÂú®‰∏ªÂáΩÊï∞‰∏≠ÁºñÂÜô‰∏Ä‰∏™ while Âæ™ÁéØ„ÄÇÊàë‰ª¨‰ΩøÁî® while(1)ÔºåËøôÊ†∑ÂÆÉ‰ºöÊ∞∏ËøúÂæ™ÁéØ„ÄÇ 123while(1)&#123;&#125; Âú®ËØ•Âæ™ÁéØÂÜÖÔºåÂ∞ÜÂõæÂùóÁºñÂè∑ 1ÔºàËÑ∏ÁöÑÂè≥‰æßÔºâÊõ¥Êîπ‰∏∫Á≤æÁÅµ 6ÔºàÊàë‰ΩøÁî® VRAM Êü•ÁúãÂô®ËøõË°åËÆ°Êï∞Ôºâ„ÄÇ 1set_sprite_tile(1, 6); Â∞ÜÂÖ∂‰∫§Êç¢ÂõûÂéªÂπ∂Âª∂ËøüÂá†‰∏™Êó∂Èó¥Ôºå‰ª•‰æøÂèØ‰ª•ÁúãÂà∞Êõ¥ÊîπÔºåÊàë‰ª¨‰ºöÂæóÂà∞‰ª•‰∏ã‰ª£Á†ÅÔºö 123456while(1)&#123; set_sprite_tile(1, 6); delay(500); set_sprite_tile(1,2); delay(500);&#125; ËøôÊòØÊâÄÊúâÂèØ‰ª•Áî®‰∫éÂ§çÂà∂ÂíåÁ≤òË¥¥ÁöÑ‰ª£Á†ÅÔºö 12345678910111213141516171819#include &lt;gb/gb.h&gt;#include \"smile.c\"void main()&#123; SPRITES_8x16; set_sprite_data(0, 8, smile); set_sprite_tile(0, 0); move_sprite(0, 75, 75); set_sprite_tile(1, 2); move_sprite(1, 75 + 8, 75); SHOW_SPRITES; while(1)&#123; set_sprite_tile(1, 6); delay(500); set_sprite_tile(1,2); delay(500); &#125;&#125; ÁºñËØëÂπ∂ËøêË°åÂÆÉ„ÄÇÊàêÂäüËøêË°åÔºÅ Âú® VRAM Êü•ÁúãÂô®‰∏≠ÂÆûÊó∂ËßÇÁúãÂõæÂùóÂàáÊç¢„ÄÇ ‰∏Ä‰∏™ÊúâË∂£ÁöÑÊ≥®ÈáäÔºöÁî±‰∫é‰ªÖÁ≤æÁÅµÁöÑÂè≥‰æßÂèëÁîü‰∫ÜÂèòÂåñÔºåÂõ†Ê≠§Â∑¶‰æßÁöÑÈáçÂ§çÊòØÂ§ö‰ΩôÁöÑ„ÄÇÂ∞ÜÊù•ÁöÑËø≠‰ª£ÂèØËÉΩ‰ºöÂà†Èô§ÂÆÉ‰ª•‰øùÂ≠òÊï∞ÊçÆ„ÄÇÊ≠§Â§ñÔºåÂè™ÊúâÂè≥‰∏äËßíÁöÑÂõõÂàÜ‰πã‰∏Ä‰ºöÂèëÁîüÂèòÂåñÔºåÂõ†Ê≠§ÔºåÂ¶ÇÊûúÊàë‰ª¨ÁªòÂà∂Âõõ‰∏™8x8Áì¶ÁâáËÄå‰∏çÊòØ‰∏§‰∏™8x16Áì¶ÁâáÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá‰ªÖÂåÖÂê´Âπ∂‰∫§Êç¢ËØ•Ë±°ÈôêÊù•ËäÇÁúÅÊõ¥Â§öÁ©∫Èó¥„ÄÇ Áé∞Âú®ÔºåËÆ©Ëøô‰∏™Êõ¥Âä†Â§çÊùÇ‰∏ÄÁÇπÔºöÂä†ËΩΩÂ§ö‰∏™Á≤æÁÅµÈõÜ„ÄÇ Á¨¨ÂõõÊ≠•ÔºöÂ§ö‰∏™Á≤æÁÅµÈõÜÂêà Êú¨ËäÇÂú®ËøôÈáåÂ±ïÁ§∫‰∫ÜË∑üË∏™‚ÄúÂì™‰∫õÁ≤æÁÅµÂ≠òÂÇ®Âú®‰ΩïÂ§Ñ‚ÄùÁöÑÈáçË¶ÅÊÄß„ÄÇ Êàë‰∏∫Âä®ÁîªÂà∂‰Ωú‰∫ÜÁ¨¨‰∫åÂº†ËÑ∏ÔºåÂπ∂Â∞ÜÂÖ∂ÂØºÂá∫Âà∞ frown.cÔºàÂ∏¶ÊúâÁö±ÁúâÊ†áÁ≠æÔºâÔºåÂπ∂‰ΩøÁî®‰∏äËø∞ÊñπÊ≥ïÂ∞ÜÂÖ∂ÂåÖÂê´Âú®‰ª£Á†Å‰∏≠„ÄÇ ËøôÊòØÊï∞ÁªÑÔºö 12345678910111213141516171819unsigned char frown[] =&#123; 0x0F,0x0F,0x30,0x30,0x40,0x40,0x40,0x40, 0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84, 0x84,0x84,0x84,0x84,0x80,0x80,0x87,0x87, 0x58,0x58,0x40,0x40,0x30,0x30,0x0F,0x0F, 0xF0,0xF0,0x0C,0x0C,0x02,0x02,0x02,0x02, 0x21,0x21,0x21,0x21,0x21,0x21,0x21,0x21, 0x21,0x21,0x21,0x21,0x01,0x01,0xE1,0xE1, 0x1A,0x1A,0x02,0x02,0x0C,0x0C,0xF0,0xF0, 0x0F,0x0F,0x30,0x30,0x40,0x40,0x40,0x40, 0x90,0x90,0x8E,0x8E,0x80,0x80,0x84,0x84, 0x84,0x84,0x84,0x84,0x80,0x80,0x87,0x87, 0x58,0x58,0x40,0x40,0x30,0x30,0x0F,0x0F, 0xF0,0xF0,0x0C,0x0C,0x02,0x02,0x02,0x02, 0x09,0x09,0x71,0x71,0x01,0x01,0x21,0x21, 0x21,0x21,0x21,0x21,0x01,0x01,0xE1,0xE1, 0x1A,0x1A,0x02,0x02,0x0C,0x0C,0xF0,0xF0&#125;; ËÆ©Êàë‰ª¨Âú®‰∏ªÂáΩÊï∞‰∏≠ÔºàÂú®Âæ™ÁéØ‰∏äÊñπÔºâÂ∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫Êàë‰ª¨ÁöÑSpriteÊï∞ÊçÆÔºö 1set_sprite_data(8, 8, frown); ËøôÂ∞±ÊòØÊú¨ÊºîÁ§∫ÁöÑÈáçÁÇπÔºöÂΩìÂõæÂùó‰ª•Êï∞Â≠óÊñπÂºèËøõÂ±ïÊó∂ÔºàÂõæÂùó 0ÔºåÂõæÂùó 1ÔºåÂõæÂùó 2 ‚Ä¶ÔºâÔºåset_sprite_data Âè™ÊòØÂ∞Ü 8x8 Â≠êÂõæÊèíÂÖ•Âà∞Êï∞ÊçÆÈõÜ‰∏≠„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÂøÖÈ°ªÊåáÂêëÂÜÖÂ≠ò‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™Ëá™Áî±Á≤æÁÅµÔºåÂπ∂‰∏îË¶ÅËÆ∞‰ΩèÔºåÊàë‰ª¨Â∑≤ÁªèÁî®ÂæÆÁ¨ëËâ∫ÊúØÁöÑ 8 ‰∏™Á≤æÁÅµÂ°´ÂÖÖ‰∫Ü 0-7 „ÄÇÂ¶ÇÊûúÊàë‰ª¨Â∞ÜÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ËÆæÁΩÆ‰∏∫Â∞è‰∫é 8 ÁöÑ‰ªª‰ΩïÂÄºÔºåÂÆÉÂ∞ÜË¶ÜÁõñÈÉ®ÂàÜÂæÆÁ¨ëÔºåÂØπ‰∫éÊõ¥Â§ßÁöÑË¶ÜÁõñËåÉÂõ¥ÔºåÂπ∂‰∏î‰∏§Âº†ËÑ∏‰πãÈó¥‰ºöÊúâÈó¥Èöô„ÄÇÁ¨¨‰∫å‰∏™ÂèÇÊï∞ÂÜçÊ¨°ÊòØÊàë‰ª¨Âú®Ê≠§Â§ÑÊèíÂÖ•ÁöÑ 8x8 Á£ÅË¥¥ÁöÑÊï∞ÈáèÔºåÂπ∂‰∏îÊàë‰ª¨ÁöÑÂøÉÁêÜËÆ°Êï∞ÊúÄÈ´òË∑≥Âà∞ 16ÔºåËøôÊÑèÂë≥ÁùÄ 0-15 Ë¢´Âç†Áî®„ÄÇ ËøôÊ†∑ÂÅöÁöÑÂ§çÊùÇ‰πãÂ§ÑÂú®‰∫éÔºåÂç≥‰ΩøÊàë‰ª¨ÊúâÂπ∂Ë°åÁöÑÂä®ÁîªÂë®ÊúüÔºåÊàë‰ª¨‰πüÂøÖÈ°ªËÆ∞‰ΩèÊØè‰∏™ÂõæÂùóÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑ‰ΩçÁΩÆ„ÄÇ Â•ΩÂ§ÑÊòØ‰ªª‰ΩïÂõæÂùóÈÉΩÂèØ‰ª•‰ªéÂ≠êÁîªÈù¢Â†ÜÊ†à‰∏≠ÁöÑ‰ªª‰Ωï‰ΩçÁΩÆÊãâÂá∫„ÄÇ ËÆ©Êàë‰ª¨Â§çÂà∂ÂæÆÁ¨ë‰ª£Á†Å‰ª•‰æø‰∏éÊñ∞ÁöÑÁö±ÁúâËÑ∏‰∏ÄËµ∑‰ΩøÁî®ÔºåÂêåÊó∂‰∫§Êç¢Á≤æÁÅµÔºö 12345678910111213141516171819202122232425262728293031#include &lt;gb/gb.h&gt;#include \"smile.c\"#include \"frown.c\"void main()&#123; SPRITES_8x16; set_sprite_data(0, 8, smile); set_sprite_tile(0, 0); move_sprite(0, 55, 75); set_sprite_tile(1, 2); move_sprite(1, 55 + 8, 75); set_sprite_data(8, 8, frown); set_sprite_tile(2, 8); move_sprite(2, 95, 75); set_sprite_tile(3, 10); move_sprite(3, 95 + 8, 75); SHOW_SPRITES; while(1)&#123; set_sprite_tile(1, 6); set_sprite_tile(2, 12); set_sprite_tile(3, 14); delay(500); set_sprite_tile(1,2); set_sprite_tile(2, 8); set_sprite_tile(3, 10); delay(500); &#125;&#125; Êàë‰ª¨Áî®Á¨¨‰∫åÂº†ËÑ∏ÁöÑÂ∑¶ÂçäÈÉ®ÂàÜÂíåÂè≥ÂçäÈÉ®ÂàÜÂ°´ÂÖÖÁºñÂè∑‰∏∫ 2 Âíå 3 ÁöÑÁ≤æÁÅµ„ÄÇ ÂΩìÁ¨ëËÑ∏Âú®Á≤æÁÅµÊï∞ÊçÆ 2ÔºàÂíå 3ÔºâÂíå 6ÔºàÂíå 7Ôºâ‰πãÈó¥ÂàáÊç¢Êó∂ÔºåÁö±ÁúâÂú®Â∑¶‰æßÁöÑ 8ÔºàÂíå 9ÔºâÂíå 12ÔºàÂíå 13Ôºâ‰πãÈó¥‰ª•ÂèäÂú® 10ÔºàÂíå 11ÔºâÂíå 14ÔºàÂíå 15Ôºâ‰πãÈó¥Âæ™ÁéØ„ÄÇ ÔºâÂú®Âè≥‰æßÔºå‰∏§ËæπÂêåÊó∂Âá∫Áé∞„ÄÇ ÁºñËØëÂπ∂Âú® VRAM Êü•ÁúãÂô®‰∏≠Êü•ÁúãÔºÅ ÁªìËÆ∫ Â∏åÊúõËøôÂèØ‰ª•ÊïôÊÇ®Â¶Ç‰Ωï‰ΩøÁî® GBDK Âä†ËΩΩÂíåÊòæÁ§∫Á≤æÁÅµÔºåÊàñËÄÖËá≥Â∞ë‰ª•‰∫∫Á±ªÂèØËØªÂΩ¢ÂºèÂëàÁé∞‰∫Ü‰∏Ä‰∏™ÁúüÂÆûÁ§∫‰æã„ÄÇ","categories":[{"name":"GBDK","slug":"GBDK","permalink":"https://blog.inoki.cc/categories/GBDK/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"GBDK","slug":"GBDK","permalink":"https://blog.inoki.cc/tags/GBDK/"}]},{"title":"KDE Frameworks - KDNSSD","slug":"KDE-Frameworks-KDNSSD","date":"2020-09-06T08:22:00.000Z","updated":"2022-05-09T18:41:39.466Z","comments":true,"path":"2020/09/06/KDE-Frameworks-KDNSSD/","link":"","permalink":"https://blog.inoki.cc/2020/09/06/KDE-Frameworks-KDNSSD/","excerpt":"","text":"Important: this post assumes that you have knowledge on Qt and CMake/QMake, and that you have at least some concept on library linking. Introduction The KDE Frameworks[1] provides a set of frameworks based on Qt framework. It can largely reduce duplicated work on implementing lots of common-use components in many Desktop Applications. The KDE Frameworks not only support Linux/Unix Desktop, most of its frameworks can also work on Windows, macOS, even Android and iOS. DNS Service Discovery(DNS-SD)[2] is a way of using standard DNS programming interfaces, servers, and packet formats to browse the network for services. The protocol is widely used in the modern applications to provide inter-discovery functionality between devices, for example, printer discovery, Local Area Network multiplayer game, etc. This post shows up how to use KDNSSD[3] framework in KDE Frameworks. KDNSSD Set Up The KDNSSD framework is located at the Layer 1 in the KDE Frameworks, which means that KDNSSD doesn‚Äôt rely on any other framework in the KDE Frameworks. It does require Qt, but it‚Äôs not a big barricade. If you don‚Äôt have Qt development kit, you can easily install one and then continue. In most Linux distribution, in particular, the Linux distribution which has KDE desktop support, there should be software packets of KDNSSD. Installation On Debian/Ubuntu, 1sudo apt install libkf5dnssd libkf5dnssd-dev On RedHat family (CentOS, Fedora) : 1sudo yum install kf5-kdnssd kf5-kdnssd-devel On Arch Linux: 1sudo pacman -S kdnssd The development files (eg. header files) and the runtime libraries should be installed and configured correctly. Linking According to the documentation[4], you can use either CMake or QMake: 12find_package(KF5DNSSD)target_link_libraries(yourapp KF5::DNSSD) 1QT += KDNSSD Even, you could use pkg-config if you‚Äôd like. Here I choose to use CMake, the one mostly used in KDE Community. KDNSSD Hello World The first lesson in Computer Engineer is usually a Hello World, which contains the most basic functionality. In KDNSSD, or DNS-SD, the most basic one is to expose a service and to discover a service. So, the Hello World here is to expose a service on the local machine, and discover it Exposing a serivce Firstly, I create a ServicePublisher class in service_publish.cpp, as the service exposer program. Its constructor creates a KDNSSD::PublicService object, which pretends there is a My files service based on HTTP and thus TCP protocol, listening on 8080 port. Then, we set up a connection between signal and slot. And finally publish the DNS-SD information asynchronously. 123456ServicePubisher() // Typo&#123; m_service = new KDNSSD::PublicService(\"My files\", \"_http._tcp\", 8080); connect(m_service, &amp;KDNSSD::PublicService::published, this, &amp;ServicePubisher::isPublished); m_service-&gt;publishAsync();&#125; The published signal is connected to isPublished method in the class. It will output the publish state once the state is notified: 12345678void isPublished(bool state)&#123; if (state) &#123; qDebug() &lt;&lt; \"Service published\"; &#125; else &#123; qDebug() &lt;&lt; \"Service not published\"; &#125;&#125; Exposing a service Then, I created another class ServiceExplorer to try discovering services which are declared to be based on HTTP and TCP protocol. 123456789101112131415ServiceExplorer()&#123; m_browser = new KDNSSD::ServiceBrowser(QStringLiteral(\"_http._tcp\")); connect(m_browser, &amp;KDNSSD::ServiceBrowser::serviceAdded, this, [](KDNSSD::RemoteService::Ptr service) &#123; qDebug() &lt;&lt; \"Service found on\" &lt;&lt; service-&gt;hostName() &lt;&lt; service-&gt;serviceName(); &#125;); connect(m_browser, &amp;KDNSSD::ServiceBrowser::serviceRemoved, this, [](KDNSSD::RemoteService::Ptr service) &#123; qDebug() &lt;&lt; \"Service unregistered on\" &lt;&lt; service-&gt;hostName(); &#125;); m_browser-&gt;startBrowse();&#125; The serviceAdded and serviceRemoved signals are connected with anonymous functions, which only do some output. CMake file At the end, add the 2 programs as executable and link them to the KDNSSD: 1234567add_executable(kdnssd-discover-helloworld service_discover.cpp)add_executable(kdnssd-publish-helloworld service_publish.cpp)find_package(KF5DNSSD)target_link_libraries(kdnssd-discover-helloworld KF5::DNSSD)target_link_libraries(kdnssd-publish-helloworld KF5::DNSSD) Build and run them üòÉ You should be able to discover the fake My Files service published by the ServicePublisher. You can find the source code on my kde-frameworks-tutorial GitHub repo. Give me and my project a star if you like it üòÉ You can also watch it to get notified when there is an update. Conclusion Here I only show a basic use of KDNSSD. To know more details about it, reading documentation is the best way. Good luck! For further reading, you could find the links in Reference chapter. Reference [1] KDE Frameworks, https://kde.org/products/frameworks/ [2] DNS-SD, http://www.dns-sd.org/ [3] RFC 6763 DNS-Based Service Discovery, https://www.ietf.org/rfc/rfc6763.txt [4] KDNSSD Dcoumentation, https://api.kde.org/frameworks/kdnssd/html/index.html","categories":[{"name":"KDE Frameworks","slug":"KDE-Frameworks","permalink":"https://blog.inoki.cc/categories/KDE-Frameworks/"}],"tags":[{"name":"KDE Frameworks","slug":"KDE-Frameworks","permalink":"https://blog.inoki.cc/tags/KDE-Frameworks/"}]},{"title":"„ÄêËØë„ÄëËΩØ‰ª∂ÂÆö‰πâÊó†Á∫øÁîµÁöÑÂü∫Á°Ä ‚Äî‚Äî 3.Êé•Êî∂Êú∫","slug":"Basic-of-Software-Defined-Radio-3","date":"2020-08-07T20:27:00.000Z","updated":"2022-05-09T18:41:39.434Z","comments":true,"path":"2020/08/07/Basic-of-Software-Defined-Radio-3/","link":"","permalink":"https://blog.inoki.cc/2020/08/07/Basic-of-Software-Defined-Radio-3/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://www.eetimes.com/sdr-basics-part-3-transmitters/ ËΩØ‰ª∂ÂÆö‰πâÊó†Á∫øÁîµÔºàSDRÔºâÁöÑÂèëÈÄÅÂäüËÉΩ‰πüÂü∫‰∫éÊüêÁßçÂΩ¢ÂºèÁöÑË∂ÖÂ§ñÂ∑ÆÊàñÁõ¥Êé•ËΩ¨Êç¢„ÄÇÂõæ 18.8 Âíå 18.9 ËØ¥Êòé‰∫ÜËøô‰∏§‰∏™ÈÄâÈ°π„ÄÇÂ§öËΩΩÊ≥¢ÈÄâÈ°πÊúÄÈÄÇÂêàÂçïËΩΩÊ≥¢ÂíåÂ§öËΩΩÊ≥¢Â∫îÁî®ÔºåËÄåÁõ¥Êé•ËΩ¨Êç¢‰∏∫ÂçïËΩΩÊ≥¢Â∫îÁî®Êèê‰æõ‰∫Ü‰∏ÄÁßçÂá∫Ëâ≤ÁöÑ‰ΩéÊàêÊú¨Ëß£ÂÜ≥ÊñπÊ°à„ÄÇ ÈöèÁùÄÈõÜÊàêÊäÄÊúØÁöÑÊîπËøõÔºåÂ§öËΩΩÊ≥¢Áõ¥Êé•ËΩ¨Êç¢ÂèØËÉΩÊàê‰∏∫ÂèØËÉΩ„ÄÇ‰ΩÜÊòØÔºåËøôÊ†∑ÁöÑÂèëÂ∞ÑÈÖçÁΩÆÈúÄË¶ÅÊØîÂØÑÁîüÈúÄÊ±ÇÂ•ΩÁ∫¶ 15 dB ÁöÑËæπÂ∏¶ÊäëÂà∂Ôºå‰ª•Èò≤Ê≠¢‰∏≠ÂøÉÈ¢ëÁéá‰∏Ä‰æßÁöÑÂõæÂÉèË∂ÖËøáÂè¶‰∏Ä‰æßÁöÑÊΩúÂú®Âº±ËΩΩÊ≥¢„ÄÇ Âú®‰ªª‰Ωï‰∏ÄÁßçÂ∫îÁî®‰∏≠ÔºåÊï∞Â≠ó‰ø°Âè∑Â§ÑÁêÜÂô®ÔºàDSPÔºâÊàñÂü∫Â∏¶ ASIC ÂùáÁî®‰∫éÁîüÊàêË∞ÉÂà∂ÂêéÁöÑÂü∫Â∏¶Êï∞ÊçÆ„ÄÇÊ≠§Êï∞ÊçÆÁõ¥Êé•ÈÄÅÂÖ•‰∏ÄÂØπÂü∫Â∏¶Êï∞Â≠ó/Ê®°ÊãüËΩ¨Êç¢Âô®ÔºàDACÔºâÔºàI Âíå QÔºâ‰ª•ËøõË°åÁõ¥Êé• RF Ë∞ÉÂà∂ÔºåÊàñÈÄÅÂÖ•Ë¥üË¥£Â∞ÜÂÖ∂Êï∞Â≠óËΩ¨Êç¢‰∏∫ÂêàÈÄÇÁöÑÊï∞Â≠ó‰∏≠È¢ëÔºàIFÔºâÁöÑÊï∞Â≠óÂ§ÑÁêÜÂô®„ÄÇ ÂèñÂÜ≥‰∫éÂ∫îÁî®ÔºåÂèØ‰ª•ÂçïÁã¨‰ΩøÁî® DSP Êàñ‰∏éÊï∞Â≠óÂ§ÑÁêÜÂô®ÁªìÂêà‰ΩøÁî®ÔºåÂØπÂü∫Â∏¶Êï∞ÊçÆËøõË°åÊï∞Â≠óÈ¢ÑÂ§±ÁúüÔºå‰ªéËÄåÊ∂àÈô§‰ø°Âè∑Èìæ‰∏≠Á®çÂêé‰∫ßÁîüÁöÑÂ§±Áúü‰∫ßÁâ©„ÄÇÂ¶ÇÊûúË¶Å‰ΩøÁî® IF Á∫ßÔºåÂàôÂøÖÈ°ª‰ΩøÁî® FPGA Êàñ ASIC Êàñ‰ΩøÁî®‰º†ÁªüÁöÑÊ∑∑È¢ëÂô®ÊàñË∞ÉÂà∂Âô®Â∞Ü DSP ‰∫ßÁîüÁöÑÂü∫Â∏¶Êï∞ÊçÆÊï∞Â≠óÂåñ‰∏äÂèòÈ¢ëËá≥ÊâÄÈúÄÁöÑ IF„ÄÇ ËøôÁßç‰º†ÁªüÊäÄÊúØÂ∑≤Ë¢´Êï∞Â≠óÊñπÂºèÊâÄÂèñ‰ª£ÔºåËøôÊòØÁî±‰∫éÊï∞Â≠óÈÄªËæëÊèê‰æõ‰∫ÜÊõ¥Â§öÁöÑÁÅµÊ¥ªÊÄß„ÄÅËÄå‰∏îËâØÂ•ΩÁöÑÂÖ∑ÊúâÊÄß‰ª∑ÊØîÁöÑÊï∞Ê®°ËΩ¨Êç¢Âô®Â∑≤ÁªèÂèØÁî®„ÄÇ‰∏éÁõ∏ÂÖ≥ÁöÑÊé•Êî∂ÂäüËÉΩ‰∏ÄÊ†∑ÔºåËØ•ËÆæÂ§áÁöÑÁõÆÁöÑÊòØÂØπÊâÄÈúÄÈÄöÈÅìÁöÑÂ∏¶ÂÆΩËøõË°åÊï¥ÂΩ¢ÔºåÁÑ∂ÂêéÈÄöËøáÊï∞Â≠óÊñπÂºèÂ∞ÜÂÖ∂‰∏äÂèòÈ¢ëËá≥ÊâÄÈúÄ IF È¢ëÁéá„ÄÇ Â¶ÇÊûúÈúÄË¶ÅÂ§ö‰∏™ÈÄöÈÅìÔºåÂàôÂèØ‰ª•Âú®‰∏Ä‰∏™ËäØÁâá‰∏äÂêàÊàêÂÆÉ‰ª¨„ÄÇËΩ¨Êç¢ÂêéÔºåÂèØ‰ª•Â∞ÜÊØè‰∏™ÈÄöÈÅìÂä†Âú®‰∏ÄËµ∑Âπ∂ÊèíÂÄºÂà∞ÊâÄÈúÄÁöÑÊï∞ÊçÆÈÄüÁéáÔºåÁÑ∂ÂêéÂèëÈÄÅÂà∞ DAC„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÔºåÂèØ‰ª•Â∞ÜÊï∞Â≠óÈ¢ÑÂ§±Áúü‰∏é DSP ‰∏ÄËµ∑Ê∑ªÂä†Ôºå‰ª•Ê†°Ê≠£‰ø°Âè∑Èìæ‰∏≠ÁöÑÂ§±Áúü„ÄÇ Ê∑∑È¢ëÂô®ÊàñË∞ÉÂà∂Âô®ÂèØ‰ª•Áî®Êù•Â∞ÜÈ¢ëÁéáËΩ¨Êç¢‰∏∫ÊúÄÁªà RF È¢ëÁéá„ÄÇÂ¶ÇÊûúÈááÁî®Áõ¥Êé•Â∞ÑÈ¢ëË∞ÉÂà∂ÔºåÂàô‰ΩøÁî®Â∞ÑÈ¢ëË∞ÉÂà∂Âô®„ÄÇÂ¶ÇÊûú‰ΩøÁî®‰∏≠È¢ëÔºàÁõ¥Êé•Êù•Ëá™ DAC Êàñ‰º†Áªü‰∏≠È¢ë‰∏äÂèòÈ¢ëÔºâÔºåÂàôÂ∞Ü‰ΩøÁî®Ê∑∑È¢ëÂô®ËΩ¨Êç¢‰∏∫ÊúÄÁªà RF È¢ëÁéá„ÄÇ‰∏éÊé•Êî∂Ê∑∑È¢ëÂô®/Ëß£Ë∞ÉÂô®‰∏ÄÊ†∑ÔºåÂèØËÉΩÈúÄË¶ÅÊõ¥ÊîπÊï∞ÊçÆÁöÑÂÅèÁΩÆÁîµÂπ≥ÊàñÈ©±Âä®ÁîµÂπ≥Êàñ LO ÁîµÂπ≥‰ª•‰ºòÂåñÂ§±Áúü„ÄÇ 18.8 ‰ΩøÁî®Âçï‰∏™‰∏äÂèòÈ¢ëË∂ÖÂ§ñÂ∑ÆÁöÑÂ§öÈÄöÈÅì‰º†Ëæì 18.9: ÂçïËΩΩÊ≥¢Áõ¥Êé•ËΩ¨Êç¢‰º†Ëæì ‰∏éÊé•Êî∂ LO ‰∏ÄÊ†∑ÔºåÂèëÈÄÅ LO ÁöÑÈ¢ëÁéá‰πüÂèØÂèòÔºåÂπ∂‰∏îÂèØ‰ª•ÈÄöËøá‰ΩøÁî® PLL Êàñ DDS ÊäÄÊúØÁöÑËΩØ‰ª∂ÊéßÂà∂ËΩªÊùæÁºñÁ®ã„ÄÇÂú®Ê≠§Ôºå‰πüÂèØËÉΩÈúÄË¶ÅÊõ¥Êîπ LO È©±Âä®ÁîµÂπ≥Ôºå‰ª•‰ºòÂåñÂêÑÁßç‰ø°Âè∑Êù°‰ª∂‰∏ãÁöÑÊùÇÊï£ÊÄßËÉΩ„ÄÇ‰∏éÊé•Êî∂Âô®ÁöÑÂçïÈ¢ëÊÆµÊìç‰Ωú‰∏ÄÊ†∑Ôºå‰πüÂèØËÉΩÂ≠òÂú®ÈúÄË¶ÅÂõ∫ÂÆö LO ÁöÑÊÉÖÂÜµ„ÄÇ ËøôÊ†∑ÁöÑ‰æãÂ≠êÂ∞ÜÁî®‰∫éÂú®Âçï‰∏™È¢ëÂ∏¶ÂÜÖÁöÑÊìç‰ΩúÔºåÂÖ∂‰∏≠Ë∞ÉË∞êÂú® ASIC Êàñ FPGA ÂÜÖÂÆåÊàê„ÄÇ‰∏éÊé•Êî∂Ë∑ØÂæÑ‰∏ÄÊ†∑ÔºåÊï∞ÊçÆËΩ¨Êç¢Âô®Êàñ DAC ÈÄöÂ∏∏ÊòØÁì∂È¢à„ÄÇ‰ΩÜÊòØÔºåÁî±‰∫éÂèëÂ∞Ñ‰ø°Âè∑Ë∑ØÂæÑÁöÑÂä®ÊÄÅËåÉÂõ¥Ë¶ÅÊ±ÇÊØîÊé•Êî∂Ë∑ØÂæÑÁöÑÂä®ÊÄÅËåÉÂõ¥Ë¶ÅÊ±Ç‰ΩéÂæóÂ§öÔºàÈÄöÂ∏∏‰∏∫ 25 Ëá≥ 45 dBÔºâÔºåÂõ†Ê≠§ÁªÑ‰ª∂ÈÄâÊã©Âπ∂‰∏çÈÇ£‰πàÂõ∞Èöæ„ÄÇÊúâËÆ∏Â§öÂèØÁî®ÁöÑ DAC ÂèØ‰ª•ÁÆÄÂåñÂ§ßËåÉÂõ¥ÁöÑË∞ÉÊï¥ÔºåÂåÖÊã¨Â¢ûÁõäÂíåÂ§±Ë∞ÉÊ†°Ê≠£Ôºå‰ªéËÄåÂèØ‰ª•ÊúÄÂ§ßÁ®ãÂ∫¶Âú∞ÂáèÂ∞èÂèëÂ∞Ñ‰ø°Âè∑Èìæ‰∏≠ÁöÑ I/Q ‰∏çÂπ≥Ë°°„ÄÇ ÂÖ∂‰ªñÊâÄÈúÄÁöÑÂäüËÉΩÂåÖÊã¨Êï∞ÊçÆÈÄüÁéáÊèíÂÄºÂíå I/Q Áõ∏‰ΩçÊ†°Ê≠£„ÄÇ ÊúÄÂêéÔºåÈÄöËøáÂâçÁΩÆÊîæÂ§ßÂô®ÂíåÂäüÁéáÊîæÂ§ßÂô®ÔºàPAÔºâÂÆûÁé∞ÂäüÁéáÂ¢ûÁõä„ÄÇÈô§‰∫ÜËøô‰∫õËÆæÂ§áÂøÖÈ°ªÂú®ÂæàÂÆΩÁöÑÈ¢ëÁéáËåÉÂõ¥ÂÜÖÂ∑•‰Ωú‰πãÂ§ñÔºåËøòÈúÄË¶ÅË∞ÉÊï¥RFËæìÂá∫ÂäüÁéá„ÄÇËøôÂèØËÉΩÂ≠òÂú®Ë∞ÉÊï¥ÁöÑÈóÆÈ¢òÔºåË¶ÅÊ±ÇÊüê‰∫õÈ¢ëÁéá‰ª•ÊØîÂÖ∂‰ªñÈ¢ëÁéáÊõ¥‰ΩéÁöÑÂäüÁéáËøõË°å‰º†Ëæì„ÄÇËôΩÁÑ∂ PA Â¢ûÁõäÈÄöÂ∏∏ÊòØÂõ∫ÂÆöÁöÑÔºå‰ΩÜÂâçÁΩÆÊîæÂ§ßÂô®ÂèØ‰ª•ÈááÁî® VGA ÁöÑÂΩ¢Âºè„ÄÇ ÁªìËÆ∫ ÈöèÁùÄÂÖ®ÁêÉËåÉÂõ¥ÂÜÖÊñ∞ÁöÑÂíåÊõ¥Â§çÊùÇÁöÑÈÄö‰ø°Ê†áÂáÜÁöÑÂèëÂ±ïÔºåÂØπÊñ∞Êî∂ÂèëÂô®Êû∂ÊûÑÁöÑÈúÄÊ±Ç‰πüÂ∞ÜÂ¢ûÈïø„ÄÇ‰ΩÜÊòØÔºåË∂äÊù•Ë∂äÂ§öÁöÑÂèØÁî®ËµÑÈáëÔºåÊó†ËÆ∫ÊòØËµÑÈáëËøòÊòØ‰∫∫ÂäõÔºåÈÉΩÈôêÂà∂‰∫ÜÂèØ‰ª•Ëß£ÂÜ≥ÁöÑËÆæËÆ°„ÄÇÂπ∏ËøêÁöÑÊòØÔºåËΩØ‰ª∂Êó†Á∫øÁîµÊäÄÊúØÂèØÁî®‰∫éËøô‰∫õÊû∂ÊûÑ‰∏≠‰∏çÊñ≠Â£ÆÂ§ßÁöÑ‰∏ÄÁªÑÔºåËøô‰∫õÊû∂ÊûÑÂÖÅËÆ∏Âçï‰∏™Âπ≥Âè∞Âà©Áî®Âà∞ËÆ∏Â§ö‰∏çÂêåÁöÑËÆæËÆ°‰∏≠„ÄÇÂ¶ÇÊ≠§ÊñáÊâÄÁ§∫ÔºåËøôÂÖ∑ÊúâËÆ∏Â§öÊòéÊòæÁöÑ‰ºòÂäøÔºåÂπ∂‰∏î‰∏ç‰ªÖÈôê‰∫é‰∫íÊìç‰ΩúÊÄßÔºåÊäïËµÑ‰øùÊåÅÂíåÊûÅÂ§ßÁöÑÁÅµÊ¥ªÊÄß„ÄÇ ‰∏é‰ªª‰ΩïËΩØ‰ª∂È°πÁõÆ‰∏ÄÊ†∑ÔºåSDR ÁöÑÊΩúÂäõÈÄöÂ∏∏‰ªÖÂèóËÆæËÆ°‰∫∫ÂëòÁöÑÊÉ≥Ë±°ÂäõÈôêÂà∂„ÄÇ‰∏é‰ªª‰ΩïËΩØ‰ª∂È°πÁõÆ‰∏ÄÊ†∑ÔºåÊúÄÂ§ßÁöÑÂ•ΩÂ§ÑÊòØÔºåÂ¶ÇÊûúÂ≠òÂú®ËÆæËÆ°ÈîôËØØÔºåÂàôÂèØ‰ª•Âä®Âä®ÈîÆÁõòÂ∞±ÁÆÄÂçïÂú∞Ëß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ Âπ∏ËøêÁöÑÊòØÔºåÊúÄËøëÂçÅÂπ¥Êù•ÔºåÂçäÂØº‰ΩìÊäÄÊúØÂèñÂæó‰∫ÜÈáçÂ§ßËøõÊ≠•Ôºå‰∏ç‰ªÖÂú®ÊÄßËÉΩ‰∏äÔºåËÄå‰∏îÂú®ÊàêÊú¨‰∏ä‰πüÂèñÂæó‰∫Ü‰ª§‰∫∫Áû©ÁõÆÁöÑÊàêÂ∞±[17]„ÄÇSDR ÊòØ‰ªéËøô‰∫õÂ§öÊ†∑ÂåñÁöÑÊäÄÊúØ‰∏≠ÂèóÁõäÂå™ÊµÖÁöÑÈ¢ÜÂüüÔºåÂπ∂‰∏îÈöèÁùÄ SDR Âê´‰πâÁöÑÂèëÂ±ïÔºåÂÆÉÂ∞ÜÁªßÁª≠ËøôÊ†∑ÁöÑË∂ãÂäøÔºåÂ∞±ÂÉèÁºñÁ®ãËØ≠Ë®ÄÂéÜÂè≤‰∏äÁöÑÊÉÖÂÜµ‰∏ÄÊ†∑„ÄÇ Â∞ΩÁÆ° SDR Âπ∂ÈùûËß£ÂÜ≥ÊâÄÊúâÈÄö‰ø°ÈóÆÈ¢òÁöÑÊñπÊ≥ïÔºå‰ΩÜÂÆÉÂ∞ÜÂú®Êú™Êù•Âá†Âπ¥ÂÜÖ‰∏∫ÊåëÊàòÊÄßËÆæËÆ°ÈóÆÈ¢òÊèê‰æõÂèØÈù†ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇÂåÖÊã¨Áõ∏ÊéßÈòµÊäÄÊúØÔºåÂÆö‰ΩçÊúçÂä°Ôºå‰∫íÊìç‰ΩúÊÄß‰ª•ÂèäÂ∞öÊú™ÂÆö‰πâÁöÑÂ§çÊùÇÊ¶ÇÂøµ„ÄÇ‰ΩÜÊòØÔºå‰ªçÁÑ∂Â≠òÂú®‰∏Ä‰∫õÊåëÊàòÔºå‰ΩøÂæóÊó†Ê≥ïÂÆåÂÖ®Êé•ÂèóËØ•ÊäÄÊúØ„ÄÇ‰∏§‰∏™‰∏ªË¶ÅÈóÆÈ¢òÂàÜÂà´ÊòØÊàêÊú¨ÂíåÂäüËÄó„ÄÇÊúâË∂£ÁöÑÊòØÔºåËøô‰∏§ËÄÖÂÖ∑Êúâ‰∏ÄÈò∂Ê≠£Áõ∏ÂÖ≥ÂÖ≥Á≥ªÔºöËß£ÂÜ≥‰∏Ä‰∏™ÈóÆÈ¢ò„ÄÅÂè¶‰∏Ä‰∏™Âè™‰ºöÂèòÂæóÊõ¥Â•Ω„ÄÇÊ≤°Êúâ‰ΩéÂäüËÄóÔºåÁî®Êà∑ËÆæÂ§áÂ∞ÜÊó†Ê≥ïÂÖÖÂàÜÂà©Áî® SDR ÊäÄÊúØ„ÄÇÊòæÁÑ∂ÔºåÁîµÊ∫êÈóÆÈ¢òÊù•Ëá™ÂØπÈ´òÊÄßËÉΩÁªÑ‰ª∂ÁöÑÈúÄÊ±ÇÔºåÈ´òÊÄßËÉΩÊÑèÂë≥ÁùÄË∂ÖÁ∫øÊÄßËÆæÂ§áÔºåÈ´òÁ∫øÊÄßÂ∫¶Âô®‰ª∂ÊÑèÂë≥ÁùÄÈÄöËøáÈ´òÁîµÊµÅ‰ºöÈôç‰ΩéÊïàÁéá„ÄÇ Âõ†Ê≠§ÔºåÂ¶ÇÊûúËß£ÂÜ≥‰∫ÜÂ¶Ç‰ΩïËÆæËÆ°‰ΩéÂäüËÄóÈ´òÁ∫øÊÄßÂ∫¶ËÆæÂ§áÁöÑÈóÆÈ¢òÔºåÂπ∂‰∏îËøôÊòØÂèØ‰ª•Ëß£ÂÜ≥ÁöÑÔºåÈÇ£‰πàÊàêÊú¨‰πüÂ∞Ü‰∏ãÈôçÔºåËøô‰∏∫ËÆ∏Â§öÂÖ∂‰ªñÂ∫îÁî®ÊâìÂºÄ‰∫ÜÂ§ßÈó®„ÄÇÂõ†Ê≠§ÔºåÁªßÁª≠ËøõË°å SDR ÂºÄÂèëÂíåÊºîËøõÁöÑÂÖ≥ÈîÆÊòØÁªßÁª≠Ê≤øÊë©Â∞îÂÆöÂæãÊõ≤Á∫øÊîπËøõËÆæÂ§áÔºåÂπ∂ÁªßÁª≠ÂØπÁÅµÊ¥ªÁöÑÊó†Á∫øÁîµÊû∂ÊûÑ‰∫ßÁîüÂÖ¥Ë∂£„ÄÇÂ∞ΩÁÆ°Â≠òÂú®Ëøô‰∫õÊåëÊàòÔºå‰ΩÜÂΩìÂâçÁöÑÊÄßËÉΩÁä∂ÊÄÅÂ∑≤Ë∂≥‰ª•‰ΩøÂ∑•Á®ãÂ∏àÂíåÂà∂ÈÄ†ÂïÜËÆ§ÁúüÁ†îÁ©∂ SDR ÁöÑÂèØËÉΩÊÄß„ÄÇ ÂèÇËÄÉ J. H. Reed, Software Radio: A Modern Approach to Radio Engineering, Prentice Hall, Upper Saddle River, NJ, 2002. J. Mitola, III, ‚ÄúSoftware Radio‚ÄùCognitive Radio,‚Äù http://ourworld. compuserve.com/homepages/jmitola/. B. Brannon, D. Efstathiou, and T. Gratzek, ‚ÄúA Look at Software Radios: Are They Fact or Fiction?‚Äù Electronic Design, (December 1998): pp. 117‚Ä≥122. B. Clarke and K. Kreitzer, ‚ÄúSoftware Radio Concepts,‚Äù unpublished paper. B. Brannon, ‚ÄúDigital-Radio-Receiver Design Requires Reevaluation of Parameters,‚Äù EDN, 43 (November 1998): pp. 163‚Ä≥170. B. Brannon, ‚ÄúNew A/D Converter Benefi ts Digital IFs,‚Äù RF Design, 18 (May 1995):pp. 50‚Ä≥65. W. H. Hayward, ‚ÄúIntroduction to Radio Frequency Design,‚Äù The American Radio Relay League, 1994‚Ä≥1996. J. J. Carr, Secrets of RF Circuit Design, McGraw-Hill, New York, 2001. B. Brannon, ‚ÄúFast and Hot: Data Converters for Tomorrow‚Äôs Software-Defi ned Radios,‚Äù RF Design, 25 (July 2002): pp. 60‚Ä≥66. B. Brannon and C. Cloninger, ‚ÄúRedefining the Role of ADCs in Wireless,‚Äù Applied Microwave and Wireless, 13 (March 2001): pp. 94‚Ä≥105. B. Brannon, ‚ÄúDNL and Some of Its Effects on Converter Performance,‚Äù Wireless Design and Development, 9 (June 2001): p. 10. w.newnespress.com B. Brannon, ‚ÄúOvercoming Converter Nonlinearies with Dither,‚Äù Analog Devices Applications Note AN-410, www.analog.com. W. Kester, ‚ÄúHigh-Speed Sampling and High-Speed ADCs,‚Äù Section 4, High-Speed Design Techniques, www.analog.com. W. Kester, ‚ÄúHigh-Speed DACs and DDS Systems,‚Äù Section 6, High-Speed Design Techniques, www.analog.com. About CDMA and CDMA University. Available at http:// www.qualcomm.com. Specifications. Available at http://www.3gpp2.org. R. H. Walden, ‚ÄúAnalog-to-Digital Converter Survey and Analysis,‚Äù IEEE Communications Magazine, 17 (April 1999): pp. 539‚Ä≥550. H. Nyquist, ‚ÄúCertain Topics in Telegraph Transmission Theory,‚Äù AIEE Transactions, 47 (April 1928): pp. 617‚Ä≥644. AD6645 Datasheet. Available at http://www.analog.com.","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"SDR","slug":"SDR","permalink":"https://blog.inoki.cc/categories/SDR/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"SDR","slug":"SDR","permalink":"https://blog.inoki.cc/tags/SDR/"}]},{"title":"‰∫ëËæìÂÖ•Âú® ibus-libpinyin ‰∏≠ÁöÑÂÆûÁé∞ - ÈÖçÁΩÆÈ°π","slug":"IBus-libpinyin-cloud-input-configurations","date":"2020-07-16T20:20:00.000Z","updated":"2022-05-09T18:41:39.454Z","comments":true,"path":"2020/07/16/IBus-libpinyin-cloud-input-configurations/","link":"","permalink":"https://blog.inoki.cc/2020/07/16/IBus-libpinyin-cloud-input-configurations/","excerpt":"","text":"ÂâçÂá†ÁØáÊñáÁ´†ÊèèËø∞‰∫Ü‰∫ëËæìÂÖ•ËØ∑Ê±ÇÁöÑÂÖ®ËøáÁ®ã„ÄÇÂÖ∂‰∏≠ÔºåÂíå‰∫ëËæìÂÖ•ÊúâÂÖ≥ÁöÑÂèÇÊï∞ÔºàÊØîÂ¶ÇÔºöÈúÄË¶ÅËØ∑Ê±ÇÂá†‰∏™‰∫ëËæìÂÖ•ÁªìÊûúÔºåÂª∂Êó∂ÂèëÈÄÅËØ∑Ê±ÇÈúÄË¶ÅÂª∂Êó∂Â§ö‰πÖÁ≠âÔºâÊòØÁî± GLib ‰∏≠ÁöÑ GSettings Ê®°ÂùóË¥üË¥£ÂÇ®Â≠ò‰∏éËØªÂèñÁöÑ„ÄÇ Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÔºåËøô‰∏™Ê®°ÂùóÈÉΩÂèØ‰ª•ÈÄöËøáËØªÂèñÈ°πÁõÆ‰∏≠ÁöÑÈÖçÁΩÆÊèèËø∞Êñá‰ª∂ÔºåÁîüÊàêÂØπÂ∫îÁöÑÈÖçÁΩÆÈ°πÔºàÂÆûÈôÖ‰∏äÔºå‰πüÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Ë°åÂàõÂª∫„ÄÅËØªÂèñ„ÄÅ‰øÆÊîπÈÖçÁΩÆÈ°πÔºåËøôÈáå‰∏çÂÅöÁ¥ØËø∞Ôºâ„ÄÇ ÈÖçÁΩÆÊèèËø∞Êñá‰ª∂ GSettings ÈÄöËøáËØªÂèñ‰∏Ä‰∏™‰ª• .gschema.xml ÁªìÂ∞æ„ÄÅXML Ê†ºÂºèÁöÑÈÖçÁΩÆÊèèËø∞Êñá‰ª∂ÁîüÊàêÂØπÂ∫îÈÖçÁΩÆÈ°π„ÄÇ‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑÈÖçÁΩÆÊèèËø∞Êñá‰ª∂Â¶Ç‰∏ãÔºö 123456789101112131415161718&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;schemalist&gt; &lt;schema path=\"/org/example/myapp/\" id=\"org.example.myapp\"&gt; &lt;key name='automatic-updates' type='b'&gt; &lt;default&gt;true&lt;/default&gt; &lt;summary&gt;Automatically install updates&lt;/summary&gt; &lt;description&gt; If enabled, updates will automatically be downloaded and installed. If disabled, updates will still be downloaded, but the user will be asked to install them manually. &lt;/description&gt; &lt;/key&gt; &lt;/schema&gt;&lt;/schemalist&gt; ÊØè‰∏™ &lt;schema&gt; Ê†áÁ≠æÂØπÂ∫î‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫èÔºõÊØè‰∏™ &lt;key&gt; ÂØπÂ∫î‰∏Ä‰∏™ÈÖçÁΩÆÈ°πÔºåname Â±ûÊÄßÊåáÂÆö‰∫ÜÈÖçÁΩÆÈ°πÁöÑÂêçÁß∞Ôºåtype Â±ûÊÄßÊåáÂÆö‰∫ÜÂÄºÁöÑÁ±ªÂûãÔºåÁ§∫‰æã‰∏≠ÁöÑ automatic-updates Â±ûÊÄß‰∏∫‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåÈªòËÆ§ÂÄº‰∏∫ true„ÄÇ ÂàõÂª∫Â•Ω‰∏Ä‰∏™ÈÖçÁΩÆÈ°πÊèèËø∞Êñá‰ª∂‰∫Ü‰πãÂêéÔºåÂú® Makefile.am ‰∏≠Â∞ÜÊñá‰ª∂Âêç‰º†Áªô gsettings_SCHEMASÔºåGLib ‰∏≠ automake Áõ∏ÂÖ≥ÁöÑÊìç‰Ωú‰ºöËøõË°å‰πãÂêéÁöÑÊìç‰Ωú„ÄÇÊØîÂ¶ÇÔºåÂú® ibus-libpinyin ‰∏≠ÁöÑ data/Makefile.am Ëøô‰∏ÄË°åÂ∞±Â£∞Êòé‰∫ÜÈ°πÁõÆ‰∏≠ÁöÑÈÖçÁΩÆÊèèËø∞Êñá‰ª∂Ôºö 1gsettings_SCHEMAS = com.github.libpinyin.ibus-libpinyin.gschema.xml Âú®Ëøô‰∏™Êñá‰ª∂‰∏≠ÔºåÂ£∞Êòé‰∫Ü‰∏§‰∏™‚ÄúÂ∫îÁî®Á®ãÂ∫è‚ÄùÁöÑÈÖçÁΩÆÈ°πÔºåÂõ†‰∏∫ÂÆûÈôÖ‰∏ä ibus-libpinyin ÂåÖÂê´‰∫Ü‰∏Ä‰∏™ÊãºÈü≥ËæìÂÖ•Ê≥ï libpinyin Âíå‰∏Ä‰∏™Ê≥®Èü≥ËæìÂÖ•Ê≥ï libbopomofo„ÄÇ 123&lt;schema path=\"/com/github/libpinyin/ibus-libpinyin/libpinyin/\" id=\"com.github.libpinyin.ibus-libpinyin.libpinyin\"&gt;&lt;/schema&gt;&lt;schema path=\"/com/github/libpinyin/ibus-libpinyin/libbopomofo/\" id=\"com.github.libpinyin.ibus-libpinyin.libbopomofo\"&gt;&lt;/schema&gt; ‰∫ëËæìÂÖ•Áõ∏ÂÖ≥ÈÖçÁΩÆÈ°π Âú®Ëøô‰∏§ÁªÑÈÖçÁΩÆÈ°π‰∏≠Ôºå‰∏é‰∫ëËæìÂÖ•ÊúâÂÖ≥ÁöÑÈÖçÁΩÆÈ°πÂ¶Ç‰∏ãÔºö 12345678910111213141516&lt;key name=\"enable-cloud-input\" type=\"b\"&gt; &lt;default&gt;false&lt;/default&gt; &lt;summary&gt;Enable Cloud Input&lt;/summary&gt;&lt;/key&gt;&lt;key name=\"cloud-input-source\" type=\"i\"&gt; &lt;default&gt;0&lt;/default&gt; &lt;summary&gt;Cloud Input Source&lt;/summary&gt;&lt;/key&gt;&lt;key name=\"cloud-candidates-number\" type=\"i\"&gt; &lt;default&gt;1&lt;/default&gt; &lt;summary&gt;Cloud Candidates Number&lt;/summary&gt;&lt;/key&gt;&lt;key name=\"cloud-request-delay-time\" type=\"i\"&gt; &lt;default&gt;600&lt;/default&gt; &lt;summary&gt;Sending Cloud request with delay&lt;/summary&gt;&lt;/key&gt; ÂÖ∂‰∏≠Ôºåenable-cloud-input ‰∏∫ÊòØÂê¶ÂêØÁî®‰∫ëËæìÂÖ•Ôºåcloud-input-source ‰∏∫‰∫ëËæìÂÖ•Ê∫êÁöÑÈÄâÊã©Ôºåcloud-candidates-number ÊòØÊúüÊúõËøîÂõûÁöÑ‰∫ëËæìÂÖ•ÂÄôÈÄâ‰∏™Êï∞Ôºåcloud-request-delay-time ÊòØÂª∂Êó∂ÂèëÈÄÅ‰∫ëËæìÂÖ•ËØ∑Ê±ÇÁöÑÊó∂Èó¥ÔºåÂçï‰Ωç‰∏∫ÊØ´Áßí„ÄÇ Áé∞Âú®ÁâàÊú¨‰∏≠ÁöÑÈÖçÁΩÆÈ°πÊòØ‰ªé 18 ÁâàÁ≤æÁÆÄ‰πãÂêéÁöÑÔºåÁ≤æÁÆÄ‰πãÂâçÁöÑÈÖçÁΩÆÈ°πÊõ¥Âä†ÁπÅÁêêÔºåÂ¶ÇÂõæÊâÄÁ§∫Ôºö ÈÖçÁΩÆÁïåÈù¢ Áé∞Âú®Âá∫Áé∞Âú®ÈÖçÁΩÆÈ°µÈù¢‰∏≠ÁöÑÈÖçÁΩÆÈ°πÂè™Êúâ‰∏§‰∏™‰∫ÜÔºå‰∫éÊòØÂ∞Ü‰πãÂâç 18 Áâà‰∏≠ÂçïÁã¨ÁöÑÈÖçÁΩÆÈ°µÈù¢ÁßªÈô§ÔºåÈÖçÁΩÆÈ°πÊîæÂÖ• pinyin ÈÖçÁΩÆÈ°µ‰∏≠Ôºö Âú®Ëøô‰∏™ÈÖçÁΩÆÈ°µÈù¢‰∏≠Ôºå‰ªÖÊúâ‰∫ëËæìÂÖ•ÁöÑÂêØÁî®Âíå‰∫ëËæìÂÖ•Ê∫êÁöÑÈÄâÊã©ÂèØÁî®„ÄÇ Âª∂Êó∂ÂèëÈÄÅ‰∫ëËæìÂÖ•ËØ∑Ê±ÇÁöÑÊó∂Èó¥‰∏ÄËà¨ÊÉÖÂÜµ‰∏ã‰∏ç‰ºöÊúâ‰∫∫‰øÆÊîπÔºåÁõÆÂâçÁöÑÂÄºÂÖàËÆæ‰∏∫ 600msÔºå‰∏äÁ∫øÂêéÊî∂ÈõÜÁî®Êà∑ÁöÑÂèçÈ¶àÔºåÊ†πÊçÆÊÉÖÂÜµËøõË°å‰øÆÊîπ„ÄÇÂè¶Â§ñÔºåÁî®Êà∑‰πüÂèØ‰ª•ÈÄöËøá GSettings ÁöÑÂëΩ‰ª§Ë°åÊé•Âè£ÂØπËøô‰∏™ÂÄºËøõË°å‰øÆÊîπ„ÄÇËÄåÊúüÊúõËøîÂõûÁöÑ‰∫ëËæìÂÖ•ÂÄôÈÄâ‰∏™Êï∞ÔºåÁî±‰∫éÂâçÊñáÊâÄËØ¥ÁöÑ‚ÄúÁôæÂ∫¶‰∫ëËæìÂÖ•Ê∫êÊó†ËÆ∫‰ΩïÊó∂ÈÉΩÂè™ËøîÂõû‰∏Ä‰∏™ÂÄôÈÄâ‚ÄùÔºåÁõÆÂâçÈªòËÆ§ÂÆö‰∏∫1„ÄÇ ÈÖçÁΩÆÁöÑ GUI ÁïåÈù¢ÊòØ setup/ibus-libpinyin-preferences.ui Êñá‰ª∂ÊèèËø∞ÁöÑÔºåÂú® setup/main2.py ‰ª£Á†Å‰∏≠Áî± Gtk ÁöÑ Python ÁªëÂÆöË¥üË¥£ÂÆû‰æãÂåñÂíå‰∫ã‰ª∂Â§ÑÁêÜ„ÄÇ ÂÖ≥‰∫éÈÖçÁΩÆÈÉ®ÂàÜÁöÑÊï¥‰ΩìÊû∂ÊûÑÂ¶ÇÂõæÔºö ÈÖçÁΩÆÁïåÈù¢ GUI Âíå Python Á®ãÂ∫èÂèØ‰ª•ËØªÂèñÊàñ‰øÆÊîπ GSettings ‰∏≠ÁöÑÈÖçÁΩÆÂÄº„ÄÇ ibus-libpinyin ‰∏≠ÁöÑ libpinyin Êàñ libbopomofo ÁöÑÂêÑ‰∏™Ê®°ÂùóÂèØ‰ª•ËØªÂèñÂà∞ÈÖçÁΩÆÂÄº„ÄÇ ÈÄöËøá GSettings ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑‰πüÂèØ‰ª•Áõ¥Êé•‰øÆÊîπÂØπÂ∫îÁöÑÂÄº„ÄÇ ibus-libpinyin ‰∏ªÁ®ãÂ∫è‰∏≠ÁöÑ‰∫ëËæìÂÖ•ÈÖçÁΩÆÈ°π PYConfig Êñá‰ª∂‰∏≠Â£∞Êòé‰∫Ü Config Á±ªÔºå‰ª•Âèä‰∏éÈÖçÁΩÆÁõ∏ÂÖ≥ÁöÑ‰∏ÄÁ≥ªÂàóÂÄº„ÄÇÊØîÂ¶Ç‰∏é‰∫ëËæìÂÖ•Áõ∏ÂÖ≥ÁöÑ CloudInputSource ‰∫ëËæìÂÖ•Ê∫êÔºö 1234enum CloudInputSource&#123; BAIDU = 0, GOOGLE&#125;; Âú® Config Á±ª‰∏≠ÂÇ®Â≠ò‰∫Ü‰∏é‰∫ëËæìÂÖ•ÈÖçÁΩÆÈ°πÊúâÂÖ≥ÁöÑ‰øùÊä§ÂèòÈáèÂèäÂÖ∂ËØªÂèñÂáΩÊï∞Ôºö 123456789gboolean enableCloudInput (void) const &#123; return m_enable_cloud_input; &#125;guint cloudInputSource (void) const &#123; return m_cloud_input_source; &#125;guint cloudCandidatesNumber (void) const &#123; return m_cloud_candidates_number; &#125;guint cloudRequestDelayTime (void) const &#123; return m_cloud_request_delay_time; &#125;gboolean m_enable_cloud_input;guint m_cloud_input_source;guint m_cloud_candidates_number;guint m_cloud_request_delay_time; Ê≠£Â¶Ç‰πãÂâçÈÖçÁΩÆËØªÂèñÊû∂ÊûÑÊèèËø∞ÁöÑÈÇ£Ê†∑ÔºåËøôÈáåÁöÑÊï∞ÊçÆÊµÅÂ∫îÂΩìÊòØÂçïÂêëÁöÑÔºåÂõ†Ê≠§‰∏çÂ∫îÂΩìÊúâ‰ªéÊ≠§Â§ÑÊõ¥ÊîπÈÖçÁΩÆÂÄºÁöÑÊìç‰Ωú„ÄÇ ËØªÂèñÈÖçÁΩÆÊó∂ÈúÄË¶ÅÁî®Âà∞ÈÖçÁΩÆÈ°πÂêçÂ≠óÔºåÂØπÂ∫îÁöÑÊòØ .gschema.xml ‰∏≠ÁöÑ key Ê†áÁ≠æÁöÑ name Â±ûÊÄßÂÄºÔºåÂú® ibus-libpinyin ‰∏≠Â£∞ÊòéÊàê‰∏ÄÁ≥ªÂàóÂ∏∏ÈáèÔºö 1234const gchar * const CONFIG_INIT_ENABLE_CLOUD_INPUT = \"enable-cloud-input\";const gchar * const CONFIG_CLOUD_INPUT_SOURCE = \"cloud-input-source\";const gchar * const CONFIG_CLOUD_CANDIDATES_NUMBER = \"cloud-candidates-number\";const gchar * const CONFIG_CLOUD_REQUEST_DELAY_TIME = \"cloud-request-delay-time\"; Âú®Ëøô‰∏™Á±ª‰∏≠ÔºåÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑÊñπÊ≥ïËØªÂèñ‰∏Ä‰∏™Â±ûÊÄßÂÄºÔºö 1m_enable_cloud_input = read (CONFIG_INIT_ENABLE_CLOUD_INPUT, false); ËØªÂèñËøáÂêéÔºåËøòÊúâÂØπÂÄºÁöÑÂêàÊ≥ïÊÄßÁöÑ‰∏ÄÁ≥ªÂàóÊ£ÄÊü•ÔºåÂ¶ÇÊûúË∂ÖËøá‰∫ÜÈôêÂà∂Ôºå‰ºöÁΩÆ‰∏∫ÈªòËÆ§ÂÄºÔºåÂπ∂ÊòæÁ§∫‰∏Ä‰∏™Ë≠¶Âëä„ÄÇ 12345678910111213141516m_cloud_candidates_number = read (CONFIG_CLOUD_CANDIDATES_NUMBER, 1);if (m_cloud_candidates_number &gt; 10 || m_cloud_candidates_number &lt; 1) &#123; m_cloud_candidates_number = 1; g_warn_if_reached ();&#125;m_cloud_input_source = read (CONFIG_CLOUD_INPUT_SOURCE, 0);if (m_cloud_input_source != BAIDU &amp;&amp; m_cloud_input_source != GOOGLE) &#123; m_cloud_input_source = BAIDU; g_warn_if_reached ();&#125;m_cloud_request_delay_time = read (CONFIG_CLOUD_REQUEST_DELAY_TIME, 600);if (m_cloud_request_delay_time &gt; 2000 || m_cloud_request_delay_time &lt; 200) &#123; m_cloud_request_delay_time = 600; g_warn_if_reached ();&#125; Âú®ÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÔºåÂàùÂßãÂåñËøáÈªòËÆ§ÂÄº‰πãÂêéÔºå‰ºöÂ∞Ü valueChangedCallback ÂáΩÊï∞Ê≥®ÂÜå‰∏∫ changed ‰ø°Âè∑ÁöÑÂõûË∞É„ÄÇ 12345initDefaultValues ();g_signal_connect (m_settings, \"changed\", G_CALLBACK (valueChangedCallback), this); Â¶ÇÊûúÂÄºÂèëÁîü‰∫ÜÂèòÂåñÔºåËøô‰∏™ÂáΩÊï∞‰ºöË¢´Ë∞ÉÁî®ÔºåÁÑ∂ÂêéÂØπÂ∫îÁöÑÈÖçÁΩÆÂÄº‰ºöË¢´Êõ¥Êñ∞„ÄÇ ‰∫ëËæìÂÖ•‰∏≠Ëé∑ÂèñÈÖçÁΩÆÁöÑÂÆûÁé∞ ÁõÆÂâçÔºå‰∫ëËæìÂÖ•ÁöÑÈÖçÁΩÆ‰ªÖ‰ªÖÂú® CloudCandidates ÊûÑÈÄ†ÂáΩÊï∞‰∏≠ËØªÂèñÔºö 123m_cloud_source = m_editor-&gt;m_config.cloudInputSource ();m_delayed_time = m_editor-&gt;m_config.cloudRequestDelayTime ();m_cloud_candidates_number = m_editor-&gt;m_config.cloudCandidatesNumber (); ‰πãÂêéÁöÑËøáÁ®ãÈÉΩÁõ¥Êé•‰ΩøÁî® CloudCandidates ÂÜÖÊöÇÂ≠òÁöÑÈÖçÁΩÆÂÄº„ÄÇ ËøôÊ†∑ÈÄ†ÊàêÁöÑÈóÆÈ¢òÊòØÔºåÁî®Êà∑Âú®Êõ¥Êîπ‰∫ÜÈÖçÁΩÆ‰πãÂêéÔºåÂÄºÊõ¥ÊîπÁöÑ‰∫ã‰ª∂‰ºöË¢´Ëß¶ÂèëÔºåConfig ÂíåÂÆÉÁöÑÂ≠êÁ±ª‰∏≠ÁöÑÂÄº‰ºöÊõ¥Êñ∞‰∏∫Êñ∞ÂÄºÔºõ‰ΩÜ CloudCandidates ‰∏≠‰ªç‰∏∫ÊóßÂÄºÔºåÂè™ÊúâÂú®ÂàáÊç¢Âà∞ÂÖ∂‰ªñËæìÂÖ•Ê≥ïÔºåÂÜçÂàáÊç¢ÂõûÊù•ÔºåCloudCandidates ÁöÑÊûÑÈÄ†ÂáΩÊï∞Êâç‰ºöÂÜçÊ¨°Ë¢´Ë∞ÉÁî®ÔºåÊñ∞ÁöÑÈÖçÁΩÆÂÄºÊâç‰ºöÊõ¥Êñ∞Âà∞Ëøô‰∏™Êñ∞ÁöÑ CloudCandidates ÂÆû‰æã„ÄÇ ‰ºòÂåñÁöÑÂÖ∂‰∏≠‰∏ÄÈ°πÊñπÊ≥ïÊòØÂ∞ÜÊöÇÂ≠òÁöÑÂÄºÂèñÊ∂àÔºåÊØèÊ¨°‰ΩøÁî®Êó∂Áõ¥Êé•‰ªé Config ÁöÑÂÆû‰æãËØªÂèñÔºåËøôÊ†∑ËÉΩ‰øùËØÅ‰∏ÄÁõ¥ÊòØÊúÄÊñ∞ÁöÑÂÄº„ÄÇ ÊÄªÁªì ËøôÁØáÊñáÁ´†Á≤óÁï•‰ªãÁªç‰∫Ü‰ΩøÁî® GLib ÁöÑ GSettings ÂÆûÁé∞Â∫îÁî®Á®ãÂ∫èÈÖçÁΩÆÁöÑËøáÁ®ãÔºå‰ª•ÂèäÂÖ∑‰ΩìÁöÑÂú® ibus-libpinyin ‰∏≠ÁöÑÂÆûÁé∞„ÄÇ","categories":[{"name":"ibus-libpinyin","slug":"ibus-libpinyin","permalink":"https://blog.inoki.cc/categories/ibus-libpinyin/"}],"tags":[{"name":"IBus","slug":"IBus","permalink":"https://blog.inoki.cc/tags/IBus/"},{"name":"ibus-libpinyin","slug":"ibus-libpinyin","permalink":"https://blog.inoki.cc/tags/ibus-libpinyin/"},{"name":"Cloud Input","slug":"Cloud-Input","permalink":"https://blog.inoki.cc/tags/Cloud-Input/"}]},{"title":"KDE Connect ÂÆâË£Ö Q&A","slug":"KDEConnect-Install-QA","date":"2020-07-07T23:33:33.000Z","updated":"2022-05-09T18:41:39.466Z","comments":true,"path":"2020/07/07/KDEConnect-Install-QA/","link":"","permalink":"https://blog.inoki.cc/2020/07/07/KDEConnect-Install-QA/","excerpt":"","text":"ËøôÁØáÊñáÁ´†ËÆ∞ÂΩï‰∫Ü QQ Áæ§‰∏≠ÂõûÁ≠îÁöÑ‰∏Ä‰∫õÂÆâË£ÖÈÖçÁΩÆÊñπÈù¢ÁöÑÈóÆÈ¢ò„ÄÇ Áæ§Âè∑Á†ÅÔºö668331167 ÊàñÁÇπÂáªÈìæÊé•Âä†ÂÖ•Áæ§ËÅä„ÄêKDE Connect ‰∏≠Êñá‰∫§ÊµÅÁæ§„Äë Windows ÂÆâË£ÖÂêéÊó†Ê≥ïËøêË°åÈóÆÈ¢ò https://bugs.kde.org/show_bug.cgi?id=412665 Êñá‰ª∂Ôºöbin/data/dbus-1/services/org.kde.kdeconnect.service ÊääËøô‰∏™Êñá‰ª∂ÈáåÈù¢ÁöÑExecÂéüÊú¨ÁöÑ C:/CraftRoot/bin/kdeconnectd ÊîπÊàê &lt;‰Ω†ÁöÑÂÆâË£ÖË∑ØÂæÑ&gt;/bin/kdeconnectd Êàñ kdeconnectd„ÄÇ 32 ‰ΩçÁ≥ªÁªü ÊöÇÊó∂Êó†Ëß£ÔºåËØ∑Á≠âÂæÖ KDE ÁöÑÊâìÂåÖÁ≥ªÁªüÊõ¥Êñ∞„ÄÇ ÂêåÊ≠• Win ÁöÑÈÄöÁü• Áé∞Âú®Ê°åÈù¢ÁâàËØªÂèñÈÄöÁü•‰ªÖÈôê KDE plasma ‰∏ãÂèØÁî®„ÄÇ ‰º†Â§ö‰∏™Êñá‰ª∂ ÂÆÉÂÆûÈôÖ‰∏äÊòØÂéªÂºÄ‰∫Ü kdeconnect-handlerÔºåÊääÊñá‰ª∂Ë∑ØÂæÑÂΩìÂèÇÊï∞‰º†ËøõÂéªÔºå‰ΩÜÊòØ‰º∞ËÆ°ÂÆûÁé∞‰∏çÂ•ΩÔºåÊääÂ§ö‰∏™Êñá‰ª∂Ë∑ØÂæÑÂΩì‰Ωú‰∏Ä‰∏™‰∫ÜÔºåÂ∞±Âá∫ bug„ÄÇ ÂèØ‰ª•Âú®Áä∂ÊÄÅÊ†èÂõæÊ†áÈÇ£Âè≥ÈîÆÈÄâ send filesÔºåÁÑ∂ÂêéÂÜçÂ§öÈÄâ„ÄÇ Linux Ubuntu/Debian ‚ÄúÊºîËÆ≤ÊåáÈíà‚ÄùÊèí‰ª∂Â¥©Ê∫É ÂâçÂá†Â§©ÊúâÊúãÂèãÂèçÈ¶àÔºåÂú® kubuntu ‰∏ãÁöÑ‰ΩøÁî®‚ÄúÊºîËÆ≤ÊåáÈíà‚ÄùÊèí‰ª∂Â≠òÂú®Â¥©Ê∫ÉÁöÑÈóÆÈ¢òÔºåÊòØÂõ†‰∏∫Áº∫‰∏Ä‰∏™ËøêË°åÊó∂‰æùËµñÔºåÂèØ‰ª•ËøôÊ†∑Ëß£ÂÜ≥Ôºö 1sudo apt-get install qml-module-qtquick-particles2 Ubuntu Âíå Kubuntu Â∫îËØ•ÊòØÁõ∏‰ººÁöÑ apt Ê∫êÔºåÂèØËÉΩ‰πüÂ≠òÂú®Á±ª‰ººÁöÑÈóÆÈ¢ò Deepin Á≥ªÁªüËá™Â∏¶ÁâàÊú¨ Ë•øÁè≠Áâô‰∫∫Áª¥Êä§ÁöÑËΩØ‰ª∂Ê∫êÈáåÈù¢Êúâ 1.0 ÁâàÊú¨ÁöÑ indicator-kdeconnect Âíå kdeconnect Êú¨‰Ωì„ÄÇ ÈúÄË¶ÅÁöÑËØùÂú®ÂÆâË£ÖËΩØ‰ª∂Ê∫ê‰πãÂêéÂèØ‰ª•ÂÆâË£ÖÔºö 123sudo apt updatesudo apt install kdeconnectsudo apt install indicator-kdeconnect Flatpak ÂÖàÂÆâ‰∏äflatpakÔºådebian/ubuntu/deepin ÂèØ‰ª•Áõ¥Êé• 1sudo apt install flatpak Ê∑ªÂä†ÂÆòÊñπ flathub Ê∫êÔºàÈúÄÊåÇÊ¢ØÂ≠êÔºâÔºö 1flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo Ê∑ªÂä† KDE ÂÆòÊñπ‰æùËµñÁöÑ flatpak Ê∫ê 1flatpak remote-add kdeapps http://distribute.kde.org/kdeapps.flatpakrepo Âú®ÂÆâË£Ö‰πãÂêéÊâßË°åËøô‰∏™ÂëΩ‰ª§ÔºåÂÖÅËÆ∏ KDE Connect ËÆøÈóÆ‰∏ãËΩΩÊñá‰ª∂Â§πÔºö 1sudo flatpak override --filesystem=xdg-download org.kde.kdeconnect ÁîµËÑëÂèëÈÄÅÊñá‰ª∂ËøòÊúâÈóÆÈ¢ò„ÄêÂæÖ‰øÆÂ§ç„Äë‚Äî‚Äî xdg-portal-desktop ÁâàÊú¨Â§™ËÄÅÔºåËØªÂÜôÊñá‰ª∂ÁöÑ bug Á°ÆËÆ§Ëá≥Â∞ëÂú® 0.11 ÁâàÂ∞±Â∑≤ÁªèË¢´‰øÆÂ§ç‰∫Ü„ÄÇÂèØ‰ª•Â∞ùËØïÂÆâË£ÖÊñ∞Áâà xdg-portal-desktop ‰øÆÂ§ç„ÄÇ Âç∏ËΩΩ 1flatpak uninstall org.kde.kdeconnect GSConnect https://extensions.gnome.org/extension/1319/gsconnect/ Android Android 10 Ââ™Ë¥¥Êùø Android 10 ‰∏çËÆ©ÂêéÂè∞Â∫îÁî®ËÆøÈóÆÂâ™Ë¥¥Êùø‰∫ÜÔºåÊñ∞ÁâàÊú¨ÂèØ‰ª•‰ªéÈÄöÁü•Ê†è‰∏ªÂä®ÂèëÈÄÅÂâ™Ë¥¥ÊùøÂÜÖÂÆπ„ÄÇ Android Êó†Ê≥ïÊé•Êî∂Âà∞Êñá‰ª∂ Â¶ÇÊûúÊòØ Android 10 ÁöÑËØùÈúÄË¶ÅÈ¢ÑÂÖàÈÖçÁΩÆÂ•ΩËÆøÈóÆÊùÉÈôêÔºö Êèí‰ª∂ËÆæÁΩÆ-„Äã FileSystem Expose Âä†‰∏ä‰º†ËæìÁõÆÂΩïÂ∞±Ë°å„ÄÇ MIUI Êúâ‰∫∫ÂèçÊò†ËøáÊúâ‰∫õÊñá‰ª∂‰º†ËæìÈóÆÈ¢ò„ÄÇ„ÄÇ„ÄÇ macOS ÁøªËØëÈóÆÈ¢ò Âú®‰∏≠ÊñáÁ≥ªÁªü‰∏ãÁïåÈù¢ÁõÆÂâçÊ≤°ÊúâÁøªËØë„ÄÇ macOS ‰∏ªÂä®Êü•ÊâæËÆæÂ§áÈóÆÈ¢ò ÂèëÁé∞‰∏Ä‰∏™ macOS ÁâàÊú¨ÁöÑ bugÔºåmac Êó†Á∫øÁΩëÁªú‰∏çÊîØÊåÅ 1500 ‰ª•‰∏äÁöÑ MTUÔºåÊâÄ‰ª•Âèë‰∏çÂá∫ UDP ÂπøÊí≠ËØÜÂà´ÂåÖ„ÄÇ Ëß£ÂÜ≥ÊñπÊ≥ï:‰ªéÊâãÊú∫Á´ØÂà∑Êñ∞ÔºåÊâæÂà∞ Mac Âπ∂ËøûÊé•ÈÖçÂØπüòÇ ÈÖçÁΩÆÈ°µÈù¢‰∏çÂú®ÊúÄÂâç ÈÖçÁΩÆ‰∫Ü‰∏çËÆ© KDE Connect ÁöÑÂõæÊ†áÂú® Dock Ê†èÊòæÁ§∫ÁöÑÂâØ‰ΩúÁî®„ÄÇ Â¶ÇÊûúÊúâÈúÄË¶ÅÁöÑËØùÔºåÂèØ‰ª•Êää kdeconnect-indicator.app/Contents/Info.plist ÈáåÁöÑ 12&lt;key&gt;LSUIElement&lt;/key&gt;&lt;string&gt;1&lt;/string&gt; Âà†ÊéâÔºåÂ∞±ÂèØ‰ª•Âú®ÊúÄ‰∏äÂ±ÇÊâìÂºÄÁ™óÂè£‰∫ÜÔºå‰ΩÜÊòØÁõ∏Â∫îÁöÑ KDE Connect ÁöÑÂõæÊ†á‰ºöÂú® Dock ‰∏≠ÊòæÁ§∫„ÄÇ Chrome OS Android Â≠êÁ≥ªÁªüËá™Â∏¶ NAT ÊàëÊâçÂèëÁé∞ chrome OS ‰πüËÉΩÁî®ÔºàAndroid ÁâàÁöÑÔºâÔºå‰ΩÜÊòØÂõ†‰∏∫ÊúâÂ±Ç NATÔºåÈúÄË¶ÅÊ∑ªÂä†IP+‰ªé Chrome OS ÈáåÂèëËµ∑ÈÖçÂØπËØ∑Ê±ÇüòÇ Á≥ªÁªüÊó†ÂÖ≥ Ê¢ØÂ≠êÁõ∏ÂÖ≥ ChienÔºö‰Ω†Ê¢ØÂ≠êÁöÑËßÑÂàôÂèØËÉΩÊ≤°ËÆæÁΩÆÂ•ΩÔºåÁªïËøáÂ±ÄÂüüÁΩëÂíåÂ§ßÈôÜÂú∞ÂùÄÊØîËæÉÂ•Ω„ÄÇÂõΩÊÉÖÂõΩÊÉÖÔºåÂõΩÂÜÖÁΩëÁªúÁéØÂ¢ÉÂ§™Â§çÊùÇ‰∫Ü Ëß£ÂÜ≥ÊñπÊ°àÔºö ÂÖàÊ£ÄÊü•ÊòØÂê¶ÊåÇ‰∫ÜÊ¢ØÂ≠ê ËØ∑Âú®Ê¢ØÂ≠êÁöÑ‰æãÂ§ñÂàóË°®Ê∑ªÂä† KDE Connect ÊàñÂú®ÁôΩÂêçÂçïÊ∑ªÂä†Ë∑ØÁî±Âô®ÂÜÖÁΩë ÂæÆ‰ø°ÈÄöÁü•Êó†Ê≥ïÂêåÊ≠• TIM ÂèØ‰ª•ÔºåQQ ÂèØËÉΩÂèØ‰ª•ÔºåÂæÆ‰ø°ÈÄöÁü•‰∏çÂÆåÂÖ®Ëµ∞Á≥ªÁªüÈÄöÁü•ÔºåÁõÆÂâçËøòÊúâÈóÆÈ¢ò„ÄÇ","categories":[{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/categories/KDE-Connect/"},{"name":"‰∏≠Êñá","slug":"KDE-Connect/‰∏≠Êñá","permalink":"https://blog.inoki.cc/categories/KDE-Connect/‰∏≠Êñá/"}],"tags":[{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/tags/KDE-Connect/"}]},{"title":"„ÄêËØë„Äë‰∏∫ Rust ÁîüÊàê Qt ÁªëÂÆö","slug":"Rust-Qt-Binding-Generator","date":"2020-07-04T16:51:00.000Z","updated":"2022-05-09T18:41:39.490Z","comments":true,"path":"2020/07/04/Rust-Qt-Binding-Generator/","link":"","permalink":"https://blog.inoki.cc/2020/07/04/Rust-Qt-Binding-Generator/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://www.vandenoever.info/blog/2017/09/04/rust_qt_binding_generator.html ËøôÁØáÂçöÂÆ¢ÊñáÁ´†ÊòØ Rust Qt Binding Generator ÁöÑÂèëÂ∏É„ÄÇËØ•È°πÁõÆÊ≠£Âú®ÂÆ°Ê†∏‰∏≠Ôºå‰πãÂêé‰ºöÂä†ÂÖ•Âà∞ KDE ÂΩì‰∏≠„ÄÇÊÇ®ÂèØ‰ª•Âú®Ê≠§Â§ÑËé∑ÂèñÊ∫ê‰ª£Á†Å„ÄÇ ËØ•‰ª£Á†ÅÁîüÊàêÂô®ÂèØÂ∏ÆÂä©Âú® Qt Âíå QML ‰∏≠Âø´ÈÄüÂºÄÂßã‰ΩøÁî® Rust ‰ª£Á†Å„ÄÇÊç¢Âè•ËØùËØ¥ÔºåÂÆÉÊúâÂä©‰∫éÂú® Rust ‰ª£Á†Å‰πã‰∏äÂàõÂª∫Âü∫‰∫é Qt ÁöÑ GUI„ÄÇ QtÊòØÊàêÁÜüÁöÑË∑®Âπ≥Âè∞ÂõæÂΩ¢Áî®Êà∑ÁïåÈù¢Â∫ì„ÄÇËÄå Rust ÊòØ‰∏ÄÁßçÊñ∞ÁöÑÁºñÁ®ãËØ≠Ë®ÄÔºåÂÖ∑ÊúâÂº∫Â§ßÁöÑÁºñËØëÊó∂Ê£ÄÊü•ÂíåÁé∞‰ª£ËØ≠Ê≥ï„ÄÇ ÂÖ•Èó® Êúâ‰∏§‰∏™Ê®°ÊùøÈ°πÁõÆÂèØÂ∏ÆÂä©ÊÇ®Âø´ÈÄüÂÖ•Èó®„ÄÇ‰∏Ä‰∏™Áî®‰∫é Qt WidgetsÔºåÂè¶‰∏Ä‰∏™Áî®‰∫é Qt Quick„ÄÇÂè™ÈúÄÂ§çÂà∂Ëøô‰∫õÊñá‰ª∂Â§π„ÄÅ‰Ωú‰∏∫Êñ∞È°πÁõÆÂºÄÂßãÁºñÁ†Å„ÄÇ Êñá‰ª∂ÂÖ≥Á≥ª Qt Widgets (main.cpp) / Qt Quick (main.qml) ‚üµ ÂÜôÂá∫ÁöÑ UI ‰ª£Á†Å src/Binding.h, src/Binding.cpp, rust/src/interface.rs ‚üµ ‰ªé binding.json ‰∏≠ÁîüÊàê rust/src/implementation.rs ‚üµ ÂÜôÂá∫ÁöÑ Rust ‰ª£Á†Å ‰∏∫‰∫ÜÁªìÂêà Qt Âíå RustÔºåÈúÄË¶ÅÂú®‰∏Ä‰∏™ JSON Êñá‰ª∂‰∏≠ÁºñÂÜô‰∏Ä‰∏™Êé•Âè£„ÄÇÁîüÊàêÂô®‰ºö‰ªéËøô‰∏™Êñá‰ª∂ÂàõÂª∫ Qt ‰ª£Á†ÅÂíå Rust ‰ª£Á†Å„ÄÇQt ‰ª£Á†ÅÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®„ÄÇËÄå Rust ‰ª£Á†ÅÊúâ‰∏§‰∏™Êñá‰ª∂ÔºöÊé•Âè£ÂíåÂÆûÁé∞„ÄÇÊé•Âè£ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®„ÄÇ 12345678910111213141516171819&#123; \"cppFile\": \"src/Binding.cpp\", \"rust\": &#123; \"dir\": \"rust\", \"interfaceModule\": \"interface\", \"implementationModule\": \"implementation\" &#125;, \"objects\": &#123; \"Greeting\": &#123; \"type\": \"Object\", \"properties\": &#123; \"message\": &#123; \"type\": \"QString\", \"write\": true &#125; &#125; &#125; &#125;&#125; Ëøô‰∏™Êñá‰ª∂ÊèèËø∞‰∫Ü Greeting Ëøô‰∏™ÂØπË±°ÁöÑÁªëÂÆö„ÄÇÂÆÉÊúâ‰∏Ä‰∏™ÂèØÂÜôÂ±ûÊÄß message„ÄÇ ËøêË°åËøô‰∏™ÂëΩ‰ª§ÔºåRust ÁöÑ Qt ÁªëÂÆöÁîüÊàêÂô®‰ºö‰ªéÊèèËø∞‰∏≠ÂàõÂª∫ÁªëÂÆöÊ∫ê‰ª£Á†ÅÔºö 1rust_qt_binding_generator binding.json Ëøô‰∏™ËøáÁ®ã‰ºöÁîüÊàê‰∏ãÈù¢Âõõ‰∏™Êñá‰ª∂Ôºö src/Binding.h src/Binding.cpp rust/src/interface.rs rust/src/implementation.rs Âè™ÈúÄË¶ÅÊõ¥Êîπ Implementation.rs Âç≥ÂèØÔºåÂÖ∂‰ΩôÊñá‰ª∂ÊòØÁªëÂÆöÊñá‰ª∂„ÄÇImplementation.rs ÊòØ‰ΩøÁî®‰∏Ä‰∏™ÁÆÄÂçïÂÆûÁé∞ÂàõÂª∫Âá∫ÁöÑÔºåÂ∏¶Êúâ‰∏Ä‰∫õÊ≥®ÈáäÔºåÊñá‰ª∂ÂÜÖÂÆπÂ¶Ç‰∏ãÔºö 12345678910111213141516171819202122232425262728293031323334use interface::*;/// A Greetingpub struct Greeting &#123; /// Emit signals to the Qt code. emit: GreetingEmitter, /// The message of the greeting. message: String,&#125;/// Implementation of the binding/// GreetingTrait is defined in interface.rsimpl GreetingTrait for Greeting &#123; /// Create a new greeting with default data. fn new(emit: GreetingEmitter) -&gt; Greeting &#123; Greeting &#123; emit: emit, message: \"Hello World!\".into(), &#125; &#125; /// The emitter can emit signals to the Qt code. fn emit(&amp;self) -&gt; &amp;GreetingEmitter &#123; &amp;self.emit &#125; /// Get the message of the Greeting fn message(&amp;self) -&gt; &amp;str &#123; &amp;self.message &#125; /// Set the message of the Greeting fn set_message(&amp;mut self, value: String) &#123; self.message = value; self.emit.message_changed(); &#125;&#125; Qt Âíå QML È°πÁõÆÁöÑÊûÑÂª∫ÂÖ≥ÈîÆÊòØ QObject Âíå Model View Á±ª„ÄÇ rust_qt_binding_generator ËØªÂèñ‰∏Ä‰∏™ json Êñá‰ª∂‰ª•ÁîüÊàê QObject Êàñ QAbstractItemModel Á±ªÔºåËøô‰∫õÁ±ª‰ºöË∞ÉÁî®ÁîüÊàêÁöÑ Rust Êñá‰ª∂„ÄÇÂØπ‰∫é JSON Êñá‰ª∂‰∏≠ÁöÑÊØèÁßçÁ±ªÂûãÔºåÈÉΩ‰ºöÁîüÊàêÂ∫îÂÆûÁé∞ÁöÑ Rust Trait„ÄÇ ËøôÊ†∑ÔºåRust ‰ª£Á†ÅÂ∞±ÂèØ‰ª•‰ªé Qt Âíå QML È°πÁõÆ‰∏≠Ë∞ÉÁî®‰∫Ü„ÄÇ Qt Widgets ‰∏é Rust ËøôÈáåÁöÑ C++ ‰ª£Á†Å‰ΩøÁî®‰∫Ü‰∏äÈù¢ÁºñÂÜôÁöÑ Rust ‰ª£Á†Å„ÄÇ 1234567#include \"Binding.h\"#include &lt;QDebug&gt;int main() &#123; Greeting greeting; qDebug() &lt;&lt; greeting.message(); return 0;&#125; Qt Quick ‰∏é Rust ËøôÈáåÁöÑ Qt QuickÔºàQMLÔºâ ‰ª£Á†Å‰ΩøÁî®‰∫Ü‰∏äÈù¢ÁºñÂÜôÁöÑ Rust ‰ª£Á†Å„ÄÇ 12345678Rectangle &#123; Greeting &#123; id: rust &#125; Text &#123; text: rust.message &#125;&#125; Á§∫‰æãÁ®ãÂ∫è ËØ•È°πÁõÆÂ∏¶Êúâ‰∏Ä‰∏™ÊºîÁ§∫Â∫îÁî®Á®ãÂ∫èÔºåËØ•Â∫îÁî®Á®ãÂ∫èÊòæÁ§∫‰∫ÜÂü∫‰∫é Rust ÁöÑ Qt Áî®Êà∑ÁïåÈù¢„ÄÇ ÂÆÉ‰ΩøÁî®‰∫ÜÂØπË±°ÔºåÂàóË°®ÂíåÊ†ëÁöÑÊâÄÊúâÂäüËÉΩ„ÄÇÈòÖËØªËøô‰∫õÊºîÁ§∫‰ª£Á†ÅÊòØÂÖ•Èó®ÁöÑÂ•ΩÊñπÊ≥ï„ÄÇ Dcoekr ÂºÄÂèëÁéØÂ¢É ‰∏∫‰∫ÜÂø´ÈÄü‰∏äÊâãÔºåËØ•È°πÁõÆÈôÑÂ∏¶‰∫Ü‰∏Ä‰∏™Dockerfile„ÄÇÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÂèØ‰ª•ÂêØÂä®ÂÖ∑ÊúâÊâÄÈúÄ‰æùËµñÈ°πÁöÑ Docker ‰ºöËØùÔºö 1./docker/docker-bash-session.sh Êõ¥Â§ö‰ø°ÊÅØ Rust Qt Binding Generator Qt Qt Á§∫‰æã‰∏éÊïôÁ®ã The QML Book","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"Qt","slug":"Qt","permalink":"https://blog.inoki.cc/categories/Qt/"},{"name":"Rust","slug":"Rust","permalink":"https://blog.inoki.cc/categories/Rust/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Qt","slug":"Qt","permalink":"https://blog.inoki.cc/tags/Qt/"},{"name":"Rust","slug":"Rust","permalink":"https://blog.inoki.cc/tags/Rust/"}]},{"title":"„ÄêËØë„ÄëËΩØ‰ª∂ÂÆö‰πâÊó†Á∫øÁîµÁöÑÂü∫Á°Ä ‚Äî‚Äî 2.Êé•Êî∂Êú∫","slug":"Basic-of-Software-Defined-Radio-2","date":"2020-07-03T20:08:00.000Z","updated":"2022-05-09T18:41:39.434Z","comments":true,"path":"2020/07/03/Basic-of-Software-Defined-Radio-2/","link":"","permalink":"https://blog.inoki.cc/2020/07/03/Basic-of-Software-Defined-Radio-2/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://www.eetimes.com/sdr-basics-part-2-receivers/ Êû∂ÊûÑ ÁêÜÊÉ≥ÊÉÖÂÜµ‰∏ãÔºåSDR ÁöÑËÆæËÆ°‰∫∫ÂëòÂ∏åÊúõÂ∞ÜÊï∞ÊçÆËΩ¨Êç¢Âô®Áõ¥Êé•ÊîæÂú®Â§©Á∫ø‰∏ä„ÄÇ‰ΩÜÊòØÔºåËøô‰∏çÊòØÂÆûÈôÖÊÉÖÂÜµ‰∏≠ÁöÑËß£ÂÜ≥ÊñπÊ°à„ÄÇÂÆûÈôÖ‰∏äÔºå‰∏Ä‰∫õÊ®°ÊãüÂâçÁ´ØÂøÖÈ°ªÂú®Êé•Êî∂Ë∑ØÂæÑ‰∏≠ÁöÑ ADC ‰πãÂâçÂíåÂèëÈÄÅË∑ØÂæÑ‰∏≠ÁöÑÊï∞Ê®°ËΩ¨Êç¢Âô®‰πãÂêéÊâçËÉΩ‰ΩøÁî®ÔºåÊù•ÊâßË°åÈÄÇÂΩìÁöÑÈ¢ëÁéáËΩ¨Êç¢„ÄÇËøô‰∫õ‰ΩìÁ≥ªÁªìÊûÑ‰∏≠ÊúÄÂ∏∏ËßÅÁöÑÊòØË∂ÖÂ§ñÂ∑ÆÔºàsuper-heterodyneÔºâÊû∂ÊûÑ„ÄÇÂ∞ΩÁÆ°ËøôÁßçÊû∂ÊûÑÂ∑≤ÁªèÊúâÊï∞ÂçÅÂπ¥ÁöÑÂéÜÂè≤‰∫ÜÔºå‰ΩÜÂÖ®Êñ∞ÁöÑÂçäÂØº‰ΩìÊäÄÊúØÂíåÊõ¥È´òÁöÑÈõÜÊàêÂ∫¶‰ΩøËØ•‰ΩìÁ≥ªÁªìÊûÑ‰ªçÁÑ∂ÂÖÖÊª°Ê¥ªÂäõÔºåÂπ∂Âú®ÂèëÈÄÅÂíåÊé•Êî∂‰ø°Âè∑Ë∑ØÂæÑ‰∏≠ÈÉΩÂæóÂà∞‰∫ÜÂπøÊ≥õ‰ΩøÁî®[5Ôºå6]„ÄÇ ÂÖ∂‰ªñ‰ΩìÁ≥ªÁªìÊûÑÔºà‰æãÂ¶ÇÁî®‰∫éÂèëÈÄÅÂíåÊé•Êî∂ÁöÑÁõ¥Êé•ËΩ¨Êç¢ÔºâÂú®Ë¶ÅÊ±Ç‰∏çÈ´òÁöÑÂ∫îÁî®Á®ãÂ∫è‰∏≠ÂèóÂà∞Ê¨¢Ëøé„ÄÇÂΩìÂâçÔºåÁõ¥Êé•ËΩ¨Êç¢ÔºàTxÂíåRxÔºâÂú®Áî®Êà∑ÁªàÁ´Ø‰∏≠Ë¢´ÂèëÁé∞Áî®‰∫éËúÇÁ™ùÈÄö‰ø°„ÄÅ‰ª•ÂèäÂú®Âü∫Á´ô‰æßÁöÑ TxÔºåÈöèÁùÄÊú™Êù•ÁöÑÂèëÂ±ïÔºå‰πüÂ≠òÂú®‰∫éÊé•Êî∂Á´ØÂÆûÁé∞Áõ¥Êé•ËΩ¨Êç¢ÁöÑÂèØËÉΩÊÄß„ÄÇÂú®Ê≠§‰πãÂâçÔºåË∂ÖÂ§ñÂ∑ÆÊû∂ÊûÑÂ∞ÜÁªßÁª≠‰ª•‰∏ÄÁßçÊàñÂè¶‰∏ÄÁßçÂΩ¢Âºè‰ΩøÁî®„ÄÇ Êé•Êî∂Âô® È´òÊÄßËÉΩ SDR Êé•Êî∂Âô®ÈÄöÂ∏∏Áî±Ë∂ÖÂ§ñÂ∑ÆÊû∂ÊûÑÁöÑÊüê‰∫õÂèò‰ΩìÊûÑÈÄ†ËÄåÊàê„ÄÇË∂ÖÂ§ñÂ∑ÆÊé•Êî∂Âô®ÂèØÂú®ÂæàÂ§ßÁöÑÈ¢ëÁéáËåÉÂõ¥ÂÜÖÊèê‰æõÁ®≥ÂÆöÁöÑÊÄßËÉΩÔºåÂêåÊó∂‰øùÊåÅËâØÂ•ΩÁöÑÁÅµÊïèÂ∫¶ÂíåÈÄâÊã©ÊÄß[7Ôºå8]„ÄÇÂ∞ΩÁÆ°ËÆæËÆ°Âπ∂ÈùûÊòì‰∫ãÔºå‰ΩÜÁªìÂêà‰ΩøÁî®ÂÆΩÂ∏¶Ê®°ÊãüÊäÄÊúØÂíåÂ§ö‰∏™ÂâçÁ´ØÁöÑÂèØËÉΩÊÄßÂ∞ÜÂÖÅËÆ∏Âú®‰∏çÂêåÁöÑ RF È¢ëÊÆµ‰∏äËøõË°åÊìç‰Ωú„ÄÇÂØπ‰∫éÂ§öËΩΩÊ≥¢Â∫îÁî®ÔºåÂøÖË¶ÅÊó∂‰πüÂèØ‰ª•ÂêåÊó∂ËøõË°å„ÄÇ Â§öËΩΩÊ≥¢ ÂèñÂÜ≥‰∫éÂ∫îÁî®Á®ãÂ∫èÔºåÊàë‰ª¨ÂèØËÉΩÈúÄË¶Å‰∏Ä‰∏™ÊàñÂ§ö‰∏™Êé•Êî∂ÈÄöÈÅì„ÄÇ‰º†ÁªüÂ∫îÁî®ÂèØËÉΩÂè™ÈúÄË¶Å‰∏Ä‰∏™ RF ÈÄöÈÅì„ÄÇ‰ΩÜÊòØÔºåÈúÄË¶ÅÈ´òÂÆπÈáèÊàñ‰∫íÊìç‰ΩúÊÄßÁöÑÂ∫îÁî®Á®ãÂ∫èÂèØËÉΩÈúÄË¶ÅÂ§öËΩΩÊ≥¢ËÆæËÆ°„ÄÇÁî±‰∫é SDR ÈááÁî®ÂÖ∑ÊúâË∂≥Â§üÂèØÁî®Â∏¶ÂÆΩÁöÑÈ´òÂ∫¶ËøáÈááÊ†∑ ADC ÔºåÂõ†Ê≠§ÈùûÂ∏∏ÈÄÇÂêàÂ§öËΩΩÊ≥¢Â∫îÁî®„ÄÇ ËøáÈááÊ†∑ ADC ÊòØ‰∏ÄÁßçÈááÊ†∑ÁéáË∂ÖÂá∫‰∫ÜÊª°Ë∂≥Â•àÂ•éÊñØÁâπÊäΩÊ†∑ÂáÜÂàô[18]Ë¶ÅÊ±ÇÁöÑÈááÊ†∑ÁéáÁöÑ ADC ÔºåËØ•ÂáÜÂàôËßÑÂÆöËΩ¨Êç¢Âô®ÁöÑÈááÊ†∑ÁéáÂøÖÈ°ªÊòØ‰ø°ÊÅØÂ∏¶ÂÆΩÁöÑ‰∏§ÂÄç„ÄÇÁî±‰∫é SDR ÂèØËÉΩ‰∏çÊ∏ÖÊ•öÂ∞ÜÁî®‰∫éÊé•Êî∂‰ø°Âè∑ÁöÑÂ∏¶ÂÆΩÔºåÂõ†Ê≠§ÈááÊ†∑ÁéáÂøÖÈ°ªË∂≥Â§üÈ´òÊâçËÉΩÂØπÊâÄÊúâÈ¢ÑÊúüÁöÑÂ∏¶ÂÆΩËøõË°åÈááÊ†∑„ÄÇ ÂΩìÂâçÁöÑ ADC ÊäÄÊúØÂÖÅËÆ∏Â∞ÜÈ´òËææ 100 MHz ÁöÑÈ´òÂä®ÊÄÅËåÉÂõ¥Â∏¶ÂÆΩÊï∞Â≠óÂåñ„ÄÇÊúâ‰∫ÜËøô‰πàÂ§öÁöÑÂ∏¶ÂÆΩÔºå‰πüÂ∞±ÂèØ‰ª•Â§ÑÁêÜÂ§ö‰∏™ÈÄöÈÅì„ÄÇÂõæ 18.5 ÁªôÂá∫‰∫Ü‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑÂ§öËΩΩÊ≥¢Êé•Êî∂Êú∫Á§∫‰æãÔºåÂõæ 18.6 ÁªôÂá∫‰∫ÜÂÖ∂È¢ëË∞±ÊòæÁ§∫„ÄÇ 18.5. Â§öËΩΩÊ≥¢ CDMA Á§∫‰æã 18.6. ‰ΩøÁî® IS-95 ÁöÑÂ§öÊ®°ÂºèÈ¢ëË∞±ÂíåÁ™ÑÂ∏¶ËΩΩÊ≥¢ Âú®Ê≠§Á§∫‰æã‰∏≠Ôºå ADC ÁöÑÈááÊ†∑ÁéáËÆæÁΩÆ‰∏∫ 61.44 ÂÖÜÈááÊ†∑/ÁßíÔºàMSPSÔºâÔºåËøôÊèê‰æõ‰∫Ü 30.72 MHz ÁöÑÂ•àÂ•éÊñØÁâπÂ∏¶ÂÆΩ„ÄÇÂ¶ÇÊûúÊØè‰∏™RFÈÄöÈÅìÁöÑÂÆΩÂ∫¶‰∏∫ 1.25 MHzÔºåÂàôÂ•àÂ•éÊñØÁâπË°®Á§∫ÊΩúÂú®È¢ëÈÅìÁöÑÊï∞ÈáèÁ∫¶‰∏∫ 24.5„ÄÇÂÆûÈôÖ‰∏äÔºåÈÄöËøáÂú®ÊäóÊ∑∑Âè†Êª§Ê≥¢Âô®‰∏äÂÖÅËÆ∏ÂêàÁêÜÁöÑËøáÊ∏°Â∏¶ÔºåÂÖ∏ÂûãÁöÑÂèØÁî®Â∏¶ÂÆΩÊòØÈááÊ†∑ÁéáÁöÑ‰∏âÂàÜ‰πã‰∏ÄÔºåËÄå‰∏çÊòØÂ•àÂ•éÊñØÁâπÁöÑ‰∏ÄÂçä„ÄÇÂõ†Ê≠§ÔºåËøô‰∏™Á§∫‰æãÁöÑÂèØÁî®Â∏¶ÂÆΩ‰∏∫ 20.48 MHzÔºåÂú® 1.25 MHz Â∏¶ÂÆΩÊó∂‰ªÖÂÖÅËÆ∏ 16 ‰∏™È¢ëÈÅì„ÄÇ Áî±‰∫éÂèØ‰ª•ÊîπÂèò‰ø°ÈÅìÁâπÊÄßÔºåÂõ†Ê≠§ÂæàÂÆπÊòìÂ∞Ü CDMA Á§∫‰æãÊõ¥Êîπ‰∏∫ GSM Á§∫‰æã„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÈÄöËøáÂ∞ÜÊï∞Â≠óÈÄöÈÅìÊª§Ê≥¢Âô®‰ªé GSM Êõ¥Êîπ‰∏∫ CDMA Âπ∂Â∞ÜÊñ∞ÁöÑÂ§ÑÁêÜ‰ª£Á†ÅÂä†ËΩΩÂà∞ DSP ‰∏≠ÔºåÂàÜÂà´ÈáçÊñ∞ÈÖçÁΩÆ‰∫ÜÊï∞Â≠óÈ¢ÑÂ§ÑÁêÜÂíåÈÄöÁî® DSP„ÄÇÁî±‰∫é GSM ‰ø°ÈÅìÁöÑÂÆΩÂ∫¶‰∏∫ 200 kHzÔºåÂõ†Ê≠§ÂèØ‰ª•ËΩªÊùæÂú∞Â∞ÜËØ•Á§∫‰æãÈáçÊñ∞ÈÖçÁΩÆ‰∏∫ 102 ‰ø°ÈÅìÁöÑ GSM Êé•Êî∂Âô®„ÄÇ ËôΩÁÑ∂Ëøô‰∏§‰∏™Á§∫‰æãÈÉΩÊèê‰æõ‰∫ÜÂæàÂ§öÂÆûÁî®ÊÄßÔºå‰ΩÜ‰πüËÆ∏Êõ¥ÊúâË∂£ÁöÑÁ§∫‰æãÊòØÔºöÈÖçÁΩÆÊé•Êî∂Âô®Ôºå‰ª•‰ΩøÈÉ®ÂàÜ‰ø°ÈÅìÂèØ‰ª•ÊòØ CDMAÔºåËÄåÂÖ∂‰ªñ‰ø°ÈÅìÂèØ‰ª•ÈÖçÁΩÆ‰∏∫ GSMÔºÅ Ê≠§Â§ñÔºåÂ¶ÇÊûúÂÖ∂‰∏≠‰∏ÄÁßçÈÖçÁΩÆÂ∑≤Êª°Ë¥üËç∑‰ΩøÁî®ÔºåËÄåÂè¶‰∏ÄÁßçÈÖçÁΩÆÊú™ÂæóÂà∞ÂÖÖÂàÜÂà©Áî®ÔºåÂàôÂèØ‰ª•Â∞Ü CDMA ‰ø°ÈÅìËΩ¨Êç¢‰∏∫Â§ö‰∏™ GSM ‰ø°ÈÅìÔºåÂèç‰πã‰∫¶ÁÑ∂Ôºå‰ªéËÄåÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÁÅµÊ¥ªÂú∞Âä®ÊÄÅÈáçÊñ∞ÂàÜÈÖçÁ≥ªÁªüËµÑÊ∫êÔºàËΩØ‰ª∂ÂÆö‰πâÊó†Á∫øÁîµÁöÑ‰∏ªË¶ÅÁõÆÊ†áÔºâ„ÄÇ ÂçïËΩΩÊ≥¢ Âπ∂ÈùûÊâÄÊúâ SDR Â∫îÁî®Á®ãÂ∫èÈÉΩÈúÄË¶Å‰∏Ä‰∏™‰ª•‰∏äÁöÑ‰ø°ÈÅì„ÄÇ‰ΩéÂÆπÈáèÁ≥ªÁªüÂèØËÉΩÂè™ÈúÄË¶Å‰∏Ä‰∏™ËΩΩÊ≥¢„ÄÇÂú®Ëøô‰∫õÂ∫îÁî®‰∏≠Ôºå‰ªçÁÑ∂ÈúÄË¶Å‰∏Ä‰∏™È´òÁöÑËøáÈááÊ†∑Áéá„ÄÇÂ¶ÇÊûúËøô‰∏™‰ø°ÈÅìÊòØÂèØÈáçÊñ∞ÁºñÁ®ãÁöÑÔºåÂàôÂèØËÉΩ‰ºöÁ™ÑÂà∞Âá†‰∏™ kHz Êàñ 5-10 MHz„ÄÇ‰∏∫‰∫ÜÈÄÇÂ∫îÊ≠§Â∏¶ÂÆΩËåÉÂõ¥ÔºåÈááÊ†∑ÁéáÂ∫îÈÄÇÂêàÊúÄÈ´òÁöÑÊΩúÂú®Â∏¶ÂÆΩÔºåÂú®ËøôÁßçÊÉÖÂÜµ‰∏ã‰∏∫ 10 MHz„ÄÇ‰ªéÂ§öËΩΩÊ≥¢Á§∫‰æã‰∏≠ÔºåÊàë‰ª¨ÈÄöÂ∏∏Â∞ÜÈááÊ†∑Ëá≥Â∞ë‰∏âÂÄçÁöÑÂ∏¶ÂÆΩ„ÄÇÂú®Ê≠§Á§∫‰æã‰∏≠Ôºå30.72 MSPS ÊàñÊõ¥È´òÁöÑÈááÊ†∑ÁéáÂ∞ÜÂÖÅËÆ∏Â§ÑÁêÜ‰ªéÂá† kHz Âà∞ÊúÄÈ´ò 10 MHz ÁöÑ‰ø°Âè∑Â∏¶ÂÆΩ„ÄÇÈô§‰∫ÜÂè™Â§ÑÁêÜ‰∏Ä‰∏™‰ø°ÈÅì‰πãÂ§ñÔºåÂçïËΩΩÊ≥¢Êé•Êî∂Êú∫‰πüÂÖ∑ÊúâÂ§öËΩΩÊ≥¢Êé•Êî∂Êú∫ÁöÑÂÖ®ÈÉ®ÂÆπÈáèÔºå‰πüÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÈáçÊñ∞ÈÖçÁΩÆ„ÄÇ SDR Êé•Êî∂Âô®ÁöÑÂÖÉÁ¥† ÂèÇËÄÉÂõæ 18.7 ‰∏≠ÁöÑÂçïËΩΩÊ≥¢Ê°ÜÂõæÔºåÂêåÊó∂Ë¶ÅËÆ∞‰ΩèËøô‰πüÈÄÇÁî®‰∫éÂ§öËΩΩÊ≥¢Á§∫‰æãÔºå‰∏Ä‰∏™ÂÆåÂÖ®ÂºÄÂèëÁöÑ SDR Â∞ÜÂÖ∑ÊúâÊâÄÊúâÂèØÁºñÁ®ãÁöÑ‰ø°Âè∑ÂÖÉÁ¥†„ÄÇ 18.7. ÂçïËΩΩÊ≥¢Êé•Êî∂Á§∫‰æã Â§©Á∫ø‰πü‰∏ç‰æãÂ§ñÔºå‰πüÊòØÂèØÁºñÁ®ãÁöÑ„ÄÇ‰ΩÜ‰∏çÂπ∏ÁöÑÊòØÔºåÂÆÉÊòØ SDR ‰∏≠ÊúÄÂº±ÁöÑÂÖÉÁ¥†‰πã‰∏Ä[1]„ÄÇÁî±‰∫éÂ§ßÂ§öÊï∞Â§©Á∫øÁªìÊûÑÁöÑÂ∏¶ÂÆΩ‰ªÖ‰∏∫ÂÖ∂‰∏≠ÂøÉÈ¢ëÁéáÁöÑ‰∏ÄÂ∞èÈÉ®ÂàÜÔºåÂõ†Ê≠§Â§öÈ¢ëÂ∏¶Êìç‰Ωú‰ºöÂèòÂæóÂõ∞Èöæ„ÄÇÂú®‰ΩøÁî®Âçï‰∏™Â∑•‰ΩúÈ¢ëÂ∏¶ÁöÑËÆ∏Â§öÂ∫îÁî®‰∏≠ÔºåËøô‰∏çÊòØ‰∏™ÈóÆÈ¢ò„ÄÇ‰ΩÜÊòØÔºåÂØπ‰∫éÂøÖÈ°ªÂú®Â§ö‰∏™Âá†‰∏™È¢ëÁéá‰∏äËøêË°åÁöÑÁ≥ªÁªüÔºåÂøÖÈ°ªÈÄöËøáÊüêÁßçÊñπÂºèË∞ÉÊï¥Â§©Á∫ø‰ª•Ë∑üË∏™Â∑•‰ΩúÈ¢ëÁéá„ÄÅ‰øùÊåÅÂ∑•‰ΩúÊïàÁéá„ÄÇ ÁöÑÁ°ÆÔºåÂá†‰πéÊâÄÊúâÂ§©Á∫øÈÉΩÂèØ‰ª•‰∏éÊúâÊ∫êÁîµÂ≠êËÆæÂ§áËøõË°åÈòªÊäóÂåπÈÖçÔºå‰ΩÜÊòØÈÄöÂ∏∏‰ºöÁâ∫Áâ≤ÈìæË∑ØÂ¢ûÁõäÔºå‰ªéËÄåÂèØËÉΩÂØºËá¥Â§©Á∫øÊçüËÄóÔºåËÄåÂ§ßÂ§öÊï∞Â§©Á∫øËÆæËÆ°ÂÆûÈôÖ‰∏äÂ∫îËØ•Êèê‰æõÈÄÇÂ∫¶ÁöÑ‰ø°Âè∑Â¢ûÁõä„ÄÇÂõ†Ê≠§ÔºåÈúÄË¶ÅÈÄöËøáÁÆÄÂçïÂú∞ÊîπÂèòÂ§©Á∫øÁöÑÂåπÈÖçÊù•Ë∞ÉÊï¥Â§©Á∫øÁöÑÁîµÈïøÂ∫¶„ÄÇTODO:Â∞ùËØïËß£Èáä„ÄÇ ‰ø°Âè∑Èìæ‰∏≠ÁöÑ‰∏ã‰∏Ä‰∏™ÊòØÈ¢ëÂ∏¶ÈÄâÊã©Êª§Ê≥¢Âô®Ëøô‰∏ÄÁîµÂ≠êÂô®‰ª∂„ÄÇÊèê‰æõËØ•ÂÖÉ‰ª∂ÊòØ‰∏∫‰∫ÜÈôêÂà∂ÂëàÁé∞ÁªôÈ´òÂ¢ûÁõäÈò∂ÊÆµÁöÑËæìÂÖ•È¢ëÁéáÁöÑËåÉÂõ¥Ôºå‰ª•ÊúÄÂ§ßÁ®ãÂ∫¶Âú∞ÂáèÂ∞è‰∫íË∞ÉÂ§±ÁúüÁöÑÂΩ±Âìç„ÄÇÂç≥‰ΩøÂú®‰∫íË∞É‰∏çÊàêÈóÆÈ¢òÁöÑÊÉÖÂÜµ‰∏ãÔºåÈ´òÂº∫Â∫¶ÁöÑÈ¢ëÂ∏¶Â§ñ‰ø°Âè∑‰πüÊúâÂèØËÉΩÂú®ÈöèÂêéÁöÑÈò∂ÊÆµ‰∏≠ÈôêÂà∂ÊΩúÂú®ÁöÑÂ¢ûÁõäÈáèÔºå‰ªéËÄåÂØºËá¥ÁÅµÊïèÂ∫¶ÂèóÈôêÔºåÂ∞§ÂÖ∂ÊòØÂØπ‰∫éÂú®ÂèëÂ∞ÑÂäüÁéáÁîµÂπ≥ÂèØËÉΩË∂ÖËøá 100 kW ÁöÑÁîµËßÜÂíåÈü≥È¢ëÂπøÊí≠ÊúçÂä°ÈôÑËøëË∞ÉË∞êÁöÑÊé•Êî∂Âô®„ÄÇ ÂØπ‰∫éÂøÖÈ°ªÂ§ÑÁêÜËÆ∏Â§öÊï∞ÈáèÁ∫ß‰ø°Âè∑ÂπÖÂ∫¶ÁöÑÂ§öËΩΩÊ≥¢Êé•Êî∂Êú∫ËÄåË®ÄÔºåËøôÂ∞§ÂÖ∂ÊàêÈóÆÈ¢ò„ÄÇÂ¶ÇÊûúÊâÄÊúâ‰ø°Âè∑ÈÉΩ‰ª§‰∫∫ÊÑüÂÖ¥Ë∂£ÔºåÈÇ£‰πàÂ∞Ü‰∏çÂèØËÉΩÂØπËæÉÂº∫ÁöÑ‰ø°Âè∑ËøõË°åÊª§Ê≥¢ÔºåËÄå‰∏îÂæóÂà∞ÁöÑÊé•Êî∂Âô®ÂøÖÈ°ªÂÖ∑ÊúâÁõ∏ÂØπËæÉÂ§ßÁöÑ‰ø°Âè∑Âä®ÊÄÅËåÉÂõ¥[8]„ÄÇ Â§ßÂ§öÊï∞Êé•Êî∂Âô®ÈúÄË¶Å‰∏Ä‰∏™‰ΩéÂô™Â£∞ÊîæÂ§ßÂô®ÔºàLNAÔºâ„ÄÇ‰∏Ä‰∏™ SDR ÁêÜÊÉ≥ÊÉÖÂÜµ‰∏ãÂ∫îÂåÖÂê´ËÉΩÂ§üÂú®ÊâÄÈúÄÈ¢ëÁéáËåÉÂõ¥ÂÜÖÂ∑•‰ΩúÁöÑ LNA„ÄÇÈô§‰∫ÜÂÖ∏ÂûãÁöÑ LNA Âíå High IP3 ‰πãÂ§ñÔºåÂèØËÉΩËøòÈúÄË¶ÅÂÖ∑ÊúâË∞ÉÊï¥Â¢ûÁõäÁöÑËÉΩÂäõÔºåÂπ∂Âú®ÂèØËÉΩÁöÑÊÉÖÂÜµ‰∏ãÊåâÊØî‰æãÂáèÂ∞èÂäüÁéáÔºàÈÄöÂ∏∏ÊòØ NF Âíå IP3 Ë∑üË∏™ÂÅèÁΩÆÁîµÊµÅÔºâÔºåËøôÂ∞ÜÂÖÅËÆ∏ÂêÑÁßç‰ø°Âè∑Êù°‰ª∂Âú®Êï¥‰∏™Êìç‰ΩúÁöÑÈ¢ëÂ∏¶ËåÉÂõ¥ÂÜÖÈÉΩÂ≠òÂú®„ÄÇ// TODO: ‰ºòÂåñÁøªËØë Ê∑∑È¢ëÂô®Áî®‰∫éÂ∞Ü RF È¢ëË∞±ËΩ¨Êç¢‰∏∫ÂêàÈÄÇÁöÑ IF È¢ëÁéá„ÄÇÂ∞ΩÁÆ°Âú®Âõæ 18.7 ‰∏≠‰ªÖÊòæÁ§∫‰∫Ü‰∏Ä‰∏™Ê∑∑È¢ëÂô®Ôºå‰ΩÜÊòØËÆ∏Â§öÊé•Êî∂Âô®ÂèØ‰ª•‰ΩøÁî®‰∏§‰∏™Êàñ‰∏â‰∏™Ê∑∑È¢ëÂô®Á∫ßÔºåÊØè‰∏™Á∫ß‰æùÊ¨°‰∫ßÁîü‰∏Ä‰∏™ËæÉ‰ΩéÁöÑÈ¢ëÁéá„ÄÇÔºàËØ∑Ê≥®ÊÑèÔºöÊé•Êî∂Âô® IF Âπ∂‰∏çÊÄªÊòØ‰Ωé‰∫é RF ‰ø°Âè∑„ÄÇÂú®È´òÈ¢ëÊé•Êî∂Âô®‰∏≠ÂèØ‰ª•ÊâæÂà∞‰∏Ä‰∏™Â∏∏ËßÅÁöÑ‰æãÂ≠êÔºåÂú®ËØ•Êé•Êî∂Âô®‰∏≠ÔºåÊâÄÈúÄÁöÑRF‰ø°Âè∑ÂèØËÉΩÂè™ÊúâÂá†‰∏™ MHz„ÄÇÂú®Ëøô‰∫õÊÉÖÂÜµ‰∏ãÔºåÂÆÉ‰ª¨ÁªèÂ∏∏Ê∑∑È¢ëÂà∞ 10.7 MHzÔºå21.4 MHzÔºå45 MHz ÊàñÊõ¥È´òÁöÑ IF È¢ëÁéáÔºåÂõ†‰∏∫ÊâÄÈúÄÁªÑ‰ª∂ÁöÑÂèØÁî®ÊÄßÊàñÊÄßËÉΩÔºâÊØè‰∏™ËøûÁª≠Á∫ßËøòÂà©Áî®‰∫ÜÂàÜÂ∏ÉÂú®Êï¥‰∏™Èìæ‰∏≠ÁöÑÊª§Ê≥¢ÂäüËÉΩÔºå‰ª•Ê∂àÈô§‰∏çÈúÄË¶ÅÁöÑÂÉè/Ôºå‰ª•ÂèäÂÖ∂‰ªñÂú®Ê∑∑ÂêàËøáÁ®ã‰∏≠ÁïôÂ≠ò‰∏ãÊù•ÁöÑ‰∏çÈúÄË¶ÅÁöÑ‰ø°Âè∑„ÄÇÊª§Ê≥¢‰πüÂ∫îÈÄÇÂêàËØ•Â∫îÁî®Á®ãÂ∫è„ÄÇ‰º†ÁªüÁöÑÂçïËΩΩÊ≥¢Êé•Êî∂Âô®ÈÄöÂ∏∏‰ºöÈÄöËøáÊ∑∑È¢ëÂô®Á∫ßÂ∫îÁî®‰ø°ÈÅìÊª§Ê≥¢Ôºå‰ª•Â∏ÆÂä©ÊéßÂà∂ÊØèÁ∫ßÁöÑ IP3 Ë¶ÅÊ±Ç„ÄÇËÄåÂú®Â§öËΩΩÊ≥¢Êé•Êî∂Êú∫ÁöÑÊÉÖÂÜµ‰∏ãÔºåÊó†Ê≥ïÈ¢ÑÂÖàÁü•ÈÅì‰ø°ÈÅìÂ∏¶ÂÆΩÔºå‰ªéËÄåÊó†Ê≥ïËøõË°åÊ®°Êãü‰ø°ÈÅìÊª§Ê≥¢„ÄÇ Âõ†Ê≠§ÔºåÊ∑∑ÂêàËøáÁ®ãÂøÖÈ°ª‰øùÁïôÊï¥‰∏™ÊÑüÂÖ¥Ë∂£ÁöÑÈ¢ëË∞±„ÄÇÂêåÊ†∑ÔºåÊàë‰ª¨ÁöÑÂçïËΩΩÊ≥¢ SDR Â∫îÁî®Á®ãÂ∫è‰πüÂøÖÈ°ª‰øùÁïôÊúÄÂ§ßÂèØËÉΩÁöÑÈ¢ëË∞±Ôºå‰ª•Èò≤ SDR ÈúÄË¶ÅÂÖ®È¢ëË∞±„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂç≥‰Ωø‰ªÖÂÖ≥Ê≥®‰∏Ä‰∏™ËΩΩÊ≥¢ÔºåÊàë‰ª¨ÁöÑÂçïËΩΩÊ≥¢Á§∫‰æã‰πüÂèØËÉΩÊ≠£Âú®Â§ÑÁêÜËÆ∏Â§öËΩΩÊ≥¢„ÄÇ‰∏é LNA ‰∏ÄÊ†∑ÔºåÊàë‰ª¨Â∏åÊúõ SDR ‰∏≠ÁöÑÊ∑∑È¢ëÂô®ÂÖ∑ÊúâÂèØË∞ÉÁöÑÂÅèÁΩÆ„ÄÇ‰∏é LNA ‰∏ÄÊ†∑ÔºåËØ•ÂÅèÁΩÆÂèØÁî®‰∫éÊ≠£Á°ÆËÆæÁΩÆËÆæÂ§áÁöÑËΩ¨Êç¢Â¢ûÁõäÂíå IP3 ‰ª•ÂØπÂ∫î‰∫éÊâÄÈúÄÁöÑ‰ø°Âè∑Êù°‰ª∂„ÄÇ Èô§Ê∑∑ÂêàÂô®‰πãÂ§ñÊàñ‰ª£ÊõøÊ∑∑ÂêàÂô®ÔºåÊüê‰∫õÊé•Êî∂Êú∫‰ΩìÁ≥ªÁªìÊûÑËøò‰ΩøÁî®Ê≠£‰∫§Ëß£Ë∞ÉÂô®„ÄÇËß£Ë∞ÉÂô®ÁöÑÁõÆÁöÑÊòØÂàÜÁ¶ª I Âíå Q ÂàÜÈáè„ÄÇ ÂàÜÂºÄÂêéÔºåI Âíå Q Ë∑ØÂæÑÂøÖÈ°ª‰øùÊåÅÂçïÁã¨ÁöÑ‰ø°Âè∑Ë∞ÉÁêÜ„ÄÇÂú®Êï∞Â≠óÂüüÔºåËøô‰∏çÊòØÈóÆÈ¢ò„ÄÇ‰ΩÜÊòØÔºåÂú®Ê®°ÊãüÂüü‰∏≠Ôºå‰ø°Âè∑Ë∑ØÂæÑÂøÖÈ°ªÂÆåÁæéÂåπÈÖçÔºåÂê¶ÂàôÂ∞ÜÂºïÂÖ• I/Q ‰∏çÂπ≥Ë°°Ôºå‰ªéËÄåÂèØËÉΩÈôêÂà∂Á≥ªÁªüÁöÑÈÄÇÁî®ÊÄß„ÄÇ Â¶ÇÂçïËΩΩÊ≥¢Á§∫‰æãÊâÄÁ§∫ÔºåËÆ∏Â§ö SDR Êé•Êî∂Âô®ÈÄöËøáÂà©Áî®ÂÆûÈááÊ†∑ÔºàËÄå‰∏çÊòØÂ§çÈááÊ†∑ÔºâÊù•ÈÅøÂÖçÊ≠§ÈóÆÈ¢òÔºåÂπ∂Âú®Êï∞Â≠óÈ¢ÑÂ§ÑÁêÜÂô®‰∏≠‰ΩøÁî®ÂèØÊèê‰æõÂÆåÁæéÊ≠£‰∫§ÁöÑÊï∞Â≠óÊ≠£‰∫§Ëß£Ë∞ÉÂô®„ÄÇ ÂΩì‰∏éËæìÂÖ•ÁöÑ RF ‰ø°Âè∑Ê∑∑ÂêàÊó∂ÔºåÊú¨Âú∞ÊåØËç°Âô®Áî®‰∫éÁîüÊàêÈÄÇÂΩìÁöÑ IF„ÄÇÈÄöÂ∏∏ÔºåÊú¨Âú∞ÊåØËç°Âô®ÔºàLOÔºâÁöÑÈ¢ëÁéáÂèØÂèòÔºåÂπ∂‰∏îÂèØ‰ª•‰ΩøÁî® PLL Êàñ DDS ÊäÄÊúØÈÄöËøáËΩØ‰ª∂ÊéßÂà∂ËΩªÊùæÁºñÁ®ã„ÄÇÂú®Êüê‰∫õÊÉÖÂÜµ‰∏ãÔºåLO ÂèØËÉΩ‰∏çÈúÄË¶ÅË∑≥È¢ë„ÄÇ‰∏Ä‰∏™‰æãÂ≠êÊòØÁî®‰∫éÊé•Êî∂Âõ∫ÂÆöÈ¢ëÂ∏¶ÂÜÖÁöÑÂ§ö‰∏™ËΩΩÊ≥¢„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåLO ÊòØÂõ∫ÂÆöÁöÑÔºåÂπ∂‰∏îÊï¥‰∏™È¢ëÂ∏¶Ë¢´ÊåâÂùóËΩ¨Êç¢‰∏∫ÊâÄÈúÄÁöÑ‰∏≠È¢ë„ÄÇÈÄöÂ∏∏ÂèØËÉΩÈúÄË¶ÅÊõ¥Êîπ LO ÁöÑÈ©±Âä®ÁîµÂπ≥Ôºå‰ª•‰ºòÂåñÂêÑÁßç‰ø°Âè∑Êù°‰ª∂‰∏ãÁöÑÂØÑÁîü/‰º™ÊÄßËÉΩ„ÄÇ// TODO: ‰ºòÂåñÁøªËØë ‰∏≠È¢ëÊîæÂ§ßÂô®ÈÄöÂ∏∏ÊòØ AGC ÂΩ¢ÂºèÁöÑ„ÄÇAGC ÁöÑÁõÆÊ†áÊòØÂú®‰∏çËøáÂ∫¶È©±Âä®‰ø°Âè∑ÈìæÂÖ∂‰ΩôÈÉ®ÂàÜÁöÑÊÉÖÂÜµ‰∏ãÔºå‰ΩøÁî®ÂèØËÉΩÁöÑÊúÄÂ§ßÂ¢ûÁõä„ÄÇÊúâÊó∂ÔºåAGC Áî±Ê®°ÊãüÊéßÂà∂ÂõûË∑ØÊéßÂà∂„ÄÇ‰ΩÜÊòØÔºåÊï∞Â≠óÊéßÂà∂ÂõûË∑Ø‰πüÂèØ‰ª•Áî®‰∫éÂÆûÁé∞‰ΩøÁî®Ê®°ÊãüÂèçÈ¶àÊó†Ê≥ïÂÆûÁé∞ÁöÑÂõ∞ÈöæÊéßÂà∂ÂõûË∑Ø„ÄÇÂú®Â§öËΩΩÊ≥¢Â∫îÁî®‰∏≠Ôºå‰ΩøÁî® AGC ÊúÄÂ•ΩÁöÑÊÉÖÂÜµ‰∏ã‰πüÂæàÈöæ„ÄÇÂ¶ÇÊûúÊé•Êî∂Âô®‰∏≠ÁöÑÂä®ÊÄÅËåÉÂõ¥‰∏çË∂≥Ôºà‰∏ªË¶ÅÁî± ADC ÂÜ≥ÂÆöÔºâÔºåÂàôÂº∫‰ø°Âè∑ÁöÑÂ¢ûÁõäÈôç‰ΩéÂèØËÉΩ‰ºöÂØºËá¥ËæÉÂº±ÁöÑ‰ø°Âè∑Âú®Êé•Êî∂Âô®ÁöÑÊú¨Â∫ïÂô™Â£∞‰∏≠‰∏¢Â§±„ÄÇÂú®ËøôÊ†∑ÁöÑÂ∫îÁî®‰∏≠ÔºåÁêÜÊÉ≥ÁöÑÂ¢ûÁõäÊï∞Â≠óÊéßÂà∂ÁéØË∑Ø„ÄÇÂè™Ë¶ÅÊ≤°Êúâ‰ø°Âè∑‰∏¢Â§±ÁöÑÂç±Èô©ÔºåÂ∞±ÂèØ‰ª•Ê≠£Â∏∏‰ΩøÁî®ÊéßÂà∂ÂõûË∑Ø„ÄÇ ÁÑ∂ËÄåÔºåÂ¶ÇÊûúÂú®Â≠òÂú®ÈùûÂ∏∏Âº∫ÁöÑ‰ø°Âè∑ÁöÑÊÉÖÂÜµ‰∏ãÊ£ÄÊµãÂà∞Âº±‰ø°Âè∑ÔºåÂèØ‰ª•ÂÅöÂá∫ÂÜ≥ÂÆöÂÖÅËÆ∏ÊúâÈôêÈáèÁöÑÂâäÈô§ÔºåËÄå‰∏çÊòØÂáèÂ∞ëÂº±‰ø°Âè∑ÁöÑÂ¢ûÁõäÔºåËÄåÂõ†Ê≠§‰∫ßÁîüÂº±‰ø°Âè∑‰∏¢Â§±ÁöÑÈ£éÈô©„ÄÇÈÄöËøáÊï∞Â≠óÊéßÂà∂ÁéØË∑ØÊØîÈÄöËøáÊ®°ÊãüÁéØË∑ØÊõ¥ÂÆπÊòìÊéßÂà∂Ê≠§Á±ªÊù°‰ª∂ÊÉÖÂÜµÔºå‰ªéËÄåÂèØ‰ª•Êõ¥Â•ΩÂú∞ÊéßÂà∂Êé•Êî∂Âô®ÁöÑÊÄªËΩ¨Êç¢Â¢ûÁõä„ÄÇ ADC Áî®‰∫éÂ∞Ü‰∏Ä‰∏™ÊàñÂ§ö‰∏™ IF ‰ø°Âè∑ËΩ¨Êç¢‰∏∫Êï∞Â≠óÊ†ºÂºè‰ª•ËøõË°åÂ§ÑÁêÜ„ÄÇADC ÈÄöÂ∏∏ÊòØÁì∂È¢àÔºåËÄå ADC ÁöÑÈÄâÊã©ÈÄöÂ∏∏ÊòØÂÜ≥ÂÆö SDR Êû∂ÊûÑÁöÑÈ©±Âä®Âõ†Á¥†[1„ÄÅ9„ÄÅ10]„ÄÇÈÄöÂ∏∏ÔºåËÆæËÆ°‰∫∫ÂëòË¢´Ëø´ÈÄâÊã©ÊúÄ‰Ω≥ÁöÑÂèØÁî® ADCÔºåÂõ†‰∏∫ÊÑèËØÜÂà∞Âú®ËÆ∏Â§öÊÉÖÂÜµ‰∏ã ADC ÂèØËÉΩ‰ºöË¢´ËøáÂ∫¶ÊåáÂÆö„ÄÇ ËøòÊúâ‰∏Ä‰∫õÊó∂ÂÄôÔºåÁ©∫‰∏≠Êé•Âè£Ê†áÂáÜÂèØËÉΩ‰∏çÈíàÂØπÂ§öËΩΩÊ≥¢Êé•Êî∂Âô®ÔºåÂπ∂‰∏îÊØîÂú®Áé∞Âú∫ÈÉ®ÁΩ≤Êó∂ÊâÄË¶ÅÊ±ÇÁöÑ ADC Ë¶ÅÂ•ΩÂæóÂ§öÔºåËøô‰ªÖ‰ªÖÊòØÂõ†‰∏∫ËØ•Ê†áÂáÜËßÑÂÆö‰∫ÜÊµãËØïÊñπÊ≥ï„ÄÇÂØπ‰∫é ADCÔºåÂèØËÉΩÈúÄË¶ÅÊõ¥ÊîπÈááÊ†∑ÁéáÔºåËæìÂÖ•ËåÉÂõ¥‰ª•ÂèäÊΩúÂú®ÁöÑÊ¥ªÂä®Â∏¶ÂÆΩ„ÄÇÊï∞Â≠óÈ¢ÑÂ§ÑÁêÜÂô®ÂèØ‰ª•ÈááÁî®Â§öÁßçÂΩ¢Âºè„ÄÇÂØπ‰∫éÂæàÈ´òÁöÑÈááÊ†∑ÁéáÂíåÊï∞ÊçÆÈÄüÁéáÔºåÈÄöÂ∏∏Â∞ÜÂÖ∂ÂÆûÁé∞‰∏∫ FPGA Êàñ ASIC„ÄÇËøô‰∫õÁîµË∑ØÊú¨Ë¥®‰∏äÂú®ÂäüËÉΩÂíåÂèÇÊï∞ËåÉÂõ¥‰∏äÈÉΩÈùûÂ∏∏ÁÅµÊ¥ª„ÄÇÂΩìÁÑ∂ÔºåÂèØ‰ª•ÈíàÂØπÊâÄÈúÄÁöÑ‰ªª‰ΩïÂäüËÉΩÂØπ FPGA ËøõË°åÁºñÁ®ã„ÄÇÈÄöÂ∏∏ÔºåÂ∞ÜÂØπ FPGA ËøõË°åÁºñÁ®ã‰ª•ÊâßË°åÊ≠£‰∫§Ëß£Ë∞ÉÂíåË∞ÉË∞êÔºåÈÄöÈÅìÊª§Ê≥¢‰ª•ÂèäÊï∞ÊçÆÈÄüÁéáÈôç‰Ωé„ÄÇ// TODO: ‰ºòÂåñÁøªËØë ÂÖ∂‰ªñÂäüËÉΩÔºå‰æãÂ¶Ç RF ÂäüÁéáÊµãÈáèÂíå‰ø°ÈÅìÁ∫øÊÄßÂåñ‰πüÊòØÂèØËÉΩÁöÑ„ÄÇÊâÄÊúâËøô‰∫õÂÖÉÁ¥†ÈÉΩÂèØ‰ª•‰ΩøÁî®Â§öÁßçÊï∞Â≠óÊäÄÊúØËΩªÊùæÁîüÊàêÔºåÂπ∂‰∏îÂèØ‰ª•ÈÄöËøáÂ∞ÜÂêÑÁßçÁ≥ªÊï∞Âä†ËΩΩÂà∞ FPGA Êù•ËΩªÊùæËøõË°åÁºñÁ®ã„ÄÇÈÄöËøáËøôÊ†∑ÂÅöÔºåÂèØ‰ª•‰ΩøÁî®ÂçïËäØÁâáÈÖçÁΩÆÊù•ÁîüÊàêÊï∞Â≠óÈ¢ÑÂ§ÑÁêÜÂô®ÔºåËøôÊ†∑ÁöÑÊï∞Â≠óÈ¢ÑÂ§ÑÁêÜÂô®ËÉΩÂ§üË∞ÉÊï¥ ADC ÁöÑÂ•àÂ•éÊñØÁâπÈ¢ëÂ∏¶ÁöÑÊï¥‰∏™ËåÉÂõ¥ÔºåËøòÂèØ‰ª•ËøáÊª§‰ªéÊï∞ kHz Âà∞Êï∞ MHz Â∏¶ÂÆΩÁöÑ‰ø°Âè∑„ÄÇÂΩìÈúÄË¶ÅÂ§ö‰∏™È¢ëÈÅìÊó∂ÔºåÂèØ‰ª•ÈáçÂ§çËÆæËÆ°‰ª•Â°´ÂÖÖ FPGA„ÄÇÂ¶ÇÊûúÈúÄË¶Å‰ΩéÊàêÊú¨ÁöÑÈÄâÊã©ÔºåÂàôÂèØ‰ª•‰ΩøÁî®ÊâßË°åËøô‰∫õÂäüËÉΩÁöÑÂêÑÁßç ASICÔºåÂÆÉ‰ª¨ÈÄöÂ∏∏Ë¢´Áß∞‰∏∫ÈÄöÈÅìÂô®ÔºåRSP Êàñ DDC„ÄÇ SDR ‰∏≠ÁöÑÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØ DSP„ÄÇÁî±‰∫éËøôÊòØ‰∏Ä‰∏™ÈÄöÁî® DSPÔºåÂõ†Ê≠§ÂèØ‰ª•ÈíàÂØπ‰ªª‰ΩïÊâÄÈúÄÁöÑÂ§ÑÁêÜ‰ªªÂä°ËøõË°åÁºñÁ®ã„ÄÇÂÖ∏ÂûãÁöÑ‰ªªÂä°ÂåÖÊã¨ÂùáË°°ÔºåÊ£ÄÊµãÔºåÂÆûÁé∞ rake Êé•Êî∂Âô®ÁöÑÂäüËÉΩÔºåÁîöËá≥ÊòØÂÆûÁé∞ÁΩëÁªúÊé•Âè£Ôºå‰ªÖ‰∏æÂá†‰æã„ÄÇ Áî±‰∫éÂÆÉ‰ª¨ÊòØÂÆåÂÖ®ÂèØÁºñÁ®ãÁöÑÔºåÂõ†Ê≠§ÂÆÉ‰ª¨Âá†‰πéÂèØ‰ª•Áî®‰∫é‰ªª‰Ωï‰ø°Âè∑Â§ÑÁêÜ‰ªªÂä°ÔºåÂπ∂ÊéßÂà∂Ê°ÜÂõæÂÖ∂‰ªñÂÖÉÁ¥†‰∏≠ÁöÑÊâÄÊúâÂäüËÉΩ„ÄÇÈöèÁùÄ DSP Â§ÑÁêÜËÉΩÂäõÁöÑÊèêÈ´òÔºåÂÆÉ‰πüÂèØËÉΩ‰ºöÊé•ÁÆ°Êï∞Â≠óÈ¢ÑÂ§ÑÁêÜÂô®‰∏≠ÁöÑËÆ∏Â§öÂäüËÉΩ„ÄÇ ÊÄªÁªì Á¨¨‰∏âÈÉ®ÂàÜÂ∞Ü‰ºöËÆ≤Ëß£ SDR ÁöÑÂèëÈÄÅÁ´Ø„ÄÇ ÂèÇËÄÉ J. H. Reed, Software Radio: A Modern Approach to Radio Engineering, Prentice Hall, Upper Saddle River, NJ, 2002. J. Mitola, III, ‚ÄúSoftware Radio‚ÄùCognitive Radio,‚Äù http://ourworld. compuserve.com/homepages/jmitola/. B. Brannon, D. Efstathiou, and T. Gratzek, ‚ÄúA Look at Software Radios: Are They Fact or Fiction?‚Äù Electronic Design, (December 1998): pp. 117‚Ä≥122. B. Clarke and K. Kreitzer, ‚ÄúSoftware Radio Concepts,‚Äù unpublished paper. B. Brannon, ‚ÄúDigital-Radio-Receiver Design Requires Reevaluation of Parameters,‚Äù EDN, 43 (November 1998): pp. 163‚Ä≥170. B. Brannon, ‚ÄúNew A/D Converter Benefi ts Digital IFs,‚Äù RF Design, 18 (May 1995): pp. 50‚Ä≥65. W. H. Hayward, ‚ÄúIntroduction to Radio Frequency Design,‚Äù The American Radio Relay League, 1994‚Ä≥1996. J. J. Carr, Secrets of RF Circuit Design, McGraw-Hill, New York, 2001. B. Brannon, ‚ÄúFast and Hot: Data Converters for Tomorrow‚Äôs Software-Defi ned Radios,‚Äù RF Design, 25 (July 2002): pp. 60‚Ä≥66. B. Brannon and C. Cloninger, ‚ÄúRedefi ning the Role of ADCs in Wireless,‚Äù Applied Microwave and Wireless, 13 (March 2001): pp. 94‚Ä≥105. B. Brannon, ‚ÄúDNL and Some of Its Effects on Converter Performance,‚Äù Wireless Design and Development, 9 (June 2001): p. 10. w.newnespress.com B. Brannon, ‚ÄúOvercoming Converter Nonlinearies with Dither,‚Äù Analog Devices Applications Note AN-410, www.analog.com. W. Kester, ‚ÄúHigh-Speed Sampling and High-Speed ADCs,‚Äù Section 4, High-Speed Design Techniques, www.analog.com. W. Kester, ‚ÄúHigh-Speed DACs and DDS Systems,‚Äù Section 6, High-Speed Design Techniques, www.analog.com. About CDMA and CDMA University. Available at http:// www.qualcomm.com. Specifi cations. Available at http://www.3gpp2.org. R. H. Walden, ‚ÄúAnalog-to-Digital Converter Survey and Analysis,‚Äù IEEE Communications Magazine, 17 (April 1999): pp. 539‚Ä≥550. H. Nyquist, ‚ÄúCertain Topics in Telegraph Transmission Theory,‚Äù AIEE Transactions, 47 (April 1928): pp. 617‚Ä≥644. AD6645 Datasheet. Available at http://www.analog.com.","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"SDR","slug":"SDR","permalink":"https://blog.inoki.cc/categories/SDR/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"SDR","slug":"SDR","permalink":"https://blog.inoki.cc/tags/SDR/"}]},{"title":"KDE Frameworks - Introduction","slug":"KDE-Frameworks-Introduction","date":"2020-07-02T23:22:00.000Z","updated":"2022-05-09T18:41:39.466Z","comments":true,"path":"2020/07/02/KDE-Frameworks-Introduction/","link":"","permalink":"https://blog.inoki.cc/2020/07/02/KDE-Frameworks-Introduction/","excerpt":"","text":"Note: this is an extraction of KDE Frameworks API with some comments Italics means the project might be interesting to some developers. Bold means the project can be very useful for some applications. The KDE Frameworks build on the Qt framework, providing everything from simple utility classes (such as those in KCoreAddons) to integrated solutions for common requirements of desktop applications (such as KNewStuff, for fetching downloadable add-on content in an application, or the powerful KIO multi-protocol file access framework). The KDE Frameworks can be used in CMake-based and QMake-based projects, and most of them are portable to at least Windows, Mac and Linux. The documentation of each framework has code snippets that show how to include the framework in a QMake or CMake project. The frameworks are divided into four tiers, based on the kind of dependencies that they have. For instance, Tier 1 frameworks depend on Qt and possibly some third-party libraries, but not on other frameworks. This makes them easy to integrate into existing applications. Tier 1 Tier 1 frameworks depend only on Qt (and possibly a small number of other third-party libraries), so can easily be used by any Qt-based project. Framework Type Description Note Attica functional Open Collaboration Services API, version 1.6, REST BluezQt integration Qt wrapper for BlueZ 5 (Bluetooth) DBus API Linux Only BreezeIcons functional Breeze icon theme Beautiful icons ECM functional Extra CMake modules KApiDox functional Scripts and data for building API documentation (dox) in a standard format and style KArchive functional File compression KCalendarCore functional The KDE calendar access library KCGroups functional control cgroup resources through systemd dbus interface Linux only KCodecs functional provide a collection of methods to manipulate strings using various encodings KConfig functional Configuration system gconfig-like KCoreAddons functional Addons to QtCore KDBusAddons functional Addons to QtDBus KDNSSD integration a library for handling the DNS-based Service Discovery Protocol (DNS-SD) KGuiAddons functional Addons to QtGui KHolidays functional Holiday calculation library KI18n functional Advanced internationalization framework KIdleTime functional Monitoring user activity Kirigami2 functional QtQuick plugins to build user interfaces based on the KDE human interface guidelines KItemModels functional Models for Qt Model/View system KItemViews functional Widget addons for Qt Model/View KPlotting functional Lightweight plotting framework KQuickCharts functional A QtQuick module providing high-performance charts I don‚Äôt know why, but it only supports Linux and FreeBSD KSyntaxHighlighting functional Syntax Highlighting Kate uses it, helpful for Text Editor KUserFeedback solution User feedback framework KWayland integration Qt-style API to interact with the wayland-client and wayland-server API KWidgetsAddons functional Addons to QtWidgets KWindowSystem integration Access to the windowing system ModemManagerQt integration Qt wrapper for ModemManager API Linux Only NetworkManagerQt integration Qt wrapper for NetworkManager API Linux Only Oxygen-icons functional Oxygen icon theme Prison solution Barcode abstraction layer providing uniform access to generation of barcodes QQC2-Desktop-Style functional QtQuickControls 2 style that integrates with the desktop Solid integration Hardware integration and detection Hardware Discovery, Power Management, Network Management Sonnet solution Support for spellchecking plugin-based spell checking library ThreadWeaver functional High-level multithreading framework job-based interface to queue tasks Tier 2 Tier 2 frameworks additionally depend on tier 1 frameworks, but still have easily manageable dependencies. Framework Type Description Note KActivities solution Runtime and library to organize the user work in separate activities KAuth integration Abstraction to system policy and authentication features run high-privileged tasks (Linux, macOS, etc) KCompletion functional Text completion helpers and widgets completion for user input KContacts functional Support for vCard contacts read/write data in vCard standard (RFC 2425 / RFC 2426) KCrash integration Support for application crash analysis and bug report from apps crash report KDocTools functional Documentation generation from docbook KFileMetaData integration A file metadata and text extraction library extracting the text and metadata from different files KImageFormats functional Image format plugins for Qt additional image format plugins for QtGui (runtime plugin) KJobWidgets functional Widgets for tracking KJob instances widgets for showing progress of asynchronous jobs KNotifications solution Abstraction for system notifications cross-platform notification! KPackage functional Library to load and install packages of non binary files as they were a plugin KPeople functional Provides access to all contacts and the people who hold them gather all types of contacts KPty integration Pty abstraction interfacing with pseudo terminal devices KQuickImageEditor functional QtQuick plugins for image editing UI QtQuick components for image editing, Linux only KUnitConversion functional Support for unit conversion Unit Conversion Syndication functional An RSS/Atom parser library parse RSS (0.9/1.0, 0.91‚Ä¶2.0) and Atom (0.3 and 1.0) feeds Tier 3 Tier 3 frameworks are generally more powerful, comprehensive packages, and consequently have more complex dependencies. Framework Type Description Note Baloo solution Baloo is a file indexing and searching framework for KDE Plasma, Linux/FreeBSD only KActivitiesStats solution A library for accessing the usage data collected by the activities system KBookmarks functional Support for bookmarks and the XBEL format access and manipulate bookmarks KCMUtils integration Utilities for working with KCModules KConfigWidgets integration Widgets for configuration dialogs can be integrated into KDE Plasma system setting KDAV functional The KDav library interact with WebDAV calendars and todos with KJobs KDeclarative functional Provides integration of QML and KDE Frameworks bridge between QML and KDE Frameworks KDED solution Extensible deamon for providing system level services Linux/FreeBSD only KDESu integration Integration with su for elevated privileges su GUI for console mode programs, Linux/FreeBSD only KEmoticons functional Support for emoticons and emoticons themes from text to images in HTML KGlobalAccel integration Add support for global workspace shortcuts Linux/FreeBSD only KIconThemes integration Support for icon themes KInit solution Process launcher to speed up launching KDE applications KIO solution Resource and network access abstraction SFTP, Samba, etc KNewStuff solution Support for downloading application assets from the network collaborative data sharing for applications KNotifyConfig integration Configuration system for KNotify KParts solution Document centric plugin system KRunner solution Parallelized query system KService solution Advanced plugin and service introspection handling desktop services KTextEditor solution Advanced embeddable text editor with rich text support KTextWidgets functional Advanced text editing widgets KWallet solution Secure and unified container for user passwords KXmlGui integration User configurable main windows managing menu and toolbar actions in an abstract way Plasma solution Plugin based UI runtime used to write primary user interfaces KDE Plasma! Purpose integration Offers available actions for a specific purpose allow other apps use this one Tier 4 Tier 4 frameworks can be mostly ignored by application programmers; this tier consists of plugins acting behind the scenes to provide additional functionality or platform integration to existing frameworks (including Qt). Framework Type Description Note FrameworkIntegration integration Workspace and cross-framework integration plugins Porting Aids Porting Aids frameworks provide code and utilities to ease the transition from kdelibs 4 to KDE Frameworks 5. Code should aim to port away from this framework, new projects should avoid using these libraries. Framework Type Description Note KDELibs4Support solution Porting aid from KDELibs4 KDesignerPlugin functional Tool to generate custom widget plugins for Qt Designer/Creator KDEWebKit integration KDE Integration for QtWebKit KHtml solution KHTML APIs KJS functional Support for JS scripting in applications KJsEmbed functional Embedded JS KMediaPlayer integration Plugin interface for media player features Kross solution Multi-language application scripting KXmlRpcClient functional Interaction with XMLRPC services","categories":[{"name":"KDE Frameworks","slug":"KDE-Frameworks","permalink":"https://blog.inoki.cc/categories/KDE-Frameworks/"}],"tags":[{"name":"KDE Frameworks","slug":"KDE-Frameworks","permalink":"https://blog.inoki.cc/tags/KDE-Frameworks/"}]},{"title":"„ÄêËØë„ÄëËΩØ‰ª∂ÂÆö‰πâÊó†Á∫øÁîµÁöÑÂü∫Á°Ä ‚Äî‚Äî 1.Ê¶ÇËø∞","slug":"Basic-of-Software-Defined-Radio-1","date":"2020-07-02T20:08:00.000Z","updated":"2022-05-09T18:41:39.434Z","comments":true,"path":"2020/07/02/Basic-of-Software-Defined-Radio-1/","link":"","permalink":"https://blog.inoki.cc/2020/07/02/Basic-of-Software-Defined-Radio-1/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://www.eetimes.com/basics-of-software-defined-radio-part-1/ Âú®ËøáÂéªÂçÅÂπ¥ÈáåÔºåÂçäÂØº‰ΩìÁßëÊäÄÂú®ÊÄßËÉΩÂíå‰ª∑Ê†ºÊñπÈù¢ÈÉΩÂ§ßÊúâÊîπÂñÑÔºåËÆ∏Â§öÊñ∞ÂûãÁöÑÊó†Á∫øÁîµÊäÄÊúØ‰ªéÂÜõÁî®ÂíåÁ†îÂèëÂÆûÈ™åÂÆ§‰∏≠ÊµÅÂá∫ÔºåÂπ∂Êàê‰∏∫‰∫Ü‰∏ªÊµÅ„ÄÇÂÖ∂‰∏≠‰∏ÄÈ°πÊäÄÊúØÂ∞±ÊòØËΩØ‰ª∂ÂÆö‰πâÊó†Á∫øÁîµ„ÄÇ Â∞ΩÁÆ°Ëøë‰∫õÂπ¥Â∑≤ÁªèËÆ®ËÆ∫‰∫ÜÂæàÂ§öÔºåËΩØ‰ª∂Êó†Á∫øÁîµ‰ªçÊ≤°ÊúâËÉΩÂ§üË¢´ÂæàÂ•ΩÁöÑÂÆö‰πâ„ÄÇÂæàÂ§ßÁ®ãÂ∫¶‰∏äÔºåËøôÊòØÁî±‰∫éËΩØ‰ª∂Êó†Á∫øÁîµÊèê‰æõÁöÑÁÅµÊ¥ªÊÄßÔºåÂÖÅËÆ∏ÂÆÉ‰ª¨Âú®ÂÆûË∑µ‰∏≠ÁöÑËÆ∏Â§öÂΩ¢Âºè‰∏äËøõË°åÂèòÈÄöÔºåÊù•ÈÄÇÂ∫î‰∏çÂêåÁöÑÈúÄÊ±Ç„ÄÇÁÑ∂ËÄåÔºåËΩØ‰ª∂ÂÆö‰πâÊó†Á∫øÁîµÔºåÁÆÄÁß∞ SDRÔºåÂú®‰∏éÂÖ∂‰ªñÁ±ªÂûãÁöÑÊó†Á∫øÁîµËøõË°åÊØîËæÉÁöÑÊó∂ÂÄôÔºåÁöÑÁ°ÆÂÖ∑ÊúâËÆ∏Â§öÂîØ‰∏ÄÁöÑÁâπÂæÅ„ÄÇÊÅ∞Â¶ÇÂÖ∂ÂêçÔºåSDR ÂÖ∑ÊúâÈÄöËøáËΩØ‰ª∂ÊàñÂèØÈáçÂÆö‰πâÈÄªËæëÊîπÂèòËá™Ë∫´ÂäüËÉΩÁöÑËÉΩÂäõ„ÄÇËøô‰∫õ‰∫ãÊÉÖÊòØÁî±Êï∞Â≠ó‰ø°Âè∑Â§ÑÁêÜÂô®ÔºàDSPÔºâÊàñËÄÖÂèØÁºñÁ®ãÈÄªËæëÈòµÂàóÔºàFPGAÔºâÊù•ÂÆåÊàêÁöÑÔºåÊàë‰ª¨‰ºöÂú®‰πãÂêéÁöÑÁ´†ËäÇ‰∏≠ÂØπÂÆÉ‰ª¨ËøõË°åËÆ®ËÆ∫„ÄÇ ‰∏∫‰∫Ü‰ΩøÁî®Êï∞Â≠óÂ§ÑÁêÜÔºåÂøÖÈ°ªÂ∞Ü‰º†ÁªüÁöÑÊ®°Êãü‰ø°Âè∑‰∏éÊï∞Â≠óÂüüËøõË°åÁõ∏‰∫íËΩ¨Êç¢„ÄÇËøôÈ°πÊìç‰ΩúÊòØ‰ΩøÁî®Ê®°Êï∞ÔºàADCÔºâÂíåÊï∞Ê®°ÔºàDACÔºâËΩ¨Êç¢Âô®ÂÆåÊàêÁöÑ„ÄÇ‰∏∫‰∫ÜÂÖÖÂàÜÂà©Áî®Êï∞Â≠óÂ§ÑÁêÜÁöÑ‰ºòÂäøÔºåSDR Âú®‰ø°Âè∑Èìæ‰∏≠„ÄÅÂ∞Ü‰ø°Âè∑Â∞ΩÂèØËÉΩÂ§öÁöÑ‰øùÊåÅÂú®ÁöÑÊï∞Â≠óÂüü‰∏≠ÔºåÂπ∂Âú®Â∞ΩÂèØËÉΩÈù†ËøëÂ§©Á∫øÁöÑ‰ΩçÁΩÆËøõË°åÊï∞Â≠óÂåñÂíå‰ø°Âè∑ÈáçÊûÑÔºå‰ªéËÄå‰ΩøÊï∞Â≠óÊäÄÊúØËÉΩÂ§üÊâßË°å‰º†Áªü‰∏äÁî±Ê®°ÊãüÁªÑ‰ª∂ÂÆåÊàêÁöÑÂäüËÉΩÔºå‰ª•ÂèäÂÖ∂‰ªñÂú®Ê®°ÊãüÈ¢ÜÂüüÊó†Ê≥ïÂÆûÁé∞ÁöÑÂäüËÉΩ„ÄÇ‰ΩÜÊòØÔºåËøôÊòØÊúâ‰∏ÄÂÆöÂ±ÄÈôêÁöÑ„ÄÇÂ∞ΩÁÆ°Â∞Ü ADC Êàñ DAC Áõ¥Êé•ËøûÊé•Âà∞Â§©Á∫øÊòØ‰∏Ä‰∏™ÁêÜÊÉ≥ÁöÑÊúÄÁªàÁõÆÊ†áÔºå‰ªçÂ≠òÂú®Ê®°ÊãüÂâçÁ´ØËÉΩÂ§üÊîπËøõÁöÑÈÄâÊã©ÊÄßÂíåÁÅµÊïèÂ∫¶ÈóÆÈ¢ò„ÄÇ Âú®Â§©Á∫øÂ§ÑÊï∞Â≠óÂåñÁöÑÊõø‰ª£ÊñπÊ≥ïÔºåÂ∞±ÊòØ‰ΩøÁî®ÂÆåÂÖ®ÁÅµÊ¥ªÁöÑÊ®°ÊãüÂâçÁ´ØÔºàAFEÔºâÔºåËØ•ÂâçÁ´ØËÉΩÂ§üÂ∞ÜÂêÑÁßçÈ¢ëÁéáÂíåÈ¢ëÂ∏¶ËΩ¨Êç¢‰∏∫Êï∞ÊçÆËΩ¨Êç¢Âô®Êú¨Ë∫´ÂèØ‰ª•ÈÄÇÂΩìÂ§ÑÁêÜÁöÑÈ¢ëÁéáÂíåÈ¢ëÂ∏¶[1]„ÄÇSDR Âú®Áî®‰∫éÂ§öËΩΩÊ≥¢„ÄÅÂçïËΩΩÊ≥¢„ÄÅÂçïÈ¢ëÂ∏¶„ÄÅÂ§öÈ¢ëÂ∏¶ÂíåÂ§öÊ®°ÂºèÊî∂ÂèëÂô®Êó∂ÊïàÊûúÈùûÂ∏∏ÁêÜÊÉ≥„ÄÇÂÖ∂‰∏≠‰∏Ä‰∫õÈóÆÈ¢òÂ∞ÜÂú®‰ª•Âêé‰ªãÁªç„ÄÇÂÖ≥ÈîÆÂú®‰∫éÔºåSDR ÂÖ∑ÊúâË∂ÖË∂äÁÆÄÂçïÁöÑÂçïÈÄöÈÅì„ÄÅÂçïÊ®°ÂºèÊî∂ÂèëÂô®ÊäÄÊúØÁöÑËÉΩÂäõÔºåÂπ∂‰∏îÂèØ‰ª•‰ªªÊÑèÊõ¥ÊîπÊ®°ÂºèÔºåÈ¢ëÈÅìÂ∏¶ÂÆΩ„ÄÅÈÄüÁéáÂíåË∞ÉÂà∂ÈÉΩÂèØ‰ª•ÈÄöËøáËΩØ‰ª∂ÁÅµÊ¥ªÁ°ÆÂÆö„ÄÇËøô‰∫õÁâπÊÄßÂèØ‰ª•ÈÄöËøáÁõ¥Êé•ËæìÂÖ•„ÄÅËΩØÁõò„ÄÅÊó†Á∫ø‰∏ãËΩΩÊàñÈÄöËøá‰ΩøÁî®ÁªÜËá¥ÁöÑ‰ø°Âè∑ÂàÜÊûêÔºåÈÄöËøáÁß∞‰∏∫ Êó†Á∫øÁîµËÆ§Áü• ÁöÑËøáÁ®ãÊù•Êõ¥ÊîπÔºåËøô‰∏ÄËøáÁ®ãÊòØÊåáÁ°ÆÂÆö‰ø°ÊÅØÊòØÂ¶Ç‰ΩïÁºñÁ†Å[2]„ÄÇ Êó†ËÆ∫ÈááÁî®‰ΩïÁßçÊñπÂºèÈáçÊñ∞ÈÖçÁΩÆÊó†Á∫øÁîµÔºåÂÆåÂÖ®ÂÆûÁé∞ÁöÑ SDR ÈÉΩÂ∞ÜËÉΩÂ§ü‰ΩøÁî®ÂèØÁºñÁ®ãÁöÑ‰ø°ÈÅìÂ∏¶ÂÆΩÂíåË∞ÉÂà∂ÁâπÊÄßÊù•ÊâæÂà∞‰∏Ä‰∏™ÂÆΩÈòîÁöÑÈ¢ëÁéáËåÉÂõ¥„ÄÇ‰∏ãË°®ÂàóÂá∫‰∫Ü SDR ÁöÑ‰∏Ä‰∫õÂèØËÉΩÁöÑÂä®ÊÄÅÁâπÊÄßÔºö È¢ëÈÅìÂ∏¶ÂÆΩ Êï∞ÊçÆÈÄüÁéá Ë∞ÉÂà∂Á±ªÂûã ËΩ¨Êç¢Â¢ûÁõä Èô§ RF Ë∞ÉË∞êÂ§ñÔºåÊî∂ÂèëÂô®ËøòÂøÖÈ°ªÂÖ∑Â§áÂà©Áî®Ëøô‰∫õÁâπÊÄß‰∏≠ÁöÑ‰∏Ä‰∏™‰ª•‰∏äÁâπÊÄßÁöÑËÉΩÂäõÔºåÊâçËÉΩË¢´ËßÜ‰∏∫ SDR„ÄÇ ËΩØ‰ª∂Êó†Á∫øÁîµÁöÑÂêÑ‰∏™ÊñπÈù¢ Ê≠£Â¶ÇÂâçÈù¢ÁöÑÂàóË°®ÊâÄÁ§∫ÔºåSDR ÂÖ∑ÊúâËÆ∏Â§öÁâπÂæÅ„ÄÇÂ∞ΩÁÆ°‰∏çË¶ÅÊ±Ç SDR ÂÖ∑ÊúâÊâÄÊúâËøô‰∫õÁâπÂæÅÔºå‰ΩÜÊòØÈúÄË¶ÅÊã•Êúâ‰∏Ä‰∏™‰ª•‰∏äËøô‰∫õÁâπÂæÅ„ÄÇÊ≠§Â§ñÔºåÂâçÈù¢ÁöÑÁ±ªÂà´ÂèØ‰ª•Ëøõ‰∏ÄÊ≠•ÁªÜÂàÜÔºå‰∏ãÈù¢ÂêÑËäÇ‰ºöÂØπÂÖ∂ËøõË°åÊèèËø∞„ÄÇÂ∫îËØ•ËÆ∞‰ΩèÁöÑÊòØÔºåËΩØ‰ª∂ÂÆö‰πâÊÑèÂë≥ÁùÄÈ´òÂ∫¶ÁöÑÁÅµÊ¥ªÊÄßÂíåÂèØÂèòÊÄßÔºåÂõ†Ê≠§ËØ•ËÆ®ËÆ∫Âπ∂Ê≤°ÊúâÂõäÊã¨ÊâÄÊúâÂÜÖÂÆπÔºåÂπ∂‰∏î‰ºöÈöèÁùÄÊó∂Èó¥ÁöÑÊé®ÁßªËÄåÂèòÂåñ„ÄÇ‰ΩÜÊòØÔºåÂÆÉÂèØ‰ª•‰Ωú‰∏∫‰∫ÜËß£ SDR ÂèØËÉΩÂ≠òÂú®ÁöÑÊñπÊñπÈù¢Èù¢ÁöÑËµ∑ÁÇπ„ÄÇ Â§öÈ¢ëÊÆµ Â§ßÂ§öÊï∞‰º†ÁªüÁöÑÊó†Á∫øÁîµÊû∂ÊûÑÂú®Âçï‰∏™È¢ëÊÆµ‰∏äÊàñ‰∏Ä‰∏™È¢ëÁéáËåÉÂõ¥‰∏äÊìç‰Ωú„ÄÇÂú®ËÆ∏Â§öÂ∫îÁî®‰∏≠ÔºåÈúÄË¶ÅËøõË°åÂ§öÁßçÈ¢ëÁéáÊìç‰Ωú„ÄÇ‰∏æÂá†‰∏™‰æãÂ≠êÔºöËúÇÁ™ùÈÄö‰ø°ÔºåÊîøÂ∫úÂíåÈùûÊîøÂ∫úÊú∫ÊûÑ‰ª•ÂèäÊô∫ËÉΩÊî∂ÈõÜ„ÄÇÂú®Ëøô‰∫õÊÉÖÂÜµ‰∏ãÔºåÈÄöÂ∏∏ÁöÑÂÅöÊ≥ïÊòØ‰ΩøÁî®Â§ö‰∏™Êó†Á∫øÁîµÔºåÊØè‰∏™Êó†Á∫øÁîµÈÉΩËÆæËÆ°‰∏∫Âú®‰∏Ä‰∏™ÊåáÂÆöÁöÑÈ¢ëÊÆµÂÜÖÂ∑•‰Ωú„ÄÇÂ§öÈ¢ëÊÆµÊó†Á∫øÁîµÂÖ∑ÊúâÊåâÈ°∫Â∫èÊàñÂêåÊó∂Âú®‰∏§‰∏™ÊàñÂ§ö‰∏™È¢ëÊÆµ‰∏äËøêË°åÁöÑËÉΩÂäõÔºå‰æãÂ¶ÇÂú®Âü∫Á´ôÂèØËÉΩÈìæÊé•Êù•Ëá™‰∏çÂêåÈ¢ëÊÆµÁöÑÊâãÊú∫ÁöÑÊÉÖÂÜµ‰∏ã„ÄÇ Â§öËΩΩÊ≥¢ Â§öËΩΩÊ≥¢ÊàñÂ§öÈÄöÈÅìÊó†Á∫øÁîµÂÖ∑Êúâ‰∏ÄÊ¨°ÂêåÊó∂Âú®‰∏Ä‰∏™‰ª•‰∏äÈ¢ëÁéá‰∏äËøêË°åÁöÑËÉΩÂäõÔºåÂèØ‰ª•Âú®Âêå‰∏ÄÈ¢ëÂ∏¶ÂÜÖÔºåÊàñËÄÖ‰πüÂèØ‰ª•Âú®Â§öÈ¢ëÂ∏¶Êó†Á∫øÁîµÁöÑÊÉÖÂÜµ‰∏ãÔºåÂêåÊó∂Âú®‰∏§‰∏™‰∏çÂêåÈ¢ëÂ∏¶ÂÜÖ„ÄÇÈÄöÂ∏∏ÔºåÂ§öËΩΩÊ≥¢ÈÄÇÁî®‰∫éÂèØËÉΩÂêåÊó∂ÊúçÂä°Â§ö‰∏™Áî®Êà∑ÁöÑÂü∫Á´ôÔºå‰ΩÜÊòØÂÆÉ‰πüÈÄÇÁî®‰∫éÂèØËÉΩÊ≠£Âú®‰∏çÂêå RF ËΩΩÊ≥¢‰∏äÂ§ÑÁêÜËØ≠Èü≥ÂíåÊï∞ÊçÆÁöÑÁî®Êà∑ÁªàÁ´Ø„ÄÇ Â§öÊ®°Âºè Â§öÊ®°ÂºèÊÑèÂë≥ÁùÄËÉΩÂ§üÂ§ÑÁêÜÂá†Áßç‰∏çÂêåÁ±ªÂûãÁöÑÊ†áÂáÜ„ÄÇ Ê†áÂáÜÂåÖÊã¨ AMÔºå FMÔºå GMSK Âíå CDMAÔºå‰ΩÜ‰∏çÈôê‰∫éËøô‰∫õ„ÄÇSDR ËÉΩÂ§ü‰∏éËÆ∏Â§ö‰∏çÂêåÁöÑÊ†áÂáÜ‰∏ÄËµ∑Â∑•‰ΩúÂπ∂‰∏çÊñ≠ËøõË°åÈáçÊñ∞ÁºñÁ®ã„ÄÇÂõ†Ê≠§ÔºåÊØîÂ§öÊ®°ÂºèÊõ¥Â•ΩÁöÑÊúØËØ≠ÊòØÂ§öÂèòÁöÑÊ®°ÂºèÔºåÂÖ∂ÊöóÁ§∫Á¶ªÊï£Êï∞ÈáèÁöÑÊ®°ÂºèÔºåÊòØ‰∏ÄÁßçÂèØÂèòÁöÑÊ®°ÂºèÔºå‰πüÊÑèÂë≥ÁùÄËøûÁª≠ÂèØÂèòÁöÑÊìç‰ΩúÊ®°Âºè„ÄÇ‰∏éÂÖ∂‰ªñÁâπÂæÅ‰∏ÄÊ†∑ÔºåÂú®Â§öËΩΩÊ≥¢Êó†Á∫øÁîµÁöÑÊÉÖÂÜµ‰∏ãÔºåËøô‰∫õÊ®°ÂºèÂèØ‰ª•ÊòØËøûÁª≠ÁöÑÊàñÂêåÊó∂ÁöÑ„ÄÇ Â§öÈÄüÁéá Â§öÈÄüÁéá‰∏éÂ§öÊ®°ÂºèÂØÜÂàáÁõ∏ÂÖ≥„ÄÇÂ§öÈÄüÁéáÊó†Á∫øÁîµÂèØ‰ª•Âú®‰∏çÂêåÁöÑÈááÊ†∑Áéá‰∏≠Â§ÑÁêÜ‰ø°Âè∑ÈìæÁöÑ‰∏çÂêåÈÉ®ÂàÜÔºà‰æãÂ¶ÇÂú®Â§öÈÄüÁéáÊª§Ê≥¢Âô®‰∏≠ÔºâÔºåÊàñÊòØÂÖ∑ÊúâÂ§ÑÁêÜÈúÄË¶Å‰∏çÂêåÊï∞ÊçÆÈÄüÁéáÁöÑ‰∏çÂêåÊ®°ÂºèÁöÑËÉΩÂäõ„ÄÇÂ§öÈÄüÁéáÊó†Á∫øÁîµÁöÑ‰∏Ä‰∏™Á§∫‰æãÊòØÂèØ‰ª•Â§ÑÁêÜ 270.833 kSPS ÁöÑ GSM Êàñ 1.2288 MCPS ÁöÑCDMAÁöÑÊó†Á∫øÁîµ„ÄÇ‰∏éÂÖ∂‰ªñÁâπÂæÅ‰∏ÄÊ†∑ÔºåËøôÂèØ‰ª•Âú®‰∏çÂêåÁöÑËΩΩÊ≥¢‰∏äËøûÁª≠ÊâßË°åÊàñÂêåÊó∂ÊâßË°å„ÄÇ ÂèØÂèòÂ∏¶ÂÆΩ ÂèØÂèòÂ∏¶ÂÆΩÊòØÂ§öÊ®°ÂºèÁöÑÂè¶‰∏Ä‰∏™ÊñπÈù¢„ÄÇ ‰º†ÁªüÊó†Á∫øÁîµ‰ΩøÁî®Âõ∫ÂÆöÁöÑÊ®°ÊãüÊª§Ê≥¢Âô®Ôºà‰æãÂ¶Ç SAW ÊàñÈô∂Áì∑Êª§Ê≥¢Âô®ÔºâÊù•Á°ÆÂÆö‰ø°ÈÅìÂ∏¶ÂÆΩ„ÄÇ ‰ΩÜÊòØÔºåSDR ‰ΩøÁî®ÂèØ‰ª•Êõ¥ÊîπÁöÑÊï∞Â≠óÊª§Ê≥¢Âô®Êù•Á°ÆÂÆöÈÄöÈÅìÂ∏¶ÂÆΩ„ÄÇÂ∞ΩÁÆ°ÂèØ‰ª•‰ΩøÁî®‰∏ÄÁ≥ªÂàóÂºÄÂÖ≥Ê®°ÊãüÊª§Ê≥¢Âô®Êù•Êõ¥Êîπ‰º†ÁªüÊé•Êî∂Âô®‰∏≠ÁöÑ‰ø°ÈÅìÂ∏¶ÂÆΩÔºå‰ΩÜÂÖ∂‰∏≠Âè™ÊúâÂ∞ëÊï∞Âá†‰∏™ÂÆûÁî®„ÄÇÂè¶Â§ñÔºåÊï∞Â≠óÊª§Ê≥¢Âô®ÂÖ∑ÊúâÂÆûÁé∞Ê®°ÊãüÂüü‰∏≠‰∏çÂèØËÉΩÁöÑÊª§Ê≥¢Âô®ÁöÑÊΩúÂäõ„ÄÇ ÊúÄÂêéÔºåÊï∞Â≠óÊª§Ê≥¢Âô®‰πüÊòØÂèØ‰ª•ÂÆöÂà∂ÁöÑÔºå‰ª•ÈÄÇÂ∫îÂπ≤Êâ∞Ê∫êÂπ∂Ë°•ÂÅø‰º†ËæìË∑ØÂæÑÂ§±ÁúüÔºåËøôÊòØÊ®°ÊãüÊª§Ê≥¢Âô®Èöæ‰ª•ÂÆûÁé∞ÁöÑ‰∏§‰∏™ÂäüËÉΩ„ÄÇ ÊÄªÁªì Á¨¨‰∫åÈÉ®ÂàÜ‰ºöÁùÄÁúº‰∫éÊé•Êî∂Âô®ÔºåÊèèËø∞ SDR ÁöÑÊû∂ÊûÑ„ÄÇ ÂèÇËÄÉ J. H. Reed, Software Radio: A Modern Approach to Radio Engineering, Prentice Hall, Upper Saddle River, NJ, 2002. J. Mitola, III, ‚ÄúSoftware Radio‚ÄùCognitive Radio,‚Äù http://ourworld.compuserve.com/homepages/jmitola/.","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"SDR","slug":"SDR","permalink":"https://blog.inoki.cc/categories/SDR/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"SDR","slug":"SDR","permalink":"https://blog.inoki.cc/tags/SDR/"}]},{"title":"‰∫ëËæìÂÖ•Âú® ibus-libpinyin ‰∏≠ÁöÑÂÆûÁé∞ - Áä∂ÊÄÅ‰∏éÈîôËØØÂ§ÑÁêÜ","slug":"IBus-libpinyin-cloud-input-state-and-error-handle","date":"2020-06-15T16:33:00.000Z","updated":"2022-05-09T18:41:39.458Z","comments":true,"path":"2020/06/15/IBus-libpinyin-cloud-input-state-and-error-handle/","link":"","permalink":"https://blog.inoki.cc/2020/06/15/IBus-libpinyin-cloud-input-state-and-error-handle/","excerpt":"","text":"‰∏ä‰∏ÄÁØáÊñáÁ´†ÊèèËø∞‰∫Ü‰∫ëËæìÂÖ•ÈÉ®ÂàÜÂèëÂá∫ËØ∑Ê±ÇÔºåÊé•Êî∂Âà∞ÂõûÂ§ç‰πãÂêéÂØπÂõûÂ§çÁöÑÈ™åËØÅ„ÄÅÂ§ÑÁêÜÔºå‰ª•ÂèäÂØπËøîÂõûÁöÑÂÄôÈÄâËØçÁöÑÊèêÂèñ„ÄÇÂú®ÂèñÂæóÂÄôÈÄâ‰πãÂêéÔºå‰ºöÂ∞ÜÂÖ∂Âä†ÂÖ•Âà∞ parser ‰∏≠ÁöÑ m_candidates ÂàóË°®‰∏≠ÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™Áä∂ÊÄÅÔºõËã•Ê≤°ÊúâÂèñÂæóÂÄôÈÄâÊàñËÄÖÂú®È™åËØÅËøáÁ®ã‰∏≠ÂèëÁé∞‰∫ÜÈóÆÈ¢òÔºå‰πü‰ºöËøîÂõû‰∏Ä‰∏™ÊåáÂá∫ÈóÆÈ¢òÁöÑÈîôËØØÁä∂ÊÄÅ„ÄÇ ËøôÁØáÊñáÁ´†Êé•ÁùÄËøô‰∏™ÊµÅÁ®ãÔºåÂèôËø∞Âú®‰ª£Á†Å‰∏≠ÊòØÂ¶Ç‰ΩïÂØπËøô‰∫õÁä∂ÊÄÅÊàñÈîôËØØËøõË°å‰∏ÄÁ≥ªÂàóÂ§ÑÁêÜÁöÑ„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåÂú®ÂèëÈÄÅËØ∑Ê±ÇÂâçÂíåÂèëÈÄÅËØ∑Ê±ÇÊó∂‰πüÊúâÁõ∏Â∫îÁöÑÁä∂ÊÄÅÔºåËøôÁØáÊñáÁ´†ÁöÑÊúÄÂêé‰πü‰ºöÂØπËøô‰∏™ËøáÁ®ãËøõË°åÊèèËø∞„ÄÇ Áî±‰∫é‰πãÂâçÁöÑÁâàÊú¨Âπ∂Ê≤°ÊúâÁä∂ÊÄÅ‰∏éÈîôËØØÂ§ÑÁêÜÁöÑÊµÅÁ®ãÔºåÂõ†Ê≠§Âú®ËøôÁØáÊñáÁ´†‰∏≠‰∏çÂÜçÂØπ 18 Âíå 20 ÁâàËøõË°åÂå∫ÂàÜÔºåÂè™ÊèèËø∞ÊúÄÊñ∞ÁâàÊú¨‰∏≠ÁöÑÂÅöÊ≥ï„ÄÇ Áä∂ÊÄÅÊåáÁ§∫Â≠óÁ¨¶‰∏≤ Âú®Â§ÑÁêÜËøáÁ®ã‰∏≠Ôºå‰ºö‰ΩøÁî®‰∏ÄÁ≥ªÂàóÂ≠óÁ¨¶‰∏≤Ë¢´Êõ¥Êñ∞Âà∞ÂÄôÈÄâÂàóË°®‰∏≠ÔºåÁî®Êù•Êõø‰ª£ÊúÄÂàùÁöÑÂç†‰ΩçÁ¨¶ÔºåÂëäËØâÁî®Êà∑‰∫ëËæìÂÖ•ÂÄôÈÄâÂ§ÑÁêÜÂΩìÂâçÁöÑÁä∂ÊÄÅÔºö Â∑≤ËøáÊúü: 1234567static const std::string CANDIDATE_CLOUD_PREFIX = \"‚òÅ\";static const std::string CANDIDATE_PENDING_TEXT = CANDIDATE_CLOUD_PREFIX;static const std::string CANDIDATE_LOADING_TEXT = CANDIDATE_CLOUD_PREFIX + \"...\";static const std::string CANDIDATE_NO_CANDIDATE_TEXT = CANDIDATE_CLOUD_PREFIX + \"[No Candidate]\";static const std::string CANDIDATE_INVALID_DATA_TEXT = CANDIDATE_CLOUD_PREFIX + \"[Invalid Data]\";static const std::string CANDIDATE_BAD_FORMAT_TEXT = CANDIDATE_CLOUD_PREFIX + \"[Bad Format]\"; Êõ¥Êñ∞Ôºö 1234567891011static const std::string CANDIDATE_PENDING_TEXT_WITHOUT_PREFIX = \"[‚è±Ô∏è]\";static const std::string CANDIDATE_LOADING_TEXT_WITHOUT_PREFIX = \"...\";static const std::string CANDIDATE_NO_CANDIDATE_TEXT_WITHOUT_PREFIX = \"[üö´]\";static const std::string CANDIDATE_INVALID_DATA_TEXT_WITHOUT_PREFIX = \"[‚ùå]\";static const std::string CANDIDATE_BAD_FORMAT_TEXT_WITHOUT_PREFIX = \"[‚ùì]\";static const std::string CANDIDATE_PENDING_TEXT = CANDIDATE_CLOUD_PREFIX + CANDIDATE_PENDING_TEXT_WITHOUT_PREFIX;static const std::string CANDIDATE_LOADING_TEXT = CANDIDATE_CLOUD_PREFIX + CANDIDATE_LOADING_TEXT_WITHOUT_PREFIX;static const std::string CANDIDATE_NO_CANDIDATE_TEXT = CANDIDATE_CLOUD_PREFIX + CANDIDATE_NO_CANDIDATE_TEXT_WITHOUT_PREFIX;static const std::string CANDIDATE_INVALID_DATA_TEXT = CANDIDATE_CLOUD_PREFIX + CANDIDATE_INVALID_DATA_TEXT_WITHOUT_PREFIX ;static const std::string CANDIDATE_BAD_FORMAT_TEXT = CANDIDATE_CLOUD_PREFIX + CANDIDATE_BAD_FORMAT_TEXT_WITHOUT_PREFIX; ÂÖ∂‰∏≠ÔºåÂ∏¶Êúâ WITHOUT_PREFIX ÂêéÁºÄÁöÑÂú®Áä∂ÊÄÅÊîπÂèòÊó∂Ôºå‰ºöË¢´ÂÇ®Â≠òÂú®ÁºìÂ≠òÁöÑÂÄôÈÄâÂàóË°® m_candidates ‰∏≠ÔºåÊõ¥Êñ∞ÂÄôÈÄâÊó∂Ê∑ªÂä†Âà∞ÂÄôÈÄâÂàóË°®‰∏≠„ÄÇ Ëøô‰∫õÂ≠óÁ¨¶‰∏≤Â∏¶Êúâ‰∏Ä‰∏™ ‚Äú‚òÅ‚Äù ÁöÑÂâçÁºÄÔºåÂêéÈù¢ÂàôÊòØÂØπÂ∫îÁöÑÁä∂ÊÄÅÂ≠óÁ¨¶‰∏≤„ÄÇ CANDIDATE_PENDING_TEXT Áî®Êù•ÊåáÁ§∫ËØ∑Ê±ÇËøòÊú™ÂèëÈÄÅÔºõ CANDIDATE_LOADING_TEXT Âú®ËØ∑Ê±ÇÂ∑≤ÂèëÈÄÅÔºå‰ΩÜÊú™Êî∂Âà∞ÊúâÊïàÂõûÂ§çÊó∂ÊòæÁ§∫„ÄÇ ÂÖ∂‰ªñ‰∏â‰∏™ÂàôÊòØÁî®Êù•ÊòæÁ§∫Â§ÑÁêÜËØ∑Ê±ÇÁöÑÂõûÂ§çÊó∂ÁöÑÈîôËØØÁä∂ÊÄÅ„ÄÇ Â§ÑÁêÜÂõûÂ§çÊó∂ÂèØËÉΩÁöÑÈîôËØØ/Áä∂ÊÄÅ Âú® CloudCandidates.cpp ‰∏≠ÔºåÂÆö‰πâ‰∫Ü‰∏ÄÁ≥ªÂàóÂèØËÉΩÁöÑÈîôËØØÊàñÁä∂ÊÄÅÔºö 12345678enum CandidateResponseParserError &#123; PARSER_NOERR, PARSER_INVALID_DATA, PARSER_BAD_FORMAT, PARSER_NO_CANDIDATE, PARSER_NETWORK_ERROR, PARSER_UNKNOWN&#125;; ÂÖ∂‰∏≠ PARSER_NOERR ÊòØÊ≤°ÊúâÂèëÁé∞Â§ÑÁêÜËøáÁ®ã‰∏≠Â≠òÂú®ÈóÆÈ¢ò„ÄÇ PARSER_INVALID_DATA Âíå PARSER_BAD_FORMAT ÊòØÊåáÂú®È™åËØÅËøáÁ®ã‰∏≠ÂèëÁé∞ËøîÂõûÁöÑÁªìÊûÑ‰∏çÂêå„ÄÅÊàñËÄÖËøîÂõûÁöÑÁªìÊûúÊó†Êïà„ÄÇ Â¶ÇÊûúÂà∞ÊúÄÂêéÔºåÂèëÁé∞‰∫ëËæìÂÖ•Ê∫êÊ≤°ÊúâËøîÂõû‰ªª‰ΩïÂÄôÈÄâÔºåÈÇ£‰πàÂ∞±Áî® PARSER_NO_CANDIDATE ÈÄöÁü•‰∏äÂ±Ç„ÄÇ ‰ª•‰∏äÂá†‰∏™ÈîôËØØÊàñÁä∂ÊÄÅÈÉΩÂú®‰∏äÁØáÊñáÁ´†„Ää‰∫ëËæìÂÖ•Âú® ibus-libpinyin ‰∏≠ÁöÑÂÆûÁé∞ - ÂÄôÈÄâËØçËß£Êûê„Äã‰∏≠Âá∫Áé∞Ëøá„ÄÇ ËÄå PARSER_NETWORK_ERROR ÊØîËæÉÁâπÊÆäÔºåÂÆÉ‰ªÖ‰ªÖÁî®Âú®ÂèñÂæóÁöÑÂõûÂ§çÁöÑËæìÂÖ•ÊµÅ/ÁºìÂÜ≤Âå∫Êó†ÊïàÊó∂ÔºåÂÆÉ‰ªÖ‰ªÖÂú® CloudCandidatesResponseJsonParser Ë¢´ËøîÂõûÔºö 1234567guint CloudCandidatesResponseJsonParser::parse (GInputStream *stream)&#123; /* ... */ if (!stream) return PARSER_NETWORK_ERROR; /* ... */&#125; Â¶ÇÊûúËæìÂÖ•ÊµÅÊàñËÄÖÁºìÂÜ≤Âå∫ÁöÑËØªÂèñÊ≤°ÊúâÈóÆÈ¢òÔºåÂ∞±‰∫§ÁªôÂÖ∑‰ΩìÂÆûÁé∞ÁöÑ parseJsonResponse ÂéªËß£ÊûêÔºåÂπ∂ËøîÂõûÂÆÉ‰º†ÂõûÁöÑÈîôËØØÔºàÊó†ÈîôËØØÂàôËøîÂõû PARSER_NOERRÔºâ„ÄÇ ÊúÄÂêé‰∏Ä‰∏™ PARSER_UNKNOWN ‰ªÖ‰Ωú‰øùÁïôÔºåÊ≤°Êúâ‰ΩøÁî®„ÄÇ ÈîôËØØ/Áä∂ÊÄÅÁöÑÂ§ÑÁêÜ Â§ÑÁêÜÊî∂Âà∞ÁöÑÂõûÂ§çÊó∂ÔºåÊòØÁî± CloudCandidates ‰∏≠ÁöÑ processCloudResponse ÊñπÊ≥ïÊù•Ë∞ÉÁî®ÂÖ∑‰ΩìÁöÑ Parser ÂÆûÁé∞ÁöÑ parse ÊñπÊ≥ïÁöÑÔºåËøîÂõûÁöÑÈîôËØØ‰πüÂ∞±ÂÇ®Â≠òÂú® processCloudResponse ÊñπÊ≥ïÁöÑ ret_code ÂèòÈáè‰∏≠Ôºö 1ret_code = parser-&gt;parse (stream); Êé•‰∏ãÊù•‰ºöÂÖàÂØπÂ§ÑÁêÜËøáÁ®ã‰∏≠‰∏Ä‰∏™ÈáçË¶ÅÁöÑÊµÅÁ®ã‚Äî‚ÄîÂ¶Ç‰ΩïÊõøÊç¢ÂÄôÈÄâÂàóË°®‰∏≠ÁöÑ‰∫ëËæìÂÖ•Âç†‰ΩçÁ¨¶ÔºåËøõË°åÊèèËø∞„ÄÇÁÑ∂ÂêéÊòØÂØπÂêÑ‰∏™ÈîôËØØÁ±ªÂûãÁöÑÂ§ÑÁêÜ„ÄÇ ÊõøÊç¢Âç†‰ΩçÁ¨¶„ÄÅÊõ¥Êñ∞ÂÄôÈÄâÁöÑÊñπÊ≥ï Âú®Â§ÑÁêÜÊó∂ÔºåÂæàÈáçË¶ÅÁöÑ‰∏Ä‰∏™Êìç‰ΩúÊòØÊâæÂà∞‰πãÂâçÊèíÂÖ•ÁöÑ‰∫ëËæìÂÖ•Âç†‰ΩçÁ¨¶ÁöÑ‰ΩçÁΩÆÔºå‰ª•‰æøÊõ¥Êñ∞Âç†‰ΩçÁ¨¶Â§ÑÁöÑÊñáÊú¨„ÄÇ ‰ΩøÁî®Ëø≠‰ª£Âô®ËÆ∞ÂΩï ‰∏ä‰∏™ 20 ÁâàÁöÑÁâàÊú¨‰∏≠ÔºåÂú®ÊèíÂÖ•Âç†‰ΩçÁ¨¶Êó∂Ôºåm_cloud_candidates_first_pos Âíå m_candidates_end_pos ËÆ∞ÂΩï‰∏ãÊù•ÁöÑ‰∫Ü‰∫ëËæìÂÖ•Âç†‰ΩçÁ¨¶ÁöÑÂºÄÂßã‰ΩçÁΩÆÂíåÁªìÊùü‰ΩçÁΩÆ„ÄÇËøôÈáåÁöÑ m_cloud_candidates_first_pos ÊåáÂêëÊï¥Âè•ÂÄôÈÄâ‰πãÂêéÁöÑÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆÔºåËÄå m_candidates_end_pos ÊåáÂêëÂÆÉ‰πãÂêéÁ¨¨ N ‰∏™‰ΩçÁΩÆÔºåÂÖ∂‰∏≠ N ‰∏∫ÈÖçÁΩÆÁöÑ‰∫ëËæìÂÖ•ÂÄôÈÄâËØç‰∏™Êï∞„ÄÇ Âú®ËøõË°åÊõ¥Êñ∞Âç†‰ΩçÁ¨¶Êó∂Ôºå‰ΩøÁî®‰∏ãÈù¢ÁöÑÂæ™ÁéØÂç≥ÂèØÔºå‰πãÂêéÁöÑÁ´†ËäÇ‰∏≠‰∏çÂÜçÁ¥ØËø∞Ôºö 123for (std::vector&lt;EnhancedCandidate&gt;::iterator pos = m_cloud_candidates_first_pos; pos != m_candidates_end_pos; ++pos) &#123; /* ... */&#125; ËøôÁßçÊñπÊ≥ïÁöÑÁ°ÆËÉΩÊèêÈ´òÊõ¥Êñ∞ÈÄüÂ∫¶ÔºåÂõ†‰∏∫ÂÆÉÂáèÂ∞ë‰∫ÜÊØèÊ¨°‰ªéÂ§¥Êü•ÊâæÁöÑÂ§ö‰ΩôÊìç‰Ωú„ÄÇ‰ΩÜÊúâ‰∏Ä‰∏™ÈóÆÈ¢òÊòØÔºåÂ¶ÇÊûú‰∫ëËæìÂÖ•ÊèíÂÖ•Âç†‰ΩçÁ¨¶Âπ∂ËÆ∞ÂΩï‰∏ãÊù•‰πãÂêéÔºåÂÖ∂‰ªñÂÄôÈÄâÂ§ÑÁêÜËøáÁ®ãÂèàÊ∑ªÂä†‰∫ÜÊñ∞ÁöÑÂÄôÈÄâÔºåËøôÊó∂Ëøô‰∏§‰∏™Ëø≠‰ª£Âô®ÁöÑÊåáÂêëÂèØËÉΩÂ∞±‰∏çÂØπ‰∫Ü„ÄÇ ÊØîÂ¶ÇÔºåÂú®‰∫ëËæìÂÖ•ËøõË°å processCandidates ‰πãÂêéÔºå Lua ËÑöÊú¨ÂÄôÈÄâÂèàÂú®Áõ∏Âêå‰ΩçÁΩÆÔºàÊï¥Âè•ÂÄôÈÄâ‰πãÂêéÁöÑÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆÔºâËøõË°å‰∫ÜÊ∑ªÂä†ÂíåÂ§ÑÁêÜÔºåËøôÊó∂ m_cloud_candidates_first_pos ÁöÑÊåáÂêëÂÆûÈôÖ‰∏äÊòØ Lua ËÑöÊú¨ÂÄôÈÄâËØçÔºå‰∫éÊòØÂú®Êõ¥Êñ∞ËøáÁ®ã‰∏≠ÔºåÂÆÉÔºà‰ª¨ÔºâÂ∞±‰ºöË¢´‰∫ëËæìÂÖ•ÁöÑÂÄôÈÄâË¶ÜÁõñÊéâ„ÄÇ ÊàëÈááÁî®ÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÔºåÂ∞Ü‰∫ëËæìÂÖ•ÁöÑÂÄôÈÄâÂ§ÑÁêÜÊîæÂà∞ÊúÄÂêé„ÄÇ ‰∏çËÆ∞ÂΩï‰∫ëÂç†‰ΩçÁ¨¶ÁöÑ‰ΩçÁΩÆ ‰∏∫‰∫ÜËß£ÂÜ≥‰ΩøÁî®Ëø≠‰ª£Âô®ËÆ∞ÂΩï‰∫ßÁîüÁöÑÈóÆÈ¢òÔºåÂÜçÂä†‰∏äÊØèÊ¨°‰∫ëËæìÂÖ•ËØ∑Ê±ÇÈÉΩ‰ºöËÆ∞ÂΩïËØ∑Ê±ÇÁöÑÊãºÈü≥„ÄÅÂπ∂‰øùÂ≠òÂ∑≤Ëß£ÊûêÁöÑÂÄôÈÄâÔºåÊúÄËøëÁöÑ 20 Áâà‰∫ëËæìÂÖ•Â∑≤ÁªèÂèØ‰ª•ÈÄöËøá editor ÁöÑ updateCandidates Ë∞ÉÁî® CloudCandidates ÁöÑ processCandidates Ê≠£Â∏∏Êõ¥Êñ∞ÂÄôÈÄâ„ÄÇ ‰ΩøÁî®‰∏ãÊ†áËÆ∞ÂΩï ËÄå‰πãÂâçÁöÑÁâàÊú¨ÊòØ‰ΩøÁî®‰∏Ä‰∏™Âõ∫ÂÆöÂºÄÂßã‰∏ãÊ†áÂíåÂõ∫ÂÆöÁöÑÂç†‰ΩçÁ¨¶‰∏™Êï∞Êù•ËÆ∞ÂΩïÔºåËøôÁßçËÆ∞ÂΩïÊñπÊ≥ïÂèØËÉΩ‰ºöÂØºËá¥Á®ãÂ∫èÂú®ÁâπÂÆöÊÉÖÂÜµ‰∏ãÂ¥©Ê∫É„ÄÇÊØîÂ¶ÇÔºåÂõ∫ÂÆöÁöÑÂºÄÂßã‰∏ãÊ†á‰∏∫2Êó∂ÔºåÂÅáÂ¶ÇÂè™Êúâ‰∏Ä‰∏™ÂåπÈÖçÁöÑÂÄôÈÄâÔºå‰ΩøÁî®2Ëøô‰∏™‰∏ãÊ†áËÆøÈóÆÂÄôÈÄâËØçÂàóË°®ÔºåÂ∞±‰ºöÂèëÁîüË∂äÁïåÁöÑÈóÆÈ¢ò„ÄÇ Â§ÑÁêÜ PARSER_NETWORK_ERROR È¶ñÂÖàËøõË°åÂ§ÑÁêÜÁöÑÊòØÊúÄÁâπÊÆäÁöÑÈîôËØØÁä∂ÊÄÅÔºåÂç≥ÁΩëÁªúÂá∫ÈîôÊó∂„ÄÇ 1pos-&gt;m_display_string = CANDIDATE_INVALID_DATA_TEXT; Âú®ËæìÂÖ•ÊàñËÄÖÁºìÂÜ≤Âå∫‰∏çÂèØÁî®Êó∂Ôºå‰ºöÊääÊâÄÊúâÁöÑÂç†‰ΩçÁ¨¶ÈÉΩ‰øÆÊîπ‰∏∫ÊòæÁ§∫ÊúÄÂºÄÂßãÊèêÂà∞ÁöÑ‰∏ÄÁ≥ªÂàóÁä∂ÊÄÅÊåáÁ§∫Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑ CANDIDATE_INVALID_DATA_TEXT„ÄÇ Â§ÑÁêÜ PARSER_NETWORK_ERROR ‰πãÂêé Â¶ÇÊûúÊ≤°ÊúâÂèëÁîüÁΩëÁªúÈîôËØØÔºåËØ¥ÊòéËá≥Â∞ëÂõûÂ§çÊòØË¢´Â§ÑÁêÜ‰∫ÜÁöÑ„ÄÇËÄÉËôëÂà∞ÂºÇÊ≠•ËØ∑Ê±ÇÊó†Ê≥ï‰øùËØÅÂÖàÂêéÈ°∫Â∫èÔºåÂú®ËøõË°åÊé•‰∏ãÊù•ÁöÑÂÖ∂‰ªñÂà§Êñ≠Êó∂ÔºåÊàë‰ª¨Â∏åÊúõÁ°ÆÂÆöÂú®Â§ÑÁêÜÁöÑÁöÑÁ°ÆÊòØÊúÄËøë‰∏ÄÊ¨°ËØ∑Ê±ÇÁöÑ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÂè™ÊúâÂú®Ëøô‰∏™Âà§Êñ≠Á°ÆËÆ§ÊòØÊúÄËøë‰∏ÄÊ¨°ÁöÑËØ∑Ê±ÇÊó∂ÔºåÊâçËøõ‰∏ÄÊ≠•Âà§Êñ≠‰πãÂêéÁöÑÂ∞èËäÇÈáåÊèèËø∞ÁöÑÂÖ∂‰ªñÁä∂ÊÄÅ„ÄÇ ÊàëÁöÑÊñπÊ≥ïÊòØÂà§Êñ≠ parser ‰∏≠Ëé∑ÂèñÂà∞ÁöÑÊãºÈü≥ÊòØÂê¶‰∏éÂΩìÂâçÁºñËæëÂô®‰∏≠ÁöÑ‰∏ÄËá¥Ôºö 1234else if (!g_strcmp0 (annotation, text) || !g_strcmp0 (annotation, double_pinyin_text))&#123; /* ... */&#125; Âú®‰∏ä‰∏ÄÁØá‰∏≠ÁöÑÁ´†ËäÇ ‰∏§‰∏™Ê∫êËøîÂõûÁªìÊûú‰∏äÁöÑÂ∑ÆÂºÇ ‰∏≠ÔºåÊúâÊèêÂà∞‰ªéÁôæÂ∫¶Ê∫êËß£ÊûêÂá∫ÁöÑÊãºÈü≥ÊòØËøõË°å‰∫ÜËá™Âä®Ë°•ÂÖ®ÁöÑÔºåËøôÁßçÊÉÖÂÜµ‰∏ãÂ∞±‰ºöÂØºËá¥ËøôÈáåÁöÑÂà§Êñ≠ÁªìÊûú‰∏∫ÂÅáÔºå‰ªéËÄåÂØºËá¥ÁªìÊûúË¢´‰∏¢ÂºÉ„ÄÇ ÁõÆÂâçÈááÁî®ÁöÑÊñπÊ°àÊòØÔºåÂØπÁôæÂ∫¶Ê∫ê‰∏çËøõË°åËøô‰∏ÄÂà§Êñ≠„ÄÇÂõ†Ê≠§ÔºåÂú®Êñ∞ÁâàÊú¨‰∏≠Ëøô‰∏™Êù°‰ª∂Ê∑ªÂä†‰∫ÜÂΩìÂâç‰ΩøÁî®ÁöÑÊòØÂê¶ÊòØÁôæÂ∫¶Ê∫êÁöÑÂà§Êñ≠„ÄÇ Â§ÑÁêÜ PARSER_NOERR ËøôÊòØÊó†ÈîôËØØÁöÑÊÉÖÂÜµ„ÄÇ 1234if (ret_code == PARSER_NOERR)&#123; /* update to the candidates list */ std::vector&lt;std::string&gt; &amp;updated_candidates = parser-&gt;getStringCandidates (); È¶ñÂÖàÔºåÂ∞ÜËé∑ÂèñÂà∞ÁöÑÂÇ®Â≠òÂú® parser ‰∏≠ÁöÑÂÄôÈÄâÂèñÂá∫„ÄÇ 12std::vector&lt;EnhancedCandidate&gt;::iterator pos = m_cloud_candidates_first_pos;std::vector&lt;EnhancedCandidate&gt;::iterator cached_candidate_pos = m_candidates.begin(); ÊâæÂà∞ÂÄôÈÄâËØçÂàóË°®‰∏≠Âç†‰ΩçÁ¨¶ÁöÑÂàùÂßã‰ΩçÁΩÆÔºåËé∑ÂèñÂú® CloudCandidates ÁºìÂ≠òÁöÑÂç†‰ΩçÁ¨¶ÁöÑËø≠‰ª£Âô®„ÄÇ 1234567891011121314 for (guint i = 0; cached_candidate_pos != m_candidates.end() &amp;&amp; pos != m_candidates_end_pos &amp;&amp; i &lt; updated_candidates.size (); ++i, ++pos, ++cached_candidate_pos) &#123; /* display candidate with prefix in lookup table */ EnhancedCandidate &amp; enhanced = *pos; enhanced.m_candidate_id = i; enhanced.m_display_string = CANDIDATE_CLOUD_PREFIX + updated_candidates[i]; /* cache candidate without prefix in m_candidates */ EnhancedCandidate &amp; cached = *cached_candidate_pos; cached.m_display_string = updated_candidates[i]; cached.m_candidate_id = enhanced.m_candidate_id; &#125;&#125; Á¥ßÊé•ÁùÄÂØπÊØè‰∏™ÂÄôÈÄâËØçÂàóË°®‰∏≠ÁöÑÂç†‰ΩçÁ¨¶ËøõË°åÊõ¥Êñ∞ÔºåÂ∞ÜÂÖ∂‰øÆÊîπ‰∏∫ &quot;‚òÅ&quot; + ÂÄôÈÄâËØçÔºåÂêåÊó∂Â∞ÜÁºìÂ≠òÁöÑÂç†‰ΩçÁ¨¶‰øÆÊîπ‰∏∫‰∏çÂ∏¶ &quot;‚òÅ&quot; ÁöÑÂÄôÈÄâËØçÔºåÂπ∂ÂêåÊ≠•ÂØπÂ∫îÁöÑÂÄôÈÄâÂú®ÂÄôÈÄâËØçÂàóË°®‰∏≠ÁöÑ id„ÄÇËøôÊ†∑ÔºåÂΩìÁî®Êà∑ÈÄâÊã©‰∏Ä‰∏™ÂÄôÈÄâÊó∂ÔºåÂè™ÈúÄË¶ÅÈÅçÂéÜÁºìÂ≠òÂú® CloudCandidates ‰∏≠ÁöÑÂÄôÈÄâÔºåÂ∞Ü‰º†ÂÖ•ÁöÑÂÄôÈÄâÔºà‰∏∫Áî®Êà∑ÈÄâ‰∏≠ÁöÑÔºâ‰øÆÊîπ‰∏∫ÁºìÂ≠òÁöÑÂØπÂ∫îÁöÑ‰∏çÂ∏¶Êúâ &quot;‚òÅ&quot; ÁöÑÈ°πÂπ∂ËøîÂõû„ÄÇ Âú®‰πãÂâçÁöÑÁâàÊú¨‰∏≠ÔºåÁºìÂ≠òÁöÑÂç†‰ΩçÁ¨¶Ê≤°ÊúâË¢´ÂæàÂ•ΩÁöÑ‰ΩøÁî®ÔºåÂΩìÁî®Êà∑ÈÄâÊã©Êó∂Ôºå‰ºöÂéªÈÅçÂéÜ‰º†ÂÖ•ÁöÑÈÄâ‰∏≠ÁöÑÂÄôÈÄâÁöÑÂ≠óÁ¨¶ÂÜÖÂÆπÔºåÂ¶ÇÊûúÊâæÂà∞ &quot;‚òÅ&quot; Ê†áËÆ∞ÔºåÂàôÂ∞ÜÂÖ∂ÁßªÈô§Âπ∂ËøîÂõû„ÄÇ Êñ∞ÁöÑÂÆûÁé∞Êõ¥Â•Ω‰∏Ä‰∫õÔºåËÉΩÂ§üÁâ©Â∞ΩÂÖ∂Áî®ÔºåÂ∞ÜÁºìÂ≠òÁöÑÂÄôÈÄâÊúÄÂ§ßÁ®ãÂ∫¶Âà©Áî®‰∏ä„ÄÇ ËØ¶ÁªÜÁöÑÁî®Êà∑ÈÄâÊã©ÂêéÁöÑÊìç‰ΩúÂú®„Ää‰∫ëËæìÂÖ•Âú® ibus-libpinyin ‰∏≠ÁöÑÂÆûÁé∞ - Ê¶ÇËø∞„Äã Â§ÑÁêÜÁî®Êà∑ÈÄâÊã©ÁöÑÂÄôÈÄâ ‰∏ÄÁ´†„ÄÇ Â§ÑÁêÜ PARSER_NO_CANDIDATE ËøôÁßçÊÉÖÂÜµÊòØÊåáÁªìÊûÑÊ≠£Á°Æ„ÄÅËß£ÊûêËøáÁ®ã‰∏≠Ê≤°ÊúâÂá∫Áé∞ÈóÆÈ¢òÔºå‰ΩÜÊ≤°ÊúâËß£ÊûêÂá∫ÂÄôÈÄâ„ÄÇ 1pos-&gt;m_display_string = CANDIDATE_NO_CANDIDATE_TEXT; ÊàëËÆ§‰∏∫ËøôÂ∫îÂΩìÊòØ‰∏Ä‰∏™Âá∫Áé∞‰∫ÜÈîôËØØÁöÑÁä∂ÊÄÅÔºåËÄå‰∏çÊòØËØ¥ÊòØÂçïÁ∫ØÁöÑÊ≤°ÊúâÂÄôÈÄâ„ÄÇÂõ†Ê≠§ÔºåËøôÈáåÊääÊâÄÊúâÁöÑÂç†‰ΩçÁ¨¶ÈÉΩ‰øÆÊîπ‰∏∫Áä∂ÊÄÅÊåáÁ§∫Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑ CANDIDATE_NO_CANDIDATE_TEXT„ÄÇ Â§ÑÁêÜ PARSER_INVALID_DATA ËøôÁßçÊÉÖÂÜµÂëäËØâÁî®Êà∑ÔºåËØ∑Ê±ÇÊó∂ËøîÂõûÁöÑÊï∞ÊçÆÊó†Êïà„ÄÇ 1pos-&gt;m_display_string = CANDIDATE_INVALID_DATA_TEXT; Á±ª‰ººÁöÑÔºåÊääÊâÄÊúâÁöÑÂç†‰ΩçÁ¨¶ÈÉΩ‰øÆÊîπ‰∏∫Áä∂ÊÄÅÊåáÁ§∫Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑ CANDIDATE_INVALID_DATA_TEXT„ÄÇ Â§ÑÁêÜ PARSER_BAD_FORMAT Âú®Â§ÑÁêÜÊó∂ÂèëÁé∞Êï∞ÊçÆÁöÑÊ†ºÂºèÊúâÈóÆÈ¢òÔºåÂ∞±‰ºöËøîÂõûËøôÁßçÈîôËØØÁä∂ÊÄÅÔºåËøôÁßçÊÉÖÂÜµÂèØËÉΩÂú®ËæìÂÖ•ÊµÅÊàñÁºìÂÜ≤Âå∫‰∏çÂÆåÊï¥Êó∂Âá∫Áé∞„ÄÇÊØîÂ¶ÇËøôÈáåÁöÑËØªÂèñÊµÅÂπ∂ËøõË°å Json Ëß£ÊûêÊó∂Ôºö 123456/* parse Json from input steam */if (!json_parser_load_from_stream (m_parser, stream, NULL, error) || error != NULL)&#123; g_input_stream_close (stream, NULL, error); /* Close stream to release libsoup connexion */ return PARSER_BAD_FORMAT;&#125; ÂêåÊ†∑ÔºåËøôÈáåÊääÊâÄÊúâÁöÑÂç†‰ΩçÁ¨¶ÈÉΩ‰øÆÊîπ‰∏∫Áä∂ÊÄÅÊåáÁ§∫Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑ CANDIDATE_BAD_FORMAT_TEXT„ÄÇ 1pos-&gt;m_display_string = CANDIDATE_BAD_FORMAT_TEXT; ‰∏çÂêåÈò∂ÊÆµ‰∏ãÁöÑÁä∂ÊÄÅ Èô§‰∫Ü‰∏äËø∞ÁöÑÂØπÊî∂Âà∞ÁöÑÂõûÂ§çÁöÑËß£ÊûêÊó∂ÁöÑÈîôËØØÊàñÁä∂ÊÄÅÁöÑÂ§ÑÁêÜÔºåÂú®Ê≠§‰πãÂâçÔºåËøòÊúâÂØπÂª∂Êó∂ËØ∑Ê±ÇÂíåÁ≠âÂæÖÂõûÂ§ç‰∏§‰∏™Áä∂ÊÄÅ„ÄÇËøô‰∏§‰∏™Áä∂ÊÄÅÂèØ‰ª•ÁÆÄÂåñÂú®Âá∫Áé∞ÈîôËØØÊó∂ÂØπÈîôËØØÁöÑÂÆö‰Ωç„ÄÇ Âª∂ËøüËØ∑Ê±ÇÁä∂ÊÄÅ Âú®ÂÄôÈÄâËØçÂàóË°®ÊèíÂÖ•Âç†‰ΩçÁ¨¶Êó∂ÔºåÂç†‰ΩçÁ¨¶ÁöÑÂàùÂßãÊòæÁ§∫‰∏∫ CANDIDATE_PENDING_TEXT„ÄÇÊèíÂÖ•Âç†‰ΩçÁ¨¶‰πãÂêéÔºåÂç≥ËøõÂÖ•Âª∂ÊúüÁ≠âÂæÖÁä∂ÊÄÅ„ÄÇ Á≠âÂæÖÂõûÂ§çÁä∂ÊÄÅ Âú®Âª∂Êó∂Á≠âÂæÖÁªìÊùü‰πãÂêéÔºåcloudAsyncRequest ÊñπÊ≥ï‰ºöË¢´Ë∞ÉÁî®Áî®Êù•ÂèëÈÄÅËØ∑Ê±Ç„ÄÇ 12345678910111213141516171819voidCloudCandidates::cloudAsyncRequest (const gchar* requestStr)&#123; /* ... */ SoupMessage *msg = soup_message_new (\"GET\", queryRequest); soup_session_send_async (m_session, msg, NULL, cloudResponseCallBack, static_cast&lt;gpointer&gt; (this)); m_message = msg; /* update loading text to replace pending text */ for (std::vector&lt;EnhancedCandidate&gt;::iterator pos = m_cloud_candidates_first_pos; pos != m_candidates_end_pos; ++pos) &#123; if (CANDIDATE_CLOUD_INPUT == pos-&gt;m_candidate_type) &#123; if (CANDIDATE_PENDING_TEXT == pos-&gt;m_display_string) &#123; pos-&gt;m_display_string = CANDIDATE_LOADING_TEXT; &#125; &#125; else break; &#125; /* ... */&#125; Âú®Ëøô‰∏™ÊñπÊ≥ï‰∏≠ÔºåËØ∑Ê±ÇÂèëÈÄÅÂÆåÊàê‰πãÂêéÔºå‰ºöÂ∞ÜÂç†‰ΩçÁ¨¶Êõ¥Êñ∞‰∏∫ CANDIDATE_LOADING_TEXT„ÄÇ ÊÄªÁªì ËøôÁØáÊñáÁ´†ËÆ≤Ëø∞‰∫Ü‰∫ëËæìÂÖ•ÁöÑ‰∏çÂêåÈò∂ÊÆµ‰∏ãÂØπÁä∂ÊÄÅÁöÑÂ§ÑÁêÜÔºå‰ª•ÂèäËß£ÊûêËØ∑Ê±ÇÁöÑÂõûÂ§ç‰πãÂêé„ÄÅÂØπËß£ÊûêÊàêÂäü‰∏éÂê¶ÁöÑÁä∂ÊÄÅÂíåÈîôËØØÁöÑÂ§ÑÁêÜ„ÄÇ ÂÆÉ‰ª¨ÈÉΩÂ∞ÜÁâπÂÆöÁöÑÂ≠óÁ¨¶‰∏≤Êõ¥Êñ∞Âà∞‰∫ÜÂÄôÈÄâËØçÂàóË°®‰∏≠Ôºå‰ΩÜËøô‰∏™ÂàóË°®ÊòØÂ≠òÂú®Âú® ibus-libpinyin ‰∏≠ÁöÑÔºåÁúüÊ≠£ÊòæÁ§∫Âú®Áî®Êà∑ÁúºÂâçÔºåÂàôÊòØÈÄöËøá ibus-libpinyin ÈÄöÁü• ibus ÊúâÊñ∞ÁöÑÂÄôÈÄâÂàóË°®ÂÆåÊàêÁöÑ„ÄÇËøô‰∏ÄËøáÁ®ãÂú®„Ää‰∫ëËæìÂÖ•Âú® ibus-libpinyin ‰∏≠ÁöÑÂÆûÁé∞ - Ê¶ÇËø∞„Äã20-ÁâàÂºÇÊ≠•ËØ∑Ê±Ç‰∏≠ÊúâÁõ∏ÂÖ≥Ëß£Èáä„ÄÇ ‰∏ã‰∏ÄÁØáÊñáÁ´†‰ºöÈáçÁÇπËÆ®ËÆ∫‰∏Ä‰∏ã‰∏é‰∫ëËæìÂÖ•ÊúâÂÖ≥ÁöÑÈÖçÁΩÆÈ°π„ÄÇÂà∞ËøôÈáåÔºå‰∫ëËæìÂÖ•ÁöÑÊï¥‰ΩìÊµÅÁ®ãÂ∫îÂΩìÂ∑≤ÁªèÊØîËæÉÊ∏ÖÊ•ö‰∫ÜÔºåÊàëËøò‰ºöÁªßÁª≠Ë∑üÁùÄÂºÄÂèëËøáÁ®ãÊõ¥Êñ∞ËøôÂá†ÁØáÊñáÁ´†‰∏≠Áõ∏ÂÖ≥ÁöÑÂÜÖÂÆπ„ÄÇ ‰∏çÂá∫ÊÑèÂ§ñÔºåÂú®‰∫ëËæìÂÖ•ÂêàÂπ∂‰πãÂêéÔºå‰∏ã‰∏ÄÊ≠•Â∞±ÊòØÂÆûÁé∞ÂèåÊãºÂΩ¢Á†ÅÁõ∏ÂÖ≥ÁöÑÂäüËÉΩ‰∫Ü„ÄÇ","categories":[{"name":"ibus-libpinyin","slug":"ibus-libpinyin","permalink":"https://blog.inoki.cc/categories/ibus-libpinyin/"}],"tags":[{"name":"IBus","slug":"IBus","permalink":"https://blog.inoki.cc/tags/IBus/"},{"name":"ibus-libpinyin","slug":"ibus-libpinyin","permalink":"https://blog.inoki.cc/tags/ibus-libpinyin/"},{"name":"Cloud Input","slug":"Cloud-Input","permalink":"https://blog.inoki.cc/tags/Cloud-Input/"}]},{"title":"‰∫ëËæìÂÖ•Âú® ibus-libpinyin ‰∏≠ÁöÑÂÆûÁé∞ - ÂÄôÈÄâËØçËß£Êûê","slug":"IBus-libpinyin-cloud-input-candidate-parser","date":"2020-06-05T23:55:00.000Z","updated":"2022-05-09T18:41:39.454Z","comments":true,"path":"2020/06/05/IBus-libpinyin-cloud-input-candidate-parser/","link":"","permalink":"https://blog.inoki.cc/2020/06/05/IBus-libpinyin-cloud-input-candidate-parser/","excerpt":"","text":"‰∏ä‰∏ÄÁØáÊñáÁ´†Á≤óÁï•Âú∞‰ªãÁªç‰∫ÜÁõÆÂâçÂú® ibus-libpinyin ÁöÑ‰∫ëËæìÂÖ•ÂÆûÁé∞ÁöÑÊï¥‰∏™ÊµÅÁ®ãÔºåÂÖ∂‰∏≠ÂØπËØ∑Ê±ÇËøîÂõûÁªìÊûúÁöÑËß£ÊûêÊ≤°ÊúâÊèêÂèä„ÄÇËøôÁØáÊñáÁ´†‰ºöÈáçÁÇπÈòêËø∞ËøîÂõûÁªìÊûúÁöÑËß£ÊûêÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºå‰πãÂêéÁöÑËøáÁ®ãÔºåÂåÖÊã¨Âú®ÂÄôÈÄâÂàóË°®‰∏≠Êõ¥Êñ∞Âç†‰ΩçÁ¨¶„ÄÅÈîôËØØÂ§ÑÁêÜÔºå‰ºöÂú®‰∏ã‰∏ÄÁØá‰∏≠ËØ¶ÁªÜËÆ≤Ëß£„ÄÇ Ê≥®ÔºöÂêå‰∏ä‰∏ÄÁØáÊñáÁ´†‰∏ÄÊ†∑Ôºå‰πãÂâçÁöÑÁâàÊú¨Áß∞‰∏∫ 18 Áâà‰∫ëËæìÂÖ•ÔºåÁé∞Âú®ÁöÑ‰∏ÄÁ≥ªÂàóÁâàÊú¨Áß∞‰∏∫ 20 Áâà„ÄÇ ËøîÂõûÁªìÊûúÁöÑÁ§∫‰æã ÁõÆÂâçÔºå‰∫ëËæìÂÖ•ÂäüËÉΩÂèØÈÄâÁöÑÊúâ Google ÂíåÁôæÂ∫¶‰∏§‰∏™Ê∫êÔºåÂèØËÉΩÊòØ‰∏∫‰∫ÜËÆ©Â¢ôÂÜÖÂ§ñÁöÑÁî®Êà∑ÈÉΩËÉΩ‰ΩøÁî®Âêß„ÄÇ ÂÖ∂‰∏≠Ôºå‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑ Google Ê∫êËøîÂõûÁªìÊûúÂ¶Ç‰∏ãÔºö 1[\"SUCCESS\",[[\"ceshi\",[\"ÊµãËØï\"],[],&#123;\"annotation\":[\"ce shi\"],\"candidate_type\":[0],\"lc\":[\"16 16\"]&#125;]]] ÂÖ≥ÈîÆÁöÑËØ∑Ê±ÇÂèÇÊï∞‰∏∫Ôºö ÂèÇÊï∞Âêç ÂèÇÊï∞ÂÄº text ceshi num 1 ÂÖ∂‰∏≠ text ÊòØËØ∑Ê±ÇÁöÑÊãºÈü≥Ôºånum ÊòØÊúüÊúõËøîÂõûÁöÑÂÄôÈÄâ‰∏™Êï∞„ÄÇ ÁôæÂ∫¶Ê∫êÁöÑËøîÂõûÁªìÊûúÂèäÂÖ∂ÂØπÂ∫îÁöÑËØ∑Ê±ÇÂèÇÊï∞ÊòØÔºö 1&#123;\"errmsg\":\"\",\"errno\":\"0\",\"result\":[[[\"ÁôæÂ∫¶\",5,&#123;\"pinyin\":\"bai'du\",\"type\":\"IMEDICT\"&#125;]],\"bai'du\"],\"status\":\"T\"&#125; ÂèÇÊï∞Âêç ÂèÇÊï∞ÂÄº input baidu ed 1 ËøôÈáåÔºåinput ÊòØËØ∑Ê±ÇÁöÑÊãºÈü≥ÔºåËÄå ed ÊòØËØ∑Ê±ÇÁöÑÂÄôÈÄâËØç‰∏™Êï∞„ÄÇ ÂèØ‰ª•ÁúãÂá∫Ôºå‰∏§‰∏™Ê∫êËøîÂõûÁöÑÈÉΩÊòØ json Â≠óÁ¨¶‰∏≤ÔºåÂπ∂‰∏îÊ†ºÂºèËøòÁÆóÊòØÊ∏ÖÊô∞„ÄÇÊé•‰∏ãÊù•Â∞±ÊòØÊääÂÄôÈÄâÔºàÊØîÂ¶Ç Google Ê∫êÁöÑÁ§∫‰æã‰∏≠ÁöÑ‚ÄúÊµãËØï‚ÄùÂíåÁôæÂ∫¶Ê∫êÁöÑÁ§∫‰æã‰∏≠ÁöÑ‚ÄúÁôæÂ∫¶‚ÄùÔºâËß£ÊûêÊèêÂèñÂá∫Êù•ÁöÑËøáÁ®ã„ÄÇ 18 ÁâàËß£ÊûêÂÆûÁé∞ 18 ÁâàÁöÑ‰∫ëËæìÂÖ•‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÈùûÂ∏∏ÁÆÄÊòìÁöÑËß£ÊûêÊñπÂºèÔºöÂ∞ÜÂõûÂ§çÂ≠òÂÖ•Â≠óÁ¨¶‰∏≤ÔºåÈÄöËøáÊà™ÂèñÂ≠ê‰∏≤ÁöÑÊñπÂºèÂ§ÑÁêÜÂ≠óÁ¨¶‰∏≤Êù•ÊèêÂèñÂÄôÈÄâ„ÄÇÂú®Ê≠§‰πãÂâçÔºåÈ¶ñÂÖàË¶ÅÂ∞ÜÂõûÂ§çÊîæÂÖ•‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤‰∏≠„ÄÇ Â∞ÜÂõûÂ§çÊîæÂÖ•Â≠óÁ¨¶‰∏≤ Âú® 18 Áâà‰∏≠ÔºåÊó†ËÆ∫ÊòØÂêåÊ≠•Ê®°ÂºèËøòÊòØÂºÇÊ≠•Ê®°ÂºèÔºåÁªìÊûúÊúÄÁªàÈÉΩË¢´ÂÇ®Â≠òÂú®Âè´ÂÅö res ÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠„ÄÇ ÂêåÊ≠• ÂêåÊ≠•Ê®°Âºè‰∏ãÔºåÂú®ËØ∑Ê±ÇÂÆåÂÖ®ÁªìÊùüÂêéÔºåÊääÊ∂àÊÅØÂèñÂá∫Âπ∂ÁΩÆÂÖ• buffer ÁºìÂÜ≤Âå∫ÔºåÊúÄÂêéÊîæÂÖ• res ‰∏≠„ÄÇ 1234567891011SoupMessageBody *msgBody =soup_message_body_new ();soup_message_body_truncate (msgBody);msgBody = msg-&gt;response_body;/* clear useless characters */soup_message_body_flatten(msgBody);SoupBuffer *bufferBody= soup_message_body_get_chunk(msgBody, 0);const gchar *buffer= bufferBody-&gt;data;String res;res.clear ();res.append (buffer); ÂºÇÊ≠• ÂºÇÊ≠•Ê®°Âºè‰∏ãÔºåÂú®ËØ∑Ê±ÇÂÆåÊàêÂêéÂèØ‰ª•Ëé∑ÂèñÂà∞ÂõûÂ§çÁöÑËæìÂÖ•ÊµÅ„ÄÇ 12GError **error = NULL;GInputStream *stream = soup_session_send_finish (SOUP_SESSION(source_object), result, error); ÁÑ∂Âêé‰ªéËæìÂÖ•ÊµÅ‰∏≠ËØªÂèñÂ≠óÁ¨¶Âà∞ buffer ÂèòÈáè‰∏≠ÔºåÊúÄÂêéÂ∞ÜÂÖ∂ÊîæÂÖ• res Â≠óÁ¨¶‰∏≤‰∏≠„ÄÇ 12345678gchar buffer[BUFFERLENGTH];error = NULL;g_input_stream_read (stream, buffer, BUFFERLENGTH, NULL, error);CloudCandidates *cloudCandidates = static_cast&lt;CloudCandidates *&gt; (user_data);String res;res.clear ();res.append (buffer); ÂºÇÊ≠•Ê®°Âºè‰∏ãÔºåËøîÂõûÁöÑËæìÂÖ•ÊµÅÂπ∂‰∏ç‰∏ÄÂÆöÂåÖÂê´ÂÆåÊï¥ÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂ§ßÈÉ®ÂàÜÂª∂ËøüËæÉÈ´òÁöÑÊÉÖÂÜµ‰∏ãÔºåÂΩìÊâßË°åÂà∞‰∏äÈù¢‰ª£Á†Å‰∏≠ÁöÑ g_input_stream_read Êó∂ÔºåÊµÅ‰∏≠ÁöÑÂÜÖÂÆπÈÉΩ‰∏çÊòØÂÆåÊï¥ÁöÑÔºå‰ªéËÄåÂØºËá¥ res ‰∏≠Âè™ÂÇ®Â≠ò‰∫ÜÂâçÂá†‰∏™Â≠óÁ¨¶ÔºåËøô‰ºöÂØºËá¥‰∏ãÈù¢Â≠óÁ¨¶‰∏≤Â§ÑÁêÜÊó∂Á®ãÂ∫èÂ¥©Ê∫É„ÄÇ ÈÄöËøáÂ≠óÁ¨¶‰∏≤Â§ÑÁêÜËß£ÊûêÂÄôÈÄâ ÂØπÁôæÂ∫¶Ê∫êÁöÑÂõûÂ§çÁöÑËß£ÊûêÊòØ‰∏Ä‰∏™ÁÆÄÊòìÁöÑÂ≠óÁ¨¶‰∏≤Âà§Êñ≠‰∏éÊèêÂèñÔºö 12345678910111213141516/*BAIDU */if (res[11]=='T')&#123; if (res[49] !=']') &#123; /*respond true , with results*/ gchar **resultsArr = g_strsplit(res.data()+49, \"],\", 0); guint resultsArrLength = g_strv_length(resultsArr); for(int i = 0; i != resultsArrLength-1; ++i) &#123; int end =strcspn(resultsArr[i], \",\"); std::string tmp = g_strndup(resultsArr[i]+2,end-3); cloudCandidates-&gt;m_candidates[i].m_display_string = tmp; &#125; &#125;&#125; ‰ª£Á†Å‰∏≠Â§öÂ§ÑÂá∫Áé∞‰∫ÜÁ°¨ÁºñÁ†Å res Êï∞ÁªÑ‰∏ãÊ†áÁöÑÊÉÖÂÜµ„ÄÇËôΩÁÑ∂ËøôÈáåÁöÑ‰ª£Á†ÅÂú®ÁΩëÂÖ≥Ê≠£Â∏∏ËøîÂõûÁªìÊûúÁöÑÊó∂ÂÄôÁöÑÁ°ÆÂèØ‰ª•ËøêË°åÔºå‰ΩÜÁΩëÂÖ≥ËøîÂõûÈîôËØØ‰ø°ÊÅØÊó∂„ÄÅÊàñËÄÖÂºÇÊ≠•Ê®°Âºè‰∏ã res ‰∏≠ÂÇ®Â≠òÁöÑ‰∏çÊòØÂÆåÊï¥ÁöÑÊµÅ‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤Êó∂ÔºåÂ∞±‰ºö‰∫ßÁîüÊï∞ÁªÑË∂äÁïå„ÄÅÈùûÊ≥ïËÆøÈóÆÔºå‰ªéËÄåÂØºËá¥ËæìÂÖ•Ê≥ïÂ¥©Ê∫É„ÄÇ ÂØπ Google Ê∫êÁöÑËß£Êûê‰πü‰∏ÄÊ†∑ÊòØÂ≠óÁ¨¶‰∏≤ÁöÑÂà§Êñ≠ÂíåÊèêÂèñÔºö 12345678910111213/*GOOGLE */const gchar *tmp_res = res;const gchar *prefix = \"[\\\"SUCCESS\\\"\";if (g_str_has_prefix (tmp_res, prefix))&#123; gchar **prefix_arr = g_strsplit (tmp_res, \"\\\",[\\\"\", -1); gchar *prefix_str = prefix_arr[1]; gchar **suffix_arr = g_strsplit (prefix_str, \"\\\"],\", -1); std::string tmp = suffix_arr[0]; cloudCandidates-&gt;m_candidates[0].m_display_string = tmp; g_strfreev (prefix_arr); g_strfreev (suffix_arr);&#125; ËøôÈáåÁöÑ‰ª£Á†ÅÊ≤°ÊúâÁ°¨ÁºñÁ†ÅÁöÑ‰∏ãÊ†áÔºå‰ΩÜÂ¶ÇÊûú res ‰∏≠Ê≤°ËÉΩÂèñÂà∞ÂõûÂ§çËæìÂÖ•ÊµÅ‰∏≠ÁöÑÊâÄÊúâÂ≠óÁ¨¶Ôºå‰ºöÂØºËá¥Ê≤°ÊúâÂÄôÈÄâÁöÑÊÉÖÂÜµÂá∫Áé∞„ÄÇ 20 ÁâàËß£ÊûêÂÆûÁé∞ Âú® 20 Áâà‰∏≠Ôºå‰∏∫‰∫ÜÈ™åËØÅÊï∞ÊçÆÔºå‰πü‰∏∫‰∫ÜËß£ÊûêËøô‰∏ÄËøáÁ®ãÁöÑÂÅ•Â£ÆÊÄßÔºåÊàëÈÄâÊã©ÁßªÈô§ 18 Áâà‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤Âà§Êñ≠‰∏éÊèêÂèñËøô‰∏ÄÊñπÊ≥ïÔºåËΩ¨ËÄå‰ΩøÁî®ÂÆåÊï¥ÁöÑ json Ëß£Êûê„ÄÇ ÂÖ∂‰∏≠ÔºåËÄÉËôëÂà∞ ibus-libpinyin Êï¥‰Ωì‰æùËµñ‰∫é glibÔºåÁõ¥Êé•‰ΩøÁî® JSON-GLib ‰ºöÊõ¥Âä†Êñπ‰æøÔºå‰∫éÊòØÊ∑ªÂä†‰∫ÜÂÆÉ‰Ωú‰∏∫‰∏Ä‰∏™‰æùËµñ„ÄÇ Á±ªÂÖ≥Á≥ª ‰∏∫‰∫ÜÂèØÊãìÂ±ïÊÄßÔºåÂèÇËÄÉ‰∫ÜÂØºÂ∏àÁöÑÊÑèËßÅÔºåÊàëÂàõÂª∫‰∫Ü CloudCandidatesResponseParser Á±ª‰Ωú‰∏∫ÊâÄÊúâËß£ÊûêÁ±ªÁöÑÂü∫Á±ª„ÄÇ 1234567891011121314151617class CloudCandidatesResponseParser&#123;public: CloudCandidatesResponseParser () : m_annotation (NULL) &#123;&#125; virtual ~CloudCandidatesResponseParser () &#123;&#125; virtual guint parse (GInputStream *stream) = 0; virtual guint parse (const gchar *data) = 0; virtual std::vector&lt;std::string&gt; &amp;getStringCandidates () &#123; return m_candidates; &#125; virtual std::vector&lt;EnhancedCandidate&gt; getCandidates (); virtual const gchar *getAnnotation () &#123; return m_annotation; &#125;protected: std::vector&lt;std::string&gt; m_candidates; const gchar *m_annotation;&#125;; ÂÆÉÂåÖÂê´‰∫Ü‰∏§‰∏™ÁßÅÊúâÔºà‰øùÊä§ÔºâÂ±ûÊÄßÂíåÂÆÉ‰ª¨ÁöÑ getterÔºö m_candidates ÊòØËß£ÊûêÂá∫ÁöÑÂÄôÈÄâÂàóË°®ÔºåÊØè‰∏™ÂÖÉÁ¥†ÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Ôºõ m_annotation ÊòØËß£ÊûêÂá∫ÁöÑÁªìÊûú‰∏≠ËøîÂõûÁöÑÊãºÈü≥ÁöÑÂÄº„ÄÇ 12virtual guint parse (GInputStream *stream) = 0;virtual guint parse (const gchar *data) = 0; ËøôÊòØ‰∏§‰∏™Êú™ÂÆûÁé∞ÁöÑÊñπÊ≥ïÔºåÈúÄË¶ÅÂú®ÂÖ∑‰ΩìÁöÑÁ±ª‰∏≠ÂÆûÁé∞ÔºåÁî®Êù•Ë¥üË¥£Ëß£ÊûêÊµÅ‰∏≠ÊàñËÄÖÁºìÂÜ≤Âå∫‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇ 1234567891011121314class CloudCandidatesResponseJsonParser : public CloudCandidatesResponseParser&#123;public: CloudCandidatesResponseJsonParser (); virtual ~CloudCandidatesResponseJsonParser (); guint parse (GInputStream *stream); guint parse (const gchar *data);protected: JsonParser *m_parser; virtual guint parseJsonResponse (JsonNode *root) = 0;&#125;; Êé•‰∏ãÊù•ÔºåCloudCandidatesResponseJsonParser Á±ªÁªßÊâø‰∫Ü CloudCandidatesResponseParser Á±ªÔºåÂπ∂ÂÆûÁé∞‰∫Ü‰∏äËø∞ÁöÑ‰∏§‰∏™ÊñπÊ≥ï„ÄÇ 12345678910111213141516171819202122232425262728293031guint CloudCandidatesResponseJsonParser::parse (GInputStream *stream)&#123; GError **error = NULL; if (!stream) return PARSER_NETWORK_ERROR; /* parse Json from input steam */ if (!json_parser_load_from_stream (m_parser, stream, NULL, error) || error != NULL) &#123; g_input_stream_close (stream, NULL, error); // Close stream to release libsoup connexion return PARSER_BAD_FORMAT; &#125; g_input_stream_close (stream, NULL, error); // Close stream to release libsoup connexion return parseJsonResponse (json_parser_get_root (m_parser));&#125;guint CloudCandidatesResponseJsonParser::parse (const gchar *data)&#123; GError **error = NULL; if (!data) return PARSER_NETWORK_ERROR; /* parse Json from data */ if (!json_parser_load_from_data (m_parser, data, strlen (data), error) || error != NULL) return PARSER_BAD_FORMAT; return parseJsonResponse (json_parser_get_root (m_parser));&#125; ÂÆÉ‰ª¨ÈÉΩÊòØÁî®‰∏Ä‰∏™ JSON-GLib ‰∏≠ÁöÑ JsonParser Á§∫‰æãÂéªËß£ÊûêÔºåÂπ∂ÊääËß£ÊûêÁöÑÂØπË±°‰º†Áªô CloudCandidatesResponseJsonParser ‰∏≠ÂÆö‰πâÁöÑ parseJsonResponse Êù•ËøõË°åÂÖ∑‰ΩìÁöÑÂ§ÑÁêÜ„ÄÇ Ëøô‰∏™ÊñπÊ≥ïÂú®ÂΩìÂâçÁ±ª‰∏≠‰πüÊòØÊú™ÂÆûÁé∞ÁöÑÁä∂ÊÄÅÔºåÂÖ∑‰ΩìÁöÑÂ§ÑÁêÜË°å‰∏∫ÊòØÂíå‰∫ëËæìÂÖ•ÁöÑÊ∫êÊúâÂÖ≥ÁöÑÔºåÂõ†Ê≠§Ôºå‰∫§Áªô‰∏ãÈù¢Âú® GoogleCloudCandidatesResponseJsonParser Âíå BaiduCloudCandidatesResponseJsonParser ‰∏≠ÂÆûÁé∞ÁöÑ parseJsonResponse ÂàÜÂà´ËøõË°å Google Ê∫êÂíåÁôæÂ∫¶Ê∫êËøîÂõûÁªìÊûúÁöÑÂ§ÑÁêÜ„ÄÇ 123456789101112131415161718class GoogleCloudCandidatesResponseJsonParser : public CloudCandidatesResponseJsonParser&#123;protected: guint parseJsonResponse (JsonNode *root);public: GoogleCloudCandidatesResponseJsonParser () : CloudCandidatesResponseJsonParser () &#123;&#125;&#125;;class BaiduCloudCandidatesResponseJsonParser : public CloudCandidatesResponseJsonParser&#123;private: guint parseJsonResponse (JsonNode *root);public: BaiduCloudCandidatesResponseJsonParser () : CloudCandidatesResponseJsonParser () &#123;&#125; ~BaiduCloudCandidatesResponseJsonParser () &#123; if (m_annotation) g_free ((gpointer)m_annotation); &#125;&#125;; ‰∏ãÈù¢ÁöÑÂ∞èËäÇÂ∞±Êù•ÊèèËø∞‰∏Ä‰∏ãÂú®Ëøô‰∏§‰∏™Á±ª‰∏≠ parseJsonResponse ÂÅö‰∫Ü‰ªÄ‰πà„ÄÇ ÂÄôÈÄâËØçÊèêÂèñÂ§ÑÁêÜ Ëøô‰∏ÄÊ≠•ÁöÑÁõÆÁöÑÔºåÊòØÂ∞ÜÂÄôÈÄâËØçÂíåÊãºÈü≥Ëß£ÊûêÂá∫Êù•ÔºåÂàÜÂà´ÊîæÂÖ• m_candidates ÂàóË°®Âíå m_annotation ‰∏≠„ÄÇ‰∏∫‰∫ÜÊñπ‰æøÁêÜËß£Ôºå‰∏ãÈù¢ÁªìÂêà‰πãÂâçÊèêÂà∞ÁöÑ‰∏§‰∏™ÂÖ∑‰Ωì‰æãÂ≠êÊù•ËæÖÂä©ÁêÜËß£„ÄÇ Google Ê∫êÁöÑËøîÂõûÁªìÊûúÂ§ÑÁêÜ 1[\"SUCCESS\",[[\"ceshi\",[\"ÊµãËØï\"],[],&#123;\"annotation\":[\"ce shi\"],\"candidate_type\":[0],\"lc\":[\"16 16\"]&#125;]]] Êàë‰ª¨‰ΩøÁî®ÊúÄÂàùÁöÑÈÇ£‰∏™ Google Ê∫êÁöÑÂõûÂ§ç‰∏æ‰æãÔºåGoogle Ê∫êÁöÑÂ§ÑÁêÜÂÆûÁé∞Â¶Ç‰∏ãÔºåÂÖ∂‰∏≠ÁöÑÂèÇÊï∞ JsonNode *root ‰∏∫ JSON-GLib Ëß£ÊûêÂá∫ÁöÑ‰∏Ä‰∏™ÂÆû‰æãÔºö 1234guint GoogleCloudCandidatesResponseJsonParser::parseJsonResponse (JsonNode *root)&#123; if (!JSON_NODE_HOLDS_ARRAY (root)) return PARSER_BAD_FORMAT; È¶ñÂÖàÂÖàÊ£ÄÊü•Ê†ºÂºèÔºåÊúÄÂ§ñÂ±ÇÂ∫îÂΩìÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåËã•Ê†ºÂºèÊúâÈóÆÈ¢òÔºåÂ∞±ËøîÂõû‰∏Ä‰∏™ PARSER_BAD_FORMAT ÁöÑÁä∂ÊÄÅ„ÄÇ 123456789101112/* validate Google source and the structure of response */JsonArray *google_root_array = json_node_get_array (root);const gchar *google_response_status;JsonArray *google_response_array;JsonArray *google_result_array;const gchar *google_candidate_annotation;JsonArray *google_candidate_array;guint result_counter;if (json_array_get_length (google_root_array) &lt;= 1) return PARSER_INVALID_DATA; Á¥ßÊé•ÁùÄËé∑ÂèñÂà∞Ëøô‰∏™Êï∞ÁªÑÂÆû‰æãÔºåÂπ∂ÂáÜÂ§á‰∏Ä‰∫õÂèòÈáèÊñπ‰æø‰πãÂêéÂØπÂÖÉÁ¥†ÁöÑÊèèËø∞„ÄÇ ÁÑ∂ÂêéÊ£ÄÊµãÊï∞ÁªÑÁöÑÂ§ßÂ∞èÊòØÂê¶Ëá≥Â∞ë‰∏∫2Ôºå‰ª•ÂÖç‰πãÂêéËé∑ÂèñÂÖÉÁ¥†Êó∂Âá∫Áé∞Ë∂äÁïå„ÄÇËã•ÂÖÉÁ¥†Êï∞ÈáèÁ¨¶ÂêàÊúüÂæÖÔºåÁ¥ßÊé•ÁùÄÂ∞±ÂèØ‰ª•ÂÅöËøõ‰∏ÄÊ≠•ÁöÑÂÖÉÁ¥†ÂèñÂá∫„ÄÇÂê¶ÂàôËøîÂõû‰∏Ä‰∏™ PARSER_INVALID_DATA Áä∂ÊÄÅ„ÄÇ 1234567891011google_response_status = json_array_get_string_element (google_root_array, 0);if (g_strcmp0 (google_response_status, \"SUCCESS\")) return PARSER_INVALID_DATA;google_response_array = json_array_get_array_element (google_root_array, 1);if (json_array_get_length (google_response_array) &lt; 1) return PARSER_INVALID_DATA;google_result_array = json_array_get_array_element (google_response_array, 0); Á¥ßÊé•ÁùÄÔºåÂèñÂá∫Êï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†Ôºö Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†Ôºà‰∏ãÊ†á‰∏∫0ÔºâÔºåÂ∫îÂΩìÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÊèèËø∞ËøôÊ¨°ËØ∑Ê±ÇÊòØÂê¶ÊòØÊàêÂäüÁöÑÔºåËã•‰∏çÊàêÂäüÔºåÂàôËøîÂõû‰∏Ä‰∏™ PARSER_INVALID_DATA Áä∂ÊÄÅ„ÄÇ Á¨¨‰∫å‰∏™ÂÖÉÁ¥†ÊòØÊé•‰∏ãÊù•Ë¶ÅÂ§ÑÁêÜÁöÑ google_response_array Ëøô‰∏™Êï∞ÁªÑÁªìÊûÑÔºåÈïøÂ∫¶Ëá≥Â∞ë‰∏∫1ÔºåÂØπÂ∫îÁöÑ json ÈÉ®ÂàÜ‰∏∫Ôºö 1[[\"ceshi\",[\"ÊµãËØï\"],[],&#123;\"annotation\":[\"ce shi\"],\"candidate_type\":[0],\"lc\":[\"16 16\"]&#125;]] ÁÑ∂ÂêéËøõ‰∏ÄÊ≠•ÁöÑÂèñÂà∞ÂÆÉÁöÑÂÜÖÂ±ÇÊï∞ÁªÑ google_result_arrayÔºå‰ªéËøôÈáåÂºÄÂßãÔºåÂ∞±Êúâ‰∫ÜÁúüÊ≠£ÈúÄË¶ÅÁöÑÊï∞ÊçÆ„ÄÇ 1234567google_candidate_annotation = json_array_get_string_element (google_result_array, 0);if (!google_candidate_annotation) return PARSER_INVALID_DATA;/* update annotation with the returned annotation */m_annotation = google_candidate_annotation; Á¨¨‰∏Ä‰∏™ÂèñÂá∫ÁöÑÊòØ google_result_array ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåËøô‰∏™ÂÖÉÁ¥†Â∫îÂΩìÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåË°®Á§∫ÁöÑÊòØÁî®Êà∑ÁöÑËæìÂÖ•ÔºåÂú®‰∏äËø∞‰æãÂ≠ê‰∏≠‰∏∫ &quot;ceshi&quot; Ëøô‰∏™ÂÖÉÁ¥†„ÄÇÂπ∂ÊääÂÆÉÂ≠òÂà∞ÂΩìÂâçÂÆû‰æãÁöÑ m_annotation Â±ûÊÄß‰∏≠„ÄÇ 123456789101112131415 google_candidate_array = json_array_get_array_element (google_result_array, 1); result_counter = json_array_get_length (google_candidate_array); if (result_counter &lt; 1) return PARSER_NO_CANDIDATE; for (guint i = 0; i &lt; result_counter; ++i) &#123; std::string candidate = json_array_get_string_element (google_candidate_array, i); m_candidates.push_back (candidate); &#125; return PARSER_NOERR;&#125; Á¨¨‰∫å‰∏™ÂèñÂá∫ÁöÑÊòØ google_result_array ÁöÑÁ¨¨‰∫å‰∏™ÂÖÉÁ¥†ÔºåÊòØ‰∏Ä‰∏™ÂåÖÂê´‰∫ÜÂÄôÈÄâËØçÁöÑÊï∞ÁªÑÔºåÂèñÂêç‰∏∫ google_candidate_array„ÄÇ ÂÖàÂà§Êñ≠ÂÆÉÁöÑÈïøÂ∫¶ÔºåËã•‰∏çÂåÖÂê´‰ªª‰ΩïÂÖÉÁ¥†ÔºåÂàôËøîÂõû PARSER_NO_CANDIDATE Áä∂ÊÄÅ„ÄÇ ÊúâÂÖÉÁ¥†ÁöÑËØùÂ∞±ÊääÊâÄÊúâÂÖÉÁ¥†ÂèñÂá∫ÔºåÊ∑ªÂä†Âà∞ m_candidates Ëøô‰∏™Â±ûÊÄßÂØπÂ∫îÁöÑÂÄôÈÄâËØçÂàóË°®‰∏≠„ÄÇÁÑ∂ÂêéËøîÂõû PARSER_NOERR Áä∂ÊÄÅ„ÄÇ ÁôæÂ∫¶Ê∫êÁöÑËøîÂõûÁªìÊûúÂ§ÑÁêÜ 1&#123;\"errmsg\":\"\",\"errno\":\"0\",\"result\":[[[\"ÁôæÂ∫¶\",5,&#123;\"pinyin\":\"bai'du\",\"type\":\"IMEDICT\"&#125;]],\"bai'du\"],\"status\":\"T\"&#125; ÂêåÊ†∑ÁöÑÔºåÂØπ‰∫éÁôæÂ∫¶ÔºåÊàë‰ª¨‰πü‰ΩøÁî®ÊúÄÂàùÁöÑ‰æãÂ≠êÔºåÂÖ∂‰∏≠ÁöÑÂèÇÊï∞ JsonNode *root ‰πüÊòØ JSON-GLib Ëß£ÊûêÂá∫ÁöÑ‰∏Ä‰∏™ÂÆû‰æãÔºö 1234guint BaiduCloudCandidatesResponseJsonParser::parseJsonResponse (JsonNode *root)&#123; if (!JSON_NODE_HOLDS_OBJECT (root)) return PARSER_BAD_FORMAT; ÂÖàÊ£ÄÊü•Ê†ºÂºèÔºåÊúÄÂ§ñÂ±ÇÂ∫îÂΩìÊòØ‰∏Ä‰∏™ÂØπÂ∫îÔºåÂú®Ê†ºÂºè‰∏çÂåπÈÖçÁöÑÊÉÖÂÜµ‰∏ãÂ∞±ËøîÂõû‰∏Ä‰∏™ PARSER_BAD_FORMAT ÁöÑÁä∂ÊÄÅ„ÄÇ 1234567/* validate Baidu source and the structure of response */JsonObject *baidu_root_object = json_node_get_object (root);const gchar *baidu_response_status;JsonArray *baidu_result_array;JsonArray *baidu_candidate_array;const gchar *baidu_candidate_annotation;guint result_counter; Á±ª‰ºº‰ΩÜÂç¥‰∏çÂêåÁöÑÔºåËøôÈáåÊòØËé∑ÂèñÂà∞Ëøô‰∏™ json ÂØπË±°ÁöÑÂÆû‰æãÔºåÂπ∂ÂàõÂª∫‰∏ÄÁ≥ªÂàóÂèòÈáèÁî®Êù•Êé•Êî∂‰πãÂêéÁöÑÂÖÉÁ¥†„ÄÇ 1234567if (!json_object_has_member (baidu_root_object, \"status\")) return PARSER_INVALID_DATA;baidu_response_status = json_object_get_string_member (baidu_root_object, \"status\");if (g_strcmp0 (baidu_response_status, \"T\")) return PARSER_INVALID_DATA; È¶ñÂÖàÂÖàÁúã status ÂÖÉÁ¥†Â≠òÂú®‰∏îÊòØÂê¶‰∏∫ TÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®ÊàñËÄÖ‰∏∫ÂÖ∂‰ªñÂÄºÔºåËøôÊ¨°ËØ∑Ê±ÇÁöÑÂ∫îÂΩìÂ∑≤ÁªèÊòØÂ§±Ë¥•ÁöÑ‰∫ÜÔºåÂ∞±‰∏çÈúÄË¶ÅËøõË°å‰∏ã‰∏ÄÊ≠•ÁöÑÊìç‰ΩúÔºåÁõ¥Êé•ËøîÂõû PARSER_INVALID_DATA Áä∂ÊÄÅ„ÄÇ 123456if (!json_object_has_member (baidu_root_object, \"result\")) return PARSER_INVALID_DATA;baidu_result_array = json_object_get_array_member (baidu_root_object, \"result\");baidu_candidate_array = json_array_get_array_element (baidu_result_array, 0); ÁÑ∂ÂêéÂàôÊòØÂØπ result ÂÖÉÁ¥†Â≠òÂú®ÊÄßÁöÑÊ£ÄÊµãÔºåËøô‰∏™ÂÖÉÁ¥†ÊòØÂ≠òÊîæÊúâÁªìÊûúÁöÑ‰∏Ä‰∏™Êï∞ÁªÑ„ÄÇËøô‰∏™Êï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØÂ≠òÊîæÊúâÂÄôÈÄâËØç‰ø°ÊÅØÁöÑÊï∞ÁªÑÔºåÂ∞ÜÂÖ∂ÂèñÂá∫ÔºåÁî® baidu_candidate_array ÊåáÂêëÂÆÉ„ÄÇËøôÊòØ‰πãÂêéÂèñÂÄôÈÄâËØçÊó∂‰∏ªË¶ÅË¶ÅÊìç‰ΩúÁöÑÂØπË±°„ÄÇ 12345678910baidu_candidate_annotation = json_array_get_string_element (baidu_result_array, 1);if (!baidu_candidate_annotation) return PARSER_INVALID_DATA;/* update annotation with the returned annotation */m_annotation = NULL;gchar **words = g_strsplit (baidu_candidate_annotation, \"'\", -1);m_annotation = g_strjoinv (\"\", words);g_strfreev (words); Á¨¨‰∫å‰∏™ÂÖÉÁ¥†ÂàôÊòØËøîÂõûÂõûÊù•ÁöÑÂåπÈÖçÂà∞ÁöÑÊãºÈü≥ÔºåÂÆÉÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåËøô‰∏™Ë°®Á§∫ÊãºÈü≥ÁöÑÂ≠óÁ¨¶‰∏≤‰ΩøÁî®‰∫ÜÂçïÂºïÂè∑ ' ‰Ωú‰∏∫ÂàÜÂâ≤ÔºåËÄåÊàë‰ª¨ÊâÄÂ∏åÊúõÁöÑÊòØ‰∏Ä‰∏™Ê≤°ÊúâÂàÜÈöîÁ¨¶ÁöÑËøûÁª≠ÁöÑÊãºÈü≥‰∏≤ÔºàÊñπ‰æø‰∏éÂΩìÂâçÁºñËæëÂô®‰∏≠ÁöÑÁî®Êà∑ËæìÂÖ•ÔºâÔºåÂõ†Ê≠§ÈúÄË¶ÅÂØπÂÖ∂ËøõË°åÂàÜÂâ≤‰∏éÂêàÂπ∂ÁöÑÂ§ÑÁêÜ„ÄÇ ËøõË°åÂ§ÑÁêÜÂêéÔºåÂ≠òÊîæÂú® m_annotation ‰∏≠„ÄÇÁî±‰∫éÊòØÈÄöËøá g_strjoinv ÂàõÂª∫Âá∫Êù•ÁöÑÔºåËøô‰∏™Â≠óÁ¨¶‰∏≤ÊòØÈúÄË¶ÅÊâãÂä®ÈáäÊîæÁöÑ„ÄÇ‰∫éÊòØÔºåÂú®‰∏äÈù¢Â±ïÁ§∫ÁöÑ BaiduCloudCandidatesResponseJsonParser Á±ªÁöÑÊûêÊûÑÂáΩÊï∞‰∏≠ÂÆåÊàê‰∫ÜËøô‰∏ÄÈáäÊîæËøáÁ®ãÔºö 1~BaiduCloudCandidatesResponseJsonParser () &#123; if (m_annotation) g_free ((gpointer)m_annotation); &#125; Â§ÑÁêÜÂÆå‰∫ÜÊãºÈü≥ÔºåÊé•‰∏ãÊù•Â∞±ÂèØ‰ª•ÊãøËµ∑‰πãÂâçÂèñÂá∫ÁöÑ baidu_candidate_array ÂÄôÈÄâËØçÊï∞ÁªÑ‰∫Ü„ÄÇÊï¥‰ΩìÊµÅÁ®ãÂíå Google Ê∫êÁöÑÂçÅÂàÜÁõ∏‰ººÔºåÂîØ‰∏Ä‰∏çÂêåÁöÑÊòØÊõ¥ÂÜÖÂ±ÇÁöÑÂ§ÑÁêÜ„ÄÇ 1234result_counter = json_array_get_length (baidu_candidate_array);if (result_counter &lt; 1) return PARSER_NO_CANDIDATE; È¶ñÂÖàÊòØÁúãÂÄôÈÄâÊï∞ÁªÑÁöÑÈïøÂ∫¶ÔºåÂà§Êñ≠ÊúâÊó†ÂèØÁî®ÁöÑÂÄôÈÄâËØç„ÄÇ ËÄåÊï∞ÁªÑÂÜÖÁöÑÊØè‰∏Ä‰∏™ÂÄôÈÄâËØçÔºåÈÉΩÊúâ‰ª•‰∏ãÁªìÊûÑÔºö 1[\"ÁôæÂ∫¶\",5,&#123;\"pinyin\":\"bai'du\",\"type\":\"IMEDICT\"&#125;] Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØÂÄôÈÄâËØçÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÁ¥ßË∑üÁùÄÁöÑÂ∫îÂΩìÊòØÂÄôÈÄâÂú® UTF-8 ÁºñÁ†ÅÊÉÖÂÜµ‰∏ãÁöÑÈïøÂ∫¶Ôºå‰πãÂêéÊòØËøô‰∏™ÂÄôÈÄâÂØπÂ∫îÔºåÂåÖÂê´ÊãºÈü≥ÂíåÁ±ªÂûãÁöÑ‰∏Ä‰∏™ json ÂØπË±°„ÄÇ 123456789101112131415 for (guint i = 0; i &lt; result_counter; ++i) &#123; std::string candidate; JsonArray *baidu_candidate = json_array_get_array_element (baidu_candidate_array, i); if (json_array_get_length (baidu_candidate) &lt; 1) candidate = CANDIDATE_INVALID_DATA_TEXT; else candidate = json_array_get_string_element (baidu_candidate, 0); m_candidates.push_back (candidate); &#125; return PARSER_NOERR;&#125; ËøôÈáåÊàë‰ª¨Âè™ÂèñÂÄôÈÄâÊï∞ÁªÑÈáåÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†Ôºå‰πüÂ∞±ÊòØÂÄôÈÄâËØçÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÂπ∂Â∞ÜÂÖ∂Âä†ÂÖ•Âà∞ m_candidates ÂÄôÈÄâÊï∞ÁªÑ‰∏≠„ÄÇÂ¶ÇÊûúÊ≤°ÊúâËøô‰∏™ÂÖÉÁ¥†ÔºåÂ∞±Ê∑ªÂä†‰∏Ä‰∏™ CANDIDATE_INVALID_DATA_TEXT ‰Ωú‰∏∫ÊèêÁ§∫„ÄÇ ÊúÄÂêéÔºåËøîÂõû PARSER_NOERR„ÄÇ ‰∏§‰∏™Ê∫êËøîÂõûÁªìÊûú‰∏äÁöÑÂ∑ÆÂºÇ ‰∏§‰∏™Ê∫ê‰∏äËøîÂõûÁöÑÂÜÖÂÆπÊúâ‰∏ç‰∏ÄËá¥ÁöÑÂú∞ÊñπÔºåÂõ†Ê≠§‰∏™Âà´ÁªÜËäÇÈúÄË¶ÅÂçïÁã¨ËÄÉËôë„ÄÇ ÂÖ∂‰∏≠ÊØîËæÉÈáçË¶ÅÁöÑÔºå‰πüÊòØÂºïÂèë‰∏Ä‰∫õÂÖ∂‰ªñÈóÆÈ¢òÁöÑ‰∏Ä‰∏™ÁÇπÂ∞±ÊòØÔºåÂØπÁî®Êà∑ËæìÂÖ•ÁöÑ echo„ÄÇ Âú® 20 ÁâàÂºÇÊ≠•Ê®°Âºè‰∏ãÔºåÂèØËÉΩ‰ºöÊúâÂ§ö‰∏™ËØ∑Ê±ÇÁöÑÂõûÂ§çÈôÜÁª≠Âà∞ËææÔºåËÄåÂÆÉ‰ª¨ÁöÑÈ°∫Â∫èÊòØÊó†Ê≥ï‰øùËØÅÁöÑ„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåÂØπËøîÂõûÁªìÊûúÂØπÂ∫îÁöÑÁî®Êà∑ËæìÂÖ•ÂíåÂΩìÂâçÁöÑÁî®Êà∑ËæìÂÖ•ËøõË°å‰∫ÜÊØîËæÉÔºåÂ¶ÇÊûú‰∏ÄËá¥ÔºåËØ¥ÊòéÊòØÂΩìÂâçÁî®Êà∑ËæìÂÖ•ËøõË°åÁöÑËØ∑Ê±ÇÔºåÂê¶ÂàôÂ∞±‰∏¢ÂºÉËøô‰∏™ÁªìÊûúÂØπÂ∫îÁöÑÂÄôÈÄâ„ÄÇ Google Ê∫êÂú®ËøîÂõûÂÄôÈÄâËØçÁªìÊûúÊó∂Ôºå‰∏ç‰ªÖÂØπÂÄôÈÄâËØçËøõË°å‰∫ÜÊãºÈü≥Ê†áÊ≥®ÔºåËøòÂ∞ÜËØ∑Ê±ÇÊó∂ÁöÑÁî®Êà∑ËæìÂÖ•ËøîÂõûÔºõ ÁôæÂ∫¶Ê∫êÂàôÊ≤°ÊúâËøîÂõûËØ∑Ê±ÇÊó∂ÂèëÈÄÅÁöÑÂéüÂßãÁöÑÁî®Êà∑ËæìÂÖ•ÔºåÊúâÂØπÂÄôÈÄâËØçÁöÑÊãºÈü≥Ê†áÊ≥®ÔºåÂíåËá™Âä®Ë°•ÂÖ®ÊãºÈü≥ÂêéÁöÑÁî®Êà∑ËæìÂÖ•„ÄÇ Âõ†Ê≠§ÔºåÂØπÁôæÂ∫¶Ê∫êËøîÂõûÁöÑÁªìÊûúÔºåÁõÆÂâçÊó†Ê≥ïÊâæÂõûÂéüÂßãÁöÑÁî®Êà∑ËæìÂÖ•Ôºå‰πüÂ∞±Êó†Ê≥ïÂíåÂΩìÂâçÁºñËæëÂô®‰∏≠ÁöÑÁî®Êà∑ËæìÂÖ•ËøõË°åÊàêÂäüÂåπÈÖç„ÄÇÂú®ËæìÂÖ•ÊãºÈü≥‰∏çÂÆåÂÖ®ÁöÑÊó∂ÂÄô‰ºöÊúâÂÄôÈÄâËØçË¢´‰∏¢ÂºÉÁöÑÊÉÖÂÜµÂá∫Áé∞„ÄÇ ÂØπÊ≠§ÔºåÊúâ‰ª•‰∏ãÂá†ÁßçÊñπÊ°àÔºö ÂØºÂ∏àÊèêÂá∫‰∫ÜÂú®Êúâ‰∏çÂÆåÊï¥ÊãºÈü≥ÔºàÊ®°Á≥äÊãºÈü≥ÔºâÁöÑÊÉÖÂÜµ‰∏ã‰∏çÁªôÁôæÂ∫¶Ê∫êÂèëÈÄÅËØ∑Ê±ÇÔºõ ÂÜô‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Áõ∏‰ººÁ®ãÂ∫¶ÁöÑÁÆóÊ≥ïÔºå‰∏∫ÁôæÂ∫¶Ê∫êÁöÑËøîÂõûÁªìÊûúËÆæÂÆö‰∏Ä‰∏™Áõ∏‰ººÂ∫¶ÈòàÂÄºÔºåËææÂà∞ÈòàÂÄº‰πãÂêéÂ∞±ÂÖÅËÆ∏ÊòæÁ§∫Ôºõ Êó†ËÆ∫ÊòØÂê¶ÂåπÈÖçÔºåÂú®ÁôæÂ∫¶Ê∫êÁöÑÊÉÖÂÜµ‰∏ãÈÉΩÂÖÅËÆ∏ÊòæÁ§∫„ÄÇ ÂÖ∑‰ΩìÈááÁî®Âì™‰∏ÄÁßçÊØîËæÉÂ•ΩÔºåËøòÈúÄË¶ÅËøõ‰∏ÄÊ≠•ÁöÑËÆ®ËÆ∫„ÄÇÁõÆÂâçÈááÁî®ÁöÑÊòØÁ¨¨‰∏âÁßçÊñπÊ°à„ÄÇ ÊÄªÁªì ËøôÁØáÊñáÁ´†ËÆ≤Ëø∞‰∫ÜÂØπ‰ªéËØ∑Ê±ÇÁöÑÂõûÂ§ç‰∏≠ÊèêÂèñÂÄôÈÄâÁöÑËøáÁ®ãÔºåÊèêÂèñÂá∫ÂÄôÈÄâÂêéÔºå‰ºöÊ†πÊçÆÁä∂ÊÄÅÂ§ÑÁêÜÊèêÂèñÂá∫Êù•ÁöÑÂÄôÈÄâÔºåËøôÈÉ®ÂàÜ‰ºöÂú®‰∏ãÁØáÊñáÁ´†ÂèôËø∞„ÄÇÊúÄÂêé‰∫§Áî±Âú® ‰∫ëËæìÂÖ•Âú® ibus-libpinyin ‰∏≠ÁöÑÂÆûÁé∞ - Ê¶ÇËø∞ ‰∏ÄÊñá‰∏≠ÊèèËø∞ÁöÑËøáÁ®ãÔºåÊõ¥Êñ∞ÊõøÊç¢ÂÄôÈÄâËØçÁöÑÂç†‰ΩçÁ¨¶ÔºåÂÆåÊàêÊï¥‰∏™‰∫ëËæìÂÖ•ÁöÑËøáÁ®ã„ÄÇ","categories":[{"name":"ibus-libpinyin","slug":"ibus-libpinyin","permalink":"https://blog.inoki.cc/categories/ibus-libpinyin/"}],"tags":[{"name":"IBus","slug":"IBus","permalink":"https://blog.inoki.cc/tags/IBus/"},{"name":"ibus-libpinyin","slug":"ibus-libpinyin","permalink":"https://blog.inoki.cc/tags/ibus-libpinyin/"},{"name":"Cloud Input","slug":"Cloud-Input","permalink":"https://blog.inoki.cc/tags/Cloud-Input/"}]},{"title":"‰∫ëËæìÂÖ•Âú® ibus-libpinyin ‰∏≠ÁöÑÂÆûÁé∞ - Ê¶ÇËø∞","slug":"IBus-libpinyin-cloud-input-global-view","date":"2020-05-31T23:55:00.000Z","updated":"2022-05-09T18:41:39.458Z","comments":true,"path":"2020/05/31/IBus-libpinyin-cloud-input-global-view/","link":"","permalink":"https://blog.inoki.cc/2020/05/31/IBus-libpinyin-cloud-input-global-view/","excerpt":"","text":"Âú® 2018 Âπ¥ÁöÑ Google Summer of Code (GSoC)‰∏≠Ôºåibus-libpinyin ÁöÑ‰∫ëËæìÂÖ•ÂäüËÉΩÁî± Linyu Xu È¶ñÊ¨°ÂºïÂÖ•„ÄÇËØ•ÁâàÊú¨Âπ∂Ê≤°ÊúâË¢´ÂêàÂπ∂ÂÖ•‰∏ªÂàÜÊîØ‰∏≠ÔºåÊú¨ÊñáÂ∞ÜÂÖ∂Áß∞‰∏∫ 18 Áâà‰∫ëËæìÂÖ•„ÄÇ 18 ÁâàÈááÁî®‰∫ÜÂêåÊ≠•ËØ∑Ê±ÇÂÄôÈÄâËØçÁöÑÊ®°ÂºèÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÂèëÈÄÅËØ∑Ê±Ç„ÄÅËß£ÊûêËØ∑Ê±ÇÁöÑËøáÁ®ã‰ºöÈòªÂ°û ibus-libpinyin ÁöÑË°å‰∏∫ÔºåÂú®ÁΩëÁªúÊÉÖÂÜµ‰∏çÂ•ΩÊó∂ÔºåÂ∞±‰ºöËÆ©‰∫∫ÊÑüËßâÂà∞ÂçÅÂàÜÂç°È°øÔºåÂá∫Áé∞Êú™ÂìçÂ∫îÁöÑÁé∞Ë±°„ÄÇÂêåÊó∂ÔºåÁî±‰∫éËøîÂõûÁªìÊûúËß£ÊûêÈááÁî®‰∫ÜÊØîËæÉÁÆÄÊòìÁöÑÂ≠óÁ¨¶‰∏≤ÊèêÂèñÔºåÂØºËá¥ÂèñÂá∫ÂÄôÈÄâÁöÑÂÆûÁé∞ÂÅ•Â£ÆÊÄß‰∏çÈ´ò„ÄÇ‰∏ÄÁ≥ªÂàóÂéüÂõ†ÂØºËá¥ 18 Áâà‰∫ëËæìÂÖ•Âπ∂‰∏çËÉΩ‰Ωú‰∏∫‰∏Ä‰∏™Áîü‰∫ßÁéØÂ¢ÉÂèØÁî®ÁöÑÂäüËÉΩ„ÄÇ ‰ªäÂπ¥Ôºà2020ÔºâÊàëÁöÑ GSoC È°πÁõÆÁõÆÊ†á‰πã‰∏ÄÂ∞±ÊòØ‰ºòÂåñËØ•ÂäüËÉΩÔºåÂπ∂Â∞ÜÂÖ∂ÂêàÂπ∂ÂÖ• ibus-libpinyin ÁöÑ‰∏ªÂàÜÊîØ‰∏≠„ÄÇ ÁõÆÂâçÊ≠£Âú®Ëø≠‰ª£ÁöÑ‰∏ÄÁ≥ªÂàóÁâàÊú¨Âú®ÊîπÊñá‰∏≠Ë¢´ÁªüÁß∞‰∏∫ 20 Áâà‰∫ëËæìÂÖ•ÔºåÊú¨ÊñáÂ∞ÜÂØπ‰∫ëËæìÂÖ•ÊåâÁÖßÊó∂Èó¥È°∫Â∫èËøõË°å‰∏Ä‰∏™ÁÆÄË¶Å‰ªãÁªçÔºåËÆ©ËØªËÄÖÂØπ‰∫ëËæìÂÖ•ÂäüËÉΩÊúâ‰∏Ä‰∏™Ê¶ÇËßà„ÄÇ ÂΩìÁî®Êà∑Êåâ‰∏ãÈîÆÁõò Âú® ibus-libpinyin ‰∏≠ÔºåÁî®Êà∑ËøõË°åËæìÂÖ•‰πãÂêéÔºåÁºñËæëÂô®ÁöÑÂÆû‰æã PhoneticEditor ‰ºöË∞ÉÁî® updateCandidates ÊñπÊ≥ï„ÄÇÂú®ËØ•ÊñπÊ≥ï‰∏≠ÔºåÊØè‰∏ÄÁßçÂÄôÈÄâËØçÂÆû‰æãÁöÑ processCandidates ÊñπÊ≥ïÈÉΩ‰ºöË¢´Ë∞ÉÁî®Ôºå‰øÆÊîπÂÄôÈÄâËØçÂàóË°®„ÄÇ ‰∫ëËæìÂÖ•ÈÉ®ÂàÜÁöÑÂÄôÈÄâËØçÂ§ÑÁêÜÁî± PYPCloudCandidates ‰∏≠ÁöÑ CloudCandidates ÂÆåÊàê„ÄÇ‰ΩÜËøôÊó∂ÔºåÊàë‰ª¨ËøòÊ≤°Êúâ‰∫ëËæìÂÖ•ÂÄôÈÄâÁöÑÁªìÊûúÔºåÂõ†Ê≠§ÈúÄË¶ÅÂÖàÊèíÂÖ•Âç†‰ΩçÁ¨¶ÔºåÊñπ‰æø‰πãÂêéËøõË°åÊõøÊç¢Ôºå‰ªéËÄåÂ∞Ü‰∫ëËæìÂÖ•ËøîÂõûÁöÑÁªìÊûúÂä†ÂÖ•ÂÄôÈÄâËØçÂàóË°®‰∏≠„ÄÇ Ê∑ªÂä†ÂÄôÈÄâËØçÂç†‰ΩçÁ¨¶ È¶ñÂÖàÔºåCloudCandidates ‰ºöÊâæÂà∞ÊåáÂÆöÁöÑ‰ΩçÁΩÆÔºå‰ªéËØ•‰ΩçÁΩÆÂºÄÂßãÊèíÂÖ•È¢ÑÂÖàËÆæÂÆö‰∏™Êï∞ÁöÑÂÄôÈÄâËØçÂç†‰ΩçÁ¨¶„ÄÇÁõÆÂâç‰ΩøÁî®‰∫Ü‰∏Ä‰∏™‰∫ëÁöÑÁ¨¶Âè∑‚òÅÔºàÂú® 18 Áâà‰∏≠‰∏∫ÁúÅÁï•Âè∑ÔºâÔºåÁî®Êù•ÊèêÁ§∫Áî®Êà∑ËØ•‰ΩçÁΩÆÊòØ‰∏Ä‰∏™‰∫ëËæìÂÖ•ÁöÑÂÄôÈÄâËØçÔºåÂ∞Ü‰ºöË¢´‰∫ëËæìÂÖ•ËØ∑Ê±ÇËøîÂõûÁöÑÂÄôÈÄâËØçÂèñ‰ª£„ÄÇ Ëøô‰∏™‰ΩçÁΩÆÂú® 18 Áâà‰∫ëËæìÂÖ•ÊòØÁî± m_first_cloud_candidate_position Â±ûÊÄßÊåáÂÆöÁöÑÔºå‰Ωú‰∏∫‰∏Ä‰∏™Êï¥Êï∞Ë°®Á§∫ÁöÑ‰∏ãÊ†áÔºåÂÆÉÁªôÂÆö‰∫Ü‰∏Ä‰∏™Âõ∫ÂÆö‰ΩçÁΩÆÊù•ÊèíÂÖ•„ÄÅ‰øÆÊîπÂç†‰ΩçÁ¨¶„ÄÇËøôÊ†∑ÂèØËÉΩ‰ºöÂú®ÂÄôÈÄâËØçËæÉÂ∞ëÊó∂ÂØºËá¥Áî®Êï∞ÁªÑ‰∏ãÊ†áËÆøÈóÆË∂äÁïåÁöÑÈóÆÈ¢ò„ÄÇ 20 Áâà‰∫ëËæìÂÖ•‰∏≠ÔºåÂàôÂ∞ÜÂÖ∂ÊîæÂú® 1-3 ‰∏™Êï¥Âè•ÂÄôÈÄâËØçÁöÑÂêéÈù¢„ÄÇÂπ∂ÊääËØ•‰ΩçÁΩÆÁî®‰∏Ä‰∏™Ëø≠‰ª£Âô®ËÆ∞ÂΩï‰∏ãÊù•ÔºåÊñπ‰æøÂèñÂà∞ÂÄôÈÄâËØç‰πãÂêéÂØπÂç†‰ΩçÁ¨¶ËøõË°åÂø´ÈÄüÁöÑ‰øÆÊîπ„ÄÇ Âú®Ëøô‰∏§‰∏™ÁâàÊú¨ÁöÑ‰∫ëËæìÂÖ•‰∏≠Ôºåm_cloud_candidates_number ÈÉΩÁî®Êù•ÊåáÂÆöÂÄôÈÄâËØçÁöÑ‰∏™Êï∞„ÄÇ ‰∏ÄÂàáÂ§ÑÁêÜÁªìÊùüÂêéÔºåËã•ÊãºÈü≥ÈïøÂ∫¶Â§ß‰∫é m_min_cloud_trigger_lengthÔºåÂç≥ÊúÄÂ∞èÁöÑËß¶Âèë‰∫ëËæìÂÖ•ËØ∑Ê±ÇÁöÑÊãºÈü≥ÈïøÂ∫¶Ôºà18 Áâà‰∏≠ÂèØÈÖçÁΩÆÔºå20 Áâà‰∏≠Áî± CLOUD_MINIMUM_TRIGGER_LENGTH ÂÆèÂÆö‰πâÔºâÔºåCloudCandidates ‰ºöÂéªË∞ÉÁî®ÂØπÂ∫îÁöÑÊñπÊ≥ïÊù•ËØ∑Ê±Ç‰∫ëËæìÂÖ•ÁöÑÂÄôÈÄâÔºå‰ª•‰æø‰πãÂêéÂØπÂç†‰ΩçÁ¨¶ËøõË°åÊõøÊç¢„ÄÇ Âú®ÂºÇÊ≠•Ê®°Âºè‰∏ãÔºåÂ¶ÇÊûú‰ΩøÁî®Ëø≠‰ª£Âô®ËÆ∞ÂΩïÂç†‰ΩçÁ¨¶ÁöÑÊèíÂÖ•‰ΩçÁΩÆÔºåÂè¶‰∏ÄËæπ‰ΩøÁî®Ëøô‰∏™‰ΩçÁΩÆËøõË°åËØªÂèñÁöÑËØùÔºåÊòØÁ∫øÁ®ã‰∏çÂÆâÂÖ®ÁöÑÔºåÂèØËÉΩ‰ºö‰∫ßÁîüÊï∞ÊçÆÁ´û‰∫â„ÄÇËÄåÂú®ÂÄôÈÄâÂàóË°®Êõ¥Êñ∞ÂêéÔºåÂ¶ÇÊûúÂè¶‰∏Ä‰∏™Á∫øÁ®ã‰ªç‰ΩøÁî®‰πãÂâçÁöÑËø≠‰ª£Âô®ÔºåÂ≠òÂú®ÈùûÊ≥ïËÆøÈóÆÁöÑÂèØËÉΩÊÄß„ÄÇ ÊúÄÊñ∞ÁöÑÁâàÊú¨‰∏≠Ôºå‰∏çÂÜçÂØπÂç†‰ΩçÁ¨¶ÊèíÂÖ•‰ΩçÁΩÆËøõË°åËÆ∞ÂΩï„ÄÇËÄåÊòØÂú®ÊØèÊ¨°Ë¢´Ë∞ÉÁî®Êó∂ÔºåÂà§Êñ≠ËÆ∞ÂΩïÁöÑÊúÄËøë‰∏ÄÊ¨°ËØ∑Ê±ÇÊãºÈü≥ÊòØÂê¶‰∏éÊú¨Ê¨°‰∏ÄËá¥Ôºö Â¶ÇÊûú‰∏ÄËá¥ÔºåÂàôÂ∞Ü m_candidates Êõ¥Êñ∞Âà∞ÂÄôÈÄâÂàóË°®‰∏≠ Â¶ÇÊûú‰∏ç‰∏ÄËá¥ÔºåÂàôÊ∑ªÂä†Âç†‰ΩçÁ¨¶Âà∞ÂÄôÈÄâÂàóË°®‰∏≠ Âç†‰ΩçÁ¨¶‰∏™Êï∞ÁöÑÂ§ÑÁêÜ 18 Áâà‰∫ëËæìÂÖ•‰∏≠ÔºåËôΩÁÑ∂Âú®ÈÖçÁΩÆÈ°µÈù¢ÊúâË∞ÉÊï¥Âç†‰ΩçÁ¨¶‰∏™Êï∞ÁöÑÈÖçÁΩÆÈ°πÔºåÂú® gsetting ‰∏≠‰πüÊúâÂØπÂ∫îÁöÑÊï∞ÊçÆÈ°πÔºå‰ΩÜÂú® CloudCandidates ‰∏≠Ôºå‰ªç‰ΩøÁî®‰∫Ü 1m_cloud_candidates_number = 1; Â∞ÜÂÖ∂ÈÖçÂà∂Êàê‰∫Ü‰∏Ä‰∏™Â∏∏ÂÄº„ÄÇ Âú® 20 Áâà‰∫ëËæìÂÖ•ÁöÑÊîπËøõËøáÁ®ãÂΩì‰∏≠ÔºåÊàëÈ¶ñÂÖàÂ∞ÜËøô‰∏™Â∏∏ÂÄºÊîπ‰∏∫‰ªéÈÖçÁΩÆ‰∏≠ËØªÂèñ„ÄÇÂú®ÂêéÊù•ÁöÑÊµãËØï‰∏≠ÔºåÊàëÂèëÁé∞Âú®ÁôæÂ∫¶ÁöÑ‰∫ëËæìÂÖ•Ê∫ê‰∏≠ÔºåÊó†ËÆ∫‰º†ÂÖ•ÁöÑÂ∏åÊúõËøîÂõûÂÄôÈÄâËØçÁöÑ‰∏™Êï∞ÊòØÂ§öÂ∞ëÔºàÊü•ËØ¢Â≠óÁ¨¶‰∏≤‰∏≠ÁöÑ ed Â≠óÊÆµÔºâÔºåÂÆÉÈÉΩÂè™ËøîÂõû‰∏Ä‰∏™ÂÄôÈÄâËØçÔºõËÄå Google Ê∫êÂèØ‰ª•ËøîÂõûÈ¢ÑÊúü‰∏™Êï∞ÁöÑÂÄôÈÄâËØç„ÄÇ ‰∏∫‰∫Ü‰øùÊåÅË°å‰∏∫ÁöÑ‰∏ÄËá¥ÊÄßÔºåÁõÆÂâçÂ∑≤Â∞ÜÂÖ∂‰ªéÈÖçÁΩÆÁïåÈù¢‰∏≠ÁßªÂá∫ÔºåÂπ∂Âõ∫ÂÆöËøô‰∏ÄÈÖçÁΩÆÈ°πÁöÑÂÄº‰∏∫1„ÄÇÁî®Êà∑‰æùÁÑ∂ÂèØÈÄöËøá gsetting ÂØπÂÖ∂ËøõË°å‰øÆÊîπ„ÄÇ ÂèëÈÄÅËØ∑Ê±Ç Âú®ÊñáÁ´†ÂºÄÂ§¥ÊèêÂà∞ËøáÔºå18 Áâà‰∫ëËæìÂÖ•‰ΩøÁî®‰∫ÜÂêåÊ≠•ÁöÑÊú∫Âà∂Êù•ËØ∑Ê±ÇÂÄôÈÄâËØçÔºåËøôÊ†∑‰ºöÈòªÂ°ûËøõÁ®ãÔºõÂΩìÊó∂ÁöÑÂºÇÊ≠•ËØ∑Ê±ÇÊ®°ÂºèÂπ∂Ê≤°ÊúâÂÆåÊàê„ÄÇ Âú® 20 Áâà‰∫ëËæìÂÖ•‰∏≠ÔºåÂºÇÊ≠•ËØ∑Ê±ÇÊ®°ÂºèÊúâ‰∫Ü‰∏Ä‰∏™ÂèØÁî®ÁöÑÂÆûÁé∞ÔºåÂêéÊù•ÔºåÂú®‰ºòÂåñÁî®Êà∑‰ΩìÈ™å„ÄÅÂáèÂ∞ëÊó†Áî®ÁöÑËØ∑Ê±ÇÁöÑÁõÆÊ†á‰∏ãÔºåÊàëÂèàÂÆûÁé∞‰∫ÜÂª∂Êó∂ÁöÑÂºÇÊ≠•ËØ∑Ê±ÇÔºå‰πüÂ∞±ÊòØÂú®ËÆ§‰∏∫Áî®Êà∑ÂÆåÊàêËæìÂÖ•ÂêéÊâçÂèëËµ∑ÁΩëÁªúËØ∑Ê±ÇËé∑Âèñ‰∫ëËæìÂÖ•ÂÄôÈÄâËØç„ÄÇ ÂêåÊ≠•ËØ∑Ê±Ç ÂêåÊ≠•ËØ∑Ê±ÇÊ®°Âºè‰∏ãÔºåcloudSyncRequest ÊñπÊ≥ï‰ºöÂú®ÊèíÂÖ•Âç†‰ΩçÁ¨¶ÂÆåÊàêÂêéË¢´Ë∞ÉÁî®„ÄÇ ËØ•ÊñπÊ≥ï‰ΩøÁî® libsoup ÁöÑ API ÂèëÈÄÅËØ∑Ê±ÇÔºåÂπ∂ÊääÁªìÊûúÂÇ®Â≠òÂú®‰∏Ä‰∏™ÁºìÂÜ≤Âå∫‰∏≠ËøõË°åËß£Êûê„ÄÇÁªìÊûúÂ§ÑÁêÜÈÉ®ÂàÜÂú®‰πãÂêéÁöÑÊñáÁ´†‰∏≠ËØ¶ÁªÜËß£Èáä„ÄÇ ÂèñÂà∞ÂÄôÈÄâËØç‰πãÂêéÔºåÂÆÉÊääÂç†‰ΩçÁ¨¶ÊõøÊç¢‰∏∫ÂØπÂ∫îÁöÑÂÄôÈÄâËØçÂπ∂ËøîÂõû„ÄÇ Ëøô‰πãÂêéÔºåibus-libpinyin ÊâçÂèØ‰ª•ÂìçÂ∫îÊé•‰∏ãÊù•ÁöÑÂÖ∂‰ªñ‰∫ã‰ª∂„ÄÇÂèëÈÄÅËØ∑Ê±ÇÊòØ‰∏Ä‰∏™ËÄóÊó∂Êìç‰ΩúÔºå‰πüÂ∞±ÊòØËøô‰∏™ËøáÁ®ãÂØºËá¥ÂêåÊ≠•ËØ∑Ê±ÇÊ®°Âºè‰∏ãÂç°È°ø„ÄÇÂºÇÊ≠•Ê®°ÂºèÂ∞±ÊòØ‰∏∫‰∫ÜËß£ÂÜ≥ËøôÁßçÊó†ÂìçÂ∫îÁä∂ÊÄÅËÄåÁîü„ÄÇ ÂºÇÊ≠•ËØ∑Ê±Ç ÂºÇÊ≠•ËØ∑Ê±ÇÂú® 18 Áâà‰∫ëËæìÂÖ•‰∏≠ÂÖ∂ÂÆûÂ∑≤ÁªèÊúâ‰∫Ü‰∏Ä‰∏™ÈõèÂΩ¢ÔºåÂç≥ cloudAsyncRequest ÊñπÊ≥ï„ÄÇ Ëøô‰∏™ÊñπÊ≥ïË∞ÉÁî® soup_session_send_async Êù•ÂèëÈÄÅËØ∑Ê±ÇÔºåcloudResponseCallBack Ë¢´‰Ωú‰∏∫ÂõûË∞ÉÂáΩÊï∞ÂèÇÊï∞‰º†ÂÖ•ÔºåÂÆåÊàêÊó∂‰ºöË¢´Ë∞ÉÁî®Êù•Â§ÑÁêÜÁªìÊûú„ÄÇ ‰ªéËøôÈáåÂºÄÂßãÔºå18 ÁâàÂíå 20 ÁâàÂºÄÂßãÊúâÂÆûÁé∞‰∏äÁöÑÂ∑ÆÂà´„ÄÇ 18 ÁâàÁöÑÂÆûÁé∞Â∞ùËØï ÂºÇÊ≠•Ê®°Âºè‰∏ãÔºåÊúÄÂêéÂèñÂà∞ÁöÑÁªìÊûúÊòØ‰∏Ä‰∏™ËæìÂÖ•ÊµÅÔºåËØ•ÁâàÊú¨ÈáåÊääËøô‰∏™ËæìÂÖ•ÊµÅ‰∏≠ÁöÑÂ≠óÁ¨¶ÂÖ®ÈÉ®ËØªÂá∫ÔºåÊîæÂà∞‰∏Ä‰∏™ÁºìÂÜ≤Âå∫‰∏≠Ôºö 1g_input_stream_read (stream, buffer, BUFFERLENGTH, NULL, error); ‰ΩÜÂØπ‰∫éÊµÅÊù•ËØ¥ÔºåÂú®ËØ•Êó∂ÂàªËøîÂõûÁöÑÂ≠óÁ¨¶Âπ∂‰∏ç‰∏ÄÂÆöÊòØÂÆåÊï¥ÁöÑÁªìÊûúÔºåÁî®Ëøô‰∏™ÂáΩÊï∞ËØªÂá∫Êù•Â§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÊòØ‰∏çÂÆåÊï¥ÁöÑÂ≠óÁ¨¶‰∏≤Ôºå‰ªéËÄåÂØºËá¥ÂÄôÈÄâËØç‰∏çËÉΩË¢´Ê≠£Â∏∏ÊâæÂà∞Âπ∂ÂèñÂá∫„ÄÇ Âú® 20 Áâà‰∏≠ÔºåÁî±‰∫éÂä†ÂÖ•‰∫Ü JSON Ëß£ÊûêÁöÑËøáÁ®ãÔºåËØªÂèñÊµÅ‰∏≠Â≠óÁ¨¶Âπ∂Ëß£ÊûêÁöÑÊìç‰Ωú‰∫§Áªô‰∫Ü json-glib Â∫ìÔºåÂÆÉ‰ºö‰∏ÄÁõ¥Â∞ùËØïËØªÂèñÊµÅ‰∏≠ÁöÑÂ≠óÁ¨¶ÔºåÁõ¥Âà∞ÂÆåÊàê JSON Â≠óÁ¨¶‰∏≤ÁöÑËß£ÊûêÔºåËøôÊ†∑ÂèñÂá∫ÁöÑÁªìÊûúÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÈÉΩÊòØÂÆåÊï¥ÁöÑÔºåÊûÅÂ§ßÁöÑÂ¢ûÂº∫‰∫ÜÂÖ∂ÂÅ•Â£ÆÊÄß„ÄÇ ËøôÈáåÔºåÊàë‰ª¨ÂÅáÂÆöËøîÂõûÁªìÊûúË¢´ÂÆåÊï¥ÂèñÂá∫‰∫ÜÔºå‰πãÂêé‰ΩøÁî®Áõ∏ÂêåÁöÑÁªìÊûúÂ§ÑÁêÜËøáÁ®ãÔºåÂ∞ÜËøîÂõûÁöÑÂÄôÈÄâËØçÊõ¥Êñ∞Âà∞ÂÄôÈÄâËØçÂàóË°®‰∏≠„ÄÇ ÊúÄÂêéÔºåËøô‰∏™ÊñπÊ≥ïÂ∞ùËØïË∞ÉÁî® cloudCandidates-&gt;m_editor-&gt;update () Êù•Â∞ÜÊõ¥Êñ∞ÂêéÁöÑÂÄôÈÄâËØçÂà∑Êñ∞Âà∞ËæìÂÖ•Ê≥ïÈù¢Êùø‰∏ä„ÄÇ 1234567891011voidPhoneticEditor::update (void)&#123; guint lookup_cursor = getLookupCursor (); pinyin_guess_candidates (m_instance, lookup_cursor, m_config.sortOption ()); updateLookupTable (); updatePreeditText (); updateAuxiliaryText ();&#125; Ëøô‰∏™ÊñπÊ≥ï‰ºöÈáçÊñ∞Ë∞ÉÁî® updateLookupTable ÊñπÊ≥ïÔºö 12345678910111213voidPhoneticEditor::updateLookupTable (void)&#123; m_lookup_table.clear (); updateCandidates (); fillLookupTable (); if (m_lookup_table.size()) &#123; Editor::updateLookupTable (m_lookup_table, TRUE); &#125; else &#123; hideLookupTable (); &#125;&#125; ËøõËÄåË∞ÉÁî® updateCandidates ÊñπÊ≥ïÔºö 12345678910111213141516171819gbooleanPhoneticEditor::updateCandidates (void)&#123; m_candidates.clear (); m_libpinyin_candidates.processCandidates (m_candidates); if (m_config.emojiCandidate ()) m_emoji_candidates.processCandidates (m_candidates); #ifdef ENABLE_CLOUD_INPUT_MODE if(m_cloud_candidates.m_cloud_state) m_cloud_candidates.processCandidates (m_candidates);#endif /* ... */ return TRUE;&#125; ÂèØ‰ª•ÁúãÂà∞Âú®ËøôÈáåÔºåÊâÄÊúâÂÄôÈÄâËØçË¢´Ê∏ÖÈô§ÂèàÈáçÊñ∞ÁîüÊàê‰∫ÜÔºå‰πüÂ∞±ÊòØËØ¥ÔºåËøô‰∏ÄÊìç‰ΩúÂπ∂‰∏çËÉΩÊ≠£Â∏∏ÂÆåÊàêÔºåÂ∞Ü‰∫ëËæìÂÖ•ÁöÑÂÄôÈÄâËØçÊõ¥Êñ∞Âà∞ËæìÂÖ•Ê≥ïÈù¢ÊùøÁöÑÊìç‰Ωú„ÄÇ 20 ÁâàÂºÇÊ≠•ËØ∑Ê±Ç Âú® cloudResponseCallBack Ëé∑ÂèñÂà∞ËøîÂõûÁöÑÁªìÊûúÁöÑËæìÂÖ•ÊµÅ‰πãÂêéÔºåprocessCloudResponse Ë¢´Ë∞ÉÁî®Êù•Â§ÑÁêÜÂíåËß£ÊûêÁªìÊûúÔºåÁªìÊûú‰ºöË¢´Êõ¥Êñ∞Âà∞ÂÄôÈÄâËØçÂàóË°®‰∏≠ÔºåÊõøÊç¢ÂéüÊù•ÁöÑÂç†‰ΩçÁ¨¶„ÄÇËøô‰∏™ËøáÁ®ãÂú®‰πãÂêéÁöÑÊñáÁ´†‰ºöËØ¶ÁªÜÊèèËø∞„ÄÇ Â∑≤ËøáÊúüÔºö ‰πãÂêéÂ∞±ÊòØÂ∞ÜÂÄôÈÄâÊõ¥Êñ∞Âà∞ËæìÂÖ•Ê≥ïÈù¢Êùø‰∫ÜÔºå‰∏∫‰∫ÜÈÅøÂÖçÂíå 18 Áâà‰∏ÄÊ†∑ÁöÑÈóÆÈ¢òÔºåËøôÈáåÊàëÊ≤°ÊúâÂÜçÁõ¥Êé•Ë∞ÉÁî® update ÊñπÊ≥ïÔºåËÄåÊòØÈÄâÊã©ÊÄßÁöÑË∞ÉÁî®‰∏Ä‰∫õÊìç‰ΩúÔºö 1234/* regenerate lookup table */cloudCandidates-&gt;m_editor-&gt;m_lookup_table.clear ();cloudCandidates-&gt;m_editor-&gt;fillLookupTable ();cloudCandidates-&gt;m_editor-&gt;updateLookupTableFast (); Ê∏ÖÈô§Êü•ËØ¢Ë°®Ôºõ Áî®Êñ∞ÁöÑÂÄôÈÄâËØçÂàóË°®ÈáçÊñ∞Â°´ÂÖÖÊü•ËØ¢Ë°®Ôºõ Âø´ÈÄüÊõ¥Êñ∞Êü•ËØ¢Ë°®„ÄÇ ËøôÈáåÁöÑËøáÁ®ãÊòØÂê¶ÂèØ‰ª•ÁÆÄÂåñÔºåËøòÈúÄË¶ÅËøõ‰∏ÄÊ≠•ÁöÑÁ†îÁ©∂ÂíåËÆ®ËÆ∫„ÄÇ Êõ¥Êñ∞Ôºö Âú®ÊúÄÊñ∞ÁöÑÁâàÊú¨‰∏≠ÔºåÂä†ÂÖ•‰∫ÜÊúÄËøë‰∏ÄÊ¨°ËØ∑Ê±ÇÁöÑÊãºÈü≥Â≠óÁ¨¶‰∏≤ÂíåÂØπÂ∫îÁöÑÁªìÊûúÁöÑÁºìÂ≠òÔºåÊâÄÊúâÂØπÂç†‰ΩçÁ¨¶ËøõË°åÁöÑ‰øÆÊîπ„ÄÅ‰ª•Âèä‰∫ëËæìÂÖ•ÂÄôÈÄâÁöÑÊõ¥Êñ∞ÈÉΩË¢´ÊîæÂú®‰∫Ü CloudCandidates::processCandidates ‰∏≠Â§ÑÁêÜ„ÄÇ Âõ†Ê≠§ÔºåÂú®ÈúÄË¶ÅÊõ¥Êñ∞ÁöÑÊó∂ÂÄôÔºåÂè™ÈúÄË¶ÅÂ∞ÜÈúÄË¶ÅÁöÑÂÄôÈÄâÁΩÆÂÖ•ÁªìÊûúÁºìÂ≠ò m_candidates ‰∏≠ÔºåÁÑ∂ÂêéË∞ÉÁî®‰∏ãÈù¢ÁöÑÊõ¥Êñ∞ÊñπÊ≥ïÂç≥ÂèØÔºö 12345678910111213141516171819voidCloudCandidates::updateLookupTable ()&#123; /* retrieve cursor position in lookup table */ guint cursor = m_editor-&gt;m_lookup_table.cursorPos (); /* update cached cloud input candidates */ m_editor-&gt;updateCandidates (); /* regenerate lookup table */ m_editor-&gt;m_lookup_table.clear (); m_editor-&gt;fillLookupTable (); /* recover cursor position in lookup table */ m_editor-&gt;m_lookup_table.setCursorPos (cursor); /* notify ibus */ m_editor-&gt;updateLookupTableFast ();&#125; Ëøô‰∏™Êõ¥Êñ∞ÁöÑÂÆûÁé∞ËøòËÄÉËôë‰∫Ü‰øùÂ≠òÂÖâÊ†á‰ΩçÁΩÆÔºåÂπ∂Âú®Êõ¥Êñ∞‰πãÂêéÊÅ¢Â§çÔºåÈò≤Ê≠¢Áî±‰∫é‰∫ëËæìÂÖ•ÂÄôÈÄâÁöÑÊõ¥Êñ∞ÂØºËá¥Áî®Êà∑ÈÄâÊã©ÂÄôÈÄâÁöÑÂÖâÊ†áÈáçÁΩÆÁöÑÈóÆÈ¢ò„ÄÇ Âª∂Êó∂ÂºÇÊ≠• ÂºÇÊ≠•ËØ∑Ê±Ç‰ºöÂú®ÊØè‰∏ÄÊ¨° processCloudResponse Êó∂ÂèëÂá∫‰∏Ä‰∏™Êñ∞ÁöÑÂºÇÊ≠•ËØ∑Ê±ÇÔºåÂú®ËøõË°åÈïøÂè•ÁöÑËæìÂÖ•Êó∂Ôºå‰πãÂâçÂèëÈÄÅÁöÑËØ∑Ê±ÇËøîÂõûÁöÑÁªìÊûú‰ºöË¢´‰∏¢ÂºÉÔºåËøôÈÄ†Êàê‰∫ÜÂ§ßÈáèËØ∑Ê±ÇÁöÑÊµ™Ë¥π„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºåËøõ‰∏ÄÊ≠•ÁöÑÊîπËøõÂä†ÂÖ•‰∫ÜÂª∂Êó∂ËØ∑Ê±ÇË°å‰∏∫„ÄÇ Âª∂Êó∂ËØ∑Ê±Ç‰ΩøÁî®‰∫Ü glib ‰∏≠ÁöÑ g_timeout_add_full ÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞ÁöÑÂéüÂûã‰∏∫Ôºö 123456guintg_timeout_add_full (gint priority, guint interval, GSourceFunc function, gpointer data, GDestroyNotify notify); ÂÆÉÁöÑÁÆÄÂåñÁâàÂáΩÊï∞ÂéüÂûãÊòØÔºö 1234guintg_timeout_add (guint interval, GSourceFunc function, gpointer data); ËØ•ÂáΩÊï∞‰ºöÂú® glib ÁöÑ‰∫ã‰ª∂Âæ™ÁéØ‰∏≠Ê∑ªÂä†‰∏Ä‰∏™Ë¢´Âë®ÊúüË∞ÉÁî®ÁöÑÂáΩÊï∞ÔºåÊØèÈöîÁªôÂÆöÁöÑÊØ´ÁßíÊï∞‰πãÂêéÔºåËøô‰∏™ÂáΩÊï∞ÈÉΩ‰ºöË¢´Ë∞ÉÁî®‰∏ÄÊ¨°ÔºåÁõ¥Âà∞Ëøô‰∏™ÂáΩÊï∞ËøîÂõû FALSE„ÄÇ Èó¥ÈöîÁöÑÊØ´ÁßíÊï∞Áî± interval ÁªôÂÆöÔºåË∞ÉÁî®ÁöÑÂáΩÊï∞ÊòØ‰º†ÂÖ•ÁöÑ function ÂèÇÊï∞ÔºåËÄå data ÂèòÈáèÂèØ‰ª•Êê∫Â∏¶‰ªª‰ΩïÂºÄÂèëËÄÖÊÉ≥‰º†ÂÖ•Âà∞ function ÂáΩÊï∞‰∏≠ÁöÑÁî®Êà∑Êï∞ÊçÆ„ÄÇÊ≠§Â§ñÔºåÂÆåÊï¥ÁâàÁöÑÂáΩÊï∞ËøòÂÖÅËÆ∏ÊåáÂÆöË∞ÉÁî®ÁöÑ‰ºòÂÖàÁ∫ßÔºå‰ª•‰æø‰∫ã‰ª∂Âæ™ÁéØÂêàÁêÜÂÆâÊéíË∞ÉÁî®È°∫Â∫èÔºõÂπ∂‰∏îÂÖÅËÆ∏‰º†ÂÖ•‰∏Ä‰∏™ÈîÄÊØÅÂâçÁöÑÈÄöÁü•ÔºåÊñπ‰æøÂºÄÂèëËÄÖËøõË°å‰∏Ä‰∫õÊ∏ÖÁêÜÂ∑•‰Ωú„ÄÇ Âú® 20 ÁâàÁöÑÂÆûÁé∞‰∏≠Ôºå‰∏∫‰∫Ü‰º†ÂÖ•Ë∂≥Â§üÁöÑÊï∞ÊçÆÔºåÊàëÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÁªìÊûÑ‰ΩìÊù•ÂÇ®Â≠ò‰∏Ä‰∫õÂøÖË¶Å‰ø°ÊÅØÔºö 123456typedef struct&#123; guint event_id; const gchar request_str[MAX_PINYIN_LEN + 1]; CloudCandidates *cloud_candidates;&#125; DelayedCloudAsyncRequestCallbackUserData; ÂÖ∂‰∏≠Ôºåthread_id event_id ÊòØÂΩìÂâçÁöÑÁî®Êà∑Êï∞ÊçÆÂØπÂ∫îÁöÑ‰∫ã‰ª∂ idÔºårequest_str ÊòØÂΩìÂâçÂª∂Êó∂Â∏åÊúõÂèëÂá∫ËØ∑Ê±ÇÊâÄÁî®ÁöÑÊãºÈü≥ÔºåËÄåcloud_candidates ÂàôÊòØÂØπ‰∫ëËæìÂÖ•ÂÄôÈÄâËøõË°åÂ§ÑÁêÜÁöÑÂÆû‰æãÁöÑÂºïÁî®Ôºå‰πüÂ∞±ÊòØÂª∂Êó∂ÁöÑÂèëÈÄÅËÄÖ„ÄÇ Âú®ÂàõÂª∫Âª∂Êó∂‰πãÂâçÔºå‰ºöÈ¶ñÂÖàÂàÜÈÖç„ÄÅÂàõÂª∫‰∏Ä‰∏™ DelayedCloudAsyncRequestCallbackUserData ÁöÑÂÆû‰æãÔºåÂπ∂ÊääÂØπÂ∫îÁöÑÊï∞ÊçÆÂ°´ÂÖ•„ÄÇ ÁÑ∂ÂêéÔºåÂàõÂª∫Âª∂Êó∂‰∫ã‰ª∂Âπ∂Âú®ÂΩìÂâç CloudCandidates ÂÆû‰æã‰∏≠ËÆ∞ÂΩïÂÖ∂ idÔºö 1event_id = m_source_event_id = g_timeout_add_full(G_PRIORITY_DEFAULT, m_delayed_time, delayedCloudAsyncRequestCallBack, user_data, delayedCloudAsyncRequestDestroyCallBack); ÂáΩÊï∞ delayedCloudAsyncRequestCallBack ‰ºöÂú®Âª∂Êó∂ÁªìÊùüÂêéË¢´Ë∞ÉÁî®ÔºådelayedCloudAsyncRequestDestroyCallBack Âàô‰ºöÂú® delayedCloudAsyncRequestCallBack ËøîÂõû FALSEÔºå‰∫ã‰ª∂Âæ™ÁéØÂÜ≥ÂÆöÁªìÊùüÂª∂Êó∂‰∫ã‰ª∂ÂêéË¢´Ë∞ÉÁî®„ÄÇ Á¨¨‰∫å‰∏™ÂáΩÊï∞ delayedCloudAsyncRequestDestroyCallBack ÊØîËæÉÁÆÄÂçïÔºåËøôÈáåÂÖàË°å‰ªãÁªçÔºö 1234567voidCloudCandidates::delayedCloudAsyncRequestDestroyCallBack (gpointer user_data)&#123; /* clean up */ if (user_data) g_free (user_data);&#125; Âç≥Â∞Ü‰πãÂâçÂàõÂª∫ÁöÑÁî®Êà∑Êï∞ÊçÆÊâÄÂç†Áî®ÁöÑÂÜÖÂ≠òÈáäÊîæÔºåÈÅøÂÖçÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇ ËÄåÂú® delayedCloudAsyncRequestCallBack ‰∏≠ÔºåÈô§‰∫Ü‰∏ÄÂºÄÂßãÂØπÊï∞ÊçÆËøõË°åÊ£ÄÊü•Â§ñÔºåÊúÄÈáçË¶ÅÁöÑÊòØËøôÊÆµ‰ª£Á†ÅÔºö 123456/* only send with a latest timer */if (data-&gt;event_id == cloudCandidates-&gt;m_source_event_id)&#123; cloudCandidates-&gt;m_source_event_id = 0; cloudCandidates-&gt;cloudAsyncRequest(data-&gt;request_str);&#125; È¶ñÂÖàÔºåÂØπÂΩìÂâçÁî®Êà∑Êï∞ÊçÆ‰∏≠ÁöÑ‰∫ã‰ª∂ id Âíå CloudCandidates ÂÆû‰æã‰∏≠ËÆ∞ÂΩïÁöÑ id ËøõË°åÊØîËæÉÔºåÂ¶ÇÊûú‰∏ÄËá¥ÔºåËØ¥ÊòéÊàë‰ª¨ÂΩìÂâç‰∫ã‰ª∂ÁöÑÁ°ÆÊòØÊúÄËøë‰∏ÄÊ¨°ÂèëÂá∫ÁöÑÂª∂Êó∂‰∫ã‰ª∂ÔºåÂàôË∞ÉÁî®ÂØπÂ∫îÁöÑÂáΩÊï∞ÔºåÂºÄÂßãÂèëÈÄÅÂºÇÊ≠•ËØ∑Ê±Ç„ÄÇ ÊúÄÂêéÔºåÊó†ËÆ∫Âú®Âì™ÁßçÊÉÖÂÜµ‰∏ãÔºåÈÉΩ‰ºöËøîÂõû FALSEÔºå‰ª•‰æøËÆ©‰∫ã‰ª∂Âæ™ÁéØÂºÄÂßãÊ∏ÖÁêÜÔºåËÄåÈùûÁªßÁª≠Âæ™ÁéØÊâßË°åËØ•‰∫ã‰ª∂„ÄÇ ÁõÆÂâçÁöÑÂª∂Êó∂Êó∂Èïø‰∏∫ 600msÔºå‰πüÂèØ‰ª•Âú® gsetting ‰∏≠ÈÖçÁΩÆ„ÄÇ Â§ÑÁêÜÁî®Êà∑ÈÄâÊã©ÁöÑÂÄôÈÄâ Èô§Âéª‰∏≠Èó¥ÁöÑÂ§ÑÁêÜ‰∫ëËæìÂÖ•ËØ∑Ê±ÇËøîÂõûÁªìÊûúÁöÑËøáÁ®ãÔºàÂú®„ÄäÂÄôÈÄâËØçËß£Êûê„ÄãËøôÁØáÊñáÁ´†‰∏≠ËØ¶Ëø∞ÔºâÔºåÂíåÁî®Êà∑‰∫§‰∫íÁöÑÊúÄÂêé‰∏ÄÊ≠•Â∞±ÊòØÁî®Êà∑ÂØπÂÄôÈÄâËøõË°åÈÄâÊã©ÁöÑËøáÁ®ã„ÄÇ Âú®Ëøô‰∏ÄËøáÁ®ã‰∏≠ÔºåCloudCandidates ÂÆû‰æã‰∏≠ÁöÑ selectCandidate ‰ºöË¢´Ë∞ÉÁî®ÔºåË¢´ÈÄâ‰∏≠ÁöÑÂÄôÈÄâ‰ºö‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•„ÄÇ È¶ñÂÖàÂØπÂÖ∂ËøõË°å‰∏Ä‰∏™Âà§Êñ≠ÔºåÁ°ÆÂÆöËøô‰∏™ÂÄôÈÄâËØçÂ∑≤ÁªèÊòØÂê¶‰ªçÊòØÂç†‰ΩçÁ¨¶ÔºåËã•ÊòØÂç†‰ΩçÁ¨¶ÔºåÂàôÊöÇÊó∂‰∏çÂÅöÂá∫ÂèçÂ∫î„ÄÇËã•‰∏çÊòØÂç†‰ΩçÁ¨¶ÔºåÂ∞±ËøõË°åËøõ‰∏ÄÊ≠•ÁöÑÂ§ÑÁêÜ„ÄÇ Âú®ÊúÄÊñ∞ÁöÑÁâàÊú¨‰∏≠Ôºå‰º†ÂÖ•ÁöÑÂÄôÈÄâÊòØÂ∏¶Êúâ‰∫ëËæìÂÖ•ÂâçÁºÄ ‚òÅ ÁöÑÔºåËÄåÂú® CloudCandidates ÂÆû‰æãÁöÑ m_candidates ‰∏≠ÁºìÂ≠ò‰∫Ü‰∏çÂ∏¶ÊúâÂâçÁºÄÁöÑÂÄôÈÄâÔºåÂõ†Ê≠§ÔºåÊàë‰ª¨Â∞ùËØïÊâæÂà∞ÂØπÂ∫î id ÁöÑÂÄôÈÄâÔºåÂ∞Ü‰º†ÂÖ•ÁöÑÂÄôÈÄâ‰øÆÊîπ‰∏∫Êó†ÂâçÁºÄÁöÑ‰∫ëËæìÂÖ•ÂÄôÈÄâËØçÂπ∂ËøîÂõû„ÄÇËøôÊó∂ÂÄôÈÄâËØçÂ∞±‰ºö‰∏äÂ±è„ÄÇ 12345678/* take the cached candidate with the same candidate id */for (std::vector&lt;EnhancedCandidate&gt;::iterator pos = m_candidates.begin(); pos != m_candidates.end(); ++pos) &#123; if (pos-&gt;m_candidate_id == enhanced.m_candidate_id) &#123; enhanced.m_display_string = pos-&gt;m_display_string; /* modify in-place and commit */ return SELECT_CANDIDATE_COMMIT | SELECT_CANDIDATE_MODIFY_IN_PLACE; &#125;&#125; Âú®‰∏ä‰∏ÄÁâà‰∏≠ÔºåCloudCandidates ÂÆû‰æãÁöÑ m_candidates Ê≤°ÊúâË¢´ÂæàÂ•ΩÁöÑÂà©Áî®„ÄÇÂéªÈô§‰∫ëËæìÂÖ•ÂâçÁºÄ ‚òÅ ÁöÑÂ§ÑÁêÜÊòØÈÄöËøáËø≠‰ª£Âô®‰øÆÊîπ‰º†ÂÖ•ÁöÑÂÄôÈÄâÊù•ÂÆåÊàêÁöÑ„ÄÇ‰∏çËøá‰πüËÉΩËææÂà∞Áõ∏ÂêåÁöÑÁõÆÁöÑ„ÄÇ ÊÄªÁªì Êú¨ÊñáÊåâÁÖß‰∫ã‰ª∂ÂèëÁîüÁöÑÊó∂Èó¥È°∫Â∫èÁ≤óÁï•ÊèèËø∞‰∫Ü‰∫ëËæìÂÖ•ÂäüËÉΩËÉåÂêéÂèëÁîü‰∫Ü‰ªÄ‰πàÔºåÂÖ∂‰∏≠‰∏≠Èó¥ÁöÑ‰∏Ä‰∫õÈÉ®ÂàÜ‰ºöÊîæÂú®ÂÖ∂‰ªñÁöÑÁõ∏ÂÖ≥ÊñáÁ´†‰∏≠ËØ¶ÁªÜÊèèËø∞„ÄÇ ËÄåÈöèÁùÄÁâàÊú¨ÁöÑËø≠‰ª£ÔºåÊï¥‰ΩìÊµÅÁ®ãÂèØËÉΩËøòÊòØ‰ºöÂèëÁîü‰∏Ä‰∫õÂæÆÂ∞èÁöÑÂèòÂåñÔºåËøôÁØáÊñáÁ´†‰πü‰ºöË∑üÁùÄÊõ¥Êñ∞„ÄÇ","categories":[{"name":"ibus-libpinyin","slug":"ibus-libpinyin","permalink":"https://blog.inoki.cc/categories/ibus-libpinyin/"}],"tags":[{"name":"IBus","slug":"IBus","permalink":"https://blog.inoki.cc/tags/IBus/"},{"name":"ibus-libpinyin","slug":"ibus-libpinyin","permalink":"https://blog.inoki.cc/tags/ibus-libpinyin/"},{"name":"Cloud Input","slug":"Cloud-Input","permalink":"https://blog.inoki.cc/tags/Cloud-Input/"}]},{"title":"„ÄêËØë„ÄëLoRaWAN ÂÖ•Èó®","slug":"LoRa-Primer","date":"2020-05-26T10:28:00.000Z","updated":"2022-05-09T18:41:39.478Z","comments":true,"path":"2020/05/26/LoRa-Primer/","link":"","permalink":"https://blog.inoki.cc/2020/05/26/LoRa-Primer/","excerpt":"","text":"LoRaWANÔºàÊàñÁÆÄÁß∞ LoRaÔºâÊòØ LPWANÔºà‚Äú‰ΩéÂäüËÄóÂπøÂüüÁΩë‚ÄùÔºâÊäÄÊúØ„ÄÇÊâÄ‰ΩøÁî®ÁöÑÊó†Á∫øÁîµÊäÄÊúØÂæàÊºÇ‰∫ÆÔºåÂèØÁ°Æ‰øùÊÇ®‰ª•ÂæàÂ∞èÁöÑÂèëÂ∞ÑÂäüÁéáÂ∞±ÂèØ‰ª•Âú®Áõ∏ÂΩìÈïøÁöÑË∑ùÁ¶ªÂÜÖÂèëÈÄÅÊï∞ÊçÆ„ÄÇ LoRa Âú®Áß∞‰∏∫ÁöÑ ISM Ôºà‰πüÁß∞‰∏∫‚ÄúÂ∑•‰∏öÁßëÂ≠¶ÂåªÂ≠¶‚ÄùÔºâÈ¢ëÊÆµ‰∏≠ËøêË°åÔºåËØ•È¢ëÊÆµÊòØÊú™ÁªèËÆ∏ÂèØÁöÑÊó†Á∫øÁîµÈ¢ëË∞±ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇËøôÂπ∂‰∏çÊÑèÂë≥ÁùÄÊÇ®ÂèØ‰ª•‰ª•‰ªª‰ΩïÊúüÊúõÁöÑÊñπÂºè‰ΩøÁî®ÂÆÉÔºå‰∏ÄÊ¨°ÂèØ‰ª•‰ΩøÁî®Â§öÂ∞ëÂäüÁéá‰ª•ÂèäÂèØ‰ª•‰º†ËæìÂ§öÈïøÊó∂Èó¥ÊòØÊúâÈôêÂà∂ÁöÑ„ÄÇËøôÂ∞±ÊòØÊâÄË∞ìÁöÑ‚ÄúÂç†Á©∫ÊØî‚Äù„ÄÇLoRa ÁöÑÂç†Á©∫ÊØîÂú®1ÔºÖÂà∞0.1ÔºÖ‰πãÈó¥ÔºåÂÖ∑‰ΩìÂèñÂÜ≥‰∫éÊÇ®Ë¶ÅÂèëÈÄÅÁöÑÊØîÁâπÁéá„ÄÇ LoRaWAN ÁöÑÈ∏üÁû∞Âõæ LoRaWANÁΩëÁªúÁî±ÁΩëÂÖ≥ÔºåÁΩëÁªúÔºåÂ∫îÁî®Á®ãÂ∫èÂíåËÆæÂ§áÁªÑÊàê„ÄÇËÆæÂ§áÂ∞ÜÊó†Á∫øÁîµÊï∞ÊçÆÂåÖÂèëÈÄÅÂà∞ÁΩëÁªúÁöÑÁΩëÂÖ≥„ÄÇÁΩëÁªúÁî±ÂÜçÊ¨°Áî±Èõ∂‰∏™ÊàñÂ§ö‰∏™ËÆæÂ§áÁªÑÊàêÁöÑÂ∫îÁî®Á®ãÂ∫èÁªÑÊàê„ÄÇÁΩëÁªúÂíåÂ∫îÁî®Á®ãÂ∫èÈÄöÂ∏∏ÊòØÂêéÁ´ØÊúçÂä°‰∏≠ÁöÑÊäΩË±°„ÄÇ ËÆæÂ§áÈÄöËøáÊó†Á∫øÁîµ‰∏é‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÁΩëÂÖ≥ÈÄö‰ø°„ÄÇÊØè‰∏™Êï∞ÊçÆÂåÖÈÉΩÂæàÁü≠ÔºåÈÄöÂ∏∏‰∏çË∂ÖËøáÂá†ÂçÅ‰∏™Â≠óËäÇ„ÄÇÊï∞ÊçÆÂåÖË¢´‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÁΩëÂÖ≥ÊãæÂèñÔºåËÆæÂ§áËøõÂÖ•Áù°Áú†Áä∂ÊÄÅÔºåÈÄöÂ∏∏Á≠âÂæÖ‰∏ÄÁßíÈíüÔºåÁÑ∂ÂêéËÆæÂ§áÂºÄÂßã‰æ¶Âê¨Êù•Ëá™ÁΩëÂÖ≥ÁöÑÂìçÂ∫î„ÄÇÂ¶ÇÊûúÁΩëÂÖ≥ÂÖ∑Êúâ‰∏∫ËÆæÂ§áÂÆâÊéíÁöÑÊï∞ÊçÆÔºåÂÆÉÂ∞ÜÊääÊï∞ÊçÆÂèëÈÄÅÂà∞ËÆæÂ§á„ÄÇÂÆåÊàêÊ≠§Êìç‰ΩúÂêéÔºåËÆæÂ§áÂ∞ÜÂÜçÊ¨°ËøõÂÖ•Áù°Áú†Áä∂ÊÄÅÔºåÁõ¥Âà∞ÊúâÊõ¥Â§öÊï∞ÊçÆÂπ∂ÂÖÅËÆ∏ÂÖ∂Ê†πÊçÆÂç†Á©∫ÊØîÂèëÈÄÅ‰∏∫Ê≠¢„ÄÇ ÁΩëÂÖ≥Â∞ÜÊó†Á∫øÁîµÊï∞ÊçÆÂåÖËß£Á†Å‰∏∫‰∏Ä‰∏™Â∞èÁºìÂÜ≤Âå∫ÔºåÁÑ∂ÂêéÂ∞ÜÁºìÂÜ≤Âå∫ËΩ¨ÂèëÂà∞ LoRa ÂêéÁ´Ø„ÄÇLoRa ÂêéÁ´ØË∑üË∏™ÊâÄÊúâÁΩëÂÖ≥ÂíåÁΩëÁªúÔºåÂπ∂Á°ÆÂÆöÊï∞ÊçÆÂåÖÊâÄÂ±ûÁöÑÁΩëÁªúÔºåÂ¶ÇÊûúÁΩëÁªúÁü•ÈÅìËÆæÂ§áÔºåÂàôÂ∞ÜÊï∞ÊçÆ‰º†ÈÄíÂà∞ËØ•ËÆæÂ§áÊâÄÂ±ûÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇÂ¶ÇÊûú‰∏∫ËØ•ËÆæÂ§áÂÆâÊéí‰∫ÜÊï∞ÊçÆÔºåÂÆÉÂ∞ÜÈÄöËøáÁΩëÂÖ≥ËøîÂõûÂà∞ËØ•ËÆæÂ§á„ÄÇ Â∏¶ÂÆΩ Áî±‰∫éËÆæÂ§áÂèëÈÄÅÁöÑÊï∞ÊçÆÂåÖÂæàÂ∞èÔºåÂπ∂‰∏îËÆæÂ§áÊØè‰∫îÂàÜÈíü‰ªÖÂèëÈÄÅ‰∏Ä‰∏™Êï∞ÊçÆÂåÖÔºåÂõ†Ê≠§ÊÇ®‰∏ç‰ºöÂú®ËÆæÂ§á‰πãÈó¥Êî∂Âà∞Â§ßÈáèÊï∞ÊçÆÔºåÂõ†Ê≠§ÂÖ∏ÂûãÁöÑÁî®‰æãÂú∫ÊôØÊòØËÆæÂ§á‰∏çÁªèÂ∏∏ÂèëÈÄÅÔºå‰∏îÂèëÈÄÅÂ∞ëÈáèÊï∞ÊçÆÔºåÈÄöÂ∏∏ÊØèÂ∞èÊó∂ÊàñÊØèÂ§©Âè™ÊúâÂá†Ê¨°„ÄÇ ËåÉÂõ¥ ËÆæÂ§áÁöÑË¶ÜÁõñËåÉÂõ¥‰ª§‰∫∫Âç∞Ë±°Ê∑±Âàª„ÄÇ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊúâÁ∫øÂ§©Á∫øË∂≥‰ª•Âà∞ËææÂá†ÂÖ¨ÈáåÂ§ñÁöÑÁΩëÂÖ≥„ÄÇÂú®ÈáëÂ±ûÁ¨ºÂ≠êÈáåÂ∞ÜÊó†Ê≥ïËé∑ÂæóËâØÂ•ΩÁöÑË¶ÜÁõñÔºåÊó†Á∫øÁîµÊ≥¢‰∏ç‰ºöÁ©øËøáÂ¢ôÂ£ÅÊàñÈáëÂ±ûÔºå‰ΩÜÊòØËØ•ÂçèËÆÆÊú¨Ë∫´ÂèØ‰ª•ÂÆûÁé∞ÂæÆÂº±ÁöÑ‰º†Ëæì„ÄÇÁé∞Âú∫ÂÆûÈ™åË°®ÊòéÔºåLoRa ËÆæÂ§áÂú®ÂüéÂ∏ÇÁéØÂ¢É‰∏≠ÂèØ‰ª•ËææÂà∞Âá†ÂÖ¨ÈáåÁöÑËåÉÂõ¥ÔºåÂπ∂‰∏îËßÜÁ∫øËåÉÂõ¥ÁîöËá≥ÂèØ‰ª•ËææÂà∞ 20 ÂÖ¨ÈáåÁîöËá≥Êõ¥È´ò„ÄÇÊó†Á∫øÁîµÊ≥¢ÂæàÂ•áÊÄ™ÔºåÂõ†Ê≠§‰Ω†ÂèØËÉΩÂèØ‰ª•Âú®Áúã‰ºº‰∏çÂèØËÉΩÁöÑÂú∞ÊñπËé∑ÂæóËâØÂ•ΩÁöÑË¶ÜÁõñÔºåËÄåÂú®ÂÖ∂‰ªñÂú∞ÊñπÂá†‰πéÊ≤°Êúâ„ÄÇ Ëé∑ÂèñÁΩëÂÖ≥ Â¶ÇÊûúÊÇ®Êó†Ê≥ïÂú®Ëá™Â∑±ÁöÑ‰ΩèÊâÄÊàñÂüéÈïá‰∏≠ÂæóÂà∞Ë¶ÜÁõñÔºåËØ∑‰∏çË¶ÅÊãÖÂøÉ„ÄÇLoRa ÁΩëÂÖ≥Áõ∏ÂØπ‰æøÂÆúÔºà200Ê¨ßÂÖÉÂèä‰ª•‰∏äÔºâÔºåÂá†‰πé‰∏çÈúÄË¶ÅÁª¥Êä§„ÄÇ‰∏çËøáÔºåÁΩëÂÖ≥ÂøÖÈ°ªËøûÊé•Âà∞‰∏ÄÈ°πÂêéÁ´ØÊúçÂä°ÔºåÂπ∂‰∏îÊúâÂæàÂ§öÂèØ‰æõÈÄâÊã©„ÄÇÊúÄËëóÂêçÁöÑÊúçÂä°ÊòØ The Things Network Âíå loriot.ioÔºåÂÆÉ‰ª¨ÈÉΩÂÖÅËÆ∏ÊÇ®ËøûÊé•Ëá™Â∑±ÁöÑÁΩëÂÖ≥„ÄÇÂ¶ÇÊûúÊÇ®‰ΩèÂú®Êå™Â®ÅÔºåÂàôÂèØ‰ª•‰ªé Telenor ËøûÊé•Âà∞ Cloud Connect„ÄÇÊàë‰ª¨Â∑≤ÁªèË¶ÜÁõñ‰∫ÜÂá†‰∏™ÂüéÂ∏ÇÔºåÂπ∂‰∏îËøôÈ°πÊúçÂä°ÊòØÂÖçË¥πÁöÑÔºåÂèØÁî®‰∫éÂºÄÂèëÂ∑•‰Ωú„ÄÇ ÂÆâÂÖ® LoRaWAN ÁΩëÁªú‰∏≠ÁöÑËÆæÂ§áÂíåÂ∫îÁî®Á®ãÂ∫è‰πãÈó¥‰º†ËæìÁöÑÊâÄÊúâÊï∞ÊçÆÂùá‰ΩøÁî® AES-128 Âä†ÂØÜÔºå‰ΩøÁî®‰∏§‰∏™Âä†ÂØÜÂØÜÈí•Ôºå‰∏Ä‰∏™ÁΩëÁªú‰ºöËØùÂØÜÈí•Âíå‰∏Ä‰∏™Â∫îÁî®Á®ãÂ∫è‰ºöËØùÂØÜÈí•„ÄÇËøô‰∏§‰∏™ÂØÜÈí•ÂØπ‰∫éËÆæÂ§áËÄåË®ÄÈÉΩÊòØÂîØ‰∏ÄÁöÑÔºåÂàÜÂà´Áî®‰∫éÁΩëÁªúÊ∂àÊÅØÂíåÂ∫îÁî®Á®ãÂ∫èÊúâÊïàË¥üËΩΩ„ÄÇÂ¶ÇÊûúÊÇ®‰ΩøÁî®‰∏Ä‰∫õËÅ™ÊòéÁöÑÂØÜÈí•ÁÆ°ÁêÜÁ≠ñÁï•ÔºåÂàôÂèØ‰ª•‰ΩøÂ∫îÁî®Á®ãÂ∫è‰∏éËÆæÂ§áÁöÑË¥üËΩΩÊúâÊïàÂä†ÂØÜÔºå‰ªÖÁî±Â∫îÁî®Á®ãÂ∫èÂíåËÆæÂ§áÂÖ±‰∫´ÔºåËÄåÁΩëÁªúÔºàÊàñÁΩëÂÖ≥ÔºâÊìç‰ΩúÂëò‰∏çÁü•ÈÅìÊúâÊïàË¥üËΩΩÊòØ‰ªÄ‰πà„ÄÇ ÁΩëË∑Ø LoRaWAN ‰∏≠ÁöÑÁΩëÁªúÁöÑÂ∑•‰ΩúÊñπÂºèÁ±ª‰ºº‰∫éÊâãÊú∫ÁΩëÁªú„ÄÇÂ§ö‰∏™ÁΩëÁªúÂèØ‰ª•Âú®Âêå‰∏ÄÂå∫Âüü‰∏≠ËøêË°åÔºåÂπ∂‰∏îÂ§ö‰∏™ÁΩëÁªúÂèØ‰ª•Âú®Âêå‰∏ÄÁΩëÂÖ≥‰πãÂ§ñËøêË°å„ÄÇÊúÄÂ§ßÁöÑÂå∫Âà´ÊòØ LoRaWAN ‰∏≠ÁöÑËÆæÂ§áÊó†Ê≥ï‰ªé‰∏Ä‰∏™ÁΩëÁªúË∑≥Âà∞Âè¶‰∏Ä‰∏™ÁΩëÁªúÔºåÂõ†‰∏∫ËøûÊé•Âà∞Â∫îÁî®Á®ãÂ∫èÁöÑËÆæÂ§áÂè™ËÉΩÊòØÂçï‰∏™ÁΩëÁªúÁöÑÊàêÂëò„ÄÇ Â∫îÁî®È¢ÜÂüü LoRaWAN ‰∏≠ÁöÑÂ∫îÁî®Á®ãÂ∫èÂè™ÊòØÂú®ÁªôÂÆöÁΩëÁªú‰∏äËøêË°åÁöÑËÆæÂ§áÁöÑÈõÜÂêà„ÄÇ‰∏ÄÂè∞ËÆæÂ§á‰∏çËÉΩÂ±û‰∫é‰∏Ä‰∏™‰ª•‰∏äÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåÊ≤°ÊúâÂ∫îÁî®Á®ãÂ∫èÁöÑËØùËØ•ËÆæÂ§á‰πüÂ∞±‰∏çËÉΩÂ≠òÂú®„ÄÇ Áõ∏ÂÖ≥ÈìæÊé• ‰∫ÜËß£LoRaWANÁöÑÂ±ÄÈôêÊÄßÔºàAdelantadoÔºåVilajosanaÁ≠â‰∫∫ÔºåIEEEÊùÇÂøó2017Âπ¥1ÊúàÔºâÔºöhttps://arxiv.org/pdf/1607.08011.pdf","categories":[{"name":"LoRa","slug":"LoRa","permalink":"https://blog.inoki.cc/categories/LoRa/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"LoRaWAN","slug":"LoRaWAN","permalink":"https://blog.inoki.cc/tags/LoRaWAN/"},{"name":"LoRa","slug":"LoRa","permalink":"https://blog.inoki.cc/tags/LoRa/"},{"name":"IoT","slug":"IoT","permalink":"https://blog.inoki.cc/tags/IoT/"}]},{"title":"„ÄêËØë„ÄëLoRa Êï∞ÊçÆÈÄüÁéáÂíåÊâ©È¢ëÂõ†Â≠ê","slug":"LoRa-Data-rate-and-spreading-factor","date":"2020-05-25T11:20:00.000Z","updated":"2022-05-09T18:41:39.478Z","comments":true,"path":"2020/05/25/LoRa-Data-rate-and-spreading-factor/","link":"","permalink":"https://blog.inoki.cc/2020/05/25/LoRa-Data-rate-and-spreading-factor/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://docs.exploratory.engineering/lora/dr_sf/ ÊàñÊó©ÊàñÊôö‰Ω†‰ºöÈÅáÂà∞ÊúØËØ≠ÔºöÊï∞ÊçÆÈÄüÁéáÔºàDRÔºâÔºåÊâ©È¢ëÂõ†Â≠êÔºàSFÔºâÂíåÂ∏¶ÂÆΩÔºàBWÔºâ„ÄÇËøô‰∏â‰∏™ÊúØËØ≠ÊòØÁõ∏ÂÖ≥ÁöÑÔºå‰ΩÜÊòØÂÆÉ‰ª¨‰πãÈó¥ÁöÑËÅîÁ≥ªÂπ∂‰∏çÊòØÂæàÊòéÊòæ„ÄÇ LoRa‰ΩøÁî®‰∫ÜÊâÄË∞ìÁöÑ‚ÄúÁ∫øÊÄßË∞ÉÈ¢ë‚ÄùÂçèËÆÆÔºåËØ•ÂçèËÆÆÊòØÂú®Á¨¨‰∫åÊ¨°‰∏ñÁïåÂ§ßÊàòÊúüÈó¥‰∏∫Â£∞Á∫≥ÂíåÈõ∑ËææÂ∫îÁî®ÂºÄÂèëÁöÑÔºåÂõ†Ê≠§Áªù‰∏çÊòØ‰∏ÄÈ°πÊñ∞ÊäÄÊúØ„ÄÇ Á∫øÊÄßË∞ÉÈ¢ëÂçèËÆÆ‰ΩøÁî®Âõ∫ÂÆöÂπÖÂ∫¶ÁöÑÈ¢ëÁéáË∞ÉÂà∂„ÄÇÂÆÉÂèØ‰ª•ÈÄöËøá‰∫ßÁîüÊâ´ËøáÊï¥‰∏™‰ø°ÈÅìÁöÑ‰ø°Âè∑Êù•Âà©Áî®ÂàÜÈÖçÁöÑÊï¥‰∏™È¢ëË∞±Êù•‰º†Ëæì‰ø°Âè∑,ËøôÁßç‰ø°Âè∑Áß∞‰∏∫ÂïÅÂïæ„ÄÇÂïÅÂïæÊúâ‰∏§ÁßçÔºö‚Äú‰∏äÂïÅÂïæ‚ÄùÈ¢ëÁéáÂêë‰∏äÁßªÂä®ÂíåÔºàÊØ´‰∏çÊÑèÂ§ñÔºâ‚Äú‰∏ãÂïÅÂïæ‚ÄùÈ¢ëÁéáÂêë‰∏ãÁßªÂä®ÔºåÂç≥ÂΩìÊúâÂïÅÂïæÊó∂ÔºåÂÆÉÂ∞ÜÊ≤øÂàÜÈÖçÁöÑÈ¢ëÁéáÂú®‰∏Ä‰∏™ÊñπÂêë‰∏äÁßªÂä® „ÄÇ Â∏¶ÂÆΩ LoRa‰ΩøÁî®‰∏âÁßçÂ∏¶ÂÆΩÔºö125kHzÔºå250kHz Âíå 500kHzÔºåÁ∫øÊÄßË∞ÉÈ¢ëËÑâÂÜ≤‰ºöÂç†Áî®Êï¥‰∏™Â∏¶ÂÆΩ„ÄÇÂ¶ÇÊûúÊÇ®Âú®Á±ª‰ºº Gqrx ÁöÑ SDR Â∫îÁî®Á®ãÂ∫è‰∏≠Êü•Áúã LoRa Êï∞ÊçÆÂåÖÔºåÂàô‰ºöÁúãÂà∞Ê∏ÖÊô∞ÂÆö‰πâÁöÑÂïÅÂïæÊ≠£ÊñπÂΩ¢„ÄÇ Êâ©È¢ëÂõ†Â≠ê ÁÆÄËÄåË®Ä‰πãÔºåÊâ©È¢ëÂõ†Â≠êÊòØrpÁöÑÊåÅÁª≠Êó∂Èó¥„ÄÇ LoRa ÁöÑÊâ©È¢ëÂõ†Â≠ê‰∏∫ 7 Âà∞ 12„ÄÇSF7ÊòØÁ©∫‰∏≠Êó∂Èó¥ÊúÄÁü≠ÁöÑÔºåSF12ÊòØÁ©∫‰∏≠Êó∂Èó¥ÊúÄÈïøÁöÑ„ÄÇÊâ©Â±ïÂõ†Â≠êÁöÑÊØèÂ¢ûÂä†‰∏ÄÔºå‰º†ËæìÁõ∏ÂêåÊï∞ÈáèÊï∞ÊçÆÁöÑÊó∂Èó¥Â∞±Ë¶ÅÂ¢ûÂä†‰∏ÄÂÄç„ÄÇÂú®Áõ∏ÂêåÁöÑÂ∏¶ÂÆΩ‰∏ãÔºåÊõ¥ÈïøÁöÑÁ©∫‰∏≠Êó∂Èó¥ÊòæÁÑ∂‰ºöÂØºËá¥Âçï‰ΩçÊó∂Èó¥ÂÜÖ‰º†ËæìÁöÑÊï∞ÊçÆÊõ¥Â∞ë„ÄÇ Êï∞ÊçÆÈÄüÁéá LoRaWAN ‰ΩøÁî®‰∏çÂêåÁöÑÈ¢ëÁéáÔºåÊâ©È¢ëÂõ†Â≠êÂíåÂ∏¶ÂÆΩÈÖçÁΩÆÔºåÂÖ∑‰ΩìÂèñÂÜ≥‰∫éÊÇ®Âú®‰∏ñÁïå‰∏äÁöÑ‰ΩçÁΩÆ„ÄÇÂØπ‰∫é EU868ÔºåEU433ÔºåCN780 Âíå AS923 È¢ëÊÆµÔºåÊï∞ÊçÆÈÄüÁéáÂ¶Ç‰∏ãÔºö Data Rate Configuration bits/s Max payload DR0 SF12/125kHz 250 59 DR1 SF11/125kHz 440 59 DR2 SF10/125kHz 980 59 DR3 SF9/125kHz 1 760 123 DR4 SF8/125kHz 3 125 230 DR5 SF7/125kHz 5 470 230 DR6 SF7/250kHz 11 000 230 DR7 FSK: 50kpbs 50 000 230 ËØ∑Ê≥®ÊÑèÔºåÂèñÂÜ≥‰∫éÈÖçÁΩÆÔºåAS923 È¢ëÂ∏¶ÂèØËÉΩ‰∏ç‰ΩøÁî® DR0 Âíå DR1„ÄÇ Âú® US902-928 Âíå AU915-928 È¢ëÊÆµ‰∏≠ÔºåÊï∞ÊçÆÈÄüÁéáÂ¶Ç‰∏ãÔºö Data Rate Configuration bits/s Max payload DR0 SF10/125kHz 980 19 DR1 SF9/125kHz 1 760 61 DR2 SF8/125kHz 3 125 133 DR3 SF7/125kHz 5 470 250 DR4 SF8/500kHz 12 500 250 DR8 SF12/500kHz 980 41 DR9 SF11/500kHz 1 760 117 DR10 SF10/500kHz 3 900 230 DR11 SF9/500kHz 7 000 230 DR12 SF8/500kHz 12 500 230 DR13 SF7/500kHz 21 900 230 ÂØπ‰∫é CN470-510 Âíå KR920-923 È¢ëÊÆµÔºåÂè™Êúâ‰∫î‰∏™ÂÆö‰πâÁöÑÊï∞ÊçÆÈÄüÁéáÔºö Data Rate Configuration bits/s Max payload DR0 SF12/125kHz 250 59 DR1 SF11/125kHz 440 59 DR2 SF10/125kHz 980 59 DR3 SF9/125kHz 1 760 123 DR4 SF8/125kHz 3 125 230 DR5 SF7/125kHz 5 470 230 Â¶ÇË°®ÊâÄËßÅÔºåDR4 Âú®‰∏§‰∏™‰∏çÂêåÁöÑÂú∞Âå∫ÂèØËÉΩÊòØ‰∏§‰∏™‰∏çÂêåÁöÑ‰∏úË•ø„ÄÇÂπ∏ËøêÁöÑÊòØÔºåÊÇ®‰∏çÂøÖÊãÖÂøÉËøô‰∏ÄÁÇπÔºåÂõ†‰∏∫ËÆæÂ§á‰∏äÁöÑÂ∫ìÂíåÂêéÁ´ØÊúçÂä°ÈÄöÂ∏∏‰ºöËÆæÊ≥ïÈÄâÊã©Ë¶Å‰ΩøÁî®ÁöÑÊúÄ‰Ω≥Êï∞ÊçÆÈÄüÁéá„ÄÇ ‰ø°ÊÅØÊúÄÂ§ßÊúâÊïàË¥üËΩΩÂ§ßÂ∞èÂæàÈáçË¶ÅÔºÅ Âç≥‰ΩøÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÂèØ‰ª•ÂøΩÁï•ÊâÄÈÄâÁöÑÊï∞ÊçÆÈÄüÁéáÔºåÊúÄÂ§ßÊúâÊïàË¥üËΩΩÂ§ßÂ∞è‰πüÊÑèÂë≥ÁùÄÂ∫îÂ∞ÜÊúâÊïàË¥üËΩΩËøõË°åÈôêÂà∂„ÄÇÂ¶ÇÊûúËç∑ËΩΩË∂ÖËøáÊúÄÂ§ßÈïøÂ∫¶ÔºåÂàôÂ∫îÂ∞ÜÂÖ∂ÂàÜÊàêÂ§öÊÆµ„ÄÇ","categories":[{"name":"LoRa","slug":"LoRa","permalink":"https://blog.inoki.cc/categories/LoRa/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"LoRaWAN","slug":"LoRaWAN","permalink":"https://blog.inoki.cc/tags/LoRaWAN/"},{"name":"LoRa","slug":"LoRa","permalink":"https://blog.inoki.cc/tags/LoRa/"},{"name":"IoT","slug":"IoT","permalink":"https://blog.inoki.cc/tags/IoT/"}]},{"title":"„ÄêËØë„ÄëLoRa ‰∏≠ÁöÑÂÖ≥ÈîÆÊ¶ÇÂøµ","slug":"LoRa-Key_Concept","date":"2020-05-25T11:20:00.000Z","updated":"2022-05-09T18:41:39.478Z","comments":true,"path":"2020/05/25/LoRa-Key_Concept/","link":"","permalink":"https://blog.inoki.cc/2020/05/25/LoRa-Key_Concept/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://docs.exploratory.engineering/lora/lora_key_concepts/ LoRaWAN ÂÖ≥ÈîÆÊ¶ÇÂøµ LoRaWAN ËÆæÂ§áÁöÑÈÖçÁΩÆÂèØËÉΩ‰ºö‰ª§‰∫∫Âõ∞ÊÉë„ÄÇÊÇ®ÈúÄË¶ÅË∑üË∏™‰∏§‰∏™ÂÖ≥ÈîÆÁÇπÔºåEUI ÂíåÂøÖÈ°ªÁöÑÂêÑÁßçÂêÑÊ†∑Â•áÊÄ™ÁöÑÈÖçÁΩÆÂèÇÊï∞„ÄÇ ËÆæÂ§á EUIÔºåÁΩëÁªú EUIÔºåÂ∫îÁî® EUI Âíå DevAddr Âú® LoRaWAN ‰∏≠ÔºåÁΩëÁªúÔºåÂ∫îÁî®Á®ãÂ∫èÂíåËÆæÂ§áÁî± EUI64 Ê†áËØÜÁ¨¶Ê†áËØÜ„ÄÇEUI64ÊòØÂÖ®ÁêÉÂîØ‰∏ÄÁöÑÊ†áËØÜÁ¨¶„ÄÇÊÇ®ÂèØ‰ª•Âú®Ê≠§Â§Ñ‰∫ÜËß£Êõ¥Â§ö‰ø°ÊÅØÔºöhttps://standards.ieee.org/develop/regauth/tut/eui64.pdf„ÄÇEUI Áî®‰∫éÂú®ÂêéÁ´ØÊúçÂä°Âô®ÂÜÖÈÉ®Ê†áËØÜ LoRaWAN ÊâÄÊúâÁöÑÔºàËôöÊãüÔºâÈÉ®ÂàÜ„ÄÇ DevAddr ÂÄºÊòØÁâπÂÆöÁΩëÁªú‰∏≠ËÆæÂ§áÁöÑÂîØ‰∏ÄÊ†áËØÜÁ¨¶„ÄÇÂÆÉÁî± NwkID Âíå NetAddr ÁöÑ‰∏§‰∏™‰∏çÂêåÈÉ®ÂàÜÁªÑÊàêÔºåËøôÊòØ‰∏Ä‰∏™32‰ΩçÊó†Á¨¶Âè∑Êï¥Êï∞ÔºåÁî®‰∫éÊ†áËØÜ‰Ω†ÁöÑËÆæÂ§áÔºåÊòØËÆæÂ§áÂä†ÂÖ•ÁΩëÁªúÂêéÁî®‰∫éÊ†áËØÜËÆæÂ§áÁöÑÊ†áËØÜÁ¨¶„ÄÇ ÁΩëÁªúÂíåÂ∫îÁî®Á®ãÂ∫è‰ºöËØùÂØÜÈí• LoRaWAN ‰∏≠ÁöÑÂä†ÂØÜÁõ∏ÂØπÁÆÄÂçï„ÄÇÂ¶ÇÊûúÊÇ®‰ΩøÁî®ABPÔºà‚Äú‰∏™ÊÄßÂåñÊøÄÊ¥ª‚ÄùËÆæÂ§áÔºõÂÖ∑ÊúâÈ¢ÑÈÖçÁΩÆÂØÜÈí•ÁöÑËÆæÂ§áÔºâÔºåÂàôÂèØËÉΩÈúÄË¶ÅÊãÖÂøÉ‰∏§‰∏™ÂØÜÈí•Ôºö ÁΩëÁªú‰ºöËØùÂØÜÈí•ÊòØÁΩëÁªúÂíåËÆæÂ§áÂ∑≤Áü•ÁöÑÊØè‰∏™ËÆæÂ§áÁöÑÂîØ‰∏ÄÂØÜÈí•ÔºåËØ•ÂØÜÈí•Áî®‰∫é‰∏çÊê∫Â∏¶‰ªª‰ΩïÊúâÊïàË¥üËΩΩÁöÑÂÜÖÈÉ®ÁÆ°ÁêÜÊ∂àÊÅØ„ÄÇËØ•ÂØÜÈí•Áî®‰∫éÂêëÂèëÈÄÅÂà∞ËÆæÂ§áÁöÑÊ∂àÊÅØÊ∑ªÂä†Ê†°È™åÂíå„ÄÇ Â∫îÁî®Á®ãÂ∫è‰ºöËØùÂØÜÈí•ÊòØÂ∫îÁî®Á®ãÂ∫èÂíåËÆæÂ§áÂ∑≤Áü•ÁöÑÊØè‰∏™ËÆæÂ§áÁöÑÂîØ‰∏ÄÂØÜÈí•ÔºåÁî®‰∫éÂä†ÂØÜÊù•Ëá™ËÆæÂ§áÁöÑÊúâÊïàË¥üËΩΩÁöÑÂØÜÈí•Ôºå‰ΩøÂæó‰ªª‰Ωï‰∫∫ÈÉΩÂæàÈöæÁ™ÉÂê¨‰∏éÂêéÁ´ØÊúçÂä°Âô®ÁöÑÈÄö‰ø°„ÄÇËØ•ÂØÜÈí•‰πüÁî®‰∫éËÆ°ÁÆóÊ†°È™åÂíå„ÄÇ ABP ‰∏é OTAA ËÆæÂ§á LoRaWAN ÁΩëÁªú‰∏≠Êúâ‰∏§ÁßçËÆæÂ§áÔºåÂç≥‚ÄúABP‚ÄùËÆæÂ§áÂíå‚Äú OTAA‚ÄùËÆæÂ§áÔºö ABPÔºà‰∏™ÊÄßÂåñÊøÄÊ¥ªÔºâËÆæÂ§á ËøôÁßçËÆæÂ§áÂ∏¶Êúâ‰∏âÈ°π‰ø°ÊÅØÔºöÁΩëÁªú‰ºöËØùÂØÜÈí•ÔºåÂ∫îÁî®Á®ãÂ∫è‰ºöËØùÂØÜÈí•ÂíåËÆæÂ§áÂú∞ÂùÄ„ÄÇ Ëøô‰∫õËÆæÂ§áÈÄöÁîµÂêéÂèØ‰ª•Á´ãÂç≥ÂºÄÂßãÂèëÈÄÅÔºå‰ΩÜÊòØÊØè‰∏™ËÆæÂ§áÈÉΩÈúÄË¶Å‰∏ÄÁªÑÂîØ‰∏ÄÁöÑÂØÜÈí•„ÄÇÂ¶ÇÊûúÊúâ‰∫∫ÈóØÂÖ•ÊÇ®ÁöÑËÆæÂ§áÂπ∂ÊãøÂà∞‰∫ÜÂØÜÈí•Ôºå‰Ω†ÂèØ‰ª•ËΩªÊùæÂú∞‰ªÖÂØπÂèóÂΩ±ÂìçÁöÑ‰∏ÄÂè∞ËÆæÂ§áËøõË°åÂ∏ÉÂª∫ÔºåËÄåÊó†ÈúÄÊõ¥ÊîπÂÖ∂‰ªñÁöÑËÆæÂ§á„ÄÇ ËøôÁßçËÆæÂ§áÁ±ªÂûãÁöÑÊúÄÂ§ßÁº∫ÁÇπÊòØÔºåÊÇ®ÂøÖÈ°ªË∑üË∏™Âä†Áîµ‰πãÈó¥ÂæÄËøî‰∫éÂêéÁ´ØÊúçÂä°Âô®ÁöÑÊ∂àÊÅØÁöÑÂ∏ßËÆ°Êï∞Âô®„ÄÇÈÄöÂ∏∏ÔºåÂêéÁ´ØÊúçÂä°Âô®‰ºöÂøΩÁï•Â∏ßËÆ°Êï∞Âô®‰∏éÈ¢ÑÊúüÁöÑËÆ°Êï∞Âô®‰∏çÂêåÁöÑÊ∂àÊÅØÔºå‰ΩÜÊòØÊÇ®ÂèØ‰ª•Âú®ÊµãËØïËÆæÂ§áÊó∂ÂèñÊ∂àÊ≠§Ê£ÄÊü•„ÄÇÊ≥®ÊÑèÔºöÂÖ≥Èó≠Ê≠§Ê£ÄÊü•‰ºö‰ΩøËÆæÂ§áÂÆπÊòìÂèóÂà∞ÈáçÊîæÊîªÂáªÔºåÂõ†Ê≠§ÈÄöÂ∏∏‰øùÁïôÁî®‰∫éÊµãËØï„ÄÇ OTAAÔºàÁ©∫‰∏≠ÊøÄÊ¥ªÔºâËÆæÂ§á ËøôÊòØÊúÄÂ∏∏ËßÅÁöÑËÆæÂ§áÁ±ªÂûã„ÄÇÂú®ÈÖçÁΩÆÂÆÉ‰ª¨Êó∂ÔºåËøô‰∫õËÆæÂ§á‰∏≠ÁöÑÊØè‰∏Ä‰∏™ÈÉΩÂ∞ÜËé∑Âæó‰∏âÈÉ®ÂàÜ‰ø°ÊÅØÔºöÂ∫îÁî®Á®ãÂ∫èÂØÜÈí•ÔºåÂ∫îÁî®Á®ãÂ∫èEUIÂíåËÆæÂ§áEUI„ÄÇÊâìÂºÄËÆæÂ§áÁîµÊ∫êÂêéÔºåÂÆÉÂ∞ÜÂêØÂä®Âä†ÂÖ•ÁΩëÁªúËøáÁ®ãÔºåÂú®Ê≠§ËøáÁ®ã‰∏≠ÂÆÉÂ∞ÜÊ†πÊçÆÁé∞ÊúâÁöÑÂ∫îÁî®Á®ãÂ∫èÂØÜÈí•ÂçèÂïÜ‰∏ÄÁªÑÊñ∞ÁöÑÂØÜÈí•„ÄÇÂçèÂïÜÂÆåÊàêÂêéÔºàÈÄöÂ∏∏Âú®‰∏çÂà∞‰∫îÁßíÈíüÁöÑÊó∂Èó¥ÂÜÖÔºâÔºåÂÖ∂Ë°å‰∏∫Â∞ÜÁ±ª‰ºº‰∫é ABP ËÆæÂ§á„ÄÇ Â¶ÇÊûúÂÖ≥Èó≠ËÆæÂ§áÁîµÊ∫êÔºåÂàôÂêØÂä®Êó∂ÂÆÉÂøÖÈ°ªÂÜçÊ¨°Âä†ÂÖ•ÁΩëÁªú„ÄÇËá™ÁÑ∂ÔºåÂØπ OTAA ËÆæÂ§áÊù•ËØ¥ÊúÄÈáçË¶ÅÁöÑÊòØÂ∫îÁî®Á®ãÂ∫èÂØÜÈí•„ÄÇÂ¶ÇÊûúÊúâ‰∫∫ËÆæÊ≥ï‰ªéÊÇ®ÁöÑ‰∏ÄÂè∞ËÆæÂ§á‰∏äÊä¢Ëµ∞ÂØÜÈí•ÔºåÂàôÊîªÂáªËÄÖÂèØËÉΩ‰ºöÂÅáÂÜíÊÇ®ÁΩëÁªú‰∏≠ÁöÑ‰ªª‰ΩïËÆæÂ§á„ÄÇÂè¶‰∏ÄÊñπÈù¢Ôºå‰ΩøÁî®OTAAËÆæÂ§áÂèØ‰ª•ËΩªÊùæÁÆ°ÁêÜÂ§ßÈáèËÆæÂ§áÔºåÂõ†‰∏∫ÊÇ®Êó†ÈúÄÁÆ°ÁêÜÂæàÂ§öÂØÜÈí•„ÄÇ ÈÄâÊã© ÊÇ®ÈÄâÊã©Âì™ÁßçËÆæÂ§áÁ±ªÂûãÂèñÂÜ≥‰∫éÊÇ®ËÆ°ÂàíÂ¶Ç‰ΩïÈÖçÁΩÆÊñ∞ËÆæÂ§á„ÄÇÂºÄÂêØÊó∂ÔºåÊó†ËÆ∫ÊÇ®ÁöÑËÆæÂ§áÊòØÂê¶Âú®ÁΩëÂÖ≥ËåÉÂõ¥ÂÜÖÔºåABP ËÆæÂ§áÈÉΩÂèØ‰ª•Á´ãÂç≥ÂºÄÂßãÂèëÈÄÅ„ÄÇÂè¶‰∏ÄÊñπÈù¢ÔºåÂ¶ÇÊûúÊÇ®ÁöÑËÆæÂ§áÂ§ßÂ§ö‰Ωç‰∫éÁΩëÂÖ≥ÁöÑËåÉÂõ¥ÂÜÖÔºåÂπ∂‰∏î‰ºöÂú®Ê≤°Êúâ‰ªª‰ΩïÊùøËΩΩÂ≠òÂÇ®ÁöÑÊÉÖÂÜµ‰∏ãÈ¢ëÁπÅ‰∏ä‰∏ãÁîµÔºåÂàôÂèØ‰ª•‰ΩøÁî® OTAA ËÆæÂ§á„ÄÇÂºÄÂèëÊñ∞ËÆæÂ§áÊó∂ÔºåOTAAËÆæÂ§áÊúÄ‰∏∫Êñπ‰æø„ÄÇ ‰ªÄ‰πàÊòØ‚ÄúÁßÅ‰∫∫ÁΩëÁªú‚ÄùÔºü Â¶ÇÊûúÊÇ®ÁúãÂà∞ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊüêÂ§ÑÊèêÂà∞ÁöÑ‚Äú‰∏ìÁî®ÁΩëÁªú‚ÄùÔºåÂ∞±ÂÉèÂÖ∂‰ªñËÆ∏Â§ö‰∫∫‰∏ÄÊ†∑‚Äî‚Äî‰Ω†ÂèØËÉΩÊÉ≥Áü•ÈÅìÂÆÉÁöÑÁúüÊ≠£Âê´‰πâÔºåÂõ†‰∏∫ÂÆÉÊòØÊÇ®ËÆæÁΩÆÁöÑÂèÇÊï∞Ôºå‰ΩÜÊòØÊ≤°ÊúâÂÜçÊ¨°ÁúãÂà∞„ÄÇ LoRaWAN ‰∏≠ÁöÑ‰∏ìÁî®ÁΩëÁªúÊòØ‰∏ÄÁßçËÆæÂ§áÔºàÂíåÁΩëÂÖ≥ÔºâÁΩëÁªúÔºåÂÆÉÊé•ÂèóÂ∏¶Êúâ‰∏ìÁî®ÂâçÂØºÁ†ÅÔºà‰Ωú‰∏∫Ê∂àÊÅØÁöÑÁ¨¨‰∏Ä‰ΩçÂèëÈÄÅÁöÑÊ†áËØÜÁ¨¶ÔºâËÄå‰∏çÊòØÊ†áÂáÜÁöÑÂâçÂØºÁ†ÅÁöÑÊ∂àÊÅØ„ÄÇLoRaWAN ‰∏≠Âè™Êúâ‰∏§ÁßçÁ±ªÂûãÁöÑÂâçÂØºÁ†ÅÔºöÊ†áÂáÜÁöÑ LoRaWAN ÂÖ¨ÂÖ±ÂâçÂØºÊàñÁßÅÊúâÂâçÂØº„ÄÇ Â¶ÇÊûúÂèëÈÄÅ‰∫ÜÁßÅÊúâÂâçÂØºÁ†ÅÔºåÂàôÊï∞ÊçÆÊ†ºÂºèÂÆåÂÖ®ÂèñÂÜ≥‰∫éËÆæÂ§áÂíåÂêéÁ´ØÊúçÂä°Âô®„ÄÇÂ¶ÇÊûúË¶Å‰∏éÂÖ∂‰ªñÁΩëÁªúÂÖºÂÆπÔºàÂπ∂‰∏îÂÖºÂÆπÔºâÔºåÈúÄË¶Å‰øùÊåÅÁßÅÊúâÁΩëÁªúÊ†áÂøó‰∏∫ÂÖ≥Èó≠Áä∂ÊÄÅ„ÄÇ ADR Ëá™ÈÄÇÂ∫îÊï∞ÊçÆÈÄüÁéá ADRÔºàËá™ÈÄÇÂ∫îÊï∞ÊçÆÈÄüÁéáÔºâÊòØÂêéÁ´ØÊúçÂä°Âô®ÂèØÁî®Êù•ËÆ©ËÆæÂ§á‰ª•Â∞ΩÂèØËÉΩ‰ΩéÁöÑÂäüÁéá‰º†ËæìÁöÑÊäÄÂ∑ß„ÄÇÂ¶ÇÊûúËÆæÂ§áÈù†ËøëÁΩëÂÖ≥ÔºåÂàôËÆæÂ§áÂèØ‰ª•‰ª•ËæÉ‰ΩéÁöÑÂäüÁéáÂíåËæÉÈ´òÁöÑÊï∞ÊçÆÈÄüÁéáËøõË°å‰º†ËæìÔºå‰ΩøÁî®Â∞ΩÂèØËÉΩÂ∞ëÁöÑÂäüÁéá„ÄÇÂ¶ÇÊûú‰∏§‰∏™Êàñ‰∏â‰∏™ÁΩëÂÖ≥ÂèØ‰ª•Êé•Êî∂Âà∞ËÆæÂ§áÁöÑÊ∂àÊÅØÔºåÂàôÂèØ‰ª•Ë∞ÉÂõû‰º†ËæìÂäüÁéáÂπ∂ËäÇÁúÅËÉΩÊ∫ê„ÄÇ Ê∂àÊÅØÁ±ªÂûãÔºöÁ°ÆËÆ§ÁöÑÂíå‰∏çÁ°ÆËÆ§ÁöÑÊ∂àÊÅØ LoRaWAN ÂÆö‰πâ‰∫Ü‰∏§ÁßçÊ∂àÊÅØ-Á°ÆËÆ§ÁöÑÂíå‰∏çÁ°ÆËÆ§ÁöÑ„ÄÇÁ°ÆËÆ§ÁöÑÊ∂àÊÅØÈúÄË¶ÅÂêéÁ´ØÊúçÂä°Âô®ÁöÑÁ°ÆËÆ§ÔºåÂ¶ÇÊûúÊ≤°ÊúâÊî∂Âà∞Á°ÆËÆ§ÔºåÂàôÊ∂àÊÅØÂ∞Ü‰ª•‰∏çÂêåÁöÑÊâ©Â±ïÂõ†Â≠êÂíåÂ∏¶ÂÆΩÈáçÊñ∞ÂèëÈÄÅ„ÄÇ ÂêåÊ†∑ÔºåÂêéÁ´ØÊúçÂä°Âô®Â∞ÜÈáçÊñ∞‰º†ËæìÁ°ÆËÆ§ÁöÑÊ∂àÊÅØÔºåÁõ¥Âà∞ËÆæÂ§áÁ°ÆËÆ§ÂìçÂ∫î„ÄÇ Áî±‰∫é LoRaWAN ‰ªÖ‰ΩøÁî®‰∫Ü‰∏Ä‰∏™Á°ÆËÆ§Ê†áÂøóÔºåÂõ†Ê≠§Êó†Ê≥ïÁ°ÆËÆ§ÊóßÊ∂àÊÅØ„ÄÇ ‰∏ä‰∏ãÊ∏∏Ê∂àÊÅØ ËøüÊó©Êúâ‰∫∫‰ºöÊèêÂà∞‚Äú‰∏äÊ∏∏‚ÄùÂíå‚Äú‰∏ãÊ∏∏‚Äù„ÄÇÂ¶ÇÊûúÊÇ®Âú®ËÆæÂ§á‰∏äÂ∑•‰ΩúÔºåÂàôÊó†Ê≥ïÂÆåÂÖ®Áõ¥ËßÇÂú∞‰∫ÜËß£ÊòØÂì™‰∏™ÊñπÂêëÔºå‰ΩÜÊòØËØ∑ËÆ∞‰Ωè‰∏äÊ∏∏ÊñπÂêëÊúùÁùÄÁΩëÂÖ≥Â§©Á∫øÂéªÁöÑÊñπÂêëÔºå‰∏ãÊ∏∏ÊñπÂêëÊòØ‰ªéÁΩëÂÖ≥Â§©Á∫øÂá∫ÂèëÁöÑÊñπÂêë„ÄÇ‰ΩÜÂ¶ÇÊûúÂ∞ÜËÆæÂ§áÊîæÂú®Ê∞îË±°Ê∞îÁêÉ‰∏≠ÔºåÂàô‰ºöËøô‰∏™ËßÑÂàô‰∏çÂÜçÈÄÇÁî®„ÄÇ ÊàëËÆ©ÊàëÁöÑËÆæÂ§áÂèëÈÄÅÊ∂àÊÅØÊó∂ÔºåÂÆÉÊ≤°ÊúâÂèëÈÄÅÔºÅ Â¶ÇÊûúÊÇ®Âú®ËÆæÂ§á‰∏äÂÆâÊéí‰∏ÄÊù°Ê∂àÊÅØÔºåÊúâÊó∂ÊÇ®‰ºöÊÑüÂà∞ËØ•Ê∂àÊÅØ‰ºöÂú®ËÆæÂ§á‰∏ä‰øùÁïôÂæàÈïø‰∏ÄÊÆµÊó∂Èó¥ÔºåÁõ¥Âà∞ÂèëÈÄÅÂá∫Âéª‰∏∫Ê≠¢ÔºåÂÖ∂‰ªñÊÉÖÂÜµ‰∏ãÔºåÊ∂àÊÅØ‰ºöÁ´ãÂç≥ÂèëÈÄÅÂá∫Âéª„ÄÇ ËøôÊòØÂõ†‰∏∫ LoRaWAN ËÆæÂ§áÂøÖÈ°ªÂßãÁªàÈÅµÂÆàÁöÑ ISM È¢ëÊÆµ‰∏äÁöÑÂç†Á©∫ÊØîÈôêÂà∂ÔºàÂç≥ÂèëÈÄÅÂíå‰∏çÂèëÈÄÅÊâÄËä±Ë¥πÁöÑÊó∂Èó¥ÁöÑÊØîÁéáÔºâ„ÄÇÂØπ‰∫éÊüê‰∫õÈ¢ëÁéáÔºåÊúÄÂ§ßÂç†Á©∫ÊØî‰∏∫1ÔºÖÔºåËÄåÂØπ‰∫éÂÖ∂‰ªñÈ¢ëÁéáÔºåÊúÄÂ§ßÂç†Á©∫ÊØî‰ªÖ‰∏∫0.1ÔºÖ„ÄÇÂ¶ÇÊûúÊÇ®Ëä±Ë¥π‰∏ÄÁßíÈíüÂèëÈÄÅ‰∏ÄÊù°Ê∂àÊÅØÔºåÂàôÂøÖÈ°ªÁ≠âÂæÖ99ÁßíÔºåÁÑ∂ÂêéÊâçËÉΩÂú®Âç†Á©∫ÊØî‰∏∫1ÔºÖÊó∂ÂèëÈÄÅÂè¶‰∏ÄÊù°Ê∂àÊÅØÔºåËÄåÂ¶ÇÊûúÂç†Á©∫ÊØî‰∏∫0.1ÔºÖÔºåÂàôÂèØËÉΩÂøÖÈ°ªÁ≠âÂæÖ15ÂàÜÈíü‰ª•‰∏ä„ÄÇ","categories":[{"name":"LoRa","slug":"LoRa","permalink":"https://blog.inoki.cc/categories/LoRa/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"LoRaWAN","slug":"LoRaWAN","permalink":"https://blog.inoki.cc/tags/LoRaWAN/"},{"name":"LoRa","slug":"LoRa","permalink":"https://blog.inoki.cc/tags/LoRa/"},{"name":"IoT","slug":"IoT","permalink":"https://blog.inoki.cc/tags/IoT/"}]},{"title":"Enable UART to play with Raspberry Pi Bare Metal","slug":"Enable-UART-Raspberry-Pi-Bare-Metal","date":"2020-05-17T23:57:50.000Z","updated":"2022-05-09T18:41:39.450Z","comments":true,"path":"2020/05/17/Enable-UART-Raspberry-Pi-Bare-Metal/","link":"","permalink":"https://blog.inoki.cc/2020/05/17/Enable-UART-Raspberry-Pi-Bare-Metal/","excerpt":"","text":"If you want to write an OS for Raspberry Pi, you may need play with its Bare Metal mode. Thus, a UART debug serial is needed. Considering that the bootloader of Raspberry Pi is proprietary, and it‚Äôs provided as a binary file in the /boot partition, we cannot modify the boot sequence, and we cannot see the output of the binary executable. Through the UART serial, the only thing that we can see is the successful boot after the loading of Raspian kernel: But, as we are on Bare Metal mode, if anything goes wrong during booting your own ‚Äúkernel‚Äù, it‚Äôs not easy to find out the reason. This post will help you enable the UART debug mode to see what‚Äôs happening behind the proprietary code before loading your own kernel. Bootloader file bootcode.bin Mount the /boot partition on the SD card, you can see lots of files. Some of them are device tree files; some of them are configuration files. The one we concentrate on, is bootcode.bin, the proprietary executable from Raspberry Pi. It‚Äôs a binary file, so it‚Äôs not readable for human-being. But there are some static strings in the binary file, which might be meaningful to us. For us, the most important string is BOOT_UART. To enable the debug output of the binary executable, just modify its value from 0 to 1: Save and boot Save that modification and insert the SD card into your Raspberry Pi. Then boot it, you will see the magic output: I hope this post can help you, and enjoy your Raspberry Pi Bare Metal development!","categories":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/categories/Embedded-System/"},{"name":"Raspberry Pi","slug":"Embedded-System/Raspberry-Pi","permalink":"https://blog.inoki.cc/categories/Embedded-System/Raspberry-Pi/"}],"tags":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/tags/Embedded-System/"},{"name":"Bare Metal","slug":"Bare-Metal","permalink":"https://blog.inoki.cc/tags/Bare-Metal/"},{"name":"Raspberry Pi","slug":"Raspberry-Pi","permalink":"https://blog.inoki.cc/tags/Raspberry-Pi/"},{"name":"Debug","slug":"Debug","permalink":"https://blog.inoki.cc/tags/Debug/"},{"name":"UART","slug":"UART","permalink":"https://blog.inoki.cc/tags/UART/"}]},{"title":"„ÄêËØë„ÄëÊâ©È¢ëÂõ†Â≠êÂ¶Ç‰ΩïÂΩ±Âìç LoRaWAN ËÆæÂ§áÁöÑÁîµÊ±†ÂØøÂëΩ","slug":"LoRaWAN-how-spreading-factor-affects-lorawan-device-battery-life","date":"2020-05-16T22:27:00.000Z","updated":"2022-05-09T18:41:39.478Z","comments":true,"path":"2020/05/16/LoRaWAN-how-spreading-factor-affects-lorawan-device-battery-life/","link":"","permalink":"https://blog.inoki.cc/2020/05/16/LoRaWAN-how-spreading-factor-affects-lorawan-device-battery-life/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://www.thethingsnetwork.org/article/how-spreading-factor-affects-lorawan-device-battery-life Âú® LoRaWAN ‰∏≠ÔºåÊâ©È¢ëÂõ†Â≠êÊòØ‰∏Ä‰∏™ÂÖ≥ÈîÆÊåáÊ†áÔºåÂÆÉÊó¢ÂèØ‰ª•Â∏ÆÂä©‰Ω†ÂÆåÊàê‰Ω†ÁöÑ IoT Ëß£ÂÜ≥ÊñπÊ°àÔºå‰πüÂèØ‰ª•ÊØÅÊéâÂÆÉÔºåÊâÄË∞ì ‚ÄúÊàê‰πüSFÔºåË¥•‰πüSF‚Äù„ÄÇÊâæÂà∞Ê≠£Á°ÆÁöÑÊâ©È¢ëÂõ†Â≠êÂØπÂÆûÁé∞ LoRaWAN ËÆæÂ§áÈïøÊúüÊÄßËÉΩËá≥ÂÖ≥ÈáçË¶Å„ÄÇËøôÁØáÊñáÁ´†‰ºöËß£ÈáäÂ¶Ç‰ΩïÊâæÂà∞ÁîµÊ±†ÂØøÂëΩÂíåÈïøË∑ùÁ¶ªÈÄö‰ø°‰πãÈó¥ÁöÑÊ≠£Á°ÆÂπ≥Ë°°„ÄÇ Êâ©È¢ëÂõ†Â≠êÔºàSFÔºâÂÜ≥ÂÆöÊØèÁßíÂèëÈÄÅÂ§öÂ∞ë‰∏™Á∫øÊÄßË∞ÉÈ¢ëËÑâÂÜ≤ÔºåÂç≥Êï∞ÊçÆÁöÑËΩΩ‰Ωì„ÄÇÁΩëÁªúÊ†πÊçÆÈÄö‰ø°ËÆæÂ§áÂíåÁΩëÂÖ≥‰πãÈó¥ÁöÑÁéØÂ¢ÉÊù°‰ª∂Êù•ÂÜ≥ÂÆöÊâ©Â±ïÂõ†Â≠êÔºàÁ≠âÁ∫ßÂú®7-12‰πãÈó¥Ôºâ„ÄÇÊàë‰ª¨ÂÅáÂÆöËÆæÂ§áÂ∑≤ÂêØÁî® ‚ÄúËá™ÈÄÇÂ∫îÊï∞ÊçÆÈÄüÁéáÔºàADRÔºâ‚Äù ÂäüËÉΩÔºåÈô§ÊåÅÁª≠ÁßªÂä®ÁöÑËÆæÂ§áÂ§ñÔºåËøô‰∏™ÂäüËÉΩÂ∫îÂΩìÂ∫îÁî®‰∫éÊâÄÊúâËÆæÂ§á„ÄÇ ËæÉ‰ΩéÁöÑ SF ÊÑèÂë≥ÁùÄÊØèÁßíÂèëÈÄÅÊõ¥Â§öÁöÑ ChirpsÔºõÂõ†Ê≠§ÔºåÊÇ®ÂèØ‰ª•ÊØèÁßíÁºñÁ†ÅÊõ¥Â§öÊï∞ÊçÆ„ÄÇËæÉÈ´òÁöÑ SF ÊÑèÂë≥ÁùÄÊØèÁßíÊõ¥Â∞ëÁöÑ ChirpsÔºõÂõ†Ê≠§ÔºåÊØèÁßíËÉΩÁºñÁ†ÅÁöÑÊï∞ÊçÆËæÉÂ∞ë„ÄÇÁî±‰∫éÊï∞ÊçÆÈÄüÁéá‰ΩéÔºåÂèëÈÄÅÂÖ∑ÊúâËæÉÈ´ò SF ÁöÑÁõ∏ÂêåÊï∞ÈáèÁöÑÊï∞ÊçÆÈúÄË¶ÅÊõ¥ÈïøÁöÑ‰º†ËæìÊó∂Èó¥ÔºåÂç≥Á©∫‰∏≠Êó∂Èó¥„ÄÇÊõ¥ÈïøÁöÑÈÄöËØùÊó∂Èó¥ÊÑèÂë≥ÁùÄË∞ÉÂà∂Ëß£Ë∞ÉÂô®ÁöÑÂêØÂä®ÂíåËøêË°åÊó∂Èó¥Êõ¥ÈïøÔºåÂπ∂‰∏îÊ∂àËÄóÊõ¥Â§öÁöÑËÉΩÈáè„ÄÇ È´ò SF ÁöÑÂ•ΩÂ§ÑÂú®‰∫éÔºåÊõ¥ÈïøÁöÑÈÄöËØùÊó∂Èó¥‰ΩøÊé•Êî∂Êú∫ÊúâÊõ¥Â§öÊú∫‰ºöÂØπ‰ø°Âè∑ÂäüÁéáËøõË°åÈááÊ†∑Ôºå‰ªéËÄåÊèêÈ´ò‰∫ÜÁÅµÊïèÂ∫¶„ÄÇÊõ¥È´òÁöÑÁÅµÊïèÂ∫¶ÊÑèÂë≥ÁùÄÊÇ®ÂèØ‰ª•Âú®Êõ¥ËøúÁöÑÂú∞ÊñπÊé•Êî∂‰ø°Âè∑Ôºå‰ªéËÄåËé∑ÂæóÊõ¥Â•ΩÁöÑË¶ÜÁõñËåÉÂõ¥„ÄÇ‰ªéÁêÜËÆ∫‰∏äËÆ≤ÔºåSF‰∏≠ÁöÑÊØè‰∏ÄÊ≠•ÈÉΩÂ∞Ü‰º†ËæìÁõ∏ÂêåÊï∞ÈáèÁöÑÊï∞ÊçÆÁöÑÊó∂Èó¥Âä†ÂÄçÔºåËØ∑ÂèÇËßÅ‰∏ãÂõæ„ÄÇSF ÁöÑÊØè‰∏Ä‰∏™Ê≠•ÈïøÈÉΩ‰∏éÂ§ßÁ∫¶ 2.5dB ÁöÑÈ¢ùÂ§ñÈìæË∑ØÈ¢ÑÁÆóÁõ∏ÂÖ≥„ÄÇ ÁêÜËÆ∫ÈÉΩÂæàÁæéÂ•ΩÔºå‰ΩÜÂÆûË∑µ‰∏≠Á©∫‰∏≠‰º†ËæìÊó∂Èó¥ÂíåÁîµÊ±†ÂØøÂëΩÂ¶Ç‰ΩïÂë¢Ôºü ‰∏∫‰∫ÜÂØπÊ≠§Ëé∑Âæó‰∏Ä‰∏™‰º∞ËÆ°ÔºåÊàë‰ª¨‰ΩøÁî®‰∫Ü‰∏§‰∏™Â∑•ÂÖ∑Ôºö LoRaTools ‰∏≠ÁöÑÁ©∫‰∏≠‰º†ËæìÊó∂Èó¥ËÆ°ÁÆóÂô® Áî® Otii ÊµãËØï SF7 Âíå SF12 ÁöÑËÉΩÈáèÊ∂àËÄóÊõ≤Á∫ø Âú®Ê≠§ÊµãËØï‰∏≠ÔºåÊàë‰ª¨ÊµãÈáè‰∫Ü Bintel ÁöÑ‰∏Ä‰∏™ LoRaWAN ËÆæÂ§áÔºåËØ•ËÆæÂ§á‰ΩøÁî® Semtech ÁöÑ SX1276 ËäØÁâáÁªÑ„ÄÇÊàë‰ª¨ÁöÑËÆæÁΩÆÊòØÂÆ§ÂÜÖÂÆ§Â§ñÂú∫ÊôØÔºöËÆæÂ§áÊòØÂú®ÂäûÂÖ¨ÂÆ§ÔºåÂú®ÂºÄÂèë‰∫∫ÂëòÁöÑÊ°åÂ≠ê‰∏äÔºåÂπ∂‰∏îÁΩëÂÖ≥‰Ωç‰∫éÈôÑËøë‰∏ÄÊ†ãÂª∫Á≠ëÁâ©ÁöÑÂ§ñÈù¢„ÄÇÂõ†Ê≠§ÔºåËøô‰∏çÊòØËØ•ËÆæÂ§áÁöÑÊ≠£Â∏∏‰ΩøÁî®Âú∫ÊôØÔºå‰ªñÁöÑÊ≠£Â∏∏‰ΩøÁî®Âú∫ÊôØÊòØÊà∑Â§ñÁöÑÂûÉÂúæÁÆ±„ÄÇÊàë‰ª¨‰ΩøÁî® 19 Â≠óËäÇÁöÑÊúâÊïàË¥üËΩΩÂíå 125kHz ÁöÑÂ∏¶ÂÆΩÊµãÈáè‰∫ÜÁ¨¨‰∏ÄÊ¨°‰º†ËæìÂíåÊï¥‰∏™Ê¥ªÂä®Âë®ÊúüÁöÑËÉΩËÄó„ÄÇ ÊµãÈáè‰∏≠ÔºåÊ¥ªÂä®Âë®ÊúüÂåÖÂê´‰∫ÜÂØπ‰∏Ä‰∏™ÈúÄË¶ÅÁ°ÆËÆ§ÁöÑÊ∂àÊÅØÁöÑ‰º†ËæìÂíå‰∏Ä‰∏™ÂØπ ACK ÁöÑÁõëÂê¨Âë®Êúü„ÄÇ ÊµãÈáèÊòæÁ§∫Ôºå‰∏é SF7 Áõ∏ÊØîÔºåÂú® SF12 ‰∏≠‰º†ËæìÂ§ßÁ∫¶ÈúÄË¶Å25ÂÄçÁöÑÊó∂Èó¥Âíå25ÂÄçÁöÑËÉΩÈáè„ÄÇÁ©∫‰∏≠Êó∂Èó¥ËÆ°ÁÆóÂô®ÊòæÁ§∫‰∫ÜÁõ∏ÂêåÁöÑÁªìÊûú„ÄÇ ‰ΩÜÊòØÔºåÊï∞Â≠ó 25 Âπ∂Èùû‰∏ÄÊàê‰∏çÂèò„ÄÇÂÆÉÂèñÂÜ≥‰∫éÊúâÊïàË¥üËΩΩÂ§ßÂ∞èÂíåÂàÜÈÖçÁî®‰∫é‰º†ËæìÁöÑÊä•Â§¥„ÄÇÂ¶ÇÊûúÊÇ®‰ΩøÁî®‰∏çÂêåÂ§ßÂ∞èÁöÑÊúâÊïàËΩΩËç∑ÔºåÂàôÂèØ‰ª•ÁúãÂà∞‰∏çÂêåÁöÑÂÄçÊï∞„ÄÇ ËØ∑Ê≥®ÊÑèÔºå‰ª•‰∏äËÆ°ÁÆó‰ªÖ‰ªÖÂØπ‰∫éÂèëÈÄÅÊó∂Èó¥ÔºåÂπ∂‰∏çÊòØÊï¥‰∏™Ê¥ªÂä®Âë®Êúü„ÄÇÂú®Ê≠§ÁâπÂÆöÊµãÈáè‰∏≠ÔºåSF12‰∏≠ÊØè‰∏™Ê¥ªÂä®Âë®ÊúüÁöÑËÉΩÈáèÊ∂àËÄóÊØîÊòØSF7ËÉΩÈáèÁöÑ20ÂÄçÔºàËÉΩÈáèÁªüËÆ°ÊòæÁ§∫ 55.1 uWh ÂØπ 2.78 uWhÔºåËßÅ‰∏ãÂõæÔºâ„ÄÇ ÂÄºÂæó‰∏ÄÊèêÁöÑÊòØÔºåÊ¥ªÂä®Âë®ÊúüÁöÑËÉΩËÄóÂèñÂÜ≥‰∫éËÆæÂ§áÁöÑÁ±ªÂà´„ÄÇÂ¶ÇÊûúÊòØ A Á±ªËÆæÂ§áÔºåÂàôÂè™Êúâ‰∏§‰∏™Êé•Êî∂Á™óÂè£ÔºåËøôÊÑèÂë≥ÁùÄÊé•Êî∂Âô®ÁöÑÂî§ÈÜíÊó∂Èó¥‰∏ç‰ºöË∂ÖËøáËøô‰∏§‰∏™Á™óÂè£„ÄÇÂè¶‰∏ÄÁßçÈÖçÁΩÆÔºàCÁ±ªÔºâÂèØ‰ª•ÊòØËÆæÂ§á‰øùÊåÅËøûÁª≠Êî∂Âê¨ÔºåËøô‰ºöÂ§ßÂ§ßÂ¢ûÂä†ËÉΩËÄó„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåSF Êï∞Êó†ÂÖ≥Á¥ßË¶Å„ÄÇ Áî±‰∫éÊØèÁßçÂ∫îÁî®ÈÉΩÊòØÁã¨ÁâπÁöÑÔºåÂæàÈöæÂæóÂá∫Êõ¥Â§öÁöÑÁªìËÆ∫„ÄÇ‰ΩÜÊòØÊàë‰ª¨Ë¶ÅÂº∫Ë∞ÉÁöÑÊòØÔºå‰ΩøËÉΩËÄóÊúÄ‰ΩéÁöÑÊúÄ‰Ω≥Êâ©Â±ïÂõ†Â≠ê‰∏ç‰∏ÄÂÆöÊòØÊúÄÈ´òÊàñÊúÄ‰ΩéÁöÑÔºåËÄåÊòØÂæàÂèØËÉΩ‰ªã‰∫é‰∏§ËÄÖ‰πãÈó¥ÔºöÁî±‰∫éÈúÄË¶ÅÁ°ÆËÆ§Ê∂àÊÅØÔºåÂ¶ÇÊûúÈáç‰º†Ê¨°Êï∞ËøáÂ§öÔºåÂàôÁü≠Êó∂‰º†ËæìÁöÑËäÇËÉΩÂ∞ÜÂõ†Èáç‰º†ËÄåËøÖÈÄü‰∏¢Â§±„ÄÇË¶ÅËÆ∞‰ΩèÁöÑÈáçË¶Å‰∏ÄÁÇπÊòØÔºåÊÄªËÉΩËÄóÊ∞∏Ëøú‰∏ç‰ºö‰ªÖÈÄöËøá‰∏Ä‰∏™ÂèÇÊï∞ËøõË°å‰ºòÂåñ„ÄÇ ÊÇ®ÂèØ‰ª•‰∏ãËΩΩ‰∏ãÈù¢ÁöÑ .otii Êñá‰ª∂Êù•Ê£ÄÊü•‰∏çÂêå SF ËÆæÁΩÆÊó∂ÁöÑËÉΩËÄóÊµãÈáèÔºö ÈúÄË¶ÅÁî® Otii Â∫îÁî®Á®ãÂ∫è ÊâìÂºÄÔºö https://github.com/qoitech/otii-example-projects/blob/master/LoRa-SF7-vs-SF12.otii Êõ¥Â§öÊúâÂÖ≥ LoRa, LoRaWAN ÁöÑ‰ø°ÊÅØÂèØ‰ª•Âú®‰∏ãÂàóÈìæÊé•ÊâæÂà∞Ôºö LoRa CHIRP LoRa crash course Decoding the LoRa PHY","categories":[{"name":"LoRa","slug":"LoRa","permalink":"https://blog.inoki.cc/categories/LoRa/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"LoRaWAN","slug":"LoRaWAN","permalink":"https://blog.inoki.cc/tags/LoRaWAN/"},{"name":"LoRa","slug":"LoRa","permalink":"https://blog.inoki.cc/tags/LoRa/"},{"name":"IoT","slug":"IoT","permalink":"https://blog.inoki.cc/tags/IoT/"}]},{"title":"LoRaWAN specification 1.1 - Glossary","slug":"LoRaWAN-spec-read-gloassary","date":"2020-05-16T10:27:00.000Z","updated":"2022-05-09T18:41:39.482Z","comments":true,"path":"2020/05/16/LoRaWAN-spec-read-gloassary/","link":"","permalink":"https://blog.inoki.cc/2020/05/16/LoRaWAN-spec-read-gloassary/","excerpt":"","text":"Abbreviation Full text ‰∏≠Êñá ADR Adaptive Data Rate Ëá™ÈÄÇÂ∫îÊï∞ÊçÆÈÄüÁéá AES Advanced Encryption Standard È´òÁ∫ßÂä†ÂØÜÊ†áÂáÜ AFA Adaptive Frequency Agility Ëá™ÈÄÇÂ∫îÈ¢ëÁéáÊç∑Âèò AR Acknowledgement Request Á°ÆËÆ§ËØ∑Ê±Ç CBC Cipher Block Chaining ÂØÜÁ†ÅÂùóÈìæÊé• CMAC Cipher-based Message Authentication Code Âü∫‰∫éÂØÜÁ†ÅÁöÑÊ∂àÊÅØËÆ§ËØÅ‰ª£Á†Å CR Coding Rate ÁºñÁ†ÅÁéá CRC Cyclic Redundancy Check Âæ™ÁéØÂÜó‰ΩôÊ†°È™å DR Data Rate Êï∞ÊçÆÈÄüÁéá ECB Electronic Code Book ÁîµÂ≠êÂØÜÁ†ÅÊú¨ ETSI European Telecommunications Standards Institute Ê¨ßÊ¥≤Áîµ‰ø°Ê†áÂáÜÂçè‰ºö EIRP Equivalent Isotropically Radiated Power Á≠âÊïàÂêÑÂêëÂêåÊÄßËæêÂ∞ÑÂäüÁéá FSK Frequency Shift Keying modulation technique È¢ëÁßªÈîÆÊéßË∞ÉÂà∂ÊäÄÊúØ GPRS General Packet Radio Service ÈÄöÁî®ÂàÜÁªÑÊó†Á∫ø‰∏öÂä° HAL Hardware Abstraction Layer Á°¨‰ª∂ÊäΩË±°Â±Ç IP Internet Protocol ‰∫íËÅîÁΩëÂçèËÆÆ LBT Listen Before Talk / Listen Before Transmit ÂÖàÂê¨ÂêéÂèë LoRaTM Long Range modulation technique ÈïøÁ®ãË∞ÉÂà∂ÊäÄÊúØ LoRaWANTM Long Range Network protocol ÈïøÁ®ãÁΩëÁªúÂçèËÆÆ MAC Medium Access Control ‰ªãË¥®ËÆøÈóÆÊéßÂà∂ MIC Message Integrity Code Ê∂àÊÅØÂÆåÊï¥ÊÄßÁ†Å RF Radio Frequency Êó†Á∫øÁîµÈ¢ëÁéá RFU Reserved for Future Usage ‰øùÁïô‰ª•Â§áÂ∞ÜÊù•‰ΩøÁî® Rx Receiver Êé•ÂèóÁ´Ø RSSI Received Signal Strength Indicator Êé•Êî∂‰ø°Âè∑Âº∫Â∫¶ÊåáÁ§∫Âô® SF Spreading Factor Êâ©È¢ëÂõ†Â≠ê SNR Signal Noise Ratio ‰ø°Âô™ÊØî SPI Serial Peripheral Interface ‰∏≤Ë°åÂ§ñËÆæÊé•Âè£ SSL Secure Socket Layer ÂÆâÂÖ®Â•óÁªìÂ±Ç Tx Transmitter ÂèëÈÄÅÁ´Ø USB Universal Serial Bus ÈÄöÁî®‰∏≤Ë°åÊÄªÁ∫ø Extra Ë°•ÂÖÖÂÜÖÂÆπ Block cipher mode of operation ÂàÜÁªÑÂØÜÁ†ÅÂ∑•‰ΩúÊ®°Âºè In cryptography, a block cipher mode of operation is an algorithm that uses a block cipher to provide information security such as confidentiality or authenticity. Mode Formulas Ciphertext Electronic codebook (ECB) Yi = F(PlainTexti, Key) Yi Cipher block chaining (CBC) Yi = PlainTexti XOR Ciphertexti‚àí1 F(Y, Key); Propagating CBC (PCBC) Yi = PlainTexti XOR (Ciphertexti‚àí1 XOR PlainTexti‚àí1) F(Y, Key); Ciphertext0 = IV Cipher feedback (CFB) Yi = Ciphertexti‚àí1 Plaintext XOR F(Y, Key); Ciphertext0 = IV Output feedback (OFB) Yi = F(Yi‚àí1, Key); Y0 = IV Plaintext XOR Yi Counter (CTR) Yi = F(IV + g(i), Key); IV = token() Plaintext XOR Yi ECB The simplest of the encryption modes is the electronic codebook (ECB) mode (named after conventional physical codebooks). The message is divided into blocks, and each block is encrypted separately. ÊúÄÁÆÄÂçïÁöÑÂä†ÂØÜÊ®°ÂºèÂç≥‰∏∫ÁîµÂ≠êÂØÜÁ†ÅÊú¨ÔºàElectronic codebookÔºåECBÔºâÊ®°Âºè„ÄÇÈúÄË¶ÅÂä†ÂØÜÁöÑÊ∂àÊÅØÊåâÁÖßÂùóÂØÜÁ†ÅÁöÑÂùóÂ§ßÂ∞èË¢´ÂàÜ‰∏∫Êï∞‰∏™ÂùóÔºåÂπ∂ÂØπÊØè‰∏™ÂùóËøõË°åÁã¨Á´ãÂä†ÂØÜ„ÄÇ CBC Ehrsam, Meyer, Smith and Tuchman invented the cipher block chaining (CBC) mode of operation in 1976. In CBC mode, each block of plaintext is XORed with the previous ciphertext block before being encrypted. This way, each ciphertext block depends on all plaintext blocks processed up to that point. To make each message unique, an initialization vector must be used in the first block. 1976Âπ¥ÔºåIBMÂèëÊòé‰∫ÜÂØÜÁ†ÅÂàÜÁªÑÈìæÊé•ÔºàCBCÔºåCipher-block chainingÔºâÊ®°Âºè„ÄÇÂú®CBCÊ®°Âºè‰∏≠ÔºåÊØè‰∏™ÊòéÊñáÂùóÂÖà‰∏éÂâç‰∏Ä‰∏™ÂØÜÊñáÂùóËøõË°åÂºÇÊàñÂêéÔºåÂÜçËøõË°åÂä†ÂØÜ„ÄÇÂú®ËøôÁßçÊñπÊ≥ï‰∏≠ÔºåÊØè‰∏™ÂØÜÊñáÂùóÈÉΩ‰æùËµñ‰∫éÂÆÉÂâçÈù¢ÁöÑÊâÄÊúâÊòéÊñáÂùó„ÄÇÂêåÊó∂Ôºå‰∏∫‰∫Ü‰øùËØÅÊØèÊù°Ê∂àÊÅØÁöÑÂîØ‰∏ÄÊÄßÔºåÂú®Á¨¨‰∏Ä‰∏™Âùó‰∏≠ÈúÄË¶Å‰ΩøÁî®ÂàùÂßãÂåñÂêëÈáè„ÄÇ Others ÂÖ∂‰ªñÂä†ÂØÜÊñπÂºè Propagating cipher block chaining (PCBC) Cipher feedback (CFB) Output feedback (OFB) Counter (CTR) Listen Before Talk/Transmit ÂÖàÂê¨ÂêéÂèë Listen Before Talk (LBT) or sometimes called Listen Before Transmit is a technique used in radio-communications whereby a radio transmitters first sense its radio environment before it starts a transmission. LBT can be used by a radio device to find a network the device is allowed to operate on or to find a free radio channel to operate on. Difficulty in the latter situation is the signal threshold down to which the device has to listen. ‚ÄúÂÖàÂê¨ÂêéËØ¥‚ÄùÔºàLBTÔºâÊàñÊúâÊó∂Áß∞‰∏∫‚ÄúÂÖàÂê¨ÂêéÂèë‚ÄùÊòØÊó†Á∫øÁîµÈÄö‰ø°‰∏≠‰ΩøÁî®ÁöÑ‰∏ÄÁßçÊäÄÊúØÔºåÈÄöËøáËØ•ÊäÄÊúØÔºåÊó†Á∫øÁîµÂèëÂ∞ÑÊú∫Âú®ÂºÄÂßã‰º†Ëæì‰πãÂâçÈ¶ñÂÖà‰ºöÊÑüÁü•ÂÖ∂Êó†Á∫øÁîµÁéØÂ¢É„ÄÇ Êó†Á∫øÁîµËÆæÂ§áÂèØ‰ª•‰ΩøÁî® LBT ÂÆåÊàêÔºö Êü•ÊâæÂÖÅËÆ∏ËØ•ËÆæÂ§áËøêË°åÁöÑÁΩëÁªú ÊàñËÄÖÊâæÂà∞Ë¶ÅËøêË°åÁöÑÁ©∫Èó≤Êó†Á∫øÁîµ‰ø°ÈÅì„ÄÇ Âêé‰∏ÄÁßçÊÉÖÂÜµÁöÑÂõ∞ÈöæÂú®‰∫éËÆæÂ§áÂøÖÈ°ªÁõëÂê¨‰ø°Âè∑ÈòàÂÄº„ÄÇ LoRa Modulation Spreading Factor Êâ©È¢ëÂõ†Â≠ê LoRa Êâ©È¢ëË∞ÉÂà∂ÊäÄÊúØÈááÁî®Â§ö‰∏™‰ø°ÊÅØÁ†ÅÁâáÊù•‰ª£Ë°®ÊúâÊïàË¥üËΩΩ‰ø°ÊÅØÁöÑÊØè‰∏™‰Ωç„ÄÇÊâ©È¢ë‰ø°ÊÅØÁöÑÂèëÈÄÅÈÄüÂ∫¶Áß∞‰∏∫Á¨¶Âè∑ÈÄüÁéá(Rs)ÔºåËÄåÁ†ÅÁâáÈÄüÁéá‰∏éÊ†áÁß∞Á¨¶Âè∑ÈÄüÁéá‰πãÈó¥ÁöÑÊØîÂÄºÂç≥‰∏∫Êâ©È¢ëÂõ†Â≠êÔºåÂÖ∂Ë°®Á§∫ÊØè‰∏™‰ø°ÊÅØ‰ΩçÂèëÈÄÅÁöÑÁ¨¶Âè∑Êï∞Èáè„ÄÇLoRaTM Ë∞ÉÂà∂Ëß£Ë∞ÉÂô®‰∏≠Êâ©È¢ëÂõ†Â≠êÁöÑÂèñÂÄºËåÉÂõ¥ËßÅ‰∏ãË°®„ÄÇÊâ©È¢ëÂõ†Â≠ê‰∏∫6Êó∂ÔºåLoRa ÁöÑÊï∞ÊçÆ‰º†ËæìÈÄüÁéáÊúÄÂø´„ÄÇ Ê≥®ÊÑèÔºöÂõ†‰∏∫‰∏çÂêåÁöÑSF‰πãÈó¥‰∏∫Ê≠£‰∫§ÂÖ≥Á≥ªÔºåÂõ†Ê≠§ÂøÖÈ°ªÊèêÂâçËé∑Áü•ÈìæË∑ØÂèëÈÄÅÁ´ØÂíåÊé•Êî∂Á´ØÁöÑSF„ÄÇÂè¶Â§ñÔºåËøòÂøÖÈ°ªËé∑Áü•Êé•ÂèóÊú∫ËæìÂÖ•Á´ØÁöÑ‰ø°Âô™ÊØî„ÄÇ„ÄÇÂú®Ë¥ü‰ø°Âô™ÊØîÊù°‰ª∂‰∏ã‰ø°Âè∑‰πüËÉΩÊ≠£Â∏∏Êé•Êî∂ÔºåËøôÊîπÂñÑ‰∫ÜLoRaÊé•ÂèóÊú∫ÁöÑÁÅµÊïèÂ∫¶ÔºåÈìæË∑ØÈ¢ÑÁÆóÂèäË¶ÜÁõñËåÉÂõ¥„ÄÇ Êâ©È¢ëË∞ÉÂà∂Â∏¶ÂÆΩ(BW) Â¢ûÂä†Â∏¶ÂÆΩÔºåÂèØ‰ª•ÊèêÈ´òÊúâÊïàÊï∞ÊçÆÈÄüÁéá‰ª•Áº©Áü≠‰º†ËæìÊó∂Èó¥Ôºå‰ΩÜÊòØ‰ºöÁâ∫Áâ≤Êé•Êî∂ÁÅµÊïèÂ∫¶„ÄÇ LoRaÁ¨¶Âè∑ÈÄüÁéáRsÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂÖ¨ÂºèËÆ°ÁÆóÔºö Rs=BW2sRs= \\frac{BW}{2^s} Rs=2sBW‚Äã ÊØèHzÊØèÁßíÂèëÈÄÅ‰∏Ä‰∏™Á†ÅÁâá„ÄÇ LoRa Êï∞ÊçÆÈÄüÁéá DR ÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂÖ¨ÂºèËÆ°ÁÆóÔºö DR=SF‚àóBW2s‚àóCRDR = SF* \\frac{BW}{2^s} * CR DR=SF‚àó2sBW‚Äã‚àóCR LoRa Êâ©È¢ëÊäÄÊúØ‰∏ÄÁªèÊé®Âá∫ÔºåÂ∞±Âá≠ÂÄüÂÆÉÊÉä‰∫∫ÁöÑÁÅµÊïèÂ∫¶(-148dbm)„ÄÅÂº∫ÊÇçÁöÑÊäóÂπ≤Êâ∞ËÉΩÂäõ„ÄÅÂá∫Ëâ≤ÁöÑÁ≥ªÁªüÂÆπÈáèË°®Áé∞ÔºåËµ¢Âæó‰∫ÜÂπøÊ≥õÁöÑÂÖ≥Ê≥®„ÄÇËØ¥ÈÄö‰øóÁÇπÔºåLoRaÊâ©È¢ëÊäÄÊúØÊîπÂèò‰∫Ü‰º†ËæìÂäüËÄóÂíå‰º†ËæìË∑ùÁ¶ª‰πãÈó¥ÁöÑÂπ≥Ë°°ÔºåÂΩªÂ∫ïÊîπÂèò‰∫ÜÂµåÂÖ•ÂºèÊó†Á∫øÈÄö‰ø°È¢ÜÂüüÁöÑÂ±ÄÈù¢„ÄÇÂÆÉÁªô‰∫∫‰ª¨ÂëàÁé∞‰∫Ü‰∏Ä‰∏™ËÉΩÂÆûÁé∞ËøúË∑ùÁ¶ª„ÄÅÈïøÁîµÊ±†ÂØøÂëΩ„ÄÅÂ§ßÁ≥ªÁªüÂÆπÈáè„ÄÅ‰ΩéÁ°¨‰ª∂ÊàêÊú¨ÁöÑÂÖ®Êñ∞ÈÄö‰ø°ÊäÄÊúØÔºåËÄåËøôÊ≠£ÊòØÁâ©ËÅîÁΩë(IoT)ÊâÄÈúÄË¶ÅÁöÑ„ÄÇ LoRaÊâ©È¢ëÂéüÁêÜ Â∏∏ËßÑÁöÑÊï∞Â≠óÊï∞ÊçÆÈÄö‰ø°ÂéüÁêÜÊòØ‰ΩøÁî®‰∏éÊï∞ÊçÆÈÄüÁéáÁõ∏ÈÄÇÂ∫îÁöÑÂ∞ΩÂèØËÉΩÂ∞èÁöÑÂ∏¶ÂÆΩ„ÄÇËøôÊòØÂõ†‰∏∫Â∏¶ÂÆΩÊï∞ÊòØÊúâÈôêÁöÑÔºåËÄå‰∏îÊúâÂæàÂ§öÁöÑÁî®Êà∑Ë¶ÅÂàÜ‰∫´„ÄÇ Êâ©È¢ëÈÄö‰ø°ÁöÑÂéüÁêÜÊòØÂ∞ΩÂèØËÉΩ‰ΩøÁî®ÊúÄÂ§ßÂ∏¶ÂÆΩÊï∞, ÂêåÊ†∑ÁöÑËÉΩÈáèÂú®‰∏Ä‰∏™Â§ßÁöÑÂ∏¶ÂÆΩ‰∏ä‰º†Êí≠„ÄÇËøôÈáåÊâ©È¢ëÂ∏¶ÂÆΩÁöÑÂæàÂ∞èÈÉ®ÂàÜ‰∏éÂ∏∏ËßÑÊó†Á∫ø‰ø°Âè∑Áõ∏Âπ≤Êâ∞Ôºå ‰ΩÜÂ∏∏ËßÑÊó†Á∫ø‰ø°Âè∑‰∏çÂΩ±ÂìçÊâ©È¢ë‰ø°Âè∑ÔºåËøôÊòØÂõ†‰∏∫‰∏§ËÄÖÁõ∏ÊØîÂ∏∏ËßÑ‰ø°Âè∑Â∏¶ÂÆΩÂæàÁ™Ñ„ÄÇ ‰∏∫‰Ωï‰ΩøÁî®Êâ©È¢ëÊäÄÊúØ: Êâ©Â§ßÂ∏¶ÂÆΩ„ÄÅÂáèÂ∞ëÂπ≤Êâ∞„ÄÇÂΩìÊâ©È¢ëÂõ†Â≠ê‰∏∫1Êó∂ÔºåÊï∞ÊçÆ1Â∞±Áî®‚Äú1‚ÄùÊù•Ë°®Á§∫ÔºåÊâ©È¢ëÂõ†Â≠ê‰∏∫4Êó∂ÔºåÂèØËÉΩÁî®‚Äú1011‚ÄùÊù•Ë°®Á§∫1ÔºåËøôÊ†∑‰º†ËæìÁöÑÊó∂ÂÄôÂèØ‰ª•Èôç‰ΩéËØØÁ†ÅÁéá‰πüÂ∞±ÊòØ‰ø°Âô™ÊØîÔºå‰ΩÜÊòØÂç¥ÂáèÂ∞ë‰∫ÜÂèØ‰ª•‰º†ËæìÁöÑÂÆûÈôÖÊï∞ÊçÆÔºåÊâÄ‰ª•ÔºåÊâ©È¢ëÂõ†Â≠êË∂äÂ§ßÔºå‰º†ËæìÁöÑÊï∞ÊçÆÊï∞ÁéáÂ∞±Ë∂äÂ∞è„ÄÇ Ê†πÊçÆÂØπÈÄüÁéáÁöÑ‰∏çÂêåË¶ÅÊ±ÇÂàÜÈÖç‰∏çÂêåÊï∞ÈáèÁöÑÁ†ÅÈÅìÔºåÊèêÈ´òÂà©Áî®Áéá„ÄÇÊâ©È¢ëÂõ†Â≠êËøòÊúâÂè¶‰∏Ä‰∏™Áî®ÈÄîÔºåÈÇ£Â∞±ÊòØÊ≠£‰∫§Á†Å(OVSF: Orthogonal Variable Spreading Factor ÔºåÊ≠£‰∫§ÂèØÂèòÊâ©È¢ëÂõ†Â≠ê)ÔºåÈÄöËøáOVSFÂèØ‰ª•Ëé∑ÂæóÊ≠£‰∫§ÁöÑÊâ©È¢ëÁ†ÅÔºåÊâ©È¢ëÂõ†Â≠ê‰∏∫4Êó∂Êúâ4‰∏™Ê≠£‰∫§ÁöÑÊâ©È¢ëÁ†ÅÔºåÊ≠£‰∫§ÁöÑÊâ©È¢ëÁ†ÅÂèØ‰ª•ËÆ©ÂêåÊó∂‰º†ËæìÁöÑÊó†Á∫ø‰ø°Âè∑‰∫í‰∏çÂπ≤Êâ∞Ôºå‰πüÂ∞±ÊòØËØ¥ÔºåÊâ©È¢ëÂõ†Â≠ê‰∏∫4Êó∂ÔºåÂèØ‰ª•ÂêåÊó∂‰º†Ëæì4‰∏™‰∫∫ÁöÑ‰ø°ÊÅØ„ÄÇ One of references: Data Rate and Spreading Factor","categories":[{"name":"LoRa","slug":"LoRa","permalink":"https://blog.inoki.cc/categories/LoRa/"}],"tags":[{"name":"LoRaWAN","slug":"LoRaWAN","permalink":"https://blog.inoki.cc/tags/LoRaWAN/"},{"name":"LoRa","slug":"LoRa","permalink":"https://blog.inoki.cc/tags/LoRa/"},{"name":"IoT","slug":"IoT","permalink":"https://blog.inoki.cc/tags/IoT/"}]},{"title":"KDE Connect iOS ÂºÄÂèëÊó•ËÆ∞(2) ËØÜÂà´ÂçèËÆÆ","slug":"KDEConnect-iOS-dev-dairy-ZHCN-2","date":"2020-04-19T15:34:50.000Z","updated":"2022-05-09T18:41:39.478Z","comments":true,"path":"2020/04/19/KDEConnect-iOS-dev-dairy-ZHCN-2/","link":"","permalink":"https://blog.inoki.cc/2020/04/19/KDEConnect-iOS-dev-dairy-ZHCN-2/","excerpt":"","text":"Âú®‰∏ä‰∏ÄÁØáÊñáÁ´†‰∏≠ÔºåKDE Connect iOS ÁöÑÊûÑÂª∫Â∑≤‰øÆÂ§çÔºåÂèØ‰ª•Â∞ÜÂ∫îÁî®Á®ãÂ∫èÂÆâË£ÖÂà∞ËÆæÂ§áÊàñÊ®°ÊãüÂô®‰∏≠„ÄÇ Ë¶Å‰∏éÂÖ∂‰ªñËÆæÂ§áËøûÊé•ÔºåÊàë‰ª¨ÈúÄË¶Å‰∏éÂÆÉ‰ª¨ÈÖçÂØπ„ÄÇ‰ΩÜÊòØÔºåÂú®Ê≠§‰πãÂâçÔºåËÆæÂ§áÈúÄË¶Å‰ΩøÁî® KDE Connect ËØÜÂà´Êú∫Âà∂Áõ∏‰∫íÂèëÁé∞„ÄÇ ËØÜÂà´ËøáÁ®ã ÂàùÂßãË∫´‰ªΩÈ™åËØÅËøáÁ®ãÈùûÂ∏∏ÁÆÄÂçïÔºåÂ¶Ç‰∏ãÊâÄÁ§∫: 1.È¶ñÂÖàÔºåËÆæÂ§á A Â∞ÜÂèëÈÄÅ‰∏Ä‰∏™ UDP ÂπøÊí≠Êï∞ÊçÆÂåÖÔºåÂÖ∂‰∏≠ÂåÖÂê´ÂÖ∂Ë∫´‰ªΩÊï∞ÊçÆÂåÖÔºõ 2.ÊØè‰∏™Êé•Êî∂Âà∞ UDP ÂπøÊí≠ÁöÑËÆæÂ§á B ÈÉΩ‰ºöÂ∞ùËØïÊèêÂèñÊï∞ÊçÆÂåÖ‰∏≠ÁöÑ TCP Á´ØÂè£‰ø°ÊÅØÔºåÂπ∂Â∞ùËØïÈÄöËøáËØ•Á´ØÂè£‰∏éËÆæÂ§áËøûÊé•Ôºõ 3.ÈÄöËøá TCP ËøûÊé•ÔºåÊØè‰∏™ËÆæÂ§á B ÈÉΩ‰ºöÂêëËÆæÂ§á A ÂèëÈÄÅËá™Â∑±ÁöÑÊ†áËØÜÊï∞ÊçÆÂåÖÔºõ 4.ÁÑ∂ÂêéÔºåËÆæÂ§á‰ºöÂ∞ÜÈìæÊé•È°πÊ∑ªÂä†Âà∞ÂèëÁé∞ÁöÑËÆæÂ§áÂàóË°®‰∏≠ÔºåÂπ∂Á≠âÂæÖÁî®Êà∑ÁöÑÊìç‰Ωú„ÄÇ ÂçáÁ∫ßËØÜÂà´ÁΩëÁªúÂåÖ Á¨¨‰∏ÄÊ¨°Â∞ùËØïÔºåÈô§‰∫Ü iOS ËÆæÂ§áÔºåÊàëÊâÄÊúâÁöÑËÆæÂ§áÈÉΩÂèØ‰ª•ÊâæÂà∞ÂΩºÊ≠§„ÄÇ Âú®Ë∞ÉËØïÊ®°Âºè‰∏ãÔºåÊàëÁúãÂà∞ÂèëÁé∞Ê∂àÊÅØÂíåÁõ∏ÂÖ≥ÁöÑËæìÂá∫Ôºö 1&quot;Inoki&quot; uses an old protocol version, this won&apos;t work Âõ†Ê≠§ÔºåÊàë‰ΩøÁî® Wireshark ÊçïËé∑Êï∞ÊçÆÂåÖÔºå‰ª•‰∫ÜËß£‰∏∫‰ªÄ‰πà KDE Connect iOS ‰∏≠ÁöÑÊóßÂÆûÁé∞Êó†Ê≥ïÊ≠£Â∏∏Â∑•‰Ωú„ÄÇ Âå∫Âà´Âú®‰∫éÊï∞ÊçÆÂåÖÂÜÖÂÆπÂíåÂÆöÂà∂Êï∞ÊçÆ„ÄÇ ËØÜÂà´ÁΩëÁªúÂåÖÂÜÖÂÆπ ÊâÄÊúâÁöÑÁΩëÁªúÂåÖÈÉΩÊòØÈÄöËøáÂ∫èÂàóÂåñ NetWorkPackage Á±ªÊù•ÂÆûÁé∞ÁöÑÔºåËøô‰∏™Á±ªÂú® lib/NetworkPackage.h Âíå lib/NetworkPackage.m Êñá‰ª∂‰∏≠Ë¢´ÂÆö‰πâ„ÄÇ Á±ª‰∏≠ÂåÖÂê´ÁöÑÂ±ûÊÄßÊúâ: 123456@property(nonatomic) NSString* _Id;@property(nonatomic) NSString *_Type;@property(nonatomic) NSMutableDictionary *_Body;@property(nonatomic) NSData *_Payload;@property(nonatomic) NSDictionary *_PayloadTransferInfo;@property(nonatomic)long _PayloadSize; Â∫èÂàóÂåñ‰πãÂêéÔºåÂÜÖÂÆπÂ∞ÜÊòØ JSON Ê†ºÂºèÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ‰æãÂ¶ÇÔºåÊù•Ëá™ KDE Connect iOS ÁöÑÊï∞ÊçÆÂåÖÂÜÖÂÆπ‰∏∫Ôºö 12345678910111213&#123; \"id\":\"1587284674\", \"type\":\"kdeconnect.identity\", \"body\":&#123; \"deviceId\":\"test-kdeconnect-ios\", \"SupportedOutgoingInterfaces\":\"kdeconnect.ping,kdeconnect.mpris,kdeconnect.share,kdeconnect.clipboard,kdeconnect.mousepad,kdeconnect.battery,kdeconnect.calendar,kdeconnect.reminder,kdeconnect.contact\", \"protocolVersion\":5, \"tcpPort\":1714, \"deviceType\":\"Phone\", \"deviceName\":\"Inoki\", \"SupportedIncomingInterfaces\":\"kdeconnect.calendar,kdeconnect.clipboard,kdeconnect.ping,kdeconnect.reminder,kdeconnect.share,kdeconnect.contact\" &#125;&#125; Êù•Ëá™ KDE Connect ÁöÑÂÖ∂‰ªñÂπ≥Âè∞ÁöÑÂÜÖÂÆπÊòØÔºö 1234567891011121314151617&#123; \"id\":1587284383, \"type\":\"kdeconnect.identity\", \"body\":&#123; \"deviceId\":\"9985DA4FDD3449C78ACC8597D2C5A782\", \"protocolVersion\":7, \"tcpPort\":1716, \"deviceType\":\"phone\", \"deviceName\":\"Inoki\", \"incomingCapabilities\":[ \"kdeconnect.calendar\",\"kdeconnect.clipboard\",\"kdeconnect.ping\",\"kdeconnect.reminder\",\"kdeconnect.share\",\"kdeconnect.contact\" ], \"outgoingCapabilities\":[ \"kdeconnect.ping\",\"kdeconnect.mpris\",\"kdeconnect.share\",\"kdeconnect.clipboard\",\"kdeconnect.mousepad\",\"kdeconnect.battery\",\"kdeconnect.calendar\",\"kdeconnect.reminder\",\"kdeconnect.contact\" ] &#125;&#125; ‰øÆÂ§ç id Â≠óÊÆµÁöÑÁ±ªÂûã Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Á¨¨‰∏Ä‰∏™Âå∫Âà´ÊòØÂÖ≥‰∫é id Â≠óÊÆµ„ÄÇÂú® KDE Connect iOS Êï∞ÊçÆÂåÖ‰∏≠ÔºåÂÆÉÊòØ‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇ‰ΩÜÊòØÂú®ËæÉÊñ∞ÁâàÊú¨ÁöÑÂçèËÆÆ‰∏≠ÔºåÂÆÉÊòØ‰∏Ä‰∏™Êï¥Êï∞„ÄÇ Âõ†Ê≠§ÊàëÂ∞ÜÂÖ∂Á±ªÂûã‰ªé NSString Êîπ‰∏∫ NSNumber: 123456@property(nonatomic) NSNumber *_Id;@property(nonatomic) NSString *_Type;@property(nonatomic) NSMutableDictionary *_Body;@property(nonatomic) NSData *_Payload;@property(nonatomic) NSDictionary *_PayloadTransferInfo;@property(nonatomic)long _PayloadSize; Êõ¥Êñ∞ÊîØÊåÅÁöÑÂäüËÉΩÁ±ªÂûã Âè¶‰∏Ä‰∏™ÈáçÂ§ßÊõ¥ÊîπÊòØÂäüËÉΩÊèèËø∞ÁöÑÁ±ªÂûãÂíåÂêçÁß∞Ôºö ÂÆÉ‰ª¨‰πãÂâçÂàÜÂà´ÊòØ SupportedOutgoingInterfaces Âíå SupportedIncomingInterfacesÔºåÂ≠óÁ¨¶‰∏≤Á±ªÂûãÔºõ Âú®ÊúÄÊñ∞ÁâàÊú¨‰∏≠ÔºåÂÆÉ‰ª¨ÊòØ incomingCapabilities Âíå outgoingCapabilitiesÔºåÊï∞ÁªÑÁ±ªÂûã„ÄÇ Âú® KDE Connect iOS ‰∏≠ÔºåÂÆÉÊòØÁî± lib/NetworkPackage.m ‰∏≠ÁöÑ‰ª•‰∏ã‰ª£Á†ÅÁîüÊàêÁöÑÔºö 12[np setObject:[[[PluginFactory sharedInstance] getSupportedIncomingInterfaces] componentsJoinedByString:@&quot;,&quot;] forKey:@&quot;SupportedIncomingInterfaces&quot;];[np setObject:[[[PluginFactory sharedInstance] getSupportedOutgoingInterfaces] componentsJoinedByString:@&quot;,&quot; ] forKey:@&quot;SupportedOutgoingInterfaces&quot;]; ÊòæÁÑ∂ÔºåËøîÂõûÁöÑÂÄºÊòØÊï∞ÁªÑÔºå‰ΩÜÊòØÂÆÉ‰ª¨Áî±ÈÄóÂè∑Â≠óÁ¨¶‰∏≤ËøûÊé•ÂΩ¢Êàê‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇÂõ†Ê≠§ÔºåÊàëÂè™ÊòØÊõ¥Êîπ‰∫ÜÈîÆÂêçÔºåÂπ∂Âà†Èô§‰∫Ü componentsJoinedByString ÊñπÊ≥ïÔºö 12[np setObject:[[PluginFactory sharedInstance] getSupportedIncomingInterfaces] forKey:@&quot;incomingCapabilities&quot;];[np setObject:[[PluginFactory sharedInstance] getSupportedOutgoingInterfaces] forKey:@&quot;outgoingCapabilities&quot;]; Êõ¥Êñ∞ÂçèËÆÆÁâàÊú¨ ÂçèËÆÆÁâàÊú¨Â≠óÊÆµÂú®Â§¥Êñá‰ª∂‰∏≠ÂÆö‰πâÔºö 1#define ProtocolVersion 5 ÊàëÂ∞ÜÂÖ∂ÂçáÁ∫ß‰∏∫ 7 Êù•ÂåπÈÖçÁé∞ÁâàÊú¨„ÄÇ Ë∫´‰ªΩÊï∞ÊçÆÂåÖÂÆöÂà∂Êï∞ÊçÆ Âú® Wireshark Êï∞ÊçÆÂåÖ‰∏≠ KDE Connect iOS ÁöÑË∫´‰ªΩÊï∞ÊçÆÂåÖÁöÑÂÆöÂà∂Êï∞ÊçÆ‰∏∫ \\x0D\\x0A„ÄÇÊù•Ëá™ÂÖ∂‰ªñ KDE Connect ÁâàÊú¨ÁöÑÊòØ \\x0A„ÄÇ Âõ†Ê≠§ÔºåÊàëÊõ¥Êîπ‰∫Ü lib/NetworkPackage.m ‰∏≠ÁöÑ‰ª£Á†ÅÔºö 12- #define LFDATA [NSData dataWithBytes:&quot;\\x0D\\x0A&quot; length:2]+ #define LFDATA [NSData dataWithBytes:&quot;\\x0A&quot; length:1] ÁªìËÆ∫ ÊúÄÁªàÔºåKDE Connect iOS ÂèØ‰ª•ÊâæÂà∞ÂÖ∂‰ªñËÆæÂ§áÂπ∂Âª∫Á´ã‰∏éÂÆÉ‰ª¨ÁöÑËøûÊé•Ôºö Áõ∏ÂèçÔºåÂÖ∂‰ªñ‰∫∫ËøòÊâæ‰∏çÂà∞ KDE Connect iOS ÂÆ¢Êà∑Á´Ø„ÄÇËøôÊòØÂõ†‰∏∫Êñ∞ÁâàÊú¨Âú® TCP ËøûÊé•ÂêéÈúÄË¶Å TLS / SSL„ÄÇËøôÂ∞ÜÂú®‰∏ã‰∏ÄÁØáÊñáÁ´†‰∏≠Ëß£ÂÜ≥„ÄÇ Á•ùÊàëÂ•ΩËøêÔºÅ","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/categories/KDE-Connect/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/tags/KDE-Connect/"}]},{"title":"KDE Connect iOS Develop Dairy(2) Identity Protocol","slug":"KDEConnect-iOS-dev-dairy-2","date":"2020-04-19T14:34:50.000Z","updated":"2022-05-09T18:41:39.470Z","comments":true,"path":"2020/04/19/KDEConnect-iOS-dev-dairy-2/","link":"","permalink":"https://blog.inoki.cc/2020/04/19/KDEConnect-iOS-dev-dairy-2/","excerpt":"","text":"In the previous post, KDE Connect iOS Develop Dairy(1) Build, the build of KDE Connect iOS has been fixed, we can install the application into a device or a simulator. To connect with the other devices, we need to pair with them. But, before that, the devices need to discover each other with the KDE Connect identity mechanism. Identity Process The initial identity process is straightforward, as shown below: First, device A will send a UDP broadcast packet, which carries its identity packet; Each device B, which receives the UDP broadcast, will try to extract the TCP port information in the packet and try to connect with the device via the port; With a TCP connection, each device B will send its identity packet to device A; Then, the devices will add a link item to the discovered device list and wait for users‚Äô actions. Update Identity Packet With a first attempt, all my devices can find each other, except the iOS one. In the debug mode, I saw a discover message and an associated output: 1&quot;Inoki&quot; uses an old protocol version, this won&apos;t work So, I captured the packets using Wireshark, to see why the old implementation in KDE Connect iOS does not work. The differences are in the packet content and tailored data. Identity Packet content All network packets are generated by serializing NetWorkPackage class, which is defined in lib/NetworkPackage.h and lib/NetworkPackage.m. The properties of that class are: 123456@property(nonatomic) NSString* _Id;@property(nonatomic) NSString *_Type;@property(nonatomic) NSMutableDictionary *_Body;@property(nonatomic) NSData *_Payload;@property(nonatomic) NSDictionary *_PayloadTransferInfo;@property(nonatomic)long _PayloadSize; After the serialization, the content will be a JSON format string. For example, the packet content from KDE Connect iOS is: 12345678910111213&#123; \"id\":\"1587284674\", \"type\":\"kdeconnect.identity\", \"body\":&#123; \"deviceId\":\"test-kdeconnect-ios\", \"SupportedOutgoingInterfaces\":\"kdeconnect.ping,kdeconnect.mpris,kdeconnect.share,kdeconnect.clipboard,kdeconnect.mousepad,kdeconnect.battery,kdeconnect.calendar,kdeconnect.reminder,kdeconnect.contact\", \"protocolVersion\":5, \"tcpPort\":1714, \"deviceType\":\"Phone\", \"deviceName\":\"Inoki\", \"SupportedIncomingInterfaces\":\"kdeconnect.calendar,kdeconnect.clipboard,kdeconnect.ping,kdeconnect.reminder,kdeconnect.share,kdeconnect.contact\" &#125;&#125; And the one from KDE Connect on the other platforms is: 1234567891011121314151617&#123; \"id\":1587284383, \"type\":\"kdeconnect.identity\", \"body\":&#123; \"deviceId\":\"9985DA4FDD3449C78ACC8597D2C5A782\", \"protocolVersion\":7, \"tcpPort\":1716, \"deviceType\":\"phone\", \"deviceName\":\"Inoki\", \"incomingCapabilities\":[ \"kdeconnect.calendar\",\"kdeconnect.clipboard\",\"kdeconnect.ping\",\"kdeconnect.reminder\",\"kdeconnect.share\",\"kdeconnect.contact\" ], \"outgoingCapabilities\":[ \"kdeconnect.ping\",\"kdeconnect.mpris\",\"kdeconnect.share\",\"kdeconnect.clipboard\",\"kdeconnect.mousepad\",\"kdeconnect.battery\",\"kdeconnect.calendar\",\"kdeconnect.reminder\",\"kdeconnect.contact\" ] &#125;&#125; Fix id field type We can see the first difference is about the id field. In the KDE Connect iOS packet, it is a string. But in the newer version protocol, it is an integer. So, I changed√ü its property type from NSString to NSNumber: 123456@property(nonatomic) NSNumber *_Id;@property(nonatomic) NSString *_Type;@property(nonatomic) NSMutableDictionary *_Body;@property(nonatomic) NSData *_Payload;@property(nonatomic) NSDictionary *_PayloadTransferInfo;@property(nonatomic)long _PayloadSize; Update capabilities type Another significant change is the type and the name of description of capacibilities: They were SupportedOutgoingInterfaces and SupportedIncomingInterfaces, with string type; In the latest version, they are incomingCapabilities and outgoingCapabilities, with array type. In KDE Connect iOS, it is generated by the following lines in lib/NetworkPackage.m: 12[np setObject:[[[PluginFactory sharedInstance] getSupportedIncomingInterfaces] componentsJoinedByString:@&quot;,&quot;] forKey:@&quot;SupportedIncomingInterfaces&quot;];[np setObject:[[[PluginFactory sharedInstance] getSupportedOutgoingInterfaces] componentsJoinedByString:@&quot;,&quot; ] forKey:@&quot;SupportedOutgoingInterfaces&quot;]; The returned values are arrays, and a comma string joins them. So, I changed the key and removed the componentsJoinedByString method: 12[np setObject:[[PluginFactory sharedInstance] getSupportedIncomingInterfaces] forKey:@&quot;incomingCapabilities&quot;];[np setObject:[[PluginFactory sharedInstance] getSupportedOutgoingInterfaces] forKey:@&quot;outgoingCapabilities&quot;]; Update the protocol version The protocol version field is defined in the header file: 1#define ProtocolVersion 5 I update it to 7 to match the current version. Identity Packet tailor data The tailor data of identity packet from KDE Connect iOS in a Wireshark traffic is \\x0D\\x0A. And the one from other KDE Connect versions is \\x0A. So, I change the line in lib/NetworkPackage.m: 12- #define LFDATA [NSData dataWithBytes:&quot;\\x0D\\x0A&quot; length:2]+ #define LFDATA [NSData dataWithBytes:&quot;\\x0A&quot; length:1] Conclusion Finally, the KDE Connect iOS can find the other device and establish connections to them: On the contrary, the others cannot find KDE Connect iOS client out yet. That‚Äôs because the new version requires TLS/SSL after a TCP connection. This will get fixed in the next post. Good luck to myself!","categories":[{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/categories/KDE-Connect/"}],"tags":[{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/tags/KDE-Connect/"}]},{"title":"KDE Connect iOS ÂºÄÂèëÊó•ËÆ∞(1) ÊûÑÂª∫","slug":"KDEConnect-iOS-dev-dairy-ZHCN-1","date":"2020-04-18T22:20:30.000Z","updated":"2022-05-09T18:41:39.474Z","comments":true,"path":"2020/04/18/KDEConnect-iOS-dev-dairy-ZHCN-1/","link":"","permalink":"https://blog.inoki.cc/2020/04/18/KDEConnect-iOS-dev-dairy-ZHCN-1/","excerpt":"","text":"Â§ÑÁêÜ‰æùËµñ KDE Connect iOS È°πÁõÆ‰ΩøÁî® CocoaPods Êù•ÁÆ°ÁêÜ‰æùËµñ: COCOAPODS ÊòØ‰ªÄ‰πà CocoaPods ÊòØ Swift Âíå Objective-C Cocoa È°πÁõÆÁöÑ‰æùËµñÈ°πÁÆ°ÁêÜÂô®„ÄÇ ÂÆÉÊã•ÊúâË∂ÖËøá 7.2 ‰∏á‰∏™Â∫ìÔºåÂπ∂Âú®Ë∂ÖËøá300‰∏á‰∏™Â∫îÁî®Á®ãÂ∫è‰∏≠‰ΩøÁî®„ÄÇ CocoaPodsÂèØ‰ª•Â∏ÆÂä©ÊÇ®‰ºòÈõÖÂú∞Êâ©Â±ïÈ°πÁõÆ„ÄÇ ‰∏é CocoaPods ÊúâÂÖ≥ÁöÑÊñá‰ª∂ÊòØ PodfileÔºåÂÆÉÊåáÂÆö‰∫ÜËøô‰∏™È°πÁõÆÈù¢ÂêëÁöÑ iOS ÁöÑÁâàÊú¨ (7.0)Ôºå‰æùËµñÁöÑÂêçÁß∞„ÄÅÁâàÊú¨ÂíåÊ∫êÔºö 1234567platform :ios, &apos;7.0&apos;pod &apos;CocoaAsyncSocket&apos;, &apos;~&gt; 7.3.5&apos;pod &apos;MRProgress&apos;pod &apos;InAppSettingsKit&apos;, &apos;~&gt; 2.1&apos;pod &apos;VTAcknowledgementsViewController&apos;pod &apos;XbICalendar&apos;, :podspec =&gt; &apos;https://raw.githubusercontent.com/libical/XbICalendar/master/XbICalendar.podspec&apos;pod &apos;MYBlurIntroductionView&apos; ÊûÑÂª∫ÁöÑÁ¨¨‰∏ÄÊ≠•Â∞±ÊòØÂÆâË£ÖËøô‰∫õ‰æùËµñ„ÄÇÂú®ÂÆâË£Ö‰∫Ü CocoaPods ‰πãÂêéÔºåÊàëÊ†πÊçÆÂÆòÊñπÊñáÊ°£ËøêË°å‰∫Ü pod installÔºå‰ΩÜÊòØÂá∫Áé∞‰∫ÜÈóÆÈ¢òÔºö 12345678910111213141516171819202122232425262728$ pod installAnalyzing dependenciesFetching podspec for `XbICalendar` from `https://raw.githubusercontent.com/libical/XbICalendar/master/XbICalendar.podspec`Downloading dependenciesInstalling CocoaAsyncSocket (7.3.5)Installing InAppSettingsKit (2.15)Installing MRProgress (0.8.3)Installing MYBlurIntroductionView (1.0.3)Installing VTAcknowledgementsViewController (1.5.2)Installing XbICalendar (0.3.3)Generating Pods projectIntegrating client projects[!] Could not automatically select an Xcode workspace. Specify one in your Podfile like so: workspace &apos;path/to/Workspace.xcworkspace&apos;[!] The abstract target Pods is not inherited by a concrete target, so the following dependencies won&apos;t make it into any targets in your project: - CocoaAsyncSocket (~&gt; 7.3.5) - InAppSettingsKit (~&gt; 2.1) - MRProgress - MYBlurIntroductionView - VTAcknowledgementsViewController - XbICalendar (from `https://raw.githubusercontent.com/libical/XbICalendar/master/XbICalendar.podspec`)[!] The platform of the target `Pods` (iOS 7.0) may not be compatible with `InAppSettingsKit (2.15)` which has a minimum requirement of iOS 8.0.[!] The platform of the target `Pods` (iOS 7.0) may not be compatible with `VTAcknowledgementsViewController (1.5.2)` which has a minimum requirement of iOS 8.0 - tvOS 9.0. ÁúãËµ∑Êù•Êúâ‰∏Ä‰∫õ bug Ë¶Å‰øÆ‰∫Ü üòÉ ‰øÆÂ§ç Bug 123[!] Could not automatically select an Xcode workspace. Specify one in your Podfile like so: workspace &apos;path/to/Workspace.xcworkspace&apos; Âú®Ëøô‰∏™È°πÁõÆ‰∏≠Ôºå.xcworkspace Êñá‰ª∂ÂØπÂ∫îÁöÑÊòØ kdeconnect-ios.xcworkspace„ÄÇÊâÄ‰ª•ÊàëÂú®Êñá‰ª∂‰∏≠Ê∑ªÂä†‰∫Ü workspace 'kdeconnect-ios' ‰∏ÄÂè•„ÄÇ 123[!] The platform of the target `Pods` (iOS 7.0) may not be compatible with `InAppSettingsKit (2.15)` which has a minimum requirement of iOS 8.0.[!] The platform of the target `Pods` (iOS 7.0) may not be compatible with `VTAcknowledgementsViewController (1.5.2)` which has a minimum requirement of iOS 8.0 - tvOS 9.0. ÂæàÊòéÊòæÔºåËøô‰∏™ËæìÂá∫ÊåáÂá∫ÔºåÁõÆÊ†áÁöÑÁ≥ªÁªüÁâàÊú¨ÈúÄË¶ÅÂçáÁ∫ß„ÄÇ‰∏∫‰∫ÜÊñπ‰æøÔºåÊàëÁõ¥Êé•ÊääÂÆÉÂçáÁ∫ßÂà∞‰∫Ü platform :ios, '12.0'„ÄÇ 12[!] The abstract target Pods is not inherited by a concrete target, so the following dependencies won&apos;t make it into any targets in your project: ... Ëøô‰∏™Ê∂àÊÅØÂàôËØ¥Êòé pods(ÂØπÂ∫î‰æùËµñÁöÑÊ¶ÇÂøµ) Ê≤°ÊúâÊåáÂÆöÁõÆÊ†áÈ°πÁõÆ„ÄÇÊ†πÊçÆ CocoaPod ÁöÑÊñáÊ°£ÔºåÊàëÂ∫îÂΩìÊ∑ªÂä† target &quot;kdeconnect-ios&quot; Âπ∂ÊääÊâÄÊúâÁöÑ pods ÊîæÂú®‰∏Ä‰∏™ do ... end ÁªìÊûÑ‰∏≠„ÄÇ ÊúÄÁªàÁâàÊú¨ Podfile ÊúÄÁªàÔºåPodfile Êñá‰ª∂ÂèòÊàê‰∫ÜÔºö 123456789101112workspace &apos;kdeconnect-ios&apos;target &quot;kdeconnect-ios&quot; doplatform :ios, &apos;12.0&apos;pod &apos;CocoaAsyncSocket&apos;, &apos;~&gt; 7.3.5&apos;pod &apos;MRProgress&apos;pod &apos;InAppSettingsKit&apos;, &apos;~&gt; 2.1&apos;pod &apos;VTAcknowledgementsViewController&apos;pod &apos;XbICalendar&apos;, :podspec =&gt; &apos;https://raw.githubusercontent.com/libical/XbICalendar/master/XbICalendar.podspec&apos;pod &apos;MYBlurIntroductionView&apos;end ‰øÆÂ§çËøáÂêéÔºåËæìÂá∫Ê≠£Â∏∏‰∫ÜËµ∑Êù•Ôºö 123456$ pod installAnalyzing dependenciesDownloading dependenciesGenerating Pods projectIntegrating client projectPod installation complete! There are 6 dependencies from the Podfile and 6 total pods installed. ‰ΩøÁî® XCode ÊûÑÂª∫ Êó¢ÁÑ∂ÂÆâË£Ö‰æùËµñÈÉ®ÂàÜÂ∑≤ÁªèÊ≤°ÊúâÈóÆÈ¢ò‰∫ÜÔºå‰ΩøÁî® XCode ÁºñËØëÊûÑÂª∫ÂÆÉÂ∞±ÂèòÂæóÈ°∫ÁêÜÊàêÁ´†‰∫ÜÔºàËôΩÁÑ∂ XCode ÊòØ‰∏ñÁïåÊúÄÂ∑Æ IDE Ê≤°Êúâ‰πã‰∏ÄÔºâ„ÄÇ Â∫îÁî®Á®ãÂ∫èÊ†áËØÜÁ¨¶ Á¨¨‰∏Ä‰∏™ÈóÆÈ¢òÂá∫Áé∞Âú®ÊàëÁÇπÂáª Build ÊåâÈíÆÁöÑÊó∂ÂÄôÔºö 12Failed to register bundle identifier.The app identifier &quot;application-identifier&quot; cannot be registered to your development team. Change your bundle identifier to a unique string to try again. Apple ËØïÂõæ‰∏∫ÊàëÁöÑ Apple Â∏êÂè∑ÂíåËøô‰∏™Â∫îÁî®Á®ãÂ∫èÁîüÊàê‰∏Ä‰∏™Ëá™Á≠æÂêçËØÅ‰π¶„ÄÇ‰ΩÜÂÆÉÊ≤°Ê≥ïÂ§ÑÁêÜÁé∞Âú®Ëøô‰∏™Ê†ºÂºèÁöÑÊ†áËØÜÁ¨¶„ÄÇ Âõ†Ê≠§ÊàëÊääÊ†áËØÜÁ¨¶ÊîπÊàê‰∫Ü org.kde.kdeconnect.iosÔºåÁÑ∂ÂêéÁÇπÂáª Try againÔºåËøôÊ¨°ÔºåËá™Á≠æÂêçËØÅ‰π¶ÁîüÊàêÊàêÂäü„ÄÇ Multiple commands produce Á¥ßÊé•ÁùÄÔºåÊàëÈáçÊñ∞ÂºÄÂßãÊûÑÂª∫„ÄÇÂè¶‰∏Ä‰∏™ bug Â∞±Âá∫Áé∞‰∫ÜÔºö 123Multiple commands produce &apos;/Users/inoki/Library/Developer/Xcode/DerivedData/kdeconnect-ios-hhcvmcgjatxxdugxbjbrwgotfgna/Build/Products/Debug-iphoneos/kdeconnect-ios.app/zh-Hans.lproj/Localizable.strings&apos;:1) Target &apos;kdeconnect-ios&apos; (project &apos;kdeconnect-ios&apos;) has copy command from &apos;/Users/inoki/Projects/kdeconnect-ios-test/kdeconnect-ios/zh-Hans.lproj/Localizable.strings&apos; to &apos;/Users/inoki/Library/Developer/Xcode/DerivedData/kdeconnect-ios-hhcvmcgjatxxdugxbjbrwgotfgna/Build/Products/Debug-iphoneos/kdeconnect-ios.app/zh-Hans.lproj/Localizable.strings&apos;2) Target &apos;kdeconnect-ios&apos; (project &apos;kdeconnect-ios&apos;) has copy command from &apos;/Users/inoki/Projects/kdeconnect-ios-test/kdeconnect-ios/zh-Hans.lproj/Localizable.strings&apos; to &apos;/Users/inoki/Library/Developer/Xcode/DerivedData/kdeconnect-ios-hhcvmcgjatxxdugxbjbrwgotfgna/Build/Products/Debug-iphoneos/kdeconnect-ios.app/zh-Hans.lproj/Localizable.strings&apos; ÊàëÂèÇËÄÉ‰∫ÜËøô‰∏™Âú® GitHub ‰∏äÁöÑ issueÔºåÊääÊûÑÂª∫Á≥ªÁªüÊõ¥Êîπ‰∏∫ legacyÔºö Áº∫Â§±ÁöÑÂ§¥Êñá‰ª∂ Êé•ÁùÄÔºåÂè¶‰∏Ä‰∏™ÈîôËØØÂá∫Áé∞‰∫ÜÔºö 1kdeconnect-ios/AppSettingViewController.m:27:9: &apos;IASKPSTitleValueSpecifierViewCell.h&apos; file not found Ëøô‰∏™ÈóÆÈ¢òÂèØËÉΩÊòØÊüê‰∏™‰æùËµñÁâàÊú¨ÂçáÁ∫ßÂØºËá¥ÁöÑÔºåÁõ¥Êé•ÁßªÈô§ËøôË°åÔºö 1#import &quot;IASKPSTitleValueSpecifierViewCell.h&quot; Â∫ìÈìæÊé•ÈîôËØØÔºåÁ¶ÅÁî® Bitcode ‰πãÂêéÔºåÊàëÂÜçÊ¨°ÈáçÊñ∞ÊûÑÂª∫ÔºåÂèà‰∏Ä‰∏™ÈóÆÈ¢òÂá∫Áé∞‰∫ÜÔºö 1ld: &apos;/Users/inoki/Projects/kdeconnect-ios-test/Pods/XbICalendar/libical/lib/libical.a(icalcomponent.c.o)&apos; does not contain bitcode. You must rebuild it with bitcode enabled (Xcode setting ENABLE_BITCODE), obtain an updated library from the vendor, or disable bitcode for this target. for architecture arm64 Bitcode ÂèØËÉΩÊòØ‰∏Ä‰∏™Êñ∞ÁöÑÁâπÊÄßÔºå‰ΩÜÁõÆÂâçÊù•ËØ¥ÊàëÊÉ≥Â∞ΩÂø´Â∞Ü KDE Connect iOS ÊûÑÂª∫Ëµ∑Êù•„ÄÇÂõ†Ê≠§ÊàëÂú® Build Settings-&gt;Build Options ‰∏≠Á¶ÅÁî®‰∫ÜÂÆÉÔºö ÈìæÊé• WebKit Â∫ì Âè¶‰∏Ä‰∏™ÈóÆÈ¢òÊòØ‰∏é WebKit ÊúâÂÖ≥ÁöÑÔºö 1Undefined symbols for architecture arm64: &quot;_OBJC_CLASS_$_WKWebView&quot; ÁúãËµ∑Êù•ÊòØÂõ†‰∏∫ WebKit Ê°ÜÊû∂Ê≤°ÊúâË¢´Âä†ÂÖ•Âà∞È°πÁõÆ‰∏≠„ÄÇÊâÄ‰ª•ÔºåÂèØ‰ª•Âú® Build Phases-&gt;Link Binary with Libraries Â∞ÜÂÖ∂Âä†ÂÖ•Ôºö Êñá‰ª∂Êú™ÊâæÂà∞(Pods-acknowledgements.plist, Pods-resources.sh) ÊúÄÁªàÔºåÂΩì‰∏ÄÂàáÈÉΩÂÆåÊàêÊûÑÂª∫ÔºåÂèà‰∏Ä‰∏™ÈóÆÈ¢òÂá∫Áé∞Ôºö 1Pods/Pods-acknowledgements.plist:0: Reading data: The file ‚ÄúPods-acknowledgements.plist‚Äù couldn‚Äôt be opened because there is no such file. ËøôÂèØËÉΩÊòØÂõ†‰∏∫ CocoaPod ÁâàÊú¨ÂØºËá¥ÁöÑ‰∏çÂÖºÂÆπÈóÆÈ¢ò„ÄÇÊàëÊää Pods/Target Support Files/Pods-kdeconnect-ios ‰∏≠ÂØπÂ∫îÁöÑÊñá‰ª∂Â§çÂà∂Âà∞ Pods/ ÈáåÊù•‰øÆÂ§çÔºö 12cp Pods-kdeconnect-ios-acknowledgements.plist ../../Pods-acknowledgements.plistcp Pods-kdeconnect-ios-resources.sh ../../Pods-resources.sh ÊúÄÁªàÔºåÁ®ãÂ∫èÁªà‰∫éÊûÑÂª∫ÊàêÂäüÂπ∂Âú®ËÆæÂ§á‰∏äËøêË°å‰∫Ü üòÉ","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/categories/KDE-Connect/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/tags/KDE-Connect/"}]},{"title":"KDE Connect iOS Develop Dairy(1) Build","slug":"KDEConnect-iOS-dev-dairy-1","date":"2020-04-18T21:43:50.000Z","updated":"2022-05-09T18:41:39.470Z","comments":true,"path":"2020/04/18/KDEConnect-iOS-dev-dairy-1/","link":"","permalink":"https://blog.inoki.cc/2020/04/18/KDEConnect-iOS-dev-dairy-1/","excerpt":"","text":"Handle Dependencies The project uses CocoaPods to manage its dependencies: WHAT IS COCOAPODS CocoaPods is a dependency manager for Swift and Objective-C Cocoa projects. It has over 72 thousand libraries and is used in over 3 million apps. CocoaPods can help you scale your projects elegantly. The CocoaPods file is Podfile, which describes the iOS version (7.0) to use, and the dependencies name, version, and source: 1234567platform :ios, &apos;7.0&apos;pod &apos;CocoaAsyncSocket&apos;, &apos;~&gt; 7.3.5&apos;pod &apos;MRProgress&apos;pod &apos;InAppSettingsKit&apos;, &apos;~&gt; 2.1&apos;pod &apos;VTAcknowledgementsViewController&apos;pod &apos;XbICalendar&apos;, :podspec =&gt; &apos;https://raw.githubusercontent.com/libical/XbICalendar/master/XbICalendar.podspec&apos;pod &apos;MYBlurIntroductionView&apos; The first step to build it is installing the dependencies. After installing CocoaPods, I ran pod install and got some errors: 12345678910111213141516171819202122232425262728$ pod installAnalyzing dependenciesFetching podspec for `XbICalendar` from `https://raw.githubusercontent.com/libical/XbICalendar/master/XbICalendar.podspec`Downloading dependenciesInstalling CocoaAsyncSocket (7.3.5)Installing InAppSettingsKit (2.15)Installing MRProgress (0.8.3)Installing MYBlurIntroductionView (1.0.3)Installing VTAcknowledgementsViewController (1.5.2)Installing XbICalendar (0.3.3)Generating Pods projectIntegrating client projects[!] Could not automatically select an Xcode workspace. Specify one in your Podfile like so: workspace &apos;path/to/Workspace.xcworkspace&apos;[!] The abstract target Pods is not inherited by a concrete target, so the following dependencies won&apos;t make it into any targets in your project: - CocoaAsyncSocket (~&gt; 7.3.5) - InAppSettingsKit (~&gt; 2.1) - MRProgress - MYBlurIntroductionView - VTAcknowledgementsViewController - XbICalendar (from `https://raw.githubusercontent.com/libical/XbICalendar/master/XbICalendar.podspec`)[!] The platform of the target `Pods` (iOS 7.0) may not be compatible with `InAppSettingsKit (2.15)` which has a minimum requirement of iOS 8.0.[!] The platform of the target `Pods` (iOS 7.0) may not be compatible with `VTAcknowledgementsViewController (1.5.2)` which has a minimum requirement of iOS 8.0 - tvOS 9.0. There are some bugs to fix üòÉ Bugfix 123[!] Could not automatically select an Xcode workspace. Specify one in your Podfile like so: workspace &apos;path/to/Workspace.xcworkspace&apos; In this project, the .xcworkspace file is kdeconnect-ios.xcworkspace. So, I add workspace 'kdeconnect-ios' into the file. 123[!] The platform of the target `Pods` (iOS 7.0) may not be compatible with `InAppSettingsKit (2.15)` which has a minimum requirement of iOS 8.0.[!] The platform of the target `Pods` (iOS 7.0) may not be compatible with `VTAcknowledgementsViewController (1.5.2)` which has a minimum requirement of iOS 8.0 - tvOS 9.0. The target OS version should be updated. I directly update it to platform :ios, '12.0'. 12[!] The abstract target Pods is not inherited by a concrete target, so the following dependencies won&apos;t make it into any targets in your project: ... This message indicates that the pods(dependencies) do not have a target; according to the CocoaPod doc, I should add target &quot;kdeconnect-ios&quot; and wrap all the pods with a do ... end body. Final Podfile As a result, the Podfile should be: 123456789101112workspace &apos;kdeconnect-ios&apos;target &quot;kdeconnect-ios&quot; doplatform :ios, &apos;12.0&apos;pod &apos;CocoaAsyncSocket&apos;, &apos;~&gt; 7.3.5&apos;pod &apos;MRProgress&apos;pod &apos;InAppSettingsKit&apos;, &apos;~&gt; 2.1&apos;pod &apos;VTAcknowledgementsViewController&apos;pod &apos;XbICalendar&apos;, :podspec =&gt; &apos;https://raw.githubusercontent.com/libical/XbICalendar/master/XbICalendar.podspec&apos;pod &apos;MYBlurIntroductionView&apos;end After fixing, the output seems normal: 123456$ pod installAnalyzing dependenciesDownloading dependenciesGenerating Pods projectIntegrating client projectPod installation complete! There are 6 dependencies from the Podfile and 6 total pods installed. Build with XCode Without error in installing dependencies, it is possible to open and build it with XCode (though it could be the worst IDE in the world). Identifier The first issue occurred while I click Build: 12Failed to register bundle identifier.The app identifier &quot;application-identifier&quot; cannot be registered to your development team. Change your bundle identifier to a unique string to try again. Apple wants to generate a self-signed certificate for my Apple account and the application. But it cannot handle the identifier. I change it to org.kde.kdeconnect.ios and click Try again. It works. Multiple commands produce Then, rebuild. And another one came out: 123Multiple commands produce &apos;/Users/inoki/Library/Developer/Xcode/DerivedData/kdeconnect-ios-hhcvmcgjatxxdugxbjbrwgotfgna/Build/Products/Debug-iphoneos/kdeconnect-ios.app/zh-Hans.lproj/Localizable.strings&apos;:1) Target &apos;kdeconnect-ios&apos; (project &apos;kdeconnect-ios&apos;) has copy command from &apos;/Users/inoki/Projects/kdeconnect-ios-test/kdeconnect-ios/zh-Hans.lproj/Localizable.strings&apos; to &apos;/Users/inoki/Library/Developer/Xcode/DerivedData/kdeconnect-ios-hhcvmcgjatxxdugxbjbrwgotfgna/Build/Products/Debug-iphoneos/kdeconnect-ios.app/zh-Hans.lproj/Localizable.strings&apos;2) Target &apos;kdeconnect-ios&apos; (project &apos;kdeconnect-ios&apos;) has copy command from &apos;/Users/inoki/Projects/kdeconnect-ios-test/kdeconnect-ios/zh-Hans.lproj/Localizable.strings&apos; to &apos;/Users/inoki/Library/Developer/Xcode/DerivedData/kdeconnect-ios-hhcvmcgjatxxdugxbjbrwgotfgna/Build/Products/Debug-iphoneos/kdeconnect-ios.app/zh-Hans.lproj/Localizable.strings&apos; To fix it, I refer this GitHub issue and change the build system to the legacy one: Missing header After that, another error occurs: 1kdeconnect-ios/AppSettingViewController.m:27:9: &apos;IASKPSTitleValueSpecifierViewCell.h&apos; file not found This may be an update of one dependency; remove this import line: 1#import &quot;IASKPSTitleValueSpecifierViewCell.h&quot; Link error, disable Bitcode I rebuilt it, but another one came‚Ä¶ 1ld: &apos;/Users/inoki/Projects/kdeconnect-ios-test/Pods/XbICalendar/libical/lib/libical.a(icalcomponent.c.o)&apos; does not contain bitcode. You must rebuild it with bitcode enabled (Xcode setting ENABLE_BITCODE), obtain an updated library from the vendor, or disable bitcode for this target. for architecture arm64 Bitcode may be a feature, but I want to get it to build as soon as possible. So, I disable it in Build Settings-&gt;Build Options: Link with WebKit Another link error occurs. It is about the WebView stuff: 1Undefined symbols for architecture arm64: &quot;_OBJC_CLASS_$_WKWebView&quot; It seems that the WebKit framework is not included in the project. So, add it in Build Phases-&gt;Link Binary with Libraries: File(Pods-acknowledgements.plist, Pods-resources.sh) not found Finally, at the end of building phases, the error came out: 1Pods/Pods-acknowledgements.plist:0: Reading data: The file ‚ÄúPods-acknowledgements.plist‚Äù couldn‚Äôt be opened because there is no such file. This could be an error caused by CocoaPod version. To fix it, copy the files in Pods/Target Support Files/Pods-kdeconnect-ios to Pods/: 12cp Pods-kdeconnect-ios-acknowledgements.plist ../../Pods-acknowledgements.plistcp Pods-kdeconnect-ios-resources.sh ../../Pods-resources.sh Finally, it works üòÉ","categories":[{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/categories/KDE-Connect/"}],"tags":[{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/tags/KDE-Connect/"}]},{"title":"KDE Connect iOS Develop Dairy(0) Index","slug":"KDEConnect-iOS-dev-dairy-0","date":"2020-04-18T10:34:50.000Z","updated":"2022-05-09T18:41:39.466Z","comments":true,"path":"2020/04/18/KDEConnect-iOS-dev-dairy-0/","link":"","permalink":"https://blog.inoki.cc/2020/04/18/KDEConnect-iOS-dev-dairy-0/","excerpt":"","text":"Preface Thanks to the previous work on KDE Connect for iOS, there is a not bad codebase on KDE git. This serie of blogs aims in bringing KDE Connect back to the iOS platform. You could check the progress here. Context KDE Connect iOS Develop Dairy(1) Build KDE Connect iOS Develop Dairy(2) Identity Protocol KDE Connect iOS Develop Dairy(3) Certificate ‚Ä¶Under Construction Preview Here are some screenshots:","categories":[{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/categories/KDE-Connect/"}],"tags":[{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/tags/KDE-Connect/"}]},{"title":"KDE Connect iOS ÂºÄÂèëÊó•ËÆ∞(0) Á¥¢Âºï","slug":"KDEConnect-iOS-dev-dairy-ZHCN-0","date":"2020-04-18T10:34:50.000Z","updated":"2022-05-09T18:41:39.470Z","comments":true,"path":"2020/04/18/KDEConnect-iOS-dev-dairy-ZHCN-0/","link":"","permalink":"https://blog.inoki.cc/2020/04/18/KDEConnect-iOS-dev-dairy-ZHCN-0/","excerpt":"","text":"ÂâçË®Ä ÊÑüË∞¢ÂÖàÂâçÁ§æÂå∫ÂÜÖÂºÄÂèëËÄÖÁöÑÂä™ÂäõÔºåKDE Connect iOS ÁâàÊú¨Â∑≤ÁªèÊúâ‰∫Ü‰∏ÄÂÆöÈáèÁöÑ‰ª£Á†ÅÔºåÂèØ‰ª•Âú® KDE git ‰∏äÊâæÂà∞„ÄÇËøô‰∏™Á≥ªÂàóÂçöÂÆ¢Ëá¥Âäõ‰∫éËÆ∞ÂΩïÊàëÂ¶Ç‰ΩïÂ∞Ü KDE Connect ÈáçÊñ∞Â∏¶Âõû iOS Âπ≥Âè∞„ÄÇ ÁõÆÂΩï KDE Connect iOS ÂºÄÂèëÊó•ËÆ∞(1) ÊûÑÂª∫ KDE Connect iOS ÂºÄÂèëÊó•ËÆ∞(2) ËØÜÂà´ÂçèËÆÆ KDE Connect iOS ÂºÄÂèëÊó•ËÆ∞(3) ËØÅ‰π¶ ‚Ä¶Ââ©‰ΩôÈÉ®ÂàÜ‰ªçÂú®ÊûÑÂª∫‰∏≠ È¢ÑËßà Âú®ËøôÈáåÂèØ‰ª•ÁúãÂà∞ÁõÆÂâçËøõÂ∫¶ÁöÑÊà™Âõæ:","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/categories/KDE-Connect/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"KDE Connect","slug":"KDE-Connect","permalink":"https://blog.inoki.cc/tags/KDE-Connect/"}]},{"title":"Âú® Ubuntu 18.04 ÊûÑÂª∫ Intelligent Input Bus (IBus)","slug":"Build-iBus","date":"2020-02-29T10:40:00.000Z","updated":"2022-05-09T18:41:39.442Z","comments":true,"path":"2020/02/29/Build-iBus/","link":"","permalink":"https://blog.inoki.cc/2020/02/29/Build-iBus/","excerpt":"","text":"ÁÆÄ‰ªã Intelligent Input BusÔºåÁÆÄÁß∞IBusÔºåÊòØ Unix-like Êìç‰ΩúÁ≥ªÁªü‰∏ãÁöÑÂ§öËØ≠ËæìÂÖ•Ê≥ïÂπ≥Âè∞„ÄÇÂõ†‰∏∫ÂÆÉÈááÁî®‰∫ÜÊÄªÁ∫øÔºàBusÔºâÂºèÁöÑÊû∂ÊûÑÔºåÊâÄ‰ª•ÂëΩÂêç‰∏∫Bus„ÄÇ Âú®‰∏úÂåó‰∫öÂºÄÊ∫êËΩØ‰ª∂ÔºàOSSÔºâËÆ∫ÂùõÁ¨¨3Â∑•‰ΩúÂ∞èÁªÑÊèêÂá∫ÁöÑ„ÄäËæìÂÖ•Ê≥ïÂºïÊìéÊúçÂä°Êèê‰æõËÄÖÁïåÈù¢ËßÑÊ†º„ÄãÔºàSpecification of IM engine Service Provider InterfaceÔºâËçâÊ°àÈáåÔºåËÉΩÂÆûÁé∞‰ª• Bus ‰∏∫Ê†∏ÂøÉÁöÑÊû∂ÊûÑË¢´Âª∫ËÆÆÈááÁî®„ÄÇSCIM-1.4 ÁöÑÊû∂ÊûÑÂπ∂‰∏çË¢´ÁúãÂ•ΩÔºåÂõ†‰∏∫ÂÆÉÊòØÁî® C++ ÂºÄÂèëÁöÑÔºåÂõ†Ê≠§Â∏∏Â∏∏‰ºöÊúâC++Â∫îÁî®‰∫åËøõÂà∂Êé•Âè£‰∏çÁ¨¶ÂêàÁöÑÊÉÖÂÜµÂèëÁîü„ÄÇ ‰ªéÈÇ£Êó∂Ëµ∑Ôºå‰∏Ä‰∫õ‰∫∫ÂºÄÂßãÁùÄÊâãÂºÄÂèë‰∏ã‰∏Ä‰ª£ÁöÑËæìÂÖ•Ê≥ïÂπ≥Âè∞ÔºåÂÉèÊòØËãèÂì≤È¢ÜÂØºÁöÑIM-BusÔºå‰ª•ÂèäËÉ°Ê≠£ÁöÑSCIM-2ÔºåÂèØÊÉúÁöÑÊòØÂÆÉ‰ª¨ÁöÑÂºÄÂèëËøõÂ∫¶‰ªçÁÑ∂ÂÅúÊªû‰∏çÂâç„ÄÇÂõ†Ê≠§ÔºåÊó∂‰ªªÁ∫¢Â∏ΩÔºàÁé∞‰ªªË∞∑Ê≠åÔºâÁöÑÈªÑÈπèÂºÄÂßãÁî® Python ÂºÄÂèë IBus ‰ª•ÂÆûÁé∞ IM-Bus ÊèêÂá∫ÁöÑÊûÑÊÉ≥„ÄÇIBus Âπ∂‰∏çÂÆåÂÖ®ÂÆûÁé∞‰∏úÂåó‰∫ö OSS ËÆ∫ÂùõÊâÄÂª∫ËÆÆÁöÑÂáΩÊï∞ÔºåËÄåÊòØÈááÁî®D-BusÂèäGlibÊù•ÂÆûÂÅö„ÄÇÂ∞ΩÁÆ°Â¶ÇÊ≠§ÔºåIBus Â∑≤ÁªèÂºÄÂßãË¢´ OSS Á§æÁæ§ÊâÄÊé•ÂèóÔºåFreeBSD ‰ª•ÂèäÂêÑÂ§ß Linux ÂèëË°åÁâà Â¶Ç Fedora„ÄÅUbuntu Â∑≤ÁªèÂ∞Ü IBus Á∫≥ÂÖ•ÂÖ∂ÂåÖÂ∫ìÈáå„ÄÇÂú® Fedora 11 ÈáåÔºåIBus Â∑≤ÁªèÊàê‰∏∫ÈªòËÆ§ÁöÑÂ§öËØ≠ËæìÂÖ•Âπ≥Âè∞„ÄÇ IBus ÊòØÁî® C Âèä Python ÂºÄÂèëÁöÑÔºåÂ¶ÇÊ≠§ÂèØ‰ª•ÈÅøÂÖç C++ ABI transition ÈóÆÈ¢ò„ÄÇIBus ‰∏ªË¶ÅÈÄèËøá‰∏ãÂàó‰∏âÁßçÊúçÂä°(Service)Êù•Êèê‰æõÂäüËÉΩÔºö ËæìÂÖ•Ê≥ïÂºïÊìéÊúçÂä°Ôºö‰∏∫ËæìÂÖ•Ê≥ïÊú¨Ë∫´„ÄÇ ÈÖçÁΩÆÊúçÂä°ÔºöÁÆ°ÁêÜIBus‰ª•ÂèäËæìÂÖ•Ê≥ïÁöÑËÆæÁΩÆÈÄâÈ°π„ÄÇ ÊéßÂà∂Èù¢ÊùøÊúçÂä°ÔºöÊèê‰æõËØ∏Â¶ÇËØ≠Ë®ÄÊù°ÔºåÂÄôÈÄâÂ≠óËèúÂçïÁ≠âÁî®Êà∑ÁïåÈù¢„ÄÇ IBus ‰ΩøÁî® D-Bus ‰Ωú ibus-daemonÊúçÂä°Ôºå‰ª•Âèä IMÂÆ¢Êà∑Á´ØÔºàÂÉèÊòØkonsole, gedit, firefox)‰πãÈó¥ÁöÑÊ≤üÈÄö„ÄÇ ibus-daemon ÈÄèËøáÊé•ÂèóÊúçÂä°ÁôªÂΩïÔºå‰ª•ÂèäÂèëÈÄÅ D-Bus Ê∂àÊÅØÊù•ÁÆ°ÁêÜÊúçÂä°ÂèäIMÂÆ¢Êà∑Á´Ø„ÄÇIBusÊîØÊåÅ XIM ÂçèËÆÆÂèä Gtk IM Ê®°Âùó‰ª•Âèä Qt IM Ê®°Âùó„ÄÇ È°πÁõÆÊâòÁÆ°Âú® GitHub IBus ÁªÑÁªá‰∏ã https://github.com/ibus/ibus„ÄÇ ÊûÑÂª∫ È¶ñÂÖàÔºåËé∑ÂèñÊúÄÊñ∞ÁöÑÊ∫ê‰ª£Á†ÅÔºåÂπ∂ËøõÂÖ•ÂÖ∂ÁõÆÂΩïÔºö 12git clone https://github.com/ibus/ibus.gitcd ibus ÁõÆÂâçËøôÈáå‰ΩøÁî®ÁöÑÊòØ master ÂàÜÊîØ‰∏äÁöÑ‰ª£Á†ÅÔºåÊúâÊó∂ËØ•ÂàÜÊîØÂèØËÉΩÂπ∂‰∏çÁ®≥ÂÆö„ÄÇÂèØ‰ª•‰ΩøÁî®‰∏Ä‰∏™ release ÂàÜÊîØÊàñÊ†áÁ≠æÁöÑ‰ª£Á†ÅÊù•ÊûÑÂª∫Ôºå‰ª•ÈÅøÂÖç‰∏Ä‰∫õÂ•áÊÄ™ÁöÑÈîôËØØ„ÄÇËøôÈáåÊàë‰ΩøÁî® 1.5.y ÂàÜÊîØÁöÑ‰ª£Á†ÅÔºö 1git checkout -b 1.5.y origin/1.5.y ‰ΩøÁî®ËÑöÊú¨Ë∞ÉÁî® auto configure Â∑•ÂÖ∑ÈìæÔºåÊù•ÁîüÊàê Makefile Êñá‰ª∂ 1./autogen.sh --prefix=/usr --sysconfdir=/etc ËøôÊó∂ÔºåÂ¶ÇÊûúÊúâÈîôËØØÔºåËØ¥ÊòéÊúâ‰∫õ‰æùËµñÂπ∂Ê≤°ÊúâË¢´ÂÆâË£ÖÂú®Á≥ªÁªüÈáåÔºåÈúÄË¶ÅÁî®Êà∑ÊâãÂä®ÂÆâË£ÖÔºåËØ∑Áúã‰æùËµñÁ´†ËäÇ„ÄÇ Â¶ÇÊûú‰∏ÄÂàáÊ≠£Â∏∏ÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Áî® make ËøõË°åÊûÑÂª∫ÂíåÂÆâË£Ö‰∫ÜÔºö 1make &amp;&amp; sudo make install Â¶ÇÊûúÊûÑÂª∫Â§±Ë¥•ÔºåËØ∑ÂØπÁÖßÊûÑÂª∫Êó∂‰æùËµñÁõ∏ÂÖ≥ÈóÆÈ¢ò„ÄÇ ÂÆåÊàê‰πãÂêéËøêË°å‰∏Ä‰∏ãÔºö 1ibus-setup Âú® IBus ÁöÑ‰ª£Á†ÅÈáåÔºåÊúâ‰∏Ä‰∏™ simple engine ËæìÂÖ•ÂºïÊìéÊúçÂä°ÔºåÂÆÉ‰∏çÊèê‰æõ‰ªª‰ΩïÁúüÂÆûÁöÑËæìÂÖ•ÂäüËÉΩÔºåÂè™ÊòØÊääÊ°åÈù¢ÁéØÂ¢ÉÊîØÊåÅÁöÑÂêÑÁßçÈîÆÁõòÂ∏ÉÂ±ÄÊòæÁ§∫Âá∫Êù•ÔºåÊàë‰ª¨ÂèØ‰ª•Áî®ÂÆÉÊ£ÄÊµã IBus ÊòØÂê¶ÊàêÂäüÊûÑÂª∫Ôºö Ëã•Ê≤°ÊúâËøô‰∫õÈîÆÁõòÂ∏ÉÂ±ÄÔºåÂèØËÉΩ ibus-daemon Âá∫‰∫Ü‰∫õÈóÆÈ¢òÔºåÂ∞ùËØïËøêË°åÔºö 1ibus-daemon Âú®ËøêË°åÊó∂‰æùËµñÁõ∏ÂÖ≥ÈóÆÈ¢ò‰∏≠Êúâ‰∏Ä‰∫õÊàëÈÅáÂà∞ÁöÑÈóÆÈ¢òÔºåÂèØ‰æõÂèÇËÄÉ„ÄÇ ‰πãÂêéÂ∞±ÂèØ‰ª•ÊûÑÂª∫ÊÉ≥Áî®ÁöÑËæìÂÖ•ÊúçÂä°‰∫Ü„ÄÇÊçÆÂÆòÊñπÊñáÊ°£ÔºåÁõÆÂâçÁöÑÂºïÊìéÊúâÔºö ibus-anthy: Êó•ÊñáËæìÂÖ•Ê≥ï„ÄÇ ibus-array: Ë°åÂàóËæìÂÖ•Ê≥ï ibus-bopomofo: ‰ΩøÁî®Ê≥®Èü≥Á¨¶Âè∑ÁöÑÊãºÈü≥ËæìÂÖ•Ê≥ïÔºåÂü∫‰∫éibus-pinyinÂºïÊìéÂºÄÂèëÔºå‰ΩÜËæìÂÖ•ÊñπÂºè‰∏é‰∏ÄËà¨Ê†áÂáÜÊô∫ËÉΩÂΩ¢Ê≥®Èü≥ËæìÂÖ•Ê≥ïÔºàÂ¶ÇÊñ∞ÈÖ∑Èü≥ËæìÂÖ•Ê≥ïÊàñÂæÆËΩØÊñ∞Ê≥®Èü≥Ôºâ‰∏çÂêå„ÄÇ ibus-chewing: Êñ∞ÈÖ∑Èü≥ËæìÂÖ•Ê≥ïÔºåÊô∫ËÉΩÂΩ¢Ê≥®Èü≥ËæìÂÖ•Ê≥ï„ÄÇ ibus-hangul: Èü©ÊñáËæìÂÖ•Ê≥ï„ÄÇ ibus-kkcÔºöÊó•ÊñáÂÅáÂêçÊ±âÂ≠óËΩ¨Êç¢ËæìÂÖ•Ê≥ï„ÄÇ ibus-m17n: ‰ΩøÁî®m17n-dbÁöÑÂ§öËØ≠ËæìÂÖ•Ê≥ï„ÄÇ ibus-pinyin: ÊãºÈü≥ËæìÂÖ•Ê≥ïÔºå‰∏∫IBus‰∏ªË¶ÅÂºÄÂèëËÄÖÊâÄÂºÄÂèë„ÄÇ ibus-libpinyin: ÊòØ Red Hat Â∑•Á®ãÂ∏à‰∏ªÂØº„ÄÅÂü∫‰∫é n-gram ËØ≠Ë®ÄÊ®°ÂûãÁöÑÈõÜÊàêÊÄßÊ≥õÊãºÈü≥ËæìÂÖ•Ê≥ïÂºïÊìé„ÄÇ ibus-libzhuyin: ‰∏é ibus-libpinyin Á≥ªÂá∫ÂêåÊ∫êÔºåÊîØÊåÅÊ≥®Èü≥Á¨¶Âè∑ËæìÂÖ•ÔºåÂêç‰∏∫‚ÄúÊñ∞Ê≥®Èü≥‚Äù(New Zhuyin) ËæìÂÖ•Ê≥ïÔºåÊòØÊô∫ËÉΩÂΩ¢ÁöÑÊ≥®Èü≥ËæìÂÖ•Ê≥ï„ÄÇ ibus-table: Á†ÅË°®ËæìÂÖ•ÂºïÊìé„ÄÇ ibus-googlepinyin: GoogleÊãºÈü≥ËæìÂÖ•Ê≥ïÁöÑibusÁâàÊú¨ÔºàËøô‰∏™Âπ∂‰∏çÊòØÂÆòÊñπÁöÑGoogleËæìÂÖ•Ê≥ïÔºåËÄåÊòØÁî±Áà±Â•ΩËÄÖ‰ªéAndroidÈ°πÁõÆ‰∏äËøÅÁßªËøáÊù•Ôºâ ‰æùËµñ ÊúÄÂü∫Á°ÄÁöÑ‰æùËµñÊòØ D-Bus ÂèäÂÖ∂ Python ÁªëÂÆöÔºåÂú® Ubuntu ÈáåÔºåËøô‰∫õ‰ª•Êù•Â∫îËØ•ÊòØÂ∑≤ÁªèË¢´È¢ÑÁΩÆÂú®Ê°åÈù¢ÁâàÊú¨ÁöÑÁ≥ªÁªü‰∏≠‰∫ÜÔºö 123python &gt;= 2.5dbus-glib &gt;= 0.74dbus-python &gt;= 0.83.0 ÂÆòÊñπÊñáÊ°£ËøòÊé®ËçêÂÆâË£Öqt &gt;= 4.4.0ÔºåËøôÊòØ‰∏∫‰∫ÜËÆ© IBus ËÉΩÂíå Qt ÁöÑ IM Âçè‰ΩúÔºåËøô‰∏™‰æùËµñÂØπ‰∫é‰ΩøÁî® Qt ÁöÑÂ∫îÁî®Á®ãÂ∫èÔºàÂ¶Ç‰ΩøÁî®ÁöÑÊ°åÈù¢ÁéØÂ¢ÉÊòØKDEÔºâÊù•ËØ¥ÊòØËá≥ÂÖ≥ÈáçË¶ÅÁöÑ„ÄÇ‰ΩÜÂú® Ubuntu 18.04 ‰∏≠Ôºå Gnome Ë¢´‰Ωú‰∏∫ÈªòËÆ§ÁöÑÊ°åÈù¢ÁéØÂ¢ÉÔºåÂõ†Ê≠§ÔºåÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈúÄË¶ÅÊù•ÈÖçÁΩÆ„ÄÇ ÊûÑÂª∫Êó∂‰æùËµñÁõ∏ÂÖ≥ÈóÆÈ¢ò Ê†πÊçÆÊàëÁöÑÁªèÂéÜÔºå‰ª•‰∏ãËøô‰∫õÊòØÊàëÂú® Ubuntu 18.04 ‰∏äÈÖçÁΩÆÊúüÈó¥ÈÅáÂà∞ÁöÑÈóÆÈ¢òÔºö ÈÖçÁΩÆÊúüÈó¥ÔºåÊèêÁ§∫Êú™ÊâæÂà∞ gnome-autogen.shÔºöÂÆâË£Ö gnome-common ÈÖçÁΩÆÊúüÈó¥ÔºåÊèêÁ§∫Êú™ÊâæÂà∞ gtk-docÔºöÂÆâË£Ö gtk-doc ÈÖçÁΩÆÊúüÈó¥ÔºåÊèêÁ§∫Êú™ÊâæÂà∞ gtk¬±2.0ÔºöÂÆâË£Ö libgtk2.0-dev ÈÖçÁΩÆÊúüÈó¥ÔºåÊèêÁ§∫Êú™ÊâæÂà∞ gtk¬±3.0ÔºöÂÆâË£Ö libgtk-3-dev ÈÖçÁΩÆÊúüÈó¥ÔºåÊèêÁ§∫Êú™ÊâæÂà∞ dconfÔºöÂÆâË£Ö libdconf-dev ÈÖçÁΩÆÊúüÈó¥ÔºåÊèêÁ§∫Êú™ÊâæÂà∞ emoji-test.txtÔºöÂÆâË£Ö unicode-data ÈÖçÁΩÆÊúüÈó¥ÔºåÊèêÁ§∫Êú™ÊâæÂà∞ annotations/en.xmlÔºöÂÆâË£Ö unicode-cldr-core ÈÖçÁΩÆÊúüÈó¥ÔºåÊèêÁ§∫Êú™ÊâæÂà∞ unicode/ucd/NamesList.txtÔºöÂàõÂª∫‰∏Ä‰∏™Á¨¶Âè∑ÈìæÊé• unicode/NamesList.txt -&gt; unicode/ucd/NamesList.txt (unicode-data ÂåÖÂ∑≤ÂÆâË£Ö) ÈÖçÁΩÆÊúüÈó¥ÔºåÊèêÁ§∫Êú™ÊâæÂà∞ unicode/ucd/Blocks.txtÔºöÂàõÂª∫‰∏Ä‰∏™Á¨¶Âè∑ÈìæÊé• unicode/Blocks.txt -&gt; unicode/ucd/Blocks.txt (unicode-data ÂåÖÂ∑≤ÂÆâË£Ö) ÁºñËØëÊúüÈó¥ÔºåÊèêÁ§∫Êú™ÊâæÂà∞ valacÔºöÂÆâË£Ö valac-0.40-vapi, valac-0.40-dev ÁºñËØëÊúüÈó¥ÔºåÊèêÁ§∫ Vala bindings require Gobject IntrospectionÔºöÂÆâË£Ö libgirepository1.0-dev ËøêË°åÊó∂‰æùËµñÁõ∏ÂÖ≥ÈóÆÈ¢ò ibus_serializable_serialize_object Á¨¶Âè∑Êú™ÊâæÂà∞ ÊàëÂú®ËøêË°å ibus-daemon Êó∂ÈÅáÂà∞‰∫Ü Not found symbol ibus_serializable_serialize_object ÁöÑÊä•Èîô„ÄÇ Ê†πÊçÆÂàÜÊûêÔºåÊòØ libibus-1.0.so Ë¢´ÂÆâÈîô‰∫ÜÂú∞ÊñπÔºö ibus-daemon ÈìæÊé•Âà∞ /usr/lib/x86_64-linux-gnu/libibus-1.0.so.5ÔºåËøô‰∏™Êñá‰ª∂ÊòØ‰∏™Á¨¶Âè∑ÈìæÊé•ÔºåÊåáÂêëÁúüÊ≠£ÁöÑ so Êñá‰ª∂„ÄÇËÄåÂú®ÊàëÁöÑÁîµËÑëÂÆÉÊåáÂêë‰∫Ü‰∏ä‰πãÂâçÁöÑÂåÖÁÆ°ÁêÜÂô®ÂÆâË£ÖÁöÑ so ÁâàÊú¨Ôºå‰∫éÊòØÂ∞±Âá∫Áé∞ ABI ‰∏çÂÖºÂÆπÁöÑÈóÆÈ¢òÔºåÊèêÁ§∫Êâæ‰∏çÂà∞ symbol„ÄÇ Ê†πÊçÆ logÔºåÂÆâË£ÖËÑöÊú¨ÈáåÁöÑÁ°ÆÂÆâË£Ö‰∫ÜÊñ∞ÁâàÊú¨ÁöÑ so Âπ∂‰∏îÂ§ÑÁêÜ‰∫ÜÊåáÂêëÔºåÂè™ÊòØÂÆÉË¢´ÂÆâÂú®‰∫Ü /usr/lib„ÄÇ‰∫éÊòØÊàëÊää /usr/lib/x86_64-linux-gnu/libibus-1.0.so.5 ÊåáÂêëÊîπ‰∏∫‰∫ÜÊñ∞ÂÆâË£ÖÁöÑ so Êñá‰ª∂ÔºåÂÜçÊ¨°ËøêË°åÔºå‰∏ÄÂàáÊ≠£Â∏∏„ÄÇ","categories":[{"name":"Build","slug":"Build","permalink":"https://blog.inoki.cc/categories/Build/"}],"tags":[{"name":"IBus","slug":"IBus","permalink":"https://blog.inoki.cc/tags/IBus/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://blog.inoki.cc/tags/Ubuntu/"}]},{"title":"Visual Studio Code c/cpp configuration","slug":"VSCode-c-cpp-configuration","date":"2020-01-05T08:40:40.000Z","updated":"2022-05-09T18:41:39.490Z","comments":true,"path":"2020/01/05/VSCode-c-cpp-configuration/","link":"","permalink":"https://blog.inoki.cc/2020/01/05/VSCode-c-cpp-configuration/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121&#123; \"configurations\": [ &#123; \"name\": \"Craft-KDE\", \"includePath\": [ \"$&#123;workspaceFolder&#125;/**\", \"/usr/local/include\", \"/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX.sdk/usr/include\", \"&lt;CraftRoot-Path&gt;/include\", \"&lt;CraftRoot-Path&gt;/include/KF5/KActivities\", \"&lt;CraftRoot-Path&gt;/include/KF5/KActivitiesStats\", \"&lt;CraftRoot-Path&gt;/include/KF5/KArchive\", \"&lt;CraftRoot-Path&gt;/include/KF5/KAuth\", \"&lt;CraftRoot-Path&gt;/include/KF5/KBookmarks\", \"&lt;CraftRoot-Path&gt;/include/KF5/KCMUtils\", \"&lt;CraftRoot-Path&gt;/include/KF5/KCodecs\", \"&lt;CraftRoot-Path&gt;/include/KF5/KCompletion\", \"&lt;CraftRoot-Path&gt;/include/KF5/KConfigCore\", \"&lt;CraftRoot-Path&gt;/include/KF5/KConfigGui\", \"&lt;CraftRoot-Path&gt;/include/KF5/KConfigWidgets\", \"&lt;CraftRoot-Path&gt;/include/KF5/KContacts\", \"&lt;CraftRoot-Path&gt;/include/KF5/KCoreAddons\", \"&lt;CraftRoot-Path&gt;/include/KF5/KCrash\", \"&lt;CraftRoot-Path&gt;/include/KF5/KDBusAddons\", \"&lt;CraftRoot-Path&gt;/include/KF5/KDELibs4Support\", \"&lt;CraftRoot-Path&gt;/include/KF5/KDEWebKit\", \"&lt;CraftRoot-Path&gt;/include/KF5/KDNSSD\", \"&lt;CraftRoot-Path&gt;/include/KF5/KDeclarative\", \"&lt;CraftRoot-Path&gt;/include/KF5/KDocTools\", \"&lt;CraftRoot-Path&gt;/include/KF5/KEmoticons\", \"&lt;CraftRoot-Path&gt;/include/KF5/KFileMetaData\", \"&lt;CraftRoot-Path&gt;/include/KF5/KGlobalAccel\", \"&lt;CraftRoot-Path&gt;/include/KF5/KGuiAddons\", \"&lt;CraftRoot-Path&gt;/include/KF5/KHolidays\", \"&lt;CraftRoot-Path&gt;/include/KF5/KHtml\", \"&lt;CraftRoot-Path&gt;/include/KF5/KI18n\", \"&lt;CraftRoot-Path&gt;/include/KF5/KIOCore\", \"&lt;CraftRoot-Path&gt;/include/KF5/KIOFileWidgets\", \"&lt;CraftRoot-Path&gt;/include/KF5/KIOGui\", \"&lt;CraftRoot-Path&gt;/include/KF5/KIOWidgets\", \"&lt;CraftRoot-Path&gt;/include/KF5/KIconThemes\", \"&lt;CraftRoot-Path&gt;/include/KF5/KIdleTime\", \"&lt;CraftRoot-Path&gt;/include/KF5/KItemModels\", \"&lt;CraftRoot-Path&gt;/include/KF5/KItemViews\", \"&lt;CraftRoot-Path&gt;/include/KF5/KJobWidgets\", \"&lt;CraftRoot-Path&gt;/include/KF5/KJsEmbed\", \"&lt;CraftRoot-Path&gt;/include/KF5/KMediaPlayer\", \"&lt;CraftRoot-Path&gt;/include/KF5/KNewStuff3\", \"&lt;CraftRoot-Path&gt;/include/KF5/KNotifications\", \"&lt;CraftRoot-Path&gt;/include/KF5/KNotifyConfig\", \"&lt;CraftRoot-Path&gt;/include/KF5/KPackage\", \"&lt;CraftRoot-Path&gt;/include/KF5/KParts\", \"&lt;CraftRoot-Path&gt;/include/KF5/KPeople\", \"&lt;CraftRoot-Path&gt;/include/KF5/KPlotting\", \"&lt;CraftRoot-Path&gt;/include/KF5/KPty\", \"&lt;CraftRoot-Path&gt;/include/KF5/KRunner\", \"&lt;CraftRoot-Path&gt;/include/KF5/KService\", \"&lt;CraftRoot-Path&gt;/include/KF5/KStyle\", \"&lt;CraftRoot-Path&gt;/include/KF5/KSyntaxHighlighting\", \"&lt;CraftRoot-Path&gt;/include/KF5/KTextEditor\", \"&lt;CraftRoot-Path&gt;/include/KF5/KTextWidgets\", \"&lt;CraftRoot-Path&gt;/include/KF5/KUnitConversion\", \"&lt;CraftRoot-Path&gt;/include/KF5/KWallet\", \"&lt;CraftRoot-Path&gt;/include/KF5/KWidgetsAddons\", \"&lt;CraftRoot-Path&gt;/include/KF5/KWindowSystem\", \"&lt;CraftRoot-Path&gt;/include/KF5/KXmlGui\", \"&lt;CraftRoot-Path&gt;/include/KF5/KXmlRpcClient\", \"&lt;CraftRoot-Path&gt;/include/KF5/Kirigami2\", \"&lt;CraftRoot-Path&gt;/include/KF5/KrossCore\", \"&lt;CraftRoot-Path&gt;/include/KF5/KrossUi\", \"&lt;CraftRoot-Path&gt;/lib/QtConcurrent.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtCore.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtDBus.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtDesigner.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtDesignerComponents.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtGui.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtHelp.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtLocation.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtMacExtras.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtMultimedia.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtMultimediaQuick.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtMultimediaWidgets.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtNetwork.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtOpenGL.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtPositioning.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtPositioningQuick.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtPrintSupport.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtQml.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtQuick.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtQuickControls2.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtQuickParticles.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtQuickShapes.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtQuickTemplates2.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtQuickTest.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtQuickWidgets.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtScript.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtScriptTools.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtSensors.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtSql.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtSvg.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtTest.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtTextToSpeech.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtUiPlugin.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtWebChannel.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtWebKit.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtWebKitWidgets.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtWidgets.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtXml.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/QtXmlPatterns.framework/Headers\", \"&lt;CraftRoot-Path&gt;/lib/qca-qt5.framework/Headers\" ], \"defines\": [\"Q_OS_MAC\", \"Q_OS_MACOS\"], \"macFrameworkPath\": [\"/System/Library/Frameworks\", \"/Library/Frameworks\", \"&lt;CraftRoot-Path&gt;/lib/\"], \"compilerPath\": \"/usr/bin/clang\", \"cStandard\": \"c11\", \"cppStandard\": \"c++17\", \"intelliSenseMode\": \"$&#123;default&#125;\" &#125; ], \"version\": 4&#125;","categories":[{"name":"VSCode","slug":"VSCode","permalink":"https://blog.inoki.cc/categories/VSCode/"}],"tags":[{"name":"VSCode","slug":"VSCode","permalink":"https://blog.inoki.cc/tags/VSCode/"}]},{"title":"FFmpeg Decoding","slug":"FFmpeg-Decoding","date":"2019-12-16T18:42:00.000Z","updated":"2022-05-09T18:41:39.454Z","comments":true,"path":"2019/12/16/FFmpeg-Decoding/","link":"","permalink":"https://blog.inoki.cc/2019/12/16/FFmpeg-Decoding/","excerpt":"","text":"FFmpeg is a complete, cross-platform solution to record, convert and stream audio and video. But on the Internet, almost all tutorials only tell you how to use the FFmpeg with its executables. Although the origin tool ffmpeg executable is good enough, it‚Äôs still good to know how FFmpeg works behind. This serie of posts will explore and build encoders, decoders, filters and other utilities with FFmpeg libraries for you and for myself. In this post, we aim at building a video decoder from scratch. Target To make it simple, we‚Äôre going to build a program: which accepts an argument, as the path of video and the second argument, as the frame index of frames in the video So, we just need a simple main function: 123456789101112int main(int argc, char *argv[])&#123; // argc == 3 // argv[1] - file path // argv[2] - frame index if (argc &lt; 3) &#123; printf(\"Please provide file path and frame index\"); return -1; &#125; return 0;&#125; Read arguments For the file path, we should be able to directly use it to open the file. As a result, we do not need to handle with it. 1234567int frameIndex = 0;frameIndex = atoi(argv[2]);if (frameIndex &lt;= 0) &#123; printf(\"Please provide a positive frame index\"); return -1;&#125; Here we just read the second argument and transfer it to an integer. Read file We have already got the file path, so we can use the function avformat_open_input, defined in libavformat/avformat.h and implemented in libavformat/utils.c, to open and store it into a FFmpeg readable and operatable format. 1int avformat_open_input(AVFormatContext **ps, const char *url, ff_const59 AVInputFormat *fmt, AVDictionary **options); To call it, we need an AVFormatContext instance. For the last two parameters, we just let them NULL. 12345AVFormatContext *pFormatCtx = NULL;// Open video fileif (avformat_open_input(&amp;pFormatCtx, argv[1], NULL, NULL) != 0) return -1; // Couldn't open file Up to now, we have the handle(context) to the file. Find video stream There are several streams in one video file, for example, there is video stream, audio stream. Some has also subtitle stream. We firstly get the stream information, and it will be filled into pFormatCtx-&gt;nb_streams. 12345678910111213// Retrieve stream informationif (avformat_find_stream_info(pFormatCtx, NULL) &lt; 0) return -1; // Couldn't find stream information// Find the first video streamvideoStream = -1;printf(\"Stream counter: %d\\n\", pFormatCtx-&gt;nb_streams);for (i = 0; i &lt; pFormatCtx-&gt;nb_streams; i++) &#123; if (pFormatCtx-&gt;streams[i]-&gt;codec-&gt;codec_type == AVMEDIA_TYPE_VIDEO) &#123; videoStream = i; break; &#125;&#125; Then we try to find out which is the video stream. Codec context As not to destroy the information in the origin video, it‚Äôs better to make a copy to the video. 12345678910111213141516171819202122232425262728293031323334353637AVCodecContext *pCodecCtxOrig = NULL;AVCodecContext *pCodecCtx = NULL;AVCodec *pCodec = NULL;AVCodecParameters *par = NULL;// Allocate memory to store itpar = avcodec_parameters_alloc();// Get a pointer to the codec context for the video streampCodecCtxOrig = pFormatCtx-&gt;streams[videoStream]-&gt;codec;// Find the decoder for the video streampCodec = avcodec_find_decoder(pCodecCtxOrig-&gt;codec_id);if (pCodec == NULL) &#123; fprintf(stderr, \"Unsupported codec!\\n\"); return -1; // Codec not found&#125;else &#123; printf(\"Codec: %s!\\n\", pCodec-&gt;long_name);&#125;// Copy contextpCodecCtx = avcodec_alloc_context3(pCodec);if (avcodec_parameters_from_context(par, pCodecCtxOrig) &lt; 0) &#123; fprintf(stderr, \"Copy param from origin context failed!\\n\"); return -1; // Codec not found&#125;if (avcodec_parameters_to_context(pCodecCtx, par) &lt; 0) &#123; fprintf(stderr, \"Copy param to context failed!\\n\"); return -1; // Codec not found&#125;// Open codecif (avcodec_open2(pCodecCtx, pCodec, NULL) &lt; 0) return -1; // Could not open codec Read frame The core functionnality is here: 12345678910111213141516171819202122232425AVFrame *pFrame = NULL;AVPacket packet;// Allocate video framepFrame = av_frame_alloc();// Read frames and save first five frames to diski = 0;while (av_read_frame(pFormatCtx, &amp;packet) &gt;= 0) &#123; // Is this a packet from the video stream? if (packet.stream_index == videoStream) &#123; // Decode video frame // avcodec_decode_video2(pCodecCtx, pFrame, &amp;frameFinished, &amp;packet); avcodec_send_packet(pCodecCtx, &amp;packet); avcodec_receive_frame(pCodecCtx, pFrame); // Frame got if (++i == frameIndex) printf(\"Frame \\t%d: width - %d height - %d\\n\", i, pFrame-&gt;width, pFrame-&gt;height); &#125; // Free the packet that was allocated by av_read_frame // av_free_packet(&amp;packet); av_packet_unref(&amp;packet);&#125; In this code, we use av_read_frame to read a frame until there is no more frame. Then, avcodec_send_packet(pCodecCtx, &amp;packet); and avcodec_receive_frame(pCodecCtx, pFrame); are called to use the codec context to retrieve the frame in this packet. Then, we can get the frame information and the origin bytes stream in the AVFrame structure. Free memory Finally, do not forget to free all momeries which have been allocated. 1234567891011avcodec_parameters_free(&amp;par);// Free the YUV frameav_frame_free(&amp;pFrame);// Close the codecsavcodec_close(pCodecCtx);avcodec_close(pCodecCtxOrig);// Close the video fileavformat_close_input(&amp;pFormatCtx); Conclusion Up to here, we have been abled to retrieve all frames in a video, and may do some processing on it üòÉ You should know how we can do a decoding of video using FFmpeg API. You can find the full code here: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128#include &lt;stdio.h&gt;#include &lt;libavformat/avformat.h&gt;#include &lt;libavcodec/avcodec.h&gt;#include &lt;libavutil/avutil.h&gt;int main(int argc, char *argv[])&#123; // Initalizing these to NULL prevents segfaults! AVFormatContext *pFormatCtx = NULL; int i, videoStream; AVCodecContext *pCodecCtxOrig = NULL; AVCodecContext *pCodecCtx = NULL; AVCodec *pCodec = NULL; AVFrame *pFrame = NULL; AVPacket packet; AVCodecParameters *par = NULL; int frameIndex = 0; if (argc &lt; 3) &#123; printf(\"Please provide file path and frame index\"); return -1; &#125; frameIndex = atoi(argv[2]); if (frameIndex &lt;= 0) &#123; printf(\"Please provide a positive frame index\"); return -1; &#125; par = avcodec_parameters_alloc(); // Do not need // av_register_all(); // Open video file if (avformat_open_input(&amp;pFormatCtx, argv[1], NULL, NULL) != 0) return -1; // Couldn't open file // Retrieve stream information if (avformat_find_stream_info(pFormatCtx, NULL) &lt; 0) return -1; // Couldn't find stream information // Dump information about file onto standard error av_dump_format(pFormatCtx, 0, argv[1], 0); // Find the first video stream videoStream = -1; printf(\"Stream counter: %d\\n\", pFormatCtx-&gt;nb_streams); for (i = 0; i &lt; pFormatCtx-&gt;nb_streams; i++) &#123; if (pFormatCtx-&gt;streams[i]-&gt;codec-&gt;codec_type == AVMEDIA_TYPE_VIDEO) &#123; videoStream = i; break; &#125; &#125; if (videoStream == -1) return -1; // Didn't find a video stream printf(\"Stream %d is the video stream\\n\", videoStream); // Get a pointer to the codec context for the video stream pCodecCtxOrig = pFormatCtx-&gt;streams[videoStream]-&gt;codec; // Find the decoder for the video stream pCodec = avcodec_find_decoder(pCodecCtxOrig-&gt;codec_id); if (pCodec == NULL) &#123; fprintf(stderr, \"Unsupported codec!\\n\"); return -1; // Codec not found &#125; else &#123; printf(\"Codec: %s!\\n\", pCodec-&gt;long_name); &#125; // Copy context pCodecCtx = avcodec_alloc_context3(pCodec); if (avcodec_parameters_from_context(par, pCodecCtxOrig) &lt; 0) &#123; fprintf(stderr, \"Copy param from origin context failed!\\n\"); return -1; // Codec not found &#125; if (avcodec_parameters_to_context(pCodecCtx, par) &lt; 0) &#123; fprintf(stderr, \"Copy param to context failed!\\n\"); return -1; // Codec not found &#125; // Open codec if (avcodec_open2(pCodecCtx, pCodec, NULL) &lt; 0) return -1; // Could not open codec // Allocate video frame pFrame = av_frame_alloc(); // Read frames and save first five frames to disk i = 0; while (av_read_frame(pFormatCtx, &amp;packet) &gt;= 0) &#123; // Is this a packet from the video stream? if (packet.stream_index == videoStream) &#123; // Decode video frame // avcodec_decode_video2(pCodecCtx, pFrame, &amp;frameFinished, &amp;packet); avcodec_send_packet(pCodecCtx, &amp;packet); avcodec_receive_frame(pCodecCtx, pFrame); // Frame got if (++i == frameIndex) printf(\"Frame \\t%d: width - %d height - %d\\n\", i, pFrame-&gt;width, pFrame-&gt;height); &#125; // Free the packet that was allocated by av_read_frame // av_free_packet(&amp;packet); av_packet_unref(&amp;packet); &#125; avcodec_parameters_free(&amp;par); // Free the YUV frame av_frame_free(&amp;pFrame); // Close the codecs avcodec_close(pCodecCtx); avcodec_close(pCodecCtxOrig); // Close the video file avformat_close_input(&amp;pFormatCtx); return 0;&#125;","categories":[{"name":"FFmpeg","slug":"FFmpeg","permalink":"https://blog.inoki.cc/categories/FFmpeg/"}],"tags":[{"name":"FFmpeg","slug":"FFmpeg","permalink":"https://blog.inoki.cc/tags/FFmpeg/"}]},{"title":"Bug AX88179_178a USB-Ethernet adapter Linux Driver","slug":"Bug_AX88179_178a_USB_Ethernet_adapter_Linux_Driver","date":"2019-12-12T10:52:00.000Z","updated":"2022-05-09T18:41:39.434Z","comments":true,"path":"2019/12/12/Bug_AX88179_178a_USB_Ethernet_adapter_Linux_Driver/","link":"","permalink":"https://blog.inoki.cc/2019/12/12/Bug_AX88179_178a_USB_Ethernet_adapter_Linux_Driver/","excerpt":"","text":"In my previous post, AX88179_178a USB-Ethernet adapter Linux Driver, there is a simple analysis of the Linux Driver of AX88179_178a. And I mentioned that on the mainline, there is a bug while handling the USB packet that we received. Background The phenomenon is that the TLS connection cannot be established through a bridged network. Both in the two following cases: Bridged network on VirtualBox In VirtualBox, we setuped a bridged network via the device Edimax EU-4306, to connect the Virtual Machine with a raspberry. Bridged network on Raspberry Pi On device B, we made a network bridge to connect the PC and the device A. All the packets which don‚Äôt have a destination to device a will be resent to the other side. Diagnosis It was a mystery why in these two cases, the communication doesn‚Äôt work. So, I used Wireshark to do a monitoring on the interfaces. First one was running on the PC: We can see that, the first packet with 1514 length is the No.616. We should note that the packet No.617 is the one with length 336, and it acts as a TLS handshake packet. The second one is on the device B, monitoring the network interface which is created by Edimax EU-4306: The packet matches the No.616 is the packet No.1858 on this interface. And No.617 matches No.1859. Both of them has two bytes in addition at the end. The two bytes are translated as VSS-Monitoring ethernet trailer, Source Port: 26490 or something similar. The device B should resent all packets to the other network interface. Here is the traffic on the other network interface: We cannot find the index of packet, but we can well find the packet in order. The two we are following are the one with 1516 length and the one following it with 338 length. And finally, on the device A, our destination, we can see that all packets with 1516 length disappeared, which means that they are dropped. Problem Up to here, we can see that it‚Äôs the Edimax EU-4306 USB-Ethernet Adapter causing the bug. But, why? So, we need firstly introduce the concept of MTU, Maximum Transmission Unit. In Linux world and maybe the other system, it‚Äôs the maximum size, in byte, of a packet, which can be sent to a network interface. The sender will check the size of data it‚Äôs going to send, and do some segmentation to cut the data into packets if the size of data is larger than MTU. But the device which acts as a switch, that means which provides the bridged network, will not do the segmentation because it has no such permission. The device just receives a packet, and try to resend it to another physical network. Meanwhile, the network interface of this device will do a check of packet size. The packet will be dropped if it‚Äôs too large(larger than MTU). It‚Äôs kind of something abstract. So we just take the second case in the Background chapter as an example. This is the topology of the bridged network. All MTU in the picture are 1500, it‚Äôs also the one in the Ethernet protocol. To describe better the question, we just use a packet of size 1514(1500 + 6 bytes destionation MAC address + 6 bytes source MAC address + 2 bytes protocol type). The target is to send this packet to device A. The first step is using the USB network driver to wrap the network packet, with some necessary USB information. This will be done by Linux Kernel, and the output will be sent to the USB device. When the adapter receives the packet, it will handle with it, there may be some control message. The adapter squashes out the network packet, and send it to another side. Another side is also an adapter, it will wrap the network packet to a USB packet, as to send it to the USB Host. Here the USB Host is device B. Here, the adapter is well Edimax EU-4306 using AX88179_178a driver. The driver unwraps the USB packet, but unfortunately, adds two bytes at the end of network packet. So, the size of network packet becomes 1516, with two bytes in addition and by accident. Then, device B, as a switch, tries to resend the network packet to the other interface. But the other interface realizes the packet is larger than its MTU. Finally, it drops the network packet. Thus, device A will never receive the packet. Fixup Up to now, it‚Äôs clear that the error is caused by the reception function of AX88178_179a, while unwrapping a packet. Single packet To make it simpler, we come back to the tiny packet describe in my previous post: Obviously, the larger one is the USB packet. The analysis in detail of the packet can be found in that post. We‚Äôll directly the data that is extracted from the packet. The packet length should be 0x3e -&gt; 62 bytes. So, if we count from 0040, the end should be at 007d. 123456789if (pkt_cnt == 0) &#123; /* Skip IP alignment psudo header */ skb_pull(skb, 2); skb-&gt;len = pkt_len; skb_set_tail_pointer(skb, pkt_len); skb-&gt;truesize = pkt_len + sizeof(struct sk_buff); ax88179_rx_checksum(skb, pkt_hdr); return 1;&#125; With the code on Linux mainline codebase: Remove the first two bytes because they are useless, and they just work as an auxiliary tool to align some bytes. Here, 0xee 0xee are removed , the length in the buffer structure is also reduced. So, the real packet size is 0x3c - 60 bytes. Then, set the length to the packet length: 0x3e. Finally, do something with the buffer. We don‚Äôt care this. If you are sensitive, you should have already realized that the problem occured in the second step. We begin at 0042 after the removing. But it always ends up with an offset of 62 bytes. So, we got a packet from 0xff 0xff to 0xf9 0xc2, where the last two bytes are not in the origin network packet, they are a part of USB packet. Here is my code to fix it up: 123456789if (pkt_cnt == 0) &#123; /* Skip IP alignment psudo header */ skb-&gt;len = pkt_len; skb_pull(skb, 2); skb_set_tail_pointer(skb, pkt_len); skb-&gt;truesize = skb-&gt;len + sizeof(struct sk_buff); ax88179_rx_checksum(skb, pkt_hdr); return 1;&#125; It‚Äôs really simple, I just change the order of the first step and the second step. It means that we‚Äôll firstly change the size to the packet size that we extract, then we remove the first two bytes and reduce the size by 2. Thus, the packet is okay, with 60 bytes and from 0xff 0xff. Multiple packet For the case when we have plenty of network packets in a single USB packet, we do nearly the same thing: 123456789101112131415161718ax_skb = skb_clone(skb, GFP_ATOMIC);if (ax_skb) &#123; /* Code on mainline ax_skb-&gt;len = pkt_len; ax_skb-&gt;data = skb-&gt;data + 2; */ ax_skb-&gt;len = pkt_len; ax_skb-&gt;data = skb-&gt;data + 2; /* Skip IP alignment psudo header */ skb_pull(ax_skb, 2); skb_set_tail_pointer(ax_skb, pkt_len); ax_skb-&gt;truesize = ax_skb-&gt;len + sizeof(struct sk_buff); ax88179_rx_checksum(ax_skb, pkt_hdr); usbnet_skb_return(dev, ax_skb);&#125; else &#123; return 0;&#125; Okay, we test! Test We test it with the ARP packet mentioned in my last post: Here we can see the length is 60, no more 62. It means we fixed it! Conclusion This is a serious bug in common, but the use case is not in common: if the packet need not be resent, there is no panic because the protocol on top-level can well handle the packet length with its own length field. I hope one day the bug can be fixed on the mainline codebase of Linux. Maybe I can do that? As it‚Äôs a driver of a device for a manufacturer, I don‚Äôt know whether have the right to do that‚Ä¶","categories":[{"name":"Source Code","slug":"Source-Code","permalink":"https://blog.inoki.cc/categories/Source-Code/"},{"name":"Bug","slug":"Bug","permalink":"https://blog.inoki.cc/categories/Bug/"},{"name":"Linux Driver","slug":"Source-Code/Linux-Driver","permalink":"https://blog.inoki.cc/categories/Source-Code/Linux-Driver/"},{"name":"USB-Net","slug":"Source-Code/Linux-Driver/USB-Net","permalink":"https://blog.inoki.cc/categories/Source-Code/Linux-Driver/USB-Net/"},{"name":"Linux Driver","slug":"Linux-Driver","permalink":"https://blog.inoki.cc/categories/Linux-Driver/"},{"name":"Linux Driver","slug":"Bug/Linux-Driver","permalink":"https://blog.inoki.cc/categories/Bug/Linux-Driver/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Linux Driver","slug":"Linux-Driver","permalink":"https://blog.inoki.cc/tags/Linux-Driver/"},{"name":"ASIX","slug":"ASIX","permalink":"https://blog.inoki.cc/tags/ASIX/"},{"name":"Bug","slug":"Bug","permalink":"https://blog.inoki.cc/tags/Bug/"}]},{"title":"Write your first FFmpeg program on Windows","slug":"Write-your-first-ffmpeg-program-on-Windows","date":"2019-12-09T22:48:00.000Z","updated":"2022-05-09T18:41:39.502Z","comments":true,"path":"2019/12/09/Write-your-first-ffmpeg-program-on-Windows/","link":"","permalink":"https://blog.inoki.cc/2019/12/09/Write-your-first-ffmpeg-program-on-Windows/","excerpt":"","text":"FFmpeg is a complete, cross-platform solution to record, convert and stream audio and video. It‚Äôs not difficult to write your own simple video editor with it. This post will give you a guide, how to write a program with FFmpeg on Windows, with Visual Studio. Download FFmpeg library and development files In general, for an Open Source library, we may usually need build one from source code. And on Windows, it could be kind of confusing. Luckily, there is a nice hacker, who has built FFmpeg on Windows for us. We can find them on https://ffmpeg.zeranoe.com/builds/. What we need is two linking type files on Windows. So, for ‚ÄúArchitecture‚Äù, Windows-32bits or Windows-64bits. And in linking, we need dev and shared. Shared library can proivde runtime for the compiled program, meanwhile, in dev, we will have header files and exported symbol information to use during development. Create VS Project Create a new Visual C++ project, do not use precompiled header file. Then, right click on the project to open Property panel. DLL files Add your ffmpeg-&lt;version&gt;-win64-shared\\bin into your system PATH. Include files Add your ffmpeg-&lt;version&gt;-win64-dev\\include into VC++ Directory -&gt; Include directory. Lib files Add your ffmpeg-&lt;version&gt;-win64-dev\\lib into VC++ Directory -&gt; Reference directory. Add swscale.lib, avutil.lib, avformat.lib, avcodec.lib, avdevice.lib, avfilter.lib, swresample.lib and postproc.lib into Linker -&gt; Input -&gt; Addons. Code This code comes from FFmpeg samples, it works as a video decoder but it just gets and prints video meta information. 1234567891011121314151617181920212223242526272829303132#include &lt;stdio.h&gt;#include &lt;libavformat/avformat.h&gt;#include &lt;libavutil/dict.h&gt;int main (int argc, char **argv)&#123; AVFormatContext *fmt_ctx = NULL; AVDictionaryEntry *tag = NULL; int ret; if (argc != 2) &#123; printf(\"usage: %s &lt;input_file&gt;\\n\" \"example program to demonstrate the use of the libavformat metadata API.\\n\" \"\\n\", argv[0]); return 1; &#125; if ((ret = avformat_open_input(&amp;fmt_ctx, argv[1], NULL, NULL))) return ret; if ((ret = avformat_find_stream_info(fmt_ctx, NULL)) &lt; 0) &#123; av_log(NULL, AV_LOG_ERROR, \"Cannot find stream information\\n\"); return ret; &#125; while ((tag = av_dict_get(fmt_ctx-&gt;metadata, \"\", tag, AV_DICT_IGNORE_SUFFIX))) printf(\"%s=%s\\n\", tag-&gt;key, tag-&gt;value); avformat_close_input(&amp;fmt_ctx); return 0;&#125; Launch To run it in Visual Studio, in debugging, add the path of your video into command line arguments. And right click on the green triangle. In the terminal, you should be able to see the meta information like this: 1234major_brand=mp42minor_version=0compatible_brands=mp41isomcreation_time=2019-08-25T20:22:43.000000Z Enjoy!","categories":[{"name":"FFmpeg","slug":"FFmpeg","permalink":"https://blog.inoki.cc/categories/FFmpeg/"}],"tags":[{"name":"Windows","slug":"Windows","permalink":"https://blog.inoki.cc/tags/Windows/"},{"name":"FFmpeg","slug":"FFmpeg","permalink":"https://blog.inoki.cc/tags/FFmpeg/"}]},{"title":"AX88179_178a USB-Ethernet adapter Linux Driver","slug":"AX88179_178a_USB_Ethernet_adapter_Linux_Driver","date":"2019-12-09T10:52:00.000Z","updated":"2022-05-09T18:41:39.430Z","comments":true,"path":"2019/12/09/AX88179_178a_USB_Ethernet_adapter_Linux_Driver/","link":"","permalink":"https://blog.inoki.cc/2019/12/09/AX88179_178a_USB_Ethernet_adapter_Linux_Driver/","excerpt":"","text":"In this post, we‚Äôll analyze the Linux Driver of USB-Ethernet adapters, which are using AX88179/AX88178a chips. Introduction AX88179 and AX88178a is a chip from ASIX Electronics Corporation, which is a leading fabless semiconductor supplier with focus on networking, communication and connectivity applications, founded in May 1995 in Hsinchu Science Park, Taiwan. AX88179 is a USB3.0 to 10/100/1000M Gigabit Ethernet Controller, and AX88178a is the one for USB2.0. Since there are still lots of devices which are using USB 2.0, they are usually integrated into one single adapter to provide backward-compatibility. More information about the chips can be found on the offcial website of ASIX: AX88179 AX88178a The one which I‚Äôm using is an adapter from Edimax, named Edimax EU-4306 Adaptateur USB Ethernet. Everyone can buy it with a fair price - about 25 euros in France. Driver Selection The source code of the driver in current version kernel is located at drivers/net/usb/ax88179_178a.c. Its first commit is on Mar 2, 2013. So, up to now, we should be able to use it without panic. To validate that it can be rightly loaded in your system, just plug in. Use this command to find information of your device and the software assoiated with it: 12345678910&gt; usb-devices...T: Bus=02 Lev=01 Prnt=01 Port=00 Cnt=01 Dev#= 2 Spd=5000 MxCh= 0D: Ver= 3.00 Cls=ff(vend.) Sub=ff Prot=00 MxPS= 9 #Cfgs= 1P: Vendor=0b95 ProdID=1790 Rev=01.00S: Manufacturer=ASIX Elec. Corp.S: Product=AX88179S: SerialNumber=xxxxxxC: #Ifs= 1 Cfg#= 1 Atr=a0 MxPwr=496mAI: If#= 0 Alt= 0 #EPs= 3 Cls=ff(vend.) Sub=ff Prot=00 Driver=ax88179_178a We can see at the last line, there is Driver=ax88179_178a, which means my device uses the right driver. To associate a device and a usb driver, one important thing is the vendor ID and product ID, showing in the third line: Vendor=0b95 ProdID=1790. So, if your device cannot be allocated with an appropriate driver, pleas check the vendor ID and product ID of it. The ID table of compatible devices for AX88179/178a is defined as below: 12345678910111213141516171819202122232425262728293031323334353637static const struct usb_device_id products[] = &#123;&#123; /* ASIX AX88179 10/100/1000 */ USB_DEVICE(0x0b95, 0x1790), .driver_info = (unsigned long)&amp;ax88179_info,&#125;, &#123; /* ASIX AX88178A 10/100/1000 */ USB_DEVICE(0x0b95, 0x178a), .driver_info = (unsigned long)&amp;ax88178a_info,&#125;, &#123; /* Cypress GX3 SuperSpeed to Gigabit Ethernet Bridge Controller */ USB_DEVICE(0x04b4, 0x3610), .driver_info = (unsigned long)&amp;cypress_GX3_info,&#125;, &#123; /* D-Link DUB-1312 USB 3.0 to Gigabit Ethernet Adapter */ USB_DEVICE(0x2001, 0x4a00), .driver_info = (unsigned long)&amp;dlink_dub1312_info,&#125;, &#123; /* Sitecom USB 3.0 to Gigabit Adapter */ USB_DEVICE(0x0df6, 0x0072), .driver_info = (unsigned long)&amp;sitecom_info,&#125;, &#123; /* Samsung USB Ethernet Adapter */ USB_DEVICE(0x04e8, 0xa100), .driver_info = (unsigned long)&amp;samsung_info,&#125;, &#123; /* Lenovo OneLinkDock Gigabit LAN */ USB_DEVICE(0x17ef, 0x304b), .driver_info = (unsigned long)&amp;lenovo_info,&#125;, &#123; /* Belkin B2B128 USB 3.0 Hub + Gigabit Ethernet Adapter */ USB_DEVICE(0x050d, 0x0128), .driver_info = (unsigned long)&amp;belkin_info,&#125;, &#123; &#125;,&#125;;MODULE_DEVICE_TABLE(usb, products); Notice that USB_DEVICE is a macro defined in include/linux/usb.h, to quickly assign vendor ID and product ID. Meanwhile, make the mode be strictly matching, which means that only device has this vendor ID AND product ID will be allowed to use this driver. 1234#define USB_DEVICE(vend, prod) \\ .match_flags = USB_DEVICE_ID_MATCH_DEVICE, \\ .idVendor = (vend), \\ .idProduct = (prod) More, products is a table of type struct usb_device_id, defined in include/linux/mod_devicetable.h. Since we‚Äôve already included include/linux/usb.h\\(&lt;linux/usb.h&gt;\\), we do not need import it once more. 123456789101112131415161718192021222324252627struct usb_device_id &#123; /* which fields to match against? */ __u16 match_flags; /* Used for product specific matches; range is inclusive */ __u16 idVendor; __u16 idProduct; __u16 bcdDevice_lo; __u16 bcdDevice_hi; /* Used for device class matches */ __u8 bDeviceClass; __u8 bDeviceSubClass; __u8 bDeviceProtocol; /* Used for interface class matches */ __u8 bInterfaceClass; __u8 bInterfaceSubClass; __u8 bInterfaceProtocol; /* Used for vendor-specific interface matches */ __u8 bInterfaceNumber; /* not matched against */ kernel_ulong_t driver_info __attribute__((aligned(sizeof(kernel_ulong_t))));&#125;; But, if yours is not one of them, it might be another device. This post will have limited usage to you. Driver module registration To make system be able to allocate the right driver, we need register the driver. usb_driver structure The structure to describe a driver for USB is defined in include/linux/usb.h: 12345678910111213141516171819202122232425262728struct usb_driver &#123; const char *name; int (*probe) (struct usb_interface *intf, const struct usb_device_id *id); void (*disconnect) (struct usb_interface *intf); int (*unlocked_ioctl) (struct usb_interface *intf, unsigned int code, void *buf); int (*suspend) (struct usb_interface *intf, pm_message_t message); int (*resume) (struct usb_interface *intf); int (*reset_resume)(struct usb_interface *intf); int (*pre_reset)(struct usb_interface *intf); int (*post_reset)(struct usb_interface *intf); const struct usb_device_id *id_table; const struct attribute_group **dev_groups; struct usb_dynids dynids; struct usbdrv_wrap drvwrap; unsigned int no_dynamic_id:1; unsigned int supports_autosuspend:1; unsigned int disable_hub_initiated_lpm:1; unsigned int soft_unbind:1;&#125;; It‚Äôs a huge one, but we need not define all of them. What we need is just: 1234567891011static struct usb_driver ax88179_178a_driver = &#123; .name = \"ax88179_178a\", .id_table = products, .probe = usbnet_probe, .suspend = ax88179_suspend, .resume = ax88179_resume, .reset_resume = ax88179_resume, .disconnect = usbnet_disconnect, .supports_autosuspend = 1, .disable_hub_initiated_lpm = 1,&#125;; .name This is the name of driver, and it will be shown at the last line of the output of usb-devices. I got the output above by changing the name to ax88179_178a_inoki. struct usb_interface *intf We can see that many of fields are pointers to functions with an argument of type struct usb_interface *intf. It‚Äôs defined in include/linux/usb.h. 1234567891011121314151617181920212223242526272829struct usb_interface &#123; /* array of alternate settings for this interface, * stored in no particular order */ struct usb_host_interface *altsetting; struct usb_host_interface *cur_altsetting; /* the currently * active alternate setting */ unsigned num_altsetting; /* number of alternate settings */ /* If there is an interface association descriptor then it will list * the associated interfaces */ struct usb_interface_assoc_descriptor *intf_assoc; int minor; /* minor number this interface is * bound to */ enum usb_interface_condition condition; /* state of binding */ unsigned sysfs_files_created:1; /* the sysfs attributes exist */ unsigned ep_devs_created:1; /* endpoint \"devices\" exist */ unsigned unregistering:1; /* unregistration is in progress */ unsigned needs_remote_wakeup:1; /* driver requires remote wakeup */ unsigned needs_altsetting0:1; /* switch to altsetting 0 is pending */ unsigned needs_binding:1; /* needs delayed unbind/rebind */ unsigned resetting_device:1; /* true: bandwidth alloc after reset */ unsigned authorized:1; /* used for interface authorization */ struct device dev; /* interface specific device info */ struct device *usb_dev; struct work_struct reset_ws; /* for resets in atomic context */&#125;; With this parameter, we can distinguish which device is under operating. As well, it requires the caller pass a right reference üòÉ .probe = usbnet_probe The usbnet_probe is a function defined in include/linux/usb/usbnet.h. 1extern int usbnet_probe(struct usb_interface *, const struct usb_device_id *); When a device is plugged into the USB bus that matches the device ID that your driver registered with the USB core, the probe function is called, with the interface instance, and the device information. .disconnect = usbnet_disconnect Conversely, when the device is removed from the USB bus, the disconnect function is called with the device pointer. For this callback and the callback which will be used in probing, the driver uses the standard USB net functions in include/linux/usb/usbnet.h. 1extern void usbnet_disconnect(struct usb_interface *); There are lots of standard functions defined in this header file. But we cannot expect the standard stuff can handle with all devices. So, in most case, we need write our own handlers for specific devices. .suspend = ax88179_suspend Called when the device is going to be suspended by the system either from system sleep or runtime suspend context. This line can let the specific function suspend in the driver codebase be called. .resume = ax88179_resume and .reset_resume = ax88179_resume .resume will be called when the device is being resumed by the system. .reset_resume will be called when the suspended device has been reset instead of being resumed. Both two can let the specific function resume in the driver codebase be called. Registration Then, register the driver in the system. 1module_usb_driver(ax88179_178a_driver); It‚Äôs not a function, but a macro defined in include/linux/usb.h: 123#define module_usb_driver(__usb_driver) \\ module_driver(__usb_driver, usb_register, \\ usb_deregister) Then it will be expanded to a set of instructions in include/linux/device.h. 1234567891011#define module_driver(__driver, __register, __unregister, ...) \\static int __init __driver##_init(void) \\&#123; \\ return __register(&amp;(__driver) , ##__VA_ARGS__); \\&#125; \\module_init(__driver##_init); \\static void __exit __driver##_exit(void) \\&#123; \\ __unregister(&amp;(__driver) , ##__VA_ARGS__); \\&#125; \\module_exit(__driver##_exit); Such instructions can control the life cycle of a driver module. But we‚Äôll not go deeper into the module functions, becaus they are out of scope. Here, we come back to the module_usb_driver macro. Except __usb_driver is the specific driven instance, usb_register and usb_deregister could be also an interesting point in this post. In fact, they are defined in include/linux/usb.h as well: 123456789101112/* * use these in module_init()/module_exit() * and don't forget MODULE_DEVICE_TABLE(usb, ...) */extern int usb_register_driver(struct usb_driver *, struct module *, const char *);/* use a define to avoid include chaining to get THIS_MODULE &amp; friends */#define usb_register(driver) \\ usb_register_driver(driver, THIS_MODULE, KBUILD_MODNAME)extern void usb_deregister(struct usb_driver *); The 2 functions will be called while module is being initialized or is being exited. Core Functions After the module life cycle management, here we need talk more about the actions of driver, while there are arriving packets. Except vendor ID and product ID, there is also driver_info field which is set according to the different devices. 123456789&#123; /* ASIX AX88179 10/100/1000 */ USB_DEVICE(0x0b95, 0x1790), .driver_info = (unsigned long)&amp;ax88179_info,&#125;, &#123; /* ASIX AX88178A 10/100/1000 */ USB_DEVICE(0x0b95, 0x178a), .driver_info = (unsigned long)&amp;ax88178a_info,&#125; Driver Info We can take a look at the 0x0b95, 0x1790(AX88179) and 0x0b95, 0x178(AX88178A). The driver info is an unsigned long pointer to the struct driver_info instance. Thus, Linux kernel can find the driver info instance when it needs. The driver info structure is in fact a USB network driver info structure, defined in include/linux/usb/usbnet.h: 12345678910111213141516171819202122struct driver_info &#123; char *description; int flags; int (*bind)(struct usbnet *, struct usb_interface *); void (*unbind)(struct usbnet *, struct usb_interface *); int (*reset)(struct usbnet *); int (*stop)(struct usbnet *); int (*check_connect)(struct usbnet *); int (*manage_power)(struct usbnet *, int); void (*status)(struct usbnet *, struct urb *); int (*link_reset)(struct usbnet *); int (*rx_fixup)(struct usbnet *dev, struct sk_buff *skb); struct sk_buff *(*tx_fixup)(struct usbnet *dev, struct sk_buff *skb, gfp_t flags); void (*recover)(struct usbnet *dev); int (*early_init)(struct usbnet *dev); void (*indication)(struct usbnet *dev, void *ind, int indlen); void (*set_rx_mode)(struct usbnet *dev); int in; /* rx endpoint */ int out; /* tx endpoint */ unsigned long data; /* Misc driver specific data */&#125;; Just like the other huge structure, we will only use a small part of it. AX88179 Driver Info 123456789101112static const struct driver_info ax88179_info = &#123; .description = \"ASIX AX88179 USB 3.0 Gigabit Ethernet\", .bind = ax88179_bind, .unbind = ax88179_unbind, .status = ax88179_status, .link_reset = ax88179_link_reset, .reset = ax88179_reset, .stop = ax88179_stop, .flags = FLAG_ETHER | FLAG_FRAMING_AX, .rx_fixup = ax88179_rx_fixup, .tx_fixup = ax88179_tx_fixup,&#125;; AX88178a Driver Info 123456789101112static const struct driver_info ax88178a_info = &#123; .description = \"ASIX AX88178A USB 2.0 Gigabit Ethernet\", .bind = ax88179_bind, .unbind = ax88179_unbind, .status = ax88179_status, .link_reset = ax88179_link_reset, .reset = ax88179_reset, .stop = ax88179_stop, .flags = FLAG_ETHER | FLAG_FRAMING_AX, .rx_fixup = ax88179_rx_fixup, .tx_fixup = ax88179_tx_fixup,&#125;; .flags In flags, we might have several bitwise flag. This is created for some special feature of each device. In these two devices, we have Ethernet device feature and ASIX specific device features. 12#define FLAG_ETHER 0x0020 /* maybe use \"eth%d\" names */#define FLAG_FRAMING_AX 0x0040 /* AX88772/178 packets */ Lifecycle-related sequence System will call the function pointed by .bind to initialize device. The one pointed by .unbind will be called to do a cleanup in the system. To reset device, system will call .reset. To actively stop device, .stop will be invoked. Linux will also use .status to query the device satus. And .link_reset can be called for link reset handling purpose. These functions are so long and so device-specific that we do not need to concentrate on them. The most important functionality is transmission of packets, which is implemented by .rx_fixup(for receiving), and .tx_fixup(for sending). .rx_fixup The function pointed by .rx_fixup works on doing frame stripping. What‚Äôs frame stripping? These are two screenshots of an ARP network packet in USB traffic(above) and in Ethernet traffic(below), captured by Wireshark. We can see that the highlighted part, from 0042 to 0079 in USB traffic, is exactly the same thing. So, what has RX fixup done is clear: it tries to extract the Ethernet packet from a USB frame. Function Prototype 1static int ax88179_rx_fixup(struct usbnet *dev, struct sk_buff *skb); The function accepts two parameters, one is the deivce, the other is the data received. The type struct sk_buff is defined in include/linux/skbuff.h, and is widely used in the network modules. It‚Äôs the abbreviation of socket buffer. Implementation on mainline In this chapter, we‚Äôll take a look at every lines of this function on Linux Kernel mainline. First, complying to C89, all of variables should be declared at the beginning of the scope block. 12345struct sk_buff *ax_skb;int pkt_cnt;u32 rx_hdr;u16 hdr_off;u32 *pkt_hdr; ax_skb is a pointer which can point to a new socket buffer instance. pkt_cnt is the counter of packet, which counts how many packets are there in the packet. rx_hdr can represent the header of the USB packet that we received, this variable is a 32 bits one, or 4 bytes or 4 octets. pkt_hdr is a pointer to unsigned 32 bits integer, literally it can point to the header of packet. hdr_off is an unsigned 16 bits integer, which records the offset of real header. 123/* This check is no longer done by usbnet */if (skb-&gt;len &lt; dev-&gt;net-&gt;hard_header_len) return 0; In current version, the driver should check the length is compliable with the device or not. return 0 means that the packet isn‚Äôt handled correctly. And then, it uses skb_trim to cut the last 4 bytes, reduce the length and calculate other fields in the structure. 1skb_trim(skb, skb-&gt;len - 4); To know better how it works, we can take the previous packet to make an example: With the trim function, the last 01 00 04 00 should be dropped. 12memcpy(&amp;rx_hdr, skb_tail_pointer(skb), 4);le32_to_cpus(&amp;rx_hdr); But in fact, they are not totally dropper, the data is still their. The next step is rightly copying them into rx_hdr, with correspondant byte order. For example, my Linux is x86_64, so with little-endian. And the 01 00 is exactly 0x0001 in our brain. So, the number should be 00 40 00 01. 12pkt_cnt = (u16)rx_hdr;hdr_off = (u16)(rx_hdr &gt;&gt; 16); Then, with some magic, we can assign the packet counter pkt_cnt and the header offset hdr_off. With the humain readable representation 00 40 00 01, we could see there is one packet and the offset is 64 bytes (0x40 in decimal). 1pkt_hdr = (u32 *)(skb-&gt;data + hdr_off); We‚Äôll have the header of the packet with pkt_hdr variable. In our case, it will point at a byte which has 0x40 offset from the beginning of the packet. We should notice that, the packet begins at 0x40, so, with the offset, it should point at 0x80, where there are 00 88 3e 00. Then, we‚Äôill attemp to iterately get all network packets in this single USB packet. 1while (pkt_cnt--) &#123; As usual, do the initialization at first. We will extract the length of each packet to pkt_len. 12u16 pkt_len;le32_to_cpus(pkt_hdr); Extract packet length. 1pkt_len = (*pkt_hdr &gt;&gt; 16) &amp; 0x1fff; Here, we should have 00 3e 00 88 as the human readable order. So, the packet length should be 0x3e -&gt; 62 bytes. If we look at the USB-Net packet capture, we could know it‚Äôs correct! 1234567/* Check CRC or runt packet */if ((*pkt_hdr &amp; AX_RXHDR_CRC_ERR) || (*pkt_hdr &amp; AX_RXHDR_DROP_ERR)) &#123; skb_pull(skb, (pkt_len + 7) &amp; 0xFFF8); pkt_hdr++; continue;&#125; If AX_RXHDR_CRC_ERR or AX_RXHDR_DROP_ERR is set, just drop this packet because it‚Äôs not what we want. We only care the network packet. 12#define AX_RXHDR_CRC_ERR ((u32)BIT(29))#define AX_RXHDR_DROP_ERR ((u32)BIT(31)) The two flags are defined at the top of source code file. We can see in our packet, the 29th bit and the 31st bit are both 0. So, just ignore the code mentioned above. We continue. 123456789if (pkt_cnt == 0) &#123; /* Skip IP alignment psudo header */ skb_pull(skb, 2); skb-&gt;len = pkt_len; skb_set_tail_pointer(skb, pkt_len); skb-&gt;truesize = pkt_len + sizeof(struct sk_buff); ax88179_rx_checksum(skb, pkt_hdr); return 1;&#125; If we are handling the last packet, firstly we remove the first two bytes. They are two 0xee at the beginning. In this function, the length will also be reduced by 2. But it‚Äôs not the pkt_len, it‚Äôs the length field in the socket buffer instance which is reduced. Then, we update the length to the right length of Network Packet and do some cleanup work. Then the stripped frame will be used by the system, as a network packet. Note: only the last packet will be ‚Äúreturned‚Äù by the origin socket buffer. But if we take a look at the end of the network packet, there are serveral bytes which are not used by the protocol itself. This will lead an error, I‚Äôll talk about it in the next post. 1234567891011121314ax_skb = skb_clone(skb, GFP_ATOMIC);if (ax_skb) &#123; ax_skb-&gt;len = pkt_len; ax_skb-&gt;data = skb-&gt;data + 2; skb_set_tail_pointer(ax_skb, pkt_len); ax_skb-&gt;truesize = pkt_len + sizeof(struct sk_buff); ax88179_rx_checksum(ax_skb, pkt_hdr); usbnet_skb_return(dev, ax_skb);&#125; else &#123; return 0;&#125;skb_pull(skb, (pkt_len + 7) &amp; 0xFFF8);pkt_hdr++; Finally in the loop, we know that there are still several network packets in the USB packet. So we try to clone the raw packet, regulate the boundary, and return it by usbnet_skb_return function. If there are still packets to be handled, go on. 1&#125; Otherwise, the loop ends. 1return 1; In the end, if we reach here, it means there are not any more the packets to be handled. So, it ‚Äúreports‚Äù to the system that we‚Äôve finished succefully. .tx_fixup After analysis of RX fixup, what TX fixup should do is obvious. It just wrapped the raw paquet into a USB frame, and send it to the device. The device will send it to the other side. Function Prototype 12static struct sk_buff *ax88179_tx_fixup(struct usbnet *dev, struct sk_buff *skb, gfp_t flags) The two first parameters have the same type, and the same usage as the two in RX fixup. The last one is a set of flags, but it‚Äôs not used in the implementation. So, we neglict it. Implementation on mainline 123456u32 tx_hdr1, tx_hdr2;int frame_size = dev-&gt;maxpacket;int mss = skb_shinfo(skb)-&gt;gso_size;int headroom;tx_hdr1 = skb-&gt;len;tx_hdr2 = mss; Declarations and initializations of variables. 1234if (((skb-&gt;len + 8) % frame_size) == 0) tx_hdr2 |= 0x80008000; /* Enable padding */headroom = skb_headroom(skb) - 8; skb_headroom returns the number of bytes of free space at the head of an sk_buff. So, this is a boundary check for adding more bytes. 12345if ((skb_header_cloned(skb) || headroom &lt; 0) &amp;&amp; pskb_expand_head(skb, headroom &lt; 0 ? 8 : 0, 0, GFP_ATOMIC)) &#123; dev_kfree_skb_any(skb); return NULL;&#125; If our socket buffer is a clone or we have no more space to store stuff, we‚Äôll fail to send. 123skb_push(skb, 4);cpu_to_le32s(&amp;tx_hdr2);skb_copy_to_linear_data(skb, &amp;tx_hdr2, 4); Append the flag to the current end of packet. 123skb_push(skb, 4);cpu_to_le32s(&amp;tx_hdr1);skb_copy_to_linear_data(skb, &amp;tx_hdr1, 4); Copy the length to the end of packet. 1return skb; Return the instance. Conclusion By analyzing this codebase, we should be able to know how a USB network device works. In the next post, I‚Äôll talk about the serious bug which is found in this driver. See you!","categories":[{"name":"Source Code","slug":"Source-Code","permalink":"https://blog.inoki.cc/categories/Source-Code/"},{"name":"Linux Driver","slug":"Source-Code/Linux-Driver","permalink":"https://blog.inoki.cc/categories/Source-Code/Linux-Driver/"},{"name":"USB-Net","slug":"Source-Code/Linux-Driver/USB-Net","permalink":"https://blog.inoki.cc/categories/Source-Code/Linux-Driver/USB-Net/"},{"name":"Linux Driver","slug":"Linux-Driver","permalink":"https://blog.inoki.cc/categories/Linux-Driver/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Linux Driver","slug":"Linux-Driver","permalink":"https://blog.inoki.cc/tags/Linux-Driver/"},{"name":"ASIX","slug":"ASIX","permalink":"https://blog.inoki.cc/tags/ASIX/"}]},{"title":"Install Linux QQ on ChromeOS","slug":"Install-linux-QQ-on-chromeos","date":"2019-12-08T22:38:00.000Z","updated":"2022-05-09T18:41:39.458Z","comments":true,"path":"2019/12/08/Install-linux-QQ-on-chromeos/","link":"","permalink":"https://blog.inoki.cc/2019/12/08/Install-linux-QQ-on-chromeos/","excerpt":"","text":"Recently, Tencent has updated and released their out-of-date QQ client for Linux, on their official Linux QQ website. Meanwhile, Chrome OS has already an experimental feature: Linux subsystem, which is equipped with a Linux distro named Penguin, under Debian. So, installing the full-featured desktop QQ on Chrome OS can be interesting. Get the right package We can see that, there are several options on the download page. But which one should we choose ? It depends on the architecture of your Chrome Book. We need to recognise it to choose the right version. So, firstly, we need to check the archtecture. Architecture Open your Linux terminal and run the uname -m command. My output is like this: 12&gt; uname -mx86_64 Intel processor: x86_64 Here I have x86_64. If yours is same with mine, fortunately, we can directly download the deb in the x64 line. As well, if yours is amd64 or i686, you should be able to use the same package. It means you have Intel/AMD x86 processor and the machine is running in 64 bit mode. If you have x86 processor, but you‚Äôve got something like i386, you may have a wrong version Chrome OS. Please check it! ARM 64 bits processor: aarch64 If you‚Äôve got one of these: aarch64 arm64 You should be able to use deb in the ARM64 line. The string arm64 was created by Apple for its 64 bits ARM processor. But it‚Äôs not an official name of ARM 64 processors. Apple finally removed it and adopts aarch64, see here. But maybe it‚Äôs still being used by some machines somewhere. So, if you have one of them, just choose one in the ARM64 line. mips 64 bits, little endian processor: mips64el If you‚Äôve seen mips64el, unfortunately, you need choose the only version in the MIPS64 line. If you‚Äôve seen only mips, you cannot use any version on that page. We don‚Äôt have either the source code. So, explain to Tencent üòÉ Format The distro penguin is one based on Debain, so the easiest way is to download deb file. But, considering the mips processor, some people may need use the shell script, because of missing of deb. Dependence Before installing, we need prepare the dependence of it. It requires gtk 2.0 library to run the GUI. On Debian distro like Penguin, just run 1&gt; sudo apt install libgtk2.0-0 Well done! Install It‚Äôs very simple to install it. Just open a terminal, and find the instruction for your format. deb To install deb file, just run 1&gt; sudo dpkg -i linuxqq_1.0.1-b1-100_&lt;arch&gt;.deb or 1&gt; sudo apt install -y /path/to/linuxqq_1.0.1-b1-100_&lt;arch&gt;.deb shell To install shell, just run 1&gt; sudo ./linuxqq_1.0.1-b1-100_&lt;arch&gt;.sh The script will create a tarball and extract it to your system. Run Run linuxqq in the terminal or click on the icon in your Chrome OS to launch it. Problem of character displaying You may see that in the picture, there are lots of characters which are not being shown correctly. Because in the Linux distro, there is not chinese font to show them. We can install a chinese font to display them correctly. 1&gt; sudo apt-get install ttf-wqy-zenhei ttf-wqy-microhei Rerun After installation, run it: It‚Äôs okay! Enjoy!","categories":[{"name":"Chrome OS","slug":"Chrome-OS","permalink":"https://blog.inoki.cc/categories/Chrome-OS/"}],"tags":[{"name":"Chrome OS","slug":"Chrome-OS","permalink":"https://blog.inoki.cc/tags/Chrome-OS/"}]},{"title":"„ÄêËØë„ÄëPython ËÑöÊú¨ÂØºËá¥Êï∞‰ª•ÁôæËÆ°ÁöÑËÆ∫ÊñáÊó†Êïà","slug":"Python-invalidate-hundreds-of-papers","date":"2019-10-22T22:59:24.000Z","updated":"2022-05-09T18:41:39.486Z","comments":true,"path":"2019/10/22/Python-invalidate-hundreds-of-papers/","link":"","permalink":"https://blog.inoki.cc/2019/10/22/Python-invalidate-hundreds-of-papers/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://i-programmer.info/news/231-methodology/13188-python-script-invalidates-hundreds-of-papers.html ËØ•Êñ∞Èóª‰πãÊâÄ‰ª•ÊúâË∂£Ôºå‰∏ç‰ªÖÊòØÂõ†‰∏∫ÂÆÉÁªôÊàë‰ª¨ÊâÄÊúâ‰∫∫‰∏ä‰∫Ü‰∏ÄËØæÔºåËøòÂõ†‰∏∫ÂÆÉË¢´Êä•ÈÅì‰∏∫‚Äú Bug In Python Script ‚Ä¶‚ÄùÔºåÂπ∂ÊöóÁ§∫ Python ÊòØÈóÆÈ¢òÁöÑËµ∑Âõ†„ÄÇÂÆûÈôÖ‰∏äÔºåÁúüÁõ∏Êõ¥Âä†ÊúâË∂£„ÄÇ ËØ•ËÑöÊú¨Â§ßÁ∫¶ÊòØÊúâ 1000 Ë°å Python ‰ª£Á†ÅÔºåÂÆÉ‰∏çÊòØ‰∏Ä‰∏™Â∞èÁ®ãÂ∫è„ÄÇËøô‰∏™Áî± Patrick WilloughbyÔºåMatthew Jansma Âíå Thomas Hoye ÂàõÂª∫ÁöÑËÑöÊú¨ÔºåËá™ 2014 Âπ¥‰ª•Êù•‰∏ÄÁõ¥Âú®‰ΩøÁî®ÔºåÁî®Êù•Ëé∑ÂèñÂéüÂßãÊï∞ÊçÆÂπ∂ËÆ°ÁÆó NMR ‰ΩçÁßª„ÄÇÂú®„ÄäËá™ÁÑ∂ÂçèËÆÆ„ÄãÊùÇÂøó‰∏≠ÔºåÂÆÉË¢´Áß∞‰∏∫‚ÄúWilloughby-Hoye‚ÄùËÑöÊú¨„ÄÇ ÂéüÊú¨‰∏ÄÂàáÈÉΩÊ≠£Â∏∏ÔºåÁõ¥Âà∞Â§èÂ®ÅÂ§∑Â§ßÂ≠¶ÁöÑÁ†îÁ©∂‰∫∫ÂëòÊ≥®ÊÑèÂà∞ÂΩìÂú®‰∏çÂêåÁöÑÊìç‰ΩúÁ≥ªÁªü‰∏äËøêË°åÁõ∏ÂêåÁöÑÊï∞ÊçÆÂíåËÑöÊú¨Êó∂Ôºå‰ªñ‰ª¨ÂæóÂà∞‰∫Ü‰∏çÂêåÁöÑÁªìÊûú„ÄÇ Windows Âíå‰∏Ä‰∏™ÁâàÊú¨ÁöÑ MacOS ÁªôÂá∫‰∫ÜÊ≠£Á°ÆÁöÑÁ≠îÊ°àÔºå‰ΩÜÂè¶‰∏Ä‰∏™ÁâàÊú¨ÁöÑ MacOS Âíå Ubuntu ÁªôÂá∫‰∫ÜÈîôËØØÁöÑÁªìÊûú„ÄÇËøô‰∏çÊòØÊÇ®ÂØπÈîôËØØÁöÑÈ¢ÑÊúüË°å‰∏∫ÔºöÈîôËØØÈÄöÂ∏∏‰∏ç‰ªÖÂú®Êüê‰∫õÁéØÂ¢É‰∏≠ÊúâÔºåËÄåÊòØÂú®‰ªª‰ΩïÁéØÂ¢É‰∏≠ÈÉΩÂ≠òÂú®„ÄÇ ÈÇ£‰πàÔºåÊòØ‰ªÄ‰πàÈóÆÈ¢òÂë¢Ôºü ÈóÆÈ¢ò‰∏ÄÁõ¥Ë¢´ËøΩÊ∫ØÂà∞Êï∞ÊçÆÊ£ÄÁ¥¢ÁöÑÊñπÂºè„ÄÇÊØèÊ¨°ËøêË°åÁöÑÊï∞ÊçÆÈÉΩÂ≠òÂÇ®Âú®‰∏§‰∏™Êñá‰ª∂‰∏≠„ÄÇËøô‰∫õÊñá‰ª∂ÊòØÊåâÊñá‰ª∂ÂêçÊàêÂØπÊ£ÄÁ¥¢Âπ∂ÊàêÂØπÂ§ÑÁêÜÁöÑ„ÄÇÈóÆÈ¢òÂú®‰∫éÔºåÊñá‰ª∂ÁöÑÊ£ÄÁ¥¢È°∫Â∫èÊ†πÊçÆÊìç‰ΩúÁ≥ªÁªüËÄå‰∏çÂêå„ÄÇÂè™Ë¶ÅÊñá‰ª∂ÂØπÂåπÈÖçÔºåÊÇ®Â∞±ÂèØ‰ª•Ëé∑ÂæóÊ≠£Á°ÆÁöÑÁªìÊûú„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÈÖçÂØπÔºåÂ∞Ü‰ºöÂ§ÑÁêÜ‰∏§Ê¨°‰∏çÂêåËøêË°å‰∏≠‰∫ßÁîüÁöÑÊï∞ÊçÆ„ÄÇ ËÆ∏Â§öÊñ∞ÈóªÊä•ÈÅìÁöÑÁΩ™È≠ÅÁ•∏È¶ñÊòØ Python Ê†áÂáÜÂ∫ìÊ®°Âùó globÔºåÂÆÉÂ∞ÜËøîÂõû‰∏éÊñá‰ª∂/Ë∑ØÂæÑËßÑËåÉÂåπÈÖçÁöÑÊñá‰ª∂ÂàóË°®ÔºåÂåÖÊã¨ÈÄöÈÖçÁ¨¶„ÄÇÂÆÉÂèØ‰ª•Â∑•‰ΩúÔºå‰ΩÜÊòØÊ≤°ÊúâÊåâÊåáÂÆöÈ°∫Â∫èËøîÂõûÁªìÊûú„ÄÇËøôÊòØÈîôËØØÂêóÔºüÂπ∂‰∏çÊòØÁöÑ„ÄÇ glob ÁöÑÊñáÊ°£ÁöÑÁ¨¨‰∏ÄÂè•ËØùÂ∞±ÊòØÔºö ‚ÄúÂ∞ΩÁÆ°ÁªìÊûú‰ª•‰ªªÊÑèÈ°∫Â∫èËøîÂõûÔºå‰ΩÜ glob Ê®°ÂùóÊ†πÊçÆ Unix shell ‰ΩøÁî®ÁöÑËßÑÂàôÊü•Êâæ‰∏éÊåáÂÆöÊ®°ÂºèÂåπÈÖçÁöÑÊâÄÊúâË∑ØÂæÑÂêç„ÄÇ‚Äù Âõ†Ê≠§ÔºåËøôÂá†‰πé‰∏çÊòØÈîôËØØ„ÄÇ‰πãÂêéÊÄé‰πàÊ†∑‰∫ÜÔºüÊ≠£ÂºèÁöÑÁî®Êà∑Ôºà‰ªªÂä°‰∏çÊòØÁºñÁ®ãÁöÑÁºñÁ®ã‰∫∫ÂëòÔºâÁªèÂ∏∏ÂØπ‰ªÄ‰πàÊòØÂêàÁêÜÁöÑÂÅöÂá∫ÂÅáËÆæÔºåËÄå‰∏çËÄÉËôë‰∏çÁºñÂÜôÂÅ•Â£Æ‰ª£Á†ÅÁöÑÂêéÊûú„ÄÇÈÄöËøá‰ª•Á≤ó‰ΩìÊòæÁ§∫‚Äú‰ª•‰ªªÊÑèÈ°∫Â∫èËøîÂõû‚ÄùÔºåÊñáÊ°£ÊòØÂê¶ÂØπÊâÄÊúâ‰∫∫ÈÉΩÊúâÁî®ÔºüÊâßË°åÁâπÂÆöÂëΩ‰ª§ËÄå‰∏çÊòØÂ∞ÜÂÖ∂‰øùÁïô‰∏∫Êú™ÂÆö‰πâÁöÑË°å‰∏∫‰ºöÊõ¥ÂêàÁêÜÂêóÔºüÊüê‰∫õÊìç‰ΩúÁ≥ªÁªü‰ºº‰πéËøîÂõûÊéíÂ∫èÂàóË°®ËÄå‰ΩøÈóÆÈ¢òÊõ¥Âä†Â§çÊùÇÔºåÂõ†Ê≠§Â∫îÂΩìÁ°ÆËÆ§Áî®Êà∑ÁöÑÂÅáËÆæ„ÄÇÊìç‰ΩúÁ≥ªÁªüÊòØÂê¶Â∫îËØ•‰ªòÂá∫Êõ¥Â§öÂä™Âäõ‰ª•‰ΩøÂàóË°®‰ª•‰ªªÊÑèÈ°∫Â∫èËøîÂõûÔºü ‰ªéÊú™ÂÆö‰πâÁöÑË°å‰∏∫ÁöÑËßíÂ∫¶‰∏äÊù•ËØ¥ÔºåËøô‰∏™ÈóÆÈ¢ò‰πüËÆ∏Âπ∂‰∏çÊòØ‰ªª‰Ωï‰∫∫ÁöÑÈîô„ÄÇ Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºå‰∏çËøîÂõûÊéíÂ∫èÂàóË°®ÁöÑÂéüÂõ†ÊòØÊïàÁéáÔºöÂ¶ÇÊûúÂæàÂ§öÁî®Êà∑‰∏çÈúÄË¶ÅÂØπÂàóË°®ËøõË°åÊéíÂ∫èÔºå‰∏∫‰ªÄ‰πàËøòË¶ÅÂØπÂàóË°®ËøõË°åÊéíÂ∫èÔºü ÊÇ®ÂèØ‰ª•ËØ¥ÔºåÊõ¥Â•ΩÁöÑÁºñÁ®ãÊäÄËÉΩ‰ºöÊúâÊâÄÂ∏ÆÂä©„ÄÇ‰æãÂ¶ÇÔºåÂåÖÊã¨‰∏Ä‰∫õÊµãËØïÂèØËÉΩ‰ºöÂèëÁé∞ÈóÆÈ¢òÊâÄÂú®Ôºå‰ΩÜÊòØ‰ºöÂêóÔºüÂ¶ÇÊûúÊÇ®Ë¶ÅÁºñÂÜôÊµãËØïÔºåÂàôÈúÄË¶Å‰∫ÜËß£ÊÇ®ÁöÑÂÅáËÆæÔºåÂ¶ÇÊûúÁ®ãÂ∫èÂëòÁü•ÈÅìÊ≠§ÂÖ≥ÈîÆÂÅáËÆæÔºå‰ªñ‰ª¨‰ºöÊ≥®ÊÑèÂà∞ÊñáÊ°£‰∏≠ÁöÑÁ¨¨‰∏ÄÂè•ËØùÂπ∂ÈÅøÂÖç‰ΩøÁî®ÂÆÉ„ÄÇ‰∏∫ÊÇ®Áü•ÈÅìÂøÖÈ°ªÊòØÁúüÂÆûÁöÑ‰∫ãÊÉÖÁºñÂÜôÊµãËØïÈúÄË¶ÅÂ§ßÈáèÁöÑÊ†áÂáÜÂíåÂáÜÂàô„ÄÇ Êàë‰ª¨Â¶Ç‰ΩïÂáèÂ∞ëÂÜçÊ¨°ÂèëÁîüËøôÁßçÊÉÖÂÜµÁöÑÂèØËÉΩÊÄßÂë¢Ôºü","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"}]},{"title":"Python Source Code Analysis (1)","slug":"Python-code-analyse-1","date":"2019-10-21T16:49:40.000Z","updated":"2022-05-09T18:41:39.486Z","comments":true,"path":"2019/10/21/Python-code-analyse-1/","link":"","permalink":"https://blog.inoki.cc/2019/10/21/Python-code-analyse-1/","excerpt":"","text":"In this post, we will take a dissecion of source code of Python. To benefit the simplicity and meanwhile follow the most recent functionnalities, I choose Python 3.6.9 to do the analysis. In the last post, the entry of Python is found, so it‚Äôs time to look at it! Py_Main - the Python Main function According to C89 standard, in a C function, all the variables should be declared at the beginning. So, we can take a look at those variables. Variables The variables are listed below, though we‚Äôll not explicite them at the moment. 1234567891011121314151617181920 int c; int sts; wchar_t *command = NULL; wchar_t *filename = NULL; wchar_t *module = NULL; FILE *fp = stdin; char *p;#ifdef MS_WINDOWS wchar_t *wp;#endif int skipfirstline = 0; int stdin_is_interactive = 0; int help = 0; int version = 0; int saw_unbuffered_flag = 0; char *opt; PyCompilerFlags cf; PyObject *main_importer_path = NULL; PyObject *warning_option = NULL; PyObject *warning_options = NULL; Arguments Then, after listing and initializing all variables, Python will try to find flags in the arguments. First, Python tries to find some options which are needed by some initializations. 12345678910111213/* Hash randomization needed early for all string operations (including -W and -X options). */while ((c = _PyOS_GetOpt(argc, argv, PROGRAM_OPTS)) != EOF) &#123; if (c == 'm' || c == 'c') &#123; /* -c / -m is the last option: following arguments are not interpreter options. */ break; &#125; if (c == 'E') &#123; Py_IgnoreEnvironmentFlag++; break; &#125;&#125; PROGRAM_OPTS is defined as BASE_OPTS, and #define BASE_OPTS L&quot;bBc:dEhiIJm:OqRsStuvVW:xX:?&quot; is at the header of main.c. _PyOS_GetOpt is implemented in Python/getopt.c, which validates and returns argument option. If an option is not in PROGRAM_OPTS, a _ will be returned. It will not accept --argument and returns a -1 if an argument with that form is found. In these lines, only options E, m, c are detected: if E is detected, the flag which leads to the negligence of PYTHONPATH, PYTHONHOME environment variables. once m or c is detected, following parameters should be the name of module(for m option) or the command that will be executed(for c option). So we terminated this loop. Then, Python gets the PYTHONMALLOC variables and tries to use it to setup allocators. 123456opt = Py_GETENV(\"PYTHONMALLOC\");if (_PyMem_SetupAllocators(opt) &lt; 0) &#123; fprintf(stderr, \"Error in PYTHONMALLOC: unknown allocator \\\"%s\\\"!\\n\", opt); exit(1);&#125; Valid allocators are pymalloc, pymalloc_debug, malloc, malloc_debug and debug. If you‚Äôd like to get more about them, Objects/obmalloc.c is a good place. And then Python does an initialization of Random module. In this module, PYTHONHASHSEED can be used to initialize random module. And it resets warning options, resets option parsing process to process all options. 12345678_PyRandom_Init();PySys_ResetWarnOptions();_PyOS_ResetGetOpt();while ((c = _PyOS_GetOpt(argc, argv, PROGRAM_OPTS)) != EOF) &#123; // ...&#125; We finally enter the period to parse all arguments. They will be explicited in order. Option c -c cmd : program passed in as string (terminates option list)` 12345678910111213141516if (c == 'c') &#123; size_t len; /* -c is the last option; following arguments that look like options are left for the command to interpret. */ len = wcslen(_PyOS_optarg) + 1 + 1; command = (wchar_t *)PyMem_RawMalloc(sizeof(wchar_t) * len); if (command == NULL) Py_FatalError( \"not enough memory to copy -c argument\"); wcscpy(command, _PyOS_optarg); command[len - 2] = '\\n'; command[len - 1] = 0; break;&#125; If we encounter an c option, all other arguments will be neglected. The following argument will be parsed as the commands to be run. Option m -m mod : run library module as a script (terminates option list) 1234567if (c == 'm') &#123; /* -m is the last option; following arguments that look like options are left for the module to interpret. */ module = _PyOS_optarg; break;&#125; If we encounter an m option, all other arguments will be neglected. The following argument will be parsed as the module to be run. Other options 1234567891011121314151617181920212223-B : don&apos;t write .py[co] files on import; also PYTHONDONTWRITEBYTECODE=x-d : debug output from parser; also PYTHONDEBUG=x-E : ignore PYTHON* environment variables (such as PYTHONPATH)-h : print this help message and exit (also --help)-i : inspect interactively after running script; forces a prompt even if stdin does not appear to be a terminal; also PYTHONINSPECT=x-O : optimize generated bytecode slightly; also PYTHONOPTIMIZE=x-OO : remove doc-strings in addition to the -O optimizations-R : use a pseudo-random salt to make hash() values of various types be unpredictable between separate invocations of the interpreter, as a defense against denial-of-service attacks-Q arg : division options: -Qold (default), -Qwarn, -Qwarnall, -Qnew-s : don&apos;t add user site directory to sys.path; also PYTHONNOUSERSITE-S : don&apos;t imply &apos;import site&apos; on initialization-t : issue warnings about inconsistent tab usage (-tt: issue errors)-u : unbuffered binary stdout and stderr; also PYTHONUNBUFFERED=x see man page for details on internal buffering relating to &apos;-u&apos;-v : verbose (trace import statements); also PYTHONVERBOSE=x can be supplied multiple times to increase verbosity-V : print the Python version number and exit (also --version)-W arg : warning control; arg is action:message:category:module:lineno also PYTHONWARNINGS=arg-x : skip first line of source, allowing use of non-Unix forms of #!cmd 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100switch (c) &#123;case 'b': Py_BytesWarningFlag++; break;case 'd': Py_DebugFlag++; break;case 'i': Py_InspectFlag++; Py_InteractiveFlag++; break;case 'I': Py_IsolatedFlag++; Py_NoUserSiteDirectory++; Py_IgnoreEnvironmentFlag++; break;/* case 'J': reserved for Jython */case 'O': Py_OptimizeFlag++; break;case 'B': Py_DontWriteBytecodeFlag++; break;case 's': Py_NoUserSiteDirectory++; break;case 'S': Py_NoSiteFlag++; break;case 'E': /* Already handled above */ break;case 't': /* ignored for backwards compatibility */ break;case 'u': Py_UnbufferedStdioFlag = 1; saw_unbuffered_flag = 1; break;case 'v': Py_VerboseFlag++; break;case 'x': skipfirstline = 1; break;case 'h':case '?': help++; break;case 'V': version++; break;case 'W': if (warning_options == NULL) warning_options = PyList_New(0); if (warning_options == NULL) Py_FatalError(\"failure in handling of -W argument\"); warning_option = PyUnicode_FromWideChar(_PyOS_optarg, -1); if (warning_option == NULL) Py_FatalError(\"failure in handling of -W argument\"); if (PyList_Append(warning_options, warning_option) == -1) Py_FatalError(\"failure in handling of -W argument\"); Py_DECREF(warning_option); break;case 'X': PySys_AddXOption(_PyOS_optarg); break;case 'q': Py_QuietFlag++; break;case 'R': /* Ignored */ break;/* This space reserved for other options */default: return usage(2, argv[0]); /*NOTREACHED*/&#125; Actions and behaviors After recording all options in specified flags, Python can handle them with a determined order or a determined prority (if actions are incompatible). Help, Version 1234567if (help) return usage(0, argv[0]);if (version) &#123; printf(\"Python %s\\n\", version &gt;= 2 ? Py_GetVersion() : PY_VERSION); return 0;&#125; The option for help has the highest priority, then the option for the version. If they occured, Python will directly terminate after executing their proper actions. Sync with env Then, Python tries to get env 12345678910if (!Py_InspectFlag &amp;&amp; (p = Py_GETENV(\"PYTHONINSPECT\")) &amp;&amp; *p != '\\0') Py_InspectFlag = 1;if (!saw_unbuffered_flag &amp;&amp; (p = Py_GETENV(\"PYTHONUNBUFFERED\")) &amp;&amp; *p != '\\0') Py_UnbufferedStdioFlag = 1;if (!Py_NoUserSiteDirectory &amp;&amp; (p = Py_GETENV(\"PYTHONNOUSERSITE\")) &amp;&amp; *p != '\\0') Py_NoUserSiteDirectory = 1; One thing should be noticed is that, Py_GETENV is a macro like this: 1#define Py_GETENV(s) (Py_IgnoreEnvironmentFlag ? NULL : getenv(s)) which will actually return NULL if the flag Py_IgnoreEnvironmentFlag is not zero. The flag is set by -E option. I think this is a good design. Parse warning option Python then uses the code below to parse warning option in different systems, since they might have different default character sets. 123456789101112#ifdef MS_WINDOWS// ...#else// ...#endifif (warning_options != NULL) &#123; Py_ssize_t i; for (i = 0; i &lt; PyList_GET_SIZE(warning_options); i++) &#123; PySys_AddWarnOptionUnicode(PyList_GET_ITEM(warning_options, i)); &#125;&#125; At the end, add them to Python warning option list. Get script file name Get filename if no command, no module, the arguments are not all read, and the current argument is not -. 12345if (command == NULL &amp;&amp; module == NULL &amp;&amp; _PyOS_optind &lt; argc &amp;&amp; wcscmp(argv[_PyOS_optind], L\"-\") != 0)&#123; filename = argv[_PyOS_optind];&#125; Check interactivity of current terminal 1234567891011121314151617181920stdin_is_interactive = Py_FdIsInteractive(stdin, (char *)0);// Python/pylifecycle.c/* * The file descriptor fd is considered ``interactive'' if either * a) isatty(fd) is TRUE, or * b) the -i flag was given, and the filename associated with * the descriptor is NULL or \"&lt;stdin&gt;\" or \"???\". */intPy_FdIsInteractive(FILE *fp, const char *filename)&#123; if (isatty((int)fileno(fp))) return 1; if (!Py_InteractiveFlag) return 0; return (filename == NULL) || (strcmp(filename, \"&lt;stdin&gt;\") == 0) || (strcmp(filename, \"???\") == 0);&#125; So, stdin is always interactive. Play with buffers Use -u option to disable input/ouput buffer in Python. This can resolve some problem if you‚Äôd like to use pipe as the input or the output of a Python program. 1234567891011if (Py_UnbufferedStdioFlag) &#123;#ifdef HAVE_SETVBUF setvbuf(stdin, (char *)NULL, _IONBF, BUFSIZ); setvbuf(stdout, (char *)NULL, _IONBF, BUFSIZ); setvbuf(stderr, (char *)NULL, _IONBF, BUFSIZ);#else /* !HAVE_SETVBUF */ setbuf(stdin, (char *)NULL); setbuf(stdout, (char *)NULL); setbuf(stderr, (char *)NULL);#endif /* !HAVE_SETVBUF */&#125; If Py_UnbufferedStdioFlag is not set, but we‚Äôll enter the interactive mode, do not either use the input/output buffer. 12345678910111213else if (Py_InteractiveFlag) &#123;#ifdef MS_WINDOWS /* Doesn't have to have line-buffered -- use unbuffered */ /* Any set[v]buf(stdin, ...) screws up Tkinter :-( */ setvbuf(stdout, (char *)NULL, _IONBF, BUFSIZ);#else /* !MS_WINDOWS */#ifdef HAVE_SETVBUF setvbuf(stdin, (char *)NULL, _IOLBF, BUFSIZ); setvbuf(stdout, (char *)NULL, _IOLBF, BUFSIZ);#endif /* HAVE_SETVBUF */#endif /* !MS_WINDOWS */ /* Leave stderr alone - it should be unbuffered anyway. */&#125; Play with program name Python wants to set itself as the program name through Py_SetProgramName function. It‚Äôs a simple function, but on macOS, the Python interpreter can be in an App package rather than a bare environment. So, it requires lots of lines to retrieve the program name. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#ifdef __APPLE__ /* On MacOS X, when the Python interpreter is embedded in an application bundle, it gets executed by a bootstrapping script that does os.execve() with an argv[0] that's different from the actual Python executable. This is needed to keep the Finder happy, or rather, to work around Apple's overly strict requirements of the process name. However, we still need a usable sys.executable, so the actual executable path is passed in an environment variable. See Lib/plat-mac/bundlebuiler.py for details about the bootstrap script. */ if ((p = Py_GETENV(\"PYTHONEXECUTABLE\")) &amp;&amp; *p != '\\0') &#123; wchar_t* buffer; size_t len = strlen(p) + 1; buffer = PyMem_RawMalloc(len * sizeof(wchar_t)); if (buffer == NULL) &#123; Py_FatalError( \"not enough memory to copy PYTHONEXECUTABLE\"); &#125; mbstowcs(buffer, p, len); Py_SetProgramName(buffer); /* buffer is now handed off - do not free */ &#125; else &#123;#ifdef WITH_NEXT_FRAMEWORK char* pyvenv_launcher = getenv(\"__PYVENV_LAUNCHER__\"); if (pyvenv_launcher &amp;&amp; *pyvenv_launcher) &#123; /* Used by Mac/Tools/pythonw.c to forward * the argv0 of the stub executable */ wchar_t* wbuf = Py_DecodeLocale(pyvenv_launcher, NULL); if (wbuf == NULL) &#123; Py_FatalError(\"Cannot decode __PYVENV_LAUNCHER__\"); &#125; Py_SetProgramName(wbuf); /* Don't free wbuf, the argument to Py_SetProgramName * must remain valid until Py_FinalizeEx is called. */ &#125; else &#123; Py_SetProgramName(argv[0]); &#125;#else Py_SetProgramName(argv[0]);#endif &#125;#else Py_SetProgramName(argv[0]);#endif Otherwise, we can see that, argv[0] is passed in. Initialize Python This function will call Py_InitializeEx(1); and then _Py_InitializeEx_Private(install_sigs, 1);. 1Py_Initialize(); The function _Py_InitializeEx_Private will establish the entire environment. In the next post, we can get deeper in it. Print Python version in interactive mode Python will then print Python version if we want to directly enter into interactive mode, i.e, run python without any other arguments. 12345678if (!Py_QuietFlag &amp;&amp; (Py_VerboseFlag || (command == NULL &amp;&amp; filename == NULL &amp;&amp; module == NULL &amp;&amp; stdin_is_interactive))) &#123; fprintf(stderr, \"Python %s on %s\\n\", Py_GetVersion(), Py_GetPlatform()); if (!Py_NoSiteFlag) fprintf(stderr, \"%s\\n\", COPYRIGHT);&#125; Prepare argv for Python os.argv Use -m or -c as premier argument. 1234567891011if (command != NULL) &#123; /* Backup _PyOS_optind and force sys.argv[0] = '-c' */ _PyOS_optind--; argv[_PyOS_optind] = L\"-c\";&#125;if (module != NULL) &#123; /* Backup _PyOS_optind and force sys.argv[0] = '-m'*/ _PyOS_optind--; argv[_PyOS_optind] = L\"-m\";&#125; Prepare main importer path Main importer path is exactly the module in which Python will run as __main__. So, to launch Python with a file in the arguments, it‚Äôs to use the file as the main importer path. 123if (filename != NULL) &#123; main_importer_path = AsImportPathEntry(filename);&#125; If there is no file name provided, main_importer_path will not be set, either. So we do not know which we should use as the first parameter in sys.argv. Python chooses to treat it after. 1234567if (main_importer_path != NULL) &#123; /* Let RunMainFromImporter adjust sys.path[0] later */ PySys_SetArgvEx(argc-_PyOS_optind, argv+_PyOS_optind, 0);&#125; else &#123; /* Use config settings to decide whether or not to update sys.path[0] */ PySys_SetArgv(argc-_PyOS_optind, argv+_PyOS_optind);&#125; Prepare for interactive mode If we are going to use interactive/inspect mode, we‚Äôll need the library readline. So, import it and decrease the reference count of it, to delete it later. 12345678910if ((Py_InspectFlag || (command == NULL &amp;&amp; filename == NULL &amp;&amp; module == NULL)) &amp;&amp; isatty(fileno(stdin)) &amp;&amp; !Py_IsolatedFlag) &#123; PyObject *v; v = PyImport_ImportModule(\"readline\"); if (v == NULL) PyErr_Clear(); else Py_DECREF(v);&#125; Run command if conform 1234if (command) &#123; sts = run_command(command, &amp;cf); PyMem_RawFree(command);&#125; Run module if conform 123else if (module) &#123; sts = (RunModule(module, 1) != 0);&#125; Run interactive or run files If neither command nor module conforms, Python will try to find other way to launch. Firstly, it tries to run interactive mode, while filename is not set. This action is what happens in the background when we launch python without arguments from our terminal. But it is not where the program begins. Here, we‚Äôve just launched a hook to mark that we need interactive mode. 12345if (filename == NULL &amp;&amp; stdin_is_interactive) &#123; Py_InspectFlag = 0; /* do exit on SystemExit */ RunStartupFile(&amp;cf); RunInteractiveHook();&#125; Then, if main_importer_path is set(previously by the file), the main program will run with the file as the main importer. As you know, import all things in the module and set __name__ to __main__. 12345sts = -1; /* keep track of whether we've already run __main__ */if (main_importer_path != NULL) &#123; sts = RunMainFromImporter(main_importer_path);&#125; But what will happen if file name is set, but main importer is not found, or the file doesn‚Äôt exist? Python tries to open the file and read it line by line, then executes it. 12345678910111213141516171819202122232425262728293031323334353637383940if (sts==-1 &amp;&amp; filename != NULL) &#123; fp = _Py_wfopen(filename, L\"r\"); if (fp == NULL) &#123; char *cfilename_buffer; const char *cfilename; int err = errno; cfilename_buffer = Py_EncodeLocale(filename, NULL); if (cfilename_buffer != NULL) cfilename = cfilename_buffer; else cfilename = \"&lt;unprintable file name&gt;\"; fprintf(stderr, \"%ls: can't open file '%s': [Errno %d] %s\\n\", argv[0], cfilename, err, strerror(err)); if (cfilename_buffer) PyMem_Free(cfilename_buffer); return 2; &#125; else if (skipfirstline) &#123; int ch; /* Push back first newline so line numbers remain the same */ while ((ch = getc(fp)) != EOF) &#123; if (ch == '\\n') &#123; (void)ungetc(ch, fp); break; &#125; &#125; &#125; &#123; struct _Py_stat_struct sb; if (_Py_fstat_noraise(fileno(fp), &amp;sb) == 0 &amp;&amp; S_ISDIR(sb.st_mode)) &#123; fprintf(stderr, \"%ls: '%ls' is a directory, cannot continue\\n\", argv[0], filename); fclose(fp); return 1; &#125; &#125;&#125; sts will be set to another value, so the following lines will only be executed if there is no file name given. 12if (sts == -1) sts = run_file(fp, filename, &amp;cf); From here, the Python main program is over. Except some small things will be executed after the running. Re-run Interactive 1234567if (Py_InspectFlag &amp;&amp; stdin_is_interactive &amp;&amp; (filename != NULL || command != NULL || module != NULL)) &#123; Py_InspectFlag = 0; RunInteractiveHook(); /* XXX */ sts = PyRun_AnyFileFlags(stdin, \"&lt;stdin&gt;\", &amp;cf) != 0;&#125; As we see above, we need Py_InspectFlag, stdin_is_interactive are both true, and set at least a file name, a command or a module to run interactive mode. Which means, probably there was one script which has been executed, an the script imported the interactive mode. 12345678/* Check this environment variable at the end, to give programs the * opportunity to set it from Python. */if (!Py_InspectFlag &amp;&amp; (p = Py_GETENV(\"PYTHONINSPECT\")) &amp;&amp; *p != '\\0')&#123; Py_InspectFlag = 1;&#125; Thus, run python -c &quot;import os; os.environ['PYTHONINSPECT']='1'&quot; can also help enter interactive mode üòÉ But notice that, it will be executed if Py_InspectFlag is not set. That means previously we are not in the interactive mode. Thus, run python and &quot;import os; os.environ['PYTHONINSPECT']='1'&quot; in it, then exit, this will not help to re-enter the interactive mode. Clear and end up 1234567if (Py_FinalizeEx() &lt; 0) &#123; /* Value unlikely to be confused with a non-error exit status or other special meaning */ sts = 120;&#125;return sts; Conclusion Up to now, a Python interpreter/program has been launched and finished. In the next post, we‚Äôll look deeper into _Py_InitializeEx_Private, to see how Python Main function builds Python env through this function. But at the beginning, we‚Äôll talk about other functions in Python/main.c, they are small functions but really vital. See you then!","categories":[{"name":"Programming Language","slug":"Programming-Language","permalink":"https://blog.inoki.cc/categories/Programming-Language/"},{"name":"Source Code","slug":"Source-Code","permalink":"https://blog.inoki.cc/categories/Source-Code/"},{"name":"Python","slug":"Programming-Language/Python","permalink":"https://blog.inoki.cc/categories/Programming-Language/Python/"},{"name":"Python","slug":"Source-Code/Python","permalink":"https://blog.inoki.cc/categories/Source-Code/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://blog.inoki.cc/tags/Python/"},{"name":"Source Code","slug":"Source-Code","permalink":"https://blog.inoki.cc/tags/Source-Code/"}]},{"title":"Èù¢ËØïÂ∏∏ËßÅÂü∫Á°ÄÊï∞ÊçÆÁªìÊûÑ","slug":"Data-Structure","date":"2019-10-20T11:29:40.000Z","updated":"2022-05-09T18:41:39.450Z","comments":true,"path":"2019/10/20/Data-Structure/","link":"","permalink":"https://blog.inoki.cc/2019/10/20/Data-Structure/","excerpt":"","text":"ÂéüÊñáÈìæÊé•Ôºöhttps://segmentfault.com/a/1190000018019127 Â∏∏Áî®ÁöÑÊï∞ÊçÆÁªìÊûÑ Êàë‰ª¨È¶ñÂÖàÂàóÂá∫ÊúÄÂ∏∏Áî®ÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÁÑ∂ÂêéÂÜçÊå®‰∏™ËÆ≤Ëß£Ôºö Êï∞ÁªÑ(Array) Ê†à(Heap, Stack) ÈòüÂàó(Queue) ÈìæË°®(Linked List) Ê†ë(Tree) Âõæ(Graph) Â≠óÂÖ∏Ê†ë(Dictoinary Tree) ÂìàÂ∏åË°®(Hash Table) Êï∞ÁªÑ Êï∞ÁªÑÊòØ‰∏ÄÁßçÊúÄÁÆÄÂçïÂíåÊúÄÂπøÊ≥õ‰ΩøÁî®ÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÂÖ∂ÂÆÉÊï∞ÊçÆÁªìÊûÑÊØîÂ¶ÇÊ†àÂíåÈòüÂàóÈÉΩÊ∫êËá™Êï∞ÁªÑ„ÄÇ ‰∏ãÂõæÊòØ‰∏Ä‰∏™Â§ßÂ∞è‰∏∫ 4 ÁöÑÁÆÄÂçïÊï∞ÁªÑÔºåÂåÖÂê´Âá†‰∏™ÂÖÉÁ¥†Ôºà 1 , 2 , 3Ôºå4Ôºâ„ÄÇ ÊØè‰∏™Êï∞ÊçÆÂÖÉÁ¥†‰ºöË¢´ÂàÜÈÖç‰∏Ä‰∏™Ê≠£ÁöÑÊï∞ÂÄºÔºåÂè´‰Ωú‚ÄúÁ¥¢Âºï‚ÄùÔºåÂÆÉÂØπÂ∫îËØ•ÂÖÉÁ¥†Âú®Êï∞ÁªÑ‰∏≠ÁöÑ‰ΩçÁΩÆ„ÄÇÂ§ßÈÉ®ÂàÜÁºñÁ®ãËØ≠Ë®ÄÈÉΩÂ∞ÜÂàùÂßãÁ¥¢ÂºïÂÆö‰πâ‰∏∫ 0. ‰ª•‰∏ãÊòØ‰∏§ÁßçÊï∞ÁªÑÔºö ‰∏ÄÁª¥Êï∞ÁªÑÔºàÂ¶Ç‰∏äÊâÄÁ§∫Ôºâ Â§öÁª¥Êï∞ÁªÑÔºàÊï∞ÁªÑÁöÑÊï∞ÁªÑÔºâ Êï∞ÁªÑÁöÑÂü∫Êú¨Êìç‰ΩúÔºö Insert‚Äî‚ÄîÂú®ÁªôÂÆöÁ¥¢Âºï‰ΩçÁΩÆÊèíÂÖ•‰∏Ä‰∏™ÂÖÉÁ¥† Get‚Äî‚ÄîËøîÂõûÁªôÂÆöÁ¥¢Âºï‰ΩçÁΩÆÁöÑÂÖÉÁ¥† Delete‚Äî‚ÄîÂà†Èô§ÁªôÂÆöÁ¥¢Âºï‰ΩçÁΩÆÁöÑÂÖÉÁ¥† Size‚Äî‚ÄîËé∑ÂèñÊï∞ÁªÑÂÜÖÊâÄÊúâÂÖÉÁ¥†ÁöÑÊÄªÊï∞ Â∏∏ÈóÆÁöÑÊï∞ÁªÑÈù¢ËØïÈóÆÈ¢òÔºö ÊâæÂà∞Êï∞ÁªÑ‰∏≠Á¨¨‰∫åÂ∞èÁöÑÂÖÉÁ¥† ÊâæÂà∞Êï∞ÁªÑ‰∏≠Á¨¨‰∏Ä‰∏™Ê≤°ÊúâÈáçÂ§çÁöÑÊï¥Êï∞ ÂêàÂπ∂‰∏§‰∏™ÂàÜÁ±ªÊï∞ÁªÑ ÈáçÊñ∞ÊéíÂàóÊï∞ÁªÑ‰∏≠ÁöÑÊ≠£ÂÄºÂíåË¥üÂÄº Ê†à Êàë‰ª¨ÈÉΩÁÜüÊÇâÂæàÊúâÂêçÁöÑÊí§ÈîÄÔºàUndoÔºâÈÄâÈ°πÔºåÂÆÉÂá†‰πéÂ≠òÂú®ÊØè‰∏™Â∫îÁî®Á®ãÂ∫è‰∏≠„ÄÇÊúâÊ≤°ÊúâÊÉ≥ËøáÂÆÉÊòØÂ¶Ç‰ΩïÂ∑•‰ΩúÁöÑÔºüÂÖ∂ÊÄùË∑ØÂ∞±ÊòØÔºåÊåâÁÖßÊúÄÂêéÁöÑÁä∂ÊÄÅÊéíÂàóÂú®ÂÖàÁöÑÈ°∫Â∫èÂ∞ÜÂ∑•‰ΩúÁöÑÂÖàÂâçÁä∂ÊÄÅÔºàÈôê‰∫éÁâπÂÆöÊï∞Â≠óÔºâÂ≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠„ÄÇËøôÂè™Áî®Êï∞ÁªÑÊòØÊó†Ê≥ïÂÆûÁé∞ÁöÑÔºåÂõ†Ê≠§Ê†àÂ∞±Êúâ‰∫ÜÁî®Ê≠¶‰πãÂú∞„ÄÇ ÂèØ‰ª•ÊääÊ†àÁúã‰Ωú‰∏ÄÂ†ÜÂûÇÁõ¥ÊéíÂàóÁöÑ‰π¶Á±ç„ÄÇ‰∏∫‰∫ÜËé∑Âæó‰Ωç‰∫é‰∏≠Èó¥‰ΩçÁΩÆÁöÑ‰π¶Ôºå‰Ω†ÈúÄË¶ÅÊãøÊéâÊîæÂú®ÂÆÉ‰∏äÈù¢ÁöÑÊâÄÊúâ‰π¶Á±ç„ÄÇËøôÂ∞±ÊòØ LIFOÔºàÂêéËøõÂÖàÂá∫ÔºâÊñπÊ≥ïÁöÑÂ∑•‰ΩúÂéüÁêÜ„ÄÇ ËøôÊòØ‰∏Ä‰∏™ÂåÖÂê´‰∏â‰∏™Êï∞ÊçÆÂÖÉÁ¥†Ôºà1,2 Âíå 3ÔºâÁöÑÊ†àÂõæÂÉèÔºåÂÖ∂‰∏≠3‰Ωç‰∫éÈ°∂ÈÉ®ÔºåÈ¶ñÂÖàÊääÂÆÉÂà†Èô§Ôºö Ê†àÁöÑÂü∫Êú¨Êìç‰ΩúÔºö Push‚Äî‚ÄîÂú®È°∂ÈÉ®ÊèíÂÖ•ÂÖÉÁ¥† Pop‚Äî‚Äî ‰ªéÊ†à‰∏≠Âà†Èô§ÂêéËøîÂõûÈ°∂ÈÉ®ÂÖÉÁ¥† isEmpty‚Äî‚ÄîÂ¶ÇÊûúÊ†à‰∏∫Á©∫ÔºåÂàôËøîÂõû true Top ‚Äî‚ÄîËøîÂõûÈ°∂ÈÉ®ÂÖÉÁ¥†Ôºå‰ΩÜ‰∏ç‰ªéÊ†à‰∏≠Âà†Èô§ Â∏∏ËßÅÁöÑÊ†àÈù¢ËØïÈóÆÈ¢òÔºö ‰ΩøÁî®Ê†àËÆ°ÁÆóÂêéÁºÄË°®ËææÂºè ÂØπÊ†à‰∏≠ÁöÑÂÄºËøõË°åÊéíÂ∫è Ê£ÄÊü•Ë°®ËææÂºè‰∏≠ÁöÑÊã¨Âè∑ÊòØÂê¶Âπ≥Ë°° ÈòüÂàó ‰∏éÊ†àÁ±ª‰ººÔºåÈòüÂàóÊòØÂè¶‰∏ÄÁßçÁ∫øÊÄßÊï∞ÊçÆÁªìÊûÑÔºå‰ª•È°∫Â∫èÊñπÂºèÂ≠òÂÇ®ÂÖÉÁ¥†„ÄÇÊ†àÂíåÈòüÂàó‰πãÈó¥ÂîØ‰∏ÄÁöÑÊòæÁùÄÂå∫Âà´ÊòØÔºåÈòüÂàó‰∏çÊòØ‰ΩøÁî® LIFO ÊñπÊ≥ïÔºåËÄåÊòØÂ∫îÁî® FIFO ÊñπÊ≥ïÔºåËøôÊòØ First in First OutÔºàÂÖàÂÖ•ÂÖàÂá∫ÔºâÁöÑÁº©ÂÜô„ÄÇ ÈòüÂàóÁöÑÂÆåÁæéÁé∞ÂÆû‰æãÂ≠êÔºö‰∏ÄÂàó‰∫∫Âú®ÂîÆÁ•®‰∫≠Á≠âÂÄô„ÄÇÂ¶ÇÊûúÊúâÊñ∞‰∫∫Êù•Ôºå‰ªñ‰ª¨ÊòØ‰ªéÊú´Â∞æÂä†ÂÖ•ÈòüÂàóÔºåËÄå‰∏çÊòØÂú®ÂºÄÂ§¥‚Äî‚ÄîÁ´ôÂú®ÂâçÈù¢ÁöÑ‰∫∫Â∞ÜÂÖà‰π∞Âà∞Á•®ÁÑ∂ÂêéÁ¶ªÂºÄÈòüÂàó„ÄÇ ‰∏ãÂõæÊòØ‰∏Ä‰∏™ÂåÖÂê´Âõõ‰∏™Êï∞ÊçÆÂÖÉÁ¥†Ôºà1,2,3 Âíå 4ÔºâÁöÑÈòüÂàóÔºåÂÖ∂‰∏≠ 1 ‰Ωç‰∫éÈ°∂ÈÉ®ÔºåÈ¶ñÂÖàÊääÂÆÉÂà†Èô§Ôºö ÈòüÂàóÁöÑÂü∫Êú¨Êìç‰ΩúÔºö Enqueue() ‚Äî‚Äî ÂêëÈòüÂàóÊú´Â∞æÊèíÂÖ•ÂÖÉÁ¥† Dequeue() ‚Äî‚Äî ‰ªéÈòüÂàóÂ§¥ÈÉ®ÁßªÈô§ÂÖÉÁ¥† isEmpty() ‚Äî‚Äî Â¶ÇÊûúÈòüÂàó‰∏∫Á©∫ÔºåÂàôËøîÂõû true Top() ‚Äî‚Äî ËøîÂõûÈòüÂàóÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥† Â∏∏ÈóÆÁöÑÈòüÂàóÈù¢ËØïÈóÆÈ¢òÔºö ‰ΩøÁî®ÈòüÂàóÊù•ÂÆûÁé∞Ê†à È¢†ÂÄíÈòüÂàó‰∏≠Ââç k ‰∏™ÂÖÉÁ¥†ÁöÑÈ°∫Â∫è ‰ΩøÁî®ÈòüÂàóÁîüÊàê‰ªé 1 Âà∞ n ÁöÑ‰∫åËøõÂà∂Êï∞ ÈìæË°® ÈìæË°®ÊòØÂè¶‰∏Ä‰∏™ÈáçË¶ÅÁöÑÁ∫øÊÄßÊï∞ÊçÆÁªìÊûÑÔºåÂàö‰∏ÄÁúãÂèØËÉΩÁúãËµ∑Êù•ÂÉèÊï∞ÁªÑÔºå‰ΩÜÂú®ÂÜÖÂ≠òÂàÜÈÖçÔºåÂÜÖÈÉ®ÁªìÊûÑ‰ª•ÂèäÂ¶Ç‰ΩïÊâßË°åÊèíÂÖ•ÂíåÂà†Èô§ÁöÑÂü∫Êú¨Êìç‰ΩúÊñπÈù¢ÊúâÊâÄ‰∏çÂêå„ÄÇ ÈìæË°®Â∞±ÂÉè‰∏Ä‰∏™ËäÇÁÇπÈìæÔºåÂÖ∂‰∏≠ÊØè‰∏™ËäÇÁÇπÂåÖÂê´Êï∞ÊçÆÂíåÊåáÂêëÈìæ‰∏≠ÂêéÁª≠ËäÇÁÇπÁöÑÊåáÈíàÁ≠â‰ø°ÊÅØ„ÄÇÊúâ‰∏Ä‰∏™Â§¥ÊåáÈíàÔºåÊåáÂêëÈìæË°®ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂ¶ÇÊûúÂàóË°®ÊòØÁ©∫ÁöÑÔºåÈÇ£‰πàÂÆÉÂè™ÊåáÂêë null Êàñ‰∏çÊåáÂêë‰ªª‰ΩïÂÜÖÂÆπ„ÄÇ ÈìæË°®Áî®‰∫éÂÆûÁé∞Êñá‰ª∂Á≥ªÁªüÔºåÂìàÂ∏åË°®ÂíåÈÇªÊé•Ë°®„ÄÇ‰∏ãÂõæÊòØÈìæË°®ÂÜÖÈÉ®ÁªìÊûÑÁöÑÁõ¥ËßÇÂ±ïÁ§∫Ôºö ‰∏ãÈù¢ÊòØÂá†ÁßçÁ±ªÂûãÁöÑÈìæË°®Ôºö ÂçïÈìæË°®ÔºàÂçïÂêëÔºâ ÂèåÈìæË°®ÔºàÂèåÂêëÔºâ ÈìæË°®ÁöÑÂü∫Êú¨Êìç‰ΩúÔºö InsertAtEnd ‚Äî‚Äî Âú®ÈìæË°®Êú´Â∞æÊèíÂÖ•ÊåáÂÆöÂÖÉÁ¥† InsertAtHead ‚Äî‚Äî Âú®ÈìæË°®Â§¥ÈÉ®ÊèíÂÖ•ÊåáÂÆöÂÖÉÁ¥† Delete ‚Äî‚Äî ‰ªéÈìæË°®‰∏≠Âà†Èô§ÊåáÂÆöÂÖÉÁ¥† DeleteAtHead ‚Äî‚Äî Âà†Èô§ÈìæË°®ÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥† Search ‚Äî‚Äî ËøîÂõûÈìæË°®‰∏≠ÁöÑÊåáÂÆöÂÖÉÁ¥† isEmpty ‚Äî‚Äî Â¶ÇÊûúÈìæË°®‰∏∫Á©∫ÔºåËøîÂõû true Â∏∏ÈóÆÁöÑÈìæË°®Èù¢ËØïÈóÆÈ¢òÔºö ÁøªËΩ¨ÂàóË°® Ê£ÄÊµãÈìæË°®‰∏≠ÁöÑÂæ™ÁéØ ËøîÂõûÈìæË°®‰∏≠ÂÄíÊï∞Á¨¨ n ‰∏™ËäÇÁÇπ ÁßªÈô§ÈìæË°®‰∏≠ÁöÑÈáçÂ§çÂÄº Âõæ ÂõæÂ∞±ÊòØ‰∏ÄÁªÑËäÇÁÇπÔºå‰ª•ÁΩëÁªúÁöÑÂΩ¢Âºè‰∫íÁõ∏ËøûÊé•„ÄÇËäÇÁÇπ‰πüË¢´Áß∞‰∏∫È°∂ÁÇπÔºàverticesÔºâ„ÄÇ‰∏ÄÂØπÔºàx,yÔºâÂ∞±Âè´ÂÅö‰∏Ä‰∏™ËæπÔºåË°®Á§∫È°∂ÁÇπ x ÂíåÈ°∂ÁÇπ y Áõ∏Ëøû„ÄÇ‰∏Ä‰∏™ËæπÂèØËÉΩÂåÖÂê´ÊùÉÈáç/ÊàêÊú¨ÔºåÊòæÁ§∫‰ªéÈ°∂ÁÇπ x Âà∞ y ÊâÄÈúÄÁöÑÊàêÊú¨„ÄÇ ÂõæÁöÑÁ±ªÂûãÔºö Êó†ÂêëÂõæ ÊúâÂêëÂõæ Âú®ÁºñÁ®ãËØ≠Ë®Ä‰∏≠ÔºåÂõæÂèØ‰ª•Ë°®Á§∫‰∏∫‰∏§ÁßçÂΩ¢ÂºèÔºö ÈÇªÊé•Áü©Èòµ ÈÇªÊé•ÂàóË°® Â∏∏ËßÅÁöÑÂõæÈÅçÂéÜÁÆóÊ≥ïÔºö ÂπøÂ∫¶‰ºòÂÖàÊêúÁ¥¢ Ê∑±Â∫¶‰ºòÂÖàÊêúÁ¥¢ Â∏∏ÈóÆÁöÑÂõæÈù¢ËØïÈóÆÈ¢òÔºö ÂÆûÁé∞ÂπøÂ∫¶‰ºòÂÖàÊêúÁ¥¢ÂíåÊ∑±Â∫¶‰ºòÂÖàÊêúÁ¥¢ Ê£ÄÊü•‰∏Ä‰∏™ÂõæÊòØÂê¶‰∏∫Ê†ë ËÆ°ÁÆó‰∏ÄÂº†Âõæ‰∏≠ÁöÑËæπÁöÑÊï∞Èáè ÊâæÂà∞‰∏§‰∏™È°∂ÁÇπ‰πãÈó¥ÁöÑÊúÄÁü≠Ë∑ØÂæÑ Ê†ë Ê†ëÊòØ‰∏ÄÁßçÂ±ÇÁ∫ßÊï∞ÊçÆÁªìÊûÑÔºåÂåÖÂê´‰∫ÜËøûÊé•ÂÆÉ‰ª¨ÁöÑÈ°∂ÁÇπÔºàËäÇÁÇπÔºâÂíåËæπ„ÄÇÊ†ëÂíåÂõæÂæàÁõ∏‰ººÔºå‰ΩÜ‰∫åËÄÖÊúâ‰∏™ÂæàÂ§ßÁöÑ‰∏çÂêåÁÇπÔºåÂç≥Ê†ë‰∏≠Ê≤°ÊúâÂæ™ÁéØ„ÄÇ Ê†ëÂπøÊ≥õÂ∫îÁî®Âú®‰∫∫Â∑•Êô∫ËÉΩÂíåÂ§çÊùÇÁöÑÁÆóÊ≥ï‰∏≠Ôºå‰∏∫Ëß£ÂÜ≥ÂêÑÁßçÈóÆÈ¢òÊèê‰æõÈ´òÊïàÁöÑÂ≠òÂÇ®Êú∫Âà∂„ÄÇ ‰∏ãÂõæÊòØ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊ†ëÔºå‰ª•ÂèäÂú®Ê†ëÂûãÊï∞ÊçÆÁªìÊûÑ‰∏≠ÊâÄÁî®ÁöÑÂü∫Êú¨ÊúØËØ≠Ôºö ‰∏ãÈù¢ÊòØÂá†ÁßçÁ±ªÂûãÁöÑÊ†ëÔºö N ÂèâÊ†ë Âπ≥Ë°°Ê†ë ‰∫åÂèâÊ†ë ‰∫åÂèâÊêúÁ¥¢Ê†ë Âπ≥Ë°°‰∫åÂèâÊ†ë Á∫¢ÈªëÊ†ë 2-3 Ê†ë ÂÖ∂‰∏≠Ôºå‰∫åÂèâÊ†ëÂíå‰∫åÂèâÊêúÁ¥¢Ê†ëÊòØÊúÄÂ∏∏Áî®ÁöÑÊ†ë„ÄÇ Â∏∏ÈóÆÁöÑÊ†ëÈù¢ËØïÈóÆÈ¢òÔºö ÊâæÂà∞‰∏Ä‰∏™‰∫åÂèâÊ†ëÁöÑÈ´òÂ∫¶ ÊâæÂà∞‰∏Ä‰∏™‰∫åÂèâÊêúÁ¥¢Ê†ë‰∏≠Á¨¨ k ‰∏™ÊúÄÂ§ßÂÄº ÊâæÂà∞Ë∑ùÁ¶ªÊ†πÈÉ®‚Äúk‚Äù‰∏™Ë∑ùÁ¶ªÁöÑËäÇÁÇπ ÊâæÂà∞‰∏Ä‰∏™‰∫åÂèâÊ†ë‰∏≠ÁªôÂÆöËäÇÁÇπÁöÑÁ•ñÂÖàÔºàancestorsÔºâ Â≠óÂÖ∏Ê†ë Â≠óÂÖ∏Ê†ëÔºå‰πüÂè´‚ÄúÂâçÁºÄÊ†ë‚ÄùÔºåÊòØ‰∏ÄÁßçÊ†ëÂΩ¢ÁªìÊûÑÔºåÂú®Ëß£ÂÜ≥Â≠óÁ¨¶‰∏≤Áõ∏ÂÖ≥ÈóÆÈ¢ò‰∏≠ÈùûÂ∏∏È´òÊïà„ÄÇÂÖ∂Êèê‰æõÈùûÂ∏∏Âø´ÈÄüÁöÑÊ£ÄÁ¥¢ÂäüËÉΩÔºåÂ∏∏Áî®‰∫éÊêúÁ¥¢Â≠óÂÖ∏‰∏≠ÁöÑÂçïËØçÔºå‰∏∫ÊêúÁ¥¢ÂºïÊìéÊèê‰æõËá™Âä®ÊêúÁ¥¢Âª∫ËÆÆÔºåÁîöËá≥ËÉΩÁî®‰∫éIPË∑ØÁî±ÈÄâÊã©„ÄÇ ‰∏ãÈù¢Â±ïÁ§∫‰∫Ü‚Äútop‚Äù‚Äúthus‚ÄùÂíå‚Äútheir‚ÄùËøô‰∏â‰∏™ËØçÊòØÂ¶Ç‰ΩïÂ≠òÂÇ®Âú®Â≠óÂÖ∏Ê†ë‰∏≠ÁöÑÔºö Ëøô‰∫õÂçïËØç‰ª•‰ªé‰∏äÂà∞‰∏ãÁöÑÊñπÂºèÂ≠òÂÇ®ÔºåÂÖ∂‰∏≠ÁªøËâ≤ËäÇÁÇπ‚Äúp‚ÄùÔºå‚Äús‚ÄùÂíå‚Äúr‚ÄùÂàÜÂà´Ë°®Á§∫‚Äútop‚ÄùÔºå‚Äúthus‚ÄùÂíå‚Äútheir‚ÄùÁöÑÊú´Â∞æ„ÄÇ Â∏∏ËßÅÁöÑÂ≠óÂÖ∏Ê†ëÈù¢ËØïÈóÆÈ¢òÔºö ËÆ°ÁÆóÂ≠óÂÖ∏Ê†ë‰∏≠ÁöÑÊÄªÂ≠óÊï∞ ÊâìÂç∞Â≠òÂÇ®Âú®Â≠óÂÖ∏Ê†ë‰∏≠ÁöÑÊâÄÊúâÂçïËØç ‰ΩøÁî®Â≠óÂÖ∏Ê†ëÂØπÊï∞ÁªÑÁöÑÂÖÉÁ¥†ËøõË°åÊéíÂ∫è ‰ΩøÁî®Â≠óÂÖ∏Ê†ë‰ªéÂ≠óÂÖ∏‰∏≠ÂΩ¢ÊàêÂçïËØç ÊûÑÂª∫‰∏Ä‰∏™T9Â≠óÂÖ∏ ÂìàÂ∏åË°® Êï£ÂàóÊòØ‰∏Ä‰∏™Áî®‰∫éÂîØ‰∏ÄÊ†áËØÜÂØπË±°Âπ∂Âú®‰∏Ä‰∫õÈ¢ÑÂÖàËÆ°ÁÆóÁöÑÂîØ‰∏ÄÁ¥¢ÂºïÔºàÁß∞‰∏∫‚ÄúÂØÜÈí•‚ÄùÔºâÂ≠òÂÇ®ÊØè‰∏™ÂØπË±°ÁöÑËøáÁ®ã„ÄÇÂõ†Ê≠§ÔºåÂØπË±°‰ª•‚ÄúÈîÆÂÄº‚ÄùÂØπÁöÑÂΩ¢ÂºèÂ≠òÂÇ®ÔºåËøô‰∫õÈ°πÁöÑÈõÜÂêàË¢´Áß∞‰∏∫‚ÄúÂ≠óÂÖ∏‚Äù„ÄÇÂèØ‰ª•‰ΩøÁî®ËØ•ÈîÆÂÄºÊêúÁ¥¢ÊØè‰∏™ÂØπË±°„ÄÇÊúâÂ§öÁßç‰∏çÂêåÁöÑÂü∫‰∫éÂìàÂ∏åÁöÑÊï∞ÊçÆÁªìÊûÑÔºå‰ΩÜÊúÄÂ∏∏Áî®ÁöÑÊï∞ÊçÆÁªìÊûÑÊòØÂìàÂ∏åË°®„ÄÇ ÂìàÂ∏åË°®ÈÄöÂ∏∏‰ΩøÁî®Êï∞ÁªÑÂÆûÁé∞„ÄÇ ÂìàÂ∏åÊï∞ÊçÆÁªìÊûÑÁöÑÊÄßËÉΩÂèñÂÜ≥‰∫é‰ª•‰∏ã‰∏â‰∏™Âõ†Á¥†Ôºö ÂìàÂ∏åÂáΩÊï∞ ÂìàÂ∏åË°®ÁöÑÂ§ßÂ∞è Á¢∞ÊíûÂ§ÑÁêÜÊñπÊ≥ï ‰∏ãÂõæÂ±ïÁ§∫‰∫ÜÂ¶Ç‰ΩïÂú®Êï∞ÁªÑ‰∏≠Êò†Â∞ÑÂìàÂ∏å„ÄÇËØ•Êï∞ÁªÑÁöÑÁ¥¢ÂºïÊòØÈÄöËøáÂìàÂ∏åÂáΩÊï∞ËÆ°ÁÆóÁöÑ„ÄÇ Â∏∏ÈóÆÁöÑÂìàÂ∏åÈù¢ËØïÈóÆÈ¢òÔºö ÊâæÂà∞Êï∞ÁªÑ‰∏≠ÁöÑÂØπÁß∞ÂØπ ËøΩË∏™ÈÅçÂéÜÁöÑÂÆåÊï¥Ë∑ØÂæÑ Êü•Áúã‰∏Ä‰∏™Êï∞ÁªÑÊòØÂê¶‰∏∫Âè¶‰∏Ä‰∏™Êï∞ÁªÑÁöÑÂ≠êÈõÜ Ê£ÄÊü•ÁªôÂÆöÊï∞ÁªÑÊòØÂê¶‰∏çÁõ∏‰∫§ ‰ª•‰∏äÂ∞±ÊòØ‰Ω†Âú®ÂáÜÂ§áÁºñÁ®ãÈù¢ËØïÂâçÈúÄË¶ÅÊéåÊè°ÁöÑ8ÁßçÊï∞ÊçÆÁªìÊûÑ„ÄÇ","categories":[{"name":"Data Structure","slug":"Data-Structure","permalink":"https://blog.inoki.cc/categories/Data-Structure/"},{"name":"Algorithm","slug":"Data-Structure/Algorithm","permalink":"https://blog.inoki.cc/categories/Data-Structure/Algorithm/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"}]},{"title":"Win 10 IoT - Deployment","slug":"Win10-IoT-Deploy","date":"2019-10-19T19:29:40.000Z","updated":"2022-05-09T18:41:39.498Z","comments":true,"path":"2019/10/19/Win10-IoT-Deploy/","link":"","permalink":"https://blog.inoki.cc/2019/10/19/Win10-IoT-Deploy/","excerpt":"","text":"In the previous months, I deployed Win IoT programs through Windows Device Portal. Because my Visual Studio could not find the remote device to do the deplyment and debug. It seems to be a bug in the previous Win 10 IoT version. My previous version was 15xxx. So I used Windows Device Portal to deploy an application. Deploy through Windows Device Portal You should be able to look up the information of your device through Windows Device Portal with a browser. The link is the address of your Raspberry Pi, and the port is 8080. The application can be installed and controlled in Apps -&gt; Apps Manager. Deploy via Visual Studio After reinstalling Win 10 IoT to v.10.0.17763.107, the deployment via Visual Studio is normal. So, I set the PIN for debugging in Windows Device Portal. Everything works well: To do this, you just need to right click on the project, then choose Properties. In the Debug tab, input the IP address of your Raspberry Pi, choose General as authentification. If needed, input the PIN you‚Äôve set. Enjoy!","categories":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/categories/Embedded-System/"},{"name":"Raspberry Pi","slug":"Embedded-System/Raspberry-Pi","permalink":"https://blog.inoki.cc/categories/Embedded-System/Raspberry-Pi/"},{"name":"IoT","slug":"Embedded-System/IoT","permalink":"https://blog.inoki.cc/categories/Embedded-System/IoT/"},{"name":"Win 10 IoT","slug":"Embedded-System/IoT/Win-10-IoT","permalink":"https://blog.inoki.cc/categories/Embedded-System/IoT/Win-10-IoT/"}],"tags":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/tags/Embedded-System/"},{"name":"Raspberry Pi","slug":"Raspberry-Pi","permalink":"https://blog.inoki.cc/tags/Raspberry-Pi/"},{"name":"Win 10 IoT","slug":"Win-10-IoT","permalink":"https://blog.inoki.cc/tags/Win-10-IoT/"}]},{"title":"OpenCL - Heterogeneous Computing (0)","slug":"OpenCL-0","date":"2019-10-18T22:29:40.000Z","updated":"2022-05-09T18:41:39.486Z","comments":true,"path":"2019/10/18/OpenCL-0/","link":"","permalink":"https://blog.inoki.cc/2019/10/18/OpenCL-0/","excerpt":"","text":"OpenCL (Open Computing Language) is a framework for writing programs that execute across heterogeneous platforms consisting of central processing units (CPUs), graphics processing units (GPUs), digital signal processors (DSPs), field-programmable gate arrays (FPGAs) and other processors or hardware accelerators. OpenCL specifies programming languages (based on C99 and C++11) for programming these devices and application programming interfaces (APIs) to control the platform and execute programs on the compute devices. OpenCL provides a standard interface for parallel computing using task- and data-based parallelism. This is the definition of OpenCL on Wikipedia. In this post, I‚Äôd like to do some research about the architecture in a brief view, based on Arch Linux. Arch Linux is chosen because of its clear software source, in which we can find out what exactly in a package for OpenCL components. Here, we only talk about the type that runs on GPU. GPGPU GPGPU is a notion standing General-Purpose computing on Graphics Processing Units. It‚Äôs called General Purpose because through it, we will not use Graphics Processing Units to process graphics data. Instead, we‚Äôd like to use them as more general computing devices. To achieve this, there are several frameworks proposed by different communities, organizations or companies. For example: NVIDIA Cuda ATI Stream OpenCL NVIDIA Cuda is proprietary and of course supported by NVIDIA. OpenCL is an open standard maintained by the non-profit technology consortium Khronos Group. But in face, the implementations rely on hardware/software providers. The important stuff of the various implementations is OpenCL Runtime libraries, which are prerequisites of executing a program that uses OpenCL. OpenCL Runtime libraries To be clarified, OpenCL Runtime libraries depend on hardware manufacturers. So, we should install the runtime libraries that match our hardwares. For example, I have an Intel CPU along with integrated Intel GPU, and a NVIDIA GPU beside. So, what I need to use all GPU devices is just to install Intel GPU OpenCL runtime libraries and NVIDIA GPU OpenCL runtime libraries. If you have an AMD GPU, or other types of devices, like an integrated FPGA(wow, you must be really professional), you should install the libraries provided by their manufacturers, or a compatible version. On Arch Linux, pacman is used to install packages. There are not bad OpenCL runtime library packages in the repository: 1234567891011121314151617181920AMD/ATI opencl-mesa: free runtime for AMDGPU and Radeon opencl-amdAUR: proprietary standalone runtime for AMDGPU (pal and legacy stacks in a single package) rocm-opencl-runtimeAUR: Part of AMD&apos;s fully open-source ROCm GPU compute stack, which supports GFX8 and later cards(Fiji, Polaris, Vega) opencl-amdgpu-pro-orcaAUR: proprietary runtime for AMDGPU PRO (supports legacy products older than Vega 10) opencl-amdgpu-pro-palAUR: proprietary runtime for AMDGPU PRO (supports Vega 10 and later products) opencl-catalystAUR: AMD proprietary runtime, soon to be deprecated in favor of AMDGPU amdapp-sdkAUR: AMD CPU runtimeNVIDIA opencl-nvidia: official NVIDIA runtimeIntel intel-compute-runtime: a.k.a. the Neo OpenCL runtime, the open-source implementation for Intel HD Graphics GPU on Gen8 (Broadwell) and beyond. beignet: the open-source implementation for Intel HD Graphics GPU on Gen7 (Ivy Bridge) and beyond, deprecated by Intel in favour of NEO OpenCL driver, remains recommended solution for legacy HW platforms (e.g. Ivy Bridge, Sandy Bridge, Haswell). intel-openclAUR: the proprietary implementation for Intel HD Graphics GPU on Gen7 (Ivy Bridge) and beyond, deprecated by Intel in favour of NEO OpenCL driver, remains recommended solution for legacy HW platforms (e.g. Ivy Bridge, Sandy Bridge, Haswell). intel-opencl-runtimeAUR: the implementation for Intel Core and Xeon processors. It also supports non-Intel CPUs.Others poclAUR: LLVM-based OpenCL implementation I‚Äôd like to install the one for NVIDIA, so I did 1sudo pacman -S opencl-nvidia We can see what are in the package from Arch website. 1234567891011121314etc/etc/OpenCL/etc/OpenCL/vendors/etc/OpenCL/vendors/nvidia.icdusr/usr/lib/usr/lib/libnvidia-compiler.sousr/lib/libnvidia-compiler.so.435.21usr/lib/libnvidia-opencl.sousr/lib/libnvidia-opencl.so.1usr/lib/libnvidia-opencl.so.435.21usr/share/usr/share/licenses/usr/share/licenses/opencl-nvidia There are some dynamic libraries for OpenCL with NVIDIA prefixes and a configuration file in /etc/OpenCL/vendors. The configuration file in etc/OpenCL/vendors/nvidia.icd should be able to tell someone, that there is NVIDIA OpenCL runtime, and where it is. The file content is: 1libnvidia-opencl.so.1 If you‚Äôd like also to use Intel GPU, install intel-compute-runtime. Files to be installed is below: 1234567891011121314etc/etc/OpenCL/etc/OpenCL/vendors/etc/OpenCL/vendors/intel.icdusr/usr/bin/usr/bin/oclocusr/lib/usr/lib/intel-opencl/usr/lib/intel-opencl/libigdrcl.sousr/share/usr/share/licenses/usr/share/licenses/intel-compute-runtime/usr/share/licenses/intel-compute-runtime/LICENSE You may notice that, there is nothing like libnvidia-compiler in Intel OpenCL Runtime. But it‚Äôs not true, the fact is that the OpenCL compiler of Intel OpenCL runtime is installed in another library, intel-graphics-compiler. And, this package is a mandatory dependency of intel-compute-runtime. You should be able to install other OpenCL runtime if you have other devices. But it‚Äôs not the end, we are not aiming at just ‚Äúrunning‚Äù an OpenCL program, we aim at developing one. Develop Environment Basically, OpenCL is for C/C++ development. To develop, at least we need header files and dynamic libraries. The most used header file is CL/cl.h, which can be installed by installing opencl-headers package, which will import other necessary headers as well. 123456789101112131415161718usr/usr/include/usr/include/CL/usr/include/CL/cl.husr/include/CL/cl.hppusr/include/CL/cl2.hppusr/include/CL/cl_egl.husr/include/CL/cl_ext.husr/include/CL/cl_ext_intel.husr/include/CL/cl_gl.husr/include/CL/cl_gl_ext.husr/include/CL/cl_platform.husr/include/CL/cl_va_api_media_sharing_intel.husr/include/CL/opencl.husr/share/usr/share/licenses/usr/share/licenses/opencl-headers/usr/share/licenses/opencl-headers/LICENSE And, the most import library is libOpenCL.so, which is in ocl-icd package. 123456789101112131415161718192021222324usr/usr/include/usr/include/ocl_icd.husr/lib/usr/lib/libOpenCL.sousr/lib/libOpenCL.so.1usr/lib/libOpenCL.so.1.0.0usr/lib/pkgconfig/usr/lib/pkgconfig/OpenCL.pcusr/lib/pkgconfig/ocl-icd.pcusr/share/usr/share/doc/usr/share/doc/ocl-icd/usr/share/doc/ocl-icd/examples/usr/share/doc/ocl-icd/examples/ocl_icd_bindings.cusr/share/doc/ocl-icd/html/usr/share/doc/ocl-icd/html/libOpenCL.htmlusr/share/licenses/usr/share/licenses/ocl-icd/usr/share/licenses/ocl-icd/COPYINGusr/share/man/usr/share/man/man7/usr/share/man/man7/libOpenCL.7.gzusr/share/man/man7/libOpenCL.so.7.gz The full name of this package is OpenCL Installable Client Driver. It‚Äôs a mechanism to allow developers to build applications against an Installable Client Driver loader (ICD loader) rather than linking their applications against a specific OpenCL implementation. The ICD Loader is responsible for: Exporting OpenCL API entry points Enumerating OpenCL implementations Forwarding OpenCL API calls to the correct implementation The official implementation of ICD Loader can be found here on GitHub: https://github.com/KhronosGroup/OpenCL-ICD-Loader. There are other SDKs as well, but we ought not talk about them because they are out of scope: 123intel-opencl-sdkAUR: Intel OpenCL SDK (old version, new OpenCL SDKs are included in the INDE and Intel Media Server Studio)amdapp-sdkAUR: This package is installed as /opt/AMDAPP and apart from SDK files it also contains a number of code samples (/opt/AMDAPP/SDK/samples/). It also provides the clinfo utility which lists OpenCL platforms and devices present in the system and displays detailed information about them. As AMD APP SDK itself contains CPU OpenCL driver, no extra driver is needed to execute OpenCL on CPU devices (regardless of its vendor). GPU OpenCL drivers are provided by the catalystAUR package (an optional dependency).cuda: Nvidia&apos;s GPU SDK which includes support for OpenCL 1.1. Besides, for the OpenCL Implementations, we‚Äôve already talked about them. They are runtime libraries along with configuration files in /etc/OpenCL/vendors. A utility to show all possible properties on your system, is clinfo. Owning headers, OpenCL dynamic libraries and runtime libraries, we can start developing and running OpenCL program on C/C++. As well, there are lots of bindings for other languages, take ease to use them if you want. In the next post, we will write a first OpenCL program. See you then!","categories":[{"name":"OpenCL","slug":"OpenCL","permalink":"https://blog.inoki.cc/categories/OpenCL/"}],"tags":[{"name":"OpenCL","slug":"OpenCL","permalink":"https://blog.inoki.cc/tags/OpenCL/"},{"name":"Heterogeneous Computing","slug":"Heterogeneous-Computing","permalink":"https://blog.inoki.cc/tags/Heterogeneous-Computing/"}]},{"title":"Python Source Code Analysis (0)","slug":"Python-code-analyse-0","date":"2019-10-17T15:47:40.000Z","updated":"2022-05-09T18:41:39.486Z","comments":true,"path":"2019/10/17/Python-code-analyse-0/","link":"","permalink":"https://blog.inoki.cc/2019/10/17/Python-code-analyse-0/","excerpt":"","text":"In this post, we will take a dissecion of source code of Python. To benefit the simplicity and meanwhile follow the most recent functionnalities, I choose Python 3.6.9 to do the analysis. The first step, is to build! Build Python As other projects, Python uses autoconf toolset to configure and then make to build itself. If it doesn‚Äôt make sense to you, just ignore it. What you really need is just a set of single commands to make it: Run ./configure, it will detect your environment along with the architecture, the dependencies, the features supported by your compiler After that, if there is no error, a Makefile file should be generated and placed in the same directory Run make, and you will get your own Python build! Now we use default configurations to build, because we don‚Äôt aim at building a Python binary. If you‚Äôd like to play with Python builds, you can find more information at https://docs.python.org/3.6/using/unix.html#building-python. Project Structure Before we configure the project, the structure of project is really clear and simple: 123456aclocal.m4 configure Lib Misc Programs python-config.pybuild configure.ac LICENSE Modules pyconfig.h python-gdb.pyconfig.guess Doc Mac Objects pyconfig.h.in README.rstconfig.log Grammar Makefile Parser python setup.pyconfig.status Include Makefile.pre PC Python Toolsconfig.sub install-sh Makefile.pre.in PCbuild python-config aclocal.m4, config.guess, config.sub, configure, configure.ac, install-sh, Makefile.pre.in, pyconfig.h.in are files which concerns the configuration and the compilation. LICENSE is the license file. Doc/ This folder contains the documentation of Python. Grammar1/ In Grammar folder, there is only one file, which described the abstract grammar representation of Python. Include/ All Python headers used during Python compilation. Some of those will be intalled in your system for a further development. Lib/ All libraries written in Python. Mac/ Build tools for macOS build. Misc/ Other things, not so important. Modules/ Modules written in C. Objects/ Declarations and implementations of various Python Objects. Parser/ Python code parser. PC/ The code for Windows PC. PCbuild/ The Windows PC build files, such as Visual Studio Prject files. Programms/ Main functions of Python. Python/ Python main implementation codes. Tools/ Auxiliary tools and demo. Programm Entry, Programs/python.c In the analysis, we start by the main entry of program. At the beginning, &quot;Python.h&quot; and &lt;locale.h&gt; are imported. Then, the main function has two branches: Windows On Windows, the function wmain instead of main is used as the main entry. 12345intwmain(int argc, wchar_t **argv)&#123; return Py_Main(argc, argv);&#125; This function is for the unicode environment, you can go to the doc page of Microsoft for further information: https://docs.microsoft.com/en-us/cpp/c-language/using-wmain?view=vs-2019. In the main function, it calls the real Main Function of Python, Py_Main with command-line arguments. Other Unix-Like Systems It‚Äôs not so simple as the one for Windows. 12345 wchar_t **argv_copy;/* We need a second copy, as Python might modify the first one. */wchar_t **argv_copy2;int i, res;char *oldloc; In this code, some necessary variables are declared, regarding C89 or above. Then, to copy arguments, Python requests to use malloc to allocate memories by invoking (void)_PyMem_SetupAllocators(&quot;malloc&quot;);. Then two memory spaces are allocated: 123456argv_copy = (wchar_t **)PyMem_RawMalloc(sizeof(wchar_t*) * (argc+1));argv_copy2 = (wchar_t **)PyMem_RawMalloc(sizeof(wchar_t*) * (argc+1));if (!argv_copy || !argv_copy2) &#123; fprintf(stderr, \"out of memory\\n\"); return 1;&#125; Then, Python did one thing like this: 1oldloc = _PyMem_RawStrdup(setlocale(LC_ALL, NULL)); This line will return C locale and store it in oldloc. Then Python tries to set locale with user-prefered one by setlocale(LC_ALL, &quot;&quot;), and to decode all command line arguments with new locale. 12345678910111213setlocale(LC_ALL, \"\");for (i = 0; i &lt; argc; i++) &#123; argv_copy[i] = Py_DecodeLocale(argv[i], NULL); if (!argv_copy[i]) &#123; PyMem_RawFree(oldloc); fprintf(stderr, \"Fatal Python error: \" \"unable to decode the command line argument #%i\\n\", i + 1); return 1; &#125; argv_copy2[i] = argv_copy[i];&#125;argv_copy2[argc] = argv_copy[argc] = NULL; After decoding command line arguments with user-prefered locale, Python would like to use the old default C locale and do some clean things. 12setlocale(LC_ALL, oldloc);PyMem_RawFree(oldloc); After everything about decoding and copying arguments is ready, run Python main process: 1res = Py_Main(argc, argv_copy); After finishing Python main process, all memory spaces which were allocated should be released properly with following code: 123456789/* Force again malloc() allocator to release memory blocks allocated before Py_Main() */(void)_PyMem_SetupAllocators(\"malloc\");for (i = 0; i &lt; argc; i++) &#123; PyMem_RawFree(argv_copy2[i]);&#125;PyMem_RawFree(argv_copy);PyMem_RawFree(argv_copy2); And then, return the result through return res;. Before the end In this post, we tried to compile Python with all default configurations, and we explicited the main entry function. In the next post, we‚Äôll get involve with Py_Main function, as well as some Python Objects or types if possible. See you then!","categories":[{"name":"Programming Language","slug":"Programming-Language","permalink":"https://blog.inoki.cc/categories/Programming-Language/"},{"name":"Source Code","slug":"Source-Code","permalink":"https://blog.inoki.cc/categories/Source-Code/"},{"name":"Python","slug":"Programming-Language/Python","permalink":"https://blog.inoki.cc/categories/Programming-Language/Python/"},{"name":"Python","slug":"Source-Code/Python","permalink":"https://blog.inoki.cc/categories/Source-Code/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://blog.inoki.cc/tags/Python/"},{"name":"Source Code","slug":"Source-Code","permalink":"https://blog.inoki.cc/tags/Source-Code/"}]},{"title":"KDE Craft now delivers with vlc and libvlc on macOS","slug":"Craft-vlc","date":"2019-05-19T19:57:22.000Z","updated":"2022-05-09T18:41:39.442Z","comments":true,"path":"2019/05/19/Craft-vlc/","link":"","permalink":"https://blog.inoki.cc/2019/05/19/Craft-vlc/","excerpt":"","text":"Lacking VLC and libvlc in Craft, phonon-vlc cannot be built successfully on macOS. It caused the failed building of KDE Connect in Craft. As a small step of my GSoC project, I managed to build KDE Connect by removing the phonon-vlc dependency. But it‚Äôs not a good solution. I should try to fix phonon-vlc building on macOS. So during the community bonding period, to know better the community and some important tools in the Community, I tried to fix phonon-vlc. Fixing phonon-vlc At first, I installed libVLC in MacPorts. All Header files and libraries are installed into the system path. So theoretically, there should not be a problem of the building of phonon-vlc. But an error occurred: We can figure that the compiling is ok, the error is just at the end, during the linking. The error message tells us there is no QtDBus lib. So to fix it, I made a small patch to add QtDBus manually in the CMakeLists file. 12345678910111213diff --git a/src/CMakeLists.txt b/src/CMakeLists.txtindex 47427b2..1cdb250 100644--- a/src/CMakeLists.txt+++ b/src/CMakeLists.txt@@ -81,7 +81,7 @@ if(APPLE) endif(APPLE) automoc4_add_library(phonon_vlc MODULE $&#123;phonon_vlc_SRCS&#125;)-qt5_use_modules(phonon_vlc Core Widgets)+qt5_use_modules(phonon_vlc Core Widgets DBus) set_target_properties(phonon_vlc PROPERTIES PREFIX \"\" And it works well! A small problem is that Hannah said she didn‚Äôt get an error during linking. It may be something about Qt version. If someone gets some idea, welcome to contact me. My Qt version is 5.12.3. Fixing VLC To fix VLC, I tried to pack the VLC binary just like the one on Windows. But unfortunately, in the .app package, the Header files are not completed. Comparing to Windows version, the entire plugins folder is missing. So I made a patch for all those files. But the patch is too huge (25000 lines!). So it is not a good idea to merge it into master branch. Thanks to Hannah, she has made a libs/vlc blueprint in the master branch, so in Craft, feel free to install it by running craft libs/vlc. Troubleshooting If you cannot build libs/vlc, just like me, you can also choose the binary version VLC with Header files patch. The patch of Headers for binary is too big. Adding it to the master branch is not a good idea. So I published it on my own repository: https://github.com/Inokinoki/craft-blueprints-inoki To use it, run craft --add-blueprint-repository https://github.com/inokinoki/craft-blueprints-inoki.git and the blueprint(s) will be added into your local blueprint directory. Then, craft binary/vlc will help get the vlc binary and install Header files, libraries into Craft include path and lib path. Finally, you can build what you want with libvlc dependency. Conclusion Up to now, KDE Connect is using QtMultimedia rather than phonon and phonon-vlc to play a sound. But this work could be also useful for other applications or libraries who depend on phonon, phonon-vlc or vlc. This small step may help build them successfully on macOS. I hope this can help someone!","categories":[{"name":"KDE","slug":"KDE","permalink":"https://blog.inoki.cc/categories/KDE/"},{"name":"Craft","slug":"KDE/Craft","permalink":"https://blog.inoki.cc/categories/KDE/Craft/"},{"name":"Blueprints","slug":"KDE/Craft/Blueprints","permalink":"https://blog.inoki.cc/categories/KDE/Craft/Blueprints/"}],"tags":[{"name":"Craft","slug":"Craft","permalink":"https://blog.inoki.cc/tags/Craft/"},{"name":"KDE","slug":"KDE","permalink":"https://blog.inoki.cc/tags/KDE/"}]},{"title":"Win 10 ARM Installing on Raspberry Pi 3","slug":"Win10-ARM-RPI-INSTALL","date":"2019-05-16T23:44:40.000Z","updated":"2022-05-09T18:41:39.490Z","comments":true,"path":"2019/05/16/Win10-ARM-RPI-INSTALL/","link":"","permalink":"https://blog.inoki.cc/2019/05/16/Win10-ARM-RPI-INSTALL/","excerpt":"","text":"Since Microsoft published their Win 10 on ARM (WoA), many devices based on ARM64 get their own versions of Windows 10. The one I prefer is the Lumia 950 XL stuff by @imbushuo. This gives new life to Lumia 950 and Lumia 950 XL, although WoA cannot be used in the productivity environment on these two phones. This article will show a simple step to install WoA on Raspberry Pi (3rd generation or later). And the platform of your host should be Windows. Preparation You can follow the step on the https://pi64.win/ using WoA deployer. But here, in this article, we will use the other one: Windows on Raspberry Installer on https://www.worproject.ml/. So download and extract it. To install Windows on ARM, we should have a SD card with capacity of more than 8G, 32G is recommanded. Getting image Before flashing, we need prepare the Windows image and drivers. Image can be got on https://uup.rg-adguard.net/. You can follow the guide on https://github.com/WOA-Project/guides/blob/master/GettingWOA.md. Download the script and run it in the cmd. After long waiting, there should be an image file in the same directory of the downloaded script. Getting drivers Download drivers on the same page of Windows on Raspberry Installer. Getting UEFI firmware Access https://github.com/andreiw/RaspberryPiPkg/ and take one .fd file in Binary/prebuilt/ folders, in general, we use the latest one. Its name could be RPI_EFI.fd. Flashing your SD card Open the application and choose your language. Here we just use English for more readers. Choose your SD card. Select the image which you downloaded during the preparing periode, and choose the version you want to install. Select the zipped drivers you downloaded. Select the UEFI firmware you downloaded. And just flash it ! Launch Win 10 on Raspberry Pi If all goes well, you can get into the activation screen of Win 10 (after a really long waiting, because Raspberry Pi is not so performent). Count the processor if you want, and there are many interesting things to do üòÉ Bug fix If you get stuck during the UEFI boot screen, please reboot the device, before the loading bar ended, press an appropriate key to enter BIOS setting. Move Windows boot item as the first one, save and exit.","categories":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/categories/Embedded-System/"},{"name":"Raspberry Pi","slug":"Embedded-System/Raspberry-Pi","permalink":"https://blog.inoki.cc/categories/Embedded-System/Raspberry-Pi/"}],"tags":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/tags/Embedded-System/"},{"name":"Raspberry Pi","slug":"Raspberry-Pi","permalink":"https://blog.inoki.cc/tags/Raspberry-Pi/"},{"name":"Win 10 ARM","slug":"Win-10-ARM","permalink":"https://blog.inoki.cc/tags/Win-10-ARM/"}]},{"title":"Craft Bootstrap Script","slug":"Craft-bootstrap","date":"2019-05-10T16:41:40.000Z","updated":"2022-05-09T18:41:39.442Z","comments":true,"path":"2019/05/10/Craft-bootstrap/","link":"","permalink":"https://blog.inoki.cc/2019/05/10/Craft-bootstrap/","excerpt":"","text":"Here we talk about KDE Craft buildtool, rather than something like Minecraft, Warcraft or Starcraft. Craft is an open source meta build system and package manager written in Python. It manages dependencies and builds libraries and applications from source, on Windows, Mac, Linux and FreeBSD. Please go to https://community.kde.org/Craft for more information. To setup Craft, follow the steps on Setup Craft on KDE Community Wiki. Here I use Craftin Unix/Linux environment. So, if all is well, we should use source CraftRoot/craft/craftenv.sh to enter the build environment. But try to stop doing this, the subject of the post is to study the bootstrap script. The most important stuffs for bootstrapping of Craft is the craftenv.sh script, which script is used for preparing Craft environment. We try to comprehend the environment configuration script craftenv.sh. What does it happen when we execute source craftenv.sh? Find craftenv.sh directory There is no assumption of interpreter at the beginning of this script. For the compatibility, the script firstly try to get BASH_SOURCE[0]. If nothing is contained in the variable, at least we can infer the interpreter is not a bash Bourne-Again shell. And then for others, if none of ${BASH_SOURCE[0]}, $0 and $_ works, we may use an interpreter which is not supported by this script. We just stop trying to continue the work. Meanwhile, the script store the relative path into $craftRoot. 1234567891011craftRoot=\"$&#123;BASH_SOURCE[0]&#125;\"if [[ -z \"$craftRoot\" ]];then craftRoot=\"$0\"fiif [[ -z \"$craftRoot\" ]];then craftRoot=\"$_\"fiif [[ -z \"$craftRoot\" ]];then echo \"Failed to determine interpreter\" exit 1fi In fact, after the detection, the shell is not important anymore. Which we concerned is just the $craftRoot. Find compatible Python 3 with appropriate minor version It‚Äôs confirmed that Craft would like to use Python 3. It recommends user Python 3.6. Craft bootstrap script uses command -v python-&lt;version&gt; to check if an appropriate version of Python exists. 1234if command -v python3.7 &gt;/dev/null; then CRAFT_PYTHON_BIN=$(command -v python3.7)elif command -v python3.6 &gt;/dev/null; then CRAFT_PYTHON_BIN=$(command -v python3.6) This section is to used to detect whether Python 3.7 or Python 3.6 exists in your system path. By the way, I‚Äôd like to introduce something about versions in software distribution. If this is useful, it will be my pleasure. We usually use Semantic Versioning to describe changes. It means: given a version number MAJOR.MINOR.PATCH, increment the: MAJOR version when you make incompatible API changes, MINOR version when you add functionality in a backwards-compatible manner, and PATCH version when you make backwards-compatible bug fixes. So the difference is in the minor version. We can see the Python 3.7 is also supported by Craft. And the preference is Python 3.7 according to the priority of instruction. Then, the script tries to find other potentially compitable Python version. But at least, it should be Python 3.6. Otherwise it will not continue. 12345678910111213141516171819...else # could not find python 3.6, try python3 if ! command -v python3 &gt;/dev/null; then echo \"Failed to python Python 3.6+\" exit 1 fi # check if python3 is at least version 3.6: python_version=$(python3 --version) # sort and use . as separator and then check if the --version output is sorted later # Note: this is just a sanity check. craft.py should check sys.version comparison=$(printf '%s\\nPython 3.6.0\\n' \"$python_version\" | sort -t.) if [ \"$(echo \"$&#123;comparison&#125;\" | head -n1)\" != \"Python 3.6.0\" ]; then echo \"Found Python3 version $&#123;python_version&#125; is too old. Need at least 3.6\" exit 1 fi CRAFT_PYTHON_BIN=$(command -v python3)fiexport CRAFT_PYTHON_BIN So if Python is ok, its path will be stored in $CRAFT_PYTHON_BIN and exported. As we already have Python, the script uses it immediately, to correct the $craftRoot. If the variable is not a directory, we get its parent directory and replace the $craftRoot. 123if [[ ! -d \"$craftRoot\" ]]; then craftRoot=$($&#123;CRAFT_PYTHON_BIN&#125; -c \"import os; import sys; print(os.path.dirname(os.path.abspath(sys.argv[1])));\" \"$craftRoot\")fi For now, $craftRoot should be craft/ in your Craft install directory. Generating and exporting $CRAFT_ENV The following single line is used for acquiring some environment variables for Craft. 1CRAFT_ENV=$($&#123;CRAFT_PYTHON_BIN&#125; \"$craftRoot/bin/CraftSetupHelper.py\" --setup) In fact, it called bin/CraftSetupHelper.py with --setup option, it does have done many things. 123456789101112131415161718192021222324252627 def run(self): parser = argparse.ArgumentParser() parser.add_argument(\"--get\", action=\"store_true\") parser.add_argument(\"--print-banner\", action=\"store_true\") parser.add_argument(\"--getenv\", action=\"store_true\") parser.add_argument(\"--setup\", action=\"store_true\") parser.add_argument(\"rest\", nargs=argparse.REMAINDER) args = parser.parse_args() if args.get: default = \"\" if len(args.rest) == 3: default = args.rest[2] CraftCore.log.info(CraftCore.settings.get(args.rest[0], args.rest[1], default)) elif args.print_banner: self.printBanner() elif args.getenv: self.printEnv() elif args.setup: self.printEnv() self.printBanner()# ...helper = SetupHelper()if __name__ == '__main__': helper.run() We can see that printEnv and printBanner are invoked, all their ouputs will be filled into $CRAFT_ENV in shell. The generated env variables are too many, here we only talk about the bootstrapping. Maybe there will be an article about those. 123456789101112131415# Split the CraftSetupHelper.py output by newlines instead of any whitespace# to also handled environment variables containing spaces (e.g. $PS1)# See https://stackoverflow.com/q/24628076/894271function export_lines() &#123; local IFS=$'\\n' local lines=($1) local i for (( i=0; i&lt;$&#123;#lines[@]&#125;; i++ )) ; do local line=$&#123;lines[$i]&#125; if [[ \"$line\" =~ \"=\" ]] &amp;&amp; [[ $line != _=* ]] ; then export \"$line\" || true fi done&#125;export_lines \"$CRAFT_ENV\" Then with export_lines, all the lines can be exported seperatly without confusion. Exporting other necessary variables and functions If the prompt exists in $PS1, which means the interpreter is using the strings in $PS1 as its prompt, then the script add CRAFT: before it. This would be realy useful because it could remind user that we‚Äôre in the Craft environment. 123if [ -n \"$PS1\" ]; then export PS1=\"CRAFT: $PS1\"fi Then just some useful functions: 123craft() &#123; $&#123;CRAFT_PYTHON_BIN&#125; \"$craftRoot/bin/craft.py\" $@&#125; The main entry of Craft. It will invoke bin/craft.py. All other things will be done in it. 12345678cs() &#123; dir=$(craft -q --ci-mode --get \"sourceDir()\" $1) if (($? &gt; 0));then echo $dir else cd \"$dir\" fi&#125; Change current work directory to source directory in Craft. 12345678cb() &#123; dir=$(craft -q --ci-mode --get \"buildDir()\" $1) if (($? &gt; 0));then echo $dir else cd \"$dir\" fi&#125; Change current work directory to build directory in Craft. 123cr() &#123; cd \"$KDEROOT\"&#125; Change current work directory to root in Craft. And export them 1declare -x -F cs cb cr Conclusion With all environment variables prepared, and some useful function exported, we can begin our trip in building everything with Craft. References KDE Craft wiki, https://community.kde.org/Craft Utilisation de la variable BASH_SOURCE[0], https://logd.fr/utilisation-variable-bash_source/","categories":[{"name":"System","slug":"System","permalink":"https://blog.inoki.cc/categories/System/"},{"name":"Utility","slug":"System/Utility","permalink":"https://blog.inoki.cc/categories/System/Utility/"},{"name":"Build tool","slug":"System/Utility/Build-tool","permalink":"https://blog.inoki.cc/categories/System/Utility/Build-tool/"}],"tags":[{"name":"System","slug":"System","permalink":"https://blog.inoki.cc/tags/System/"},{"name":"Craft","slug":"Craft","permalink":"https://blog.inoki.cc/tags/Craft/"}]},{"title":"Win 10 IoT - Blink","slug":"Win10-IoT-Blink","date":"2019-05-07T22:58:40.000Z","updated":"2022-05-09T18:41:39.494Z","comments":true,"path":"2019/05/07/Win10-IoT-Blink/","link":"","permalink":"https://blog.inoki.cc/2019/05/07/Win10-IoT-Blink/","excerpt":"","text":"Thanks to Microsoft and its UWP application, Win 10 IoT device can share the same framework of normal Win 10 application. In this post, we‚Äôll build a simple short blink application for Win 10 IoT platform. It assums that you‚Äôve already have some knowledgements about GPIO. Connection The Raspberry Pi GPIO pins are defined in Win 10 IoT as following: There is also a ‚ÄúPower-on Pull‚Äù state for each pin. ‚ÄúPullDown‚Äù means the pin has no tension, meanwhile ‚ÄúPullUp‚Äù means the pin has a high tension. Please check PIN Mapping for some more details. Here we choose PIN 11 and PIN 9(Ground) to use. The circuit is like this: The green wire is connected to PIN 11, the brown to PIN 9. Code Use GpioController gpio = GpioController.GetDefault(); to get GPIO controller. Use GpioPin pin = gpio.OpenPin(17) to open a gpio port. PIN 11 is GPIO 17 in Win 10 IoT. Write HIGH to this port pin.Write(GpioPinValue.High);. Set to output mode pin.SetDriveMode(GpioPinDriveMode.Output);. Close port(Here we use using to make it close automately). 1234567891011121314151617181920212223242526272829303132333435public sealed partial class MainPage : Page&#123; public MainPage() &#123; this.InitializeComponent(); this.GPIO(); &#125; DispatcherTimer dispatcherTimer; public void GPIO() &#123; // Create a timer and call dispatcherTimer_Tick every 1 second dispatcherTimer = new DispatcherTimer(); dispatcherTimer.Tick += dispatcherTimer_Tick; dispatcherTimer.Interval = new TimeSpan(0, 0, 1); dispatcherTimer.Start(); &#125; public void dispatcherTimer_Tick(object sender, object e) &#123; // Get the default GPIO controller on the system GpioController gpio = GpioController.GetDefault(); if (gpio == null) return; // GPIO not available on this system // Open GPIO 17 using (GpioPin pin = gpio.OpenPin(17)) &#123; // Latch HIGH value first. This ensures a default value when the pin is set as output pin.Write(GpioPinValue.High); // Set the IO direction as output pin.SetDriveMode(GpioPinDriveMode.Output); &#125; // Close pin - will revert to its power-on state &#125;&#125; Conclusion This video shows you the result:","categories":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/categories/Embedded-System/"},{"name":"Raspberry Pi","slug":"Embedded-System/Raspberry-Pi","permalink":"https://blog.inoki.cc/categories/Embedded-System/Raspberry-Pi/"},{"name":"IoT","slug":"Embedded-System/IoT","permalink":"https://blog.inoki.cc/categories/Embedded-System/IoT/"},{"name":"Win 10 IoT","slug":"Embedded-System/IoT/Win-10-IoT","permalink":"https://blog.inoki.cc/categories/Embedded-System/IoT/Win-10-IoT/"}],"tags":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/tags/Embedded-System/"},{"name":"Raspberry Pi","slug":"Raspberry-Pi","permalink":"https://blog.inoki.cc/tags/Raspberry-Pi/"},{"name":"Win 10 IoT","slug":"Win-10-IoT","permalink":"https://blog.inoki.cc/tags/Win-10-IoT/"}]},{"title":"‰∏∫ Newifi 2 (D1) Ë∑ØÁî±Âô®ÊûÑÂª∫ Go ËØ≠Ë®Ä","slug":"Build-go-for-newifi2-d1-router-chinese","date":"2019-04-30T13:41:40.000Z","updated":"2022-05-09T18:41:39.442Z","comments":true,"path":"2019/04/30/Build-go-for-newifi2-d1-router-chinese/","link":"","permalink":"https://blog.inoki.cc/2019/04/30/Build-go-for-newifi2-d1-router-chinese/","excerpt":"","text":"ÈÄöËøáÈòÖËØªËøôÁØáÊñáÁ´†ÊÇ®Â∫îÂΩìÂèØ‰ª•‰∏∫‰ªª‰ΩïÁ≥ªÁªüÊûÑÂª∫ Go ËØ≠Ë®Ä„ÄÇ English Version ÂÖàÂÜ≥Êù°‰ª∂ ‰ªé Go 1.5 ÂºÄÂßãÔºåGo ËØ≠Ë®ÄÊâÄÊúâÁöÑÊ∫ê‰ª£Á†ÅÈÉΩ‰ΩøÁî®‰∫Ü Go ÊàñËÄÖÊ±áÁºñËØ≠Ë®Ä„ÄÇÂõ†Ê≠§Âú®‰∏Ä‰∏™ÂÆâË£ÖÊúâ Go ËØ≠Ë®ÄÁöÑÁ≥ªÁªü‰∏≠‰ΩøÁî® Go ËØ≠Ë®ÄÊûÑÂª∫Âè¶‰∏Ä‰∏™ Go ËØ≠Ë®ÄÁâàÊú¨‰ºöÂçÅÂàÜÁÆÄÂçï„ÄÇËøô‰∏™ÁâπÊÄßÂè´ÂÅöËØ≠Ë®ÄÁöÑËá™‰∏æ„ÄÇ ‰ΩøÁî® GOOS Âíå GOARCH ÁéØÂ¢ÉÂèòÈáèÔºåÊàë‰ª¨ÂèØ‰ª•‰∏∫Âè¶‰∏Ä‰∏™Âπ≥Âè∞ÂíåÊû∂ÊûÑÊûÑÂª∫ Go ËØ≠Ë®ÄÁ®ãÂ∫èÔºåËøôÊòØ Go ÁöÑ‰∫§ÂèâÁºñËØëÁâπÊÄß„ÄÇ Âõ†Ê≠§Ôºå‰∏∫ÊàëÁöÑ Lenovo Newifi 2(D2) ÁºñËØë Go ËØ≠Ë®ÄÁéØÂ¢ÉÊòØÂèØË°åÁöÑ„ÄÇËøô‰∏™Ë∑ØÁî±Âô®ÁöÑÂÆòÊñπÂõ∫‰ª∂Âü∫‰∫é OpenwrtÔºåÂ§ÑÁêÜÂô®‰∏∫ MT7621ATÔºåMIPS Êû∂ÊûÑÂ∞èÁ´ØÂ∫èÔºåÈÖçÊúâ 256M ÂÜÖÂ≠ò„ÄÇ ÊàëÂ∏åÊúõËÉΩ‰øùÁïôÂÆòÊñπÂõ∫‰ª∂ËÄåÈùûÂà∑Êú∫ÔºåÂõ†Ê≠§ÊàëÂÜ≥ÂÆö‰∏∫ÊàëÁöÑË∑ØÁî±Âô®ÊûÑÂª∫‰∏Ä‰∏™Áã¨Á´ãÁöÑ Go ËØ≠Ë®ÄÁâàÊú¨„ÄÇ ÂáÜÂ§á Âú®ÊÇ®ÁöÑÁ≥ªÁªü‰∏äÂÆâË£Ö Go&gt;=1.5 ÁâàÊú¨: 1234&gt; which go/usr/bin/go&gt; go versiongo version go1.10.4 linux/amd64 Â¶ÇÊûúÊÇ®Ê≤°ÊúâÂÆâË£Ö Go ËØ≠Ë®ÄÔºåËØ∑‰ΩøÁî®ÊÇ®ÂèëË°åÁâàÁöÑÂåÖÁÆ°ÁêÜÂô®ÂÆâË£Ö„ÄÇÂØπ‰∫é Ubuntu Êù•ËØ¥ 1&gt; sudo apt-get install golang-go ‰ªé ‰∏ãËΩΩÈ°µÈù¢ Ëé∑Âèñ Go ËØ≠Ë®ÄÊ∫ê‰ª£Á†Å„ÄÇ Êàë‰ΩøÁî®‰∫Ü Golang 1.12.4: 1&gt; wget https://dl.google.com/go/go1.12.4.src.tar.gz ÊûÑÂª∫ Ëß£Âéã‰ª£Á†ÅÂåÖ: 1&gt; tar xvf go1.12.4.src.tar.gz ÁõÆÂΩïÁªìÊûÑÂ¶Ç‰∏ãÔºö 12345678910111213141516.‚îú‚îÄ‚îÄ api‚îú‚îÄ‚îÄ AUTHORS‚îú‚îÄ‚îÄ CONTRIBUTING.md‚îú‚îÄ‚îÄ CONTRIBUTORS‚îú‚îÄ‚îÄ doc‚îú‚îÄ‚îÄ favicon.ico‚îú‚îÄ‚îÄ lib‚îú‚îÄ‚îÄ LICENSE‚îú‚îÄ‚îÄ misc‚îú‚îÄ‚îÄ PATENTS‚îú‚îÄ‚îÄ README.md‚îú‚îÄ‚îÄ robots.txt‚îú‚îÄ‚îÄ src‚îú‚îÄ‚îÄ test‚îî‚îÄ‚îÄ VERSION ËøõÂÖ• src ÁõÆÂΩï„ÄÇÂºÄÂßãÊÇ®ÁöÑÊûÑÂª∫Ôºö 1234567891011&gt; GOOS=linux GOARCH=mipsle GOROOT_BOOTSTRAP=&lt;your-go-root&gt; ./make.bashBuilding Go cmd/dist using &lt;your-go-path&gt;/go-1.10.Building Go toolchain1 using &lt;your-go-path&gt;/go-1.10.Building Go bootstrap cmd/go (go_bootstrap) using Go toolchain1.Building Go toolchain2 using go_bootstrap and Go toolchain1.Building Go toolchain3 using go_bootstrap and Go toolchain2.Building packages and commands for host, linux/amd64.Building packages and commands for target, linux/mipsle.---Installed Go for linux/mipsle in &lt;your-build-path&gt;/goInstalled commands in &lt;your-build-path&gt;/go/bin ÂÆâË£Ö ÊûÑÂª∫ÂÆåÊàêÂêéÔºåÂ∞Ü‰ª•‰∏ãÊñá‰ª∂Â§πÂ§çÂà∂Âà∞Ë∑ØÁî±Âô®: 123456api bin misc pkg src test ÊØîÂ¶ÇÔºåÊàëÂàõÂª∫‰∫Ü /mnt/mmcblk0p1/usr/share/go Êñá‰ª∂Â§πÊù•Â≠òÊîæÂÆÉ‰ª¨„ÄÇ Á¥ßÊé•ÁùÄÔºå‰ªé bin/mipsle Â∞Ü go Âíå gofmt ÁßªËá≥ bin„ÄÇ Ê∑ªÂä† GOROOT ÁéØÂ¢ÉÂèòÈáèÔºåÂπ∂Ê∑ªÂä† bin Âà∞ PATH ‰∏≠: 12&gt; export GOROOT=/mnt/mmcblk0p1/usr/share/go&gt; PATH=$GOROOT/bin:$PATH ËøêË°åÊÇ®ÁöÑÁ¨¨‰∏Ä‰∏™ Go Á®ãÂ∫è Âú® test.go ÂàõÂª∫ Hello World ‰ª£Á†Å: 12345678package mainimport ( \"fmt\")func main() &#123; fmt.Println(\"hello newifi2\")&#125; Áõ¥Êé•ËøêË°åÂÆÉ: 12&gt; go run test.gohello newifi2 ÊàñËÄÖÊûÑÂª∫+ËøêË°å: 123&gt; go build test.go&gt; ./testhello newifi2 ‰∏ÄÂàá OK!","categories":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/categories/Embedded-System/"},{"name":"Cross Compile","slug":"Embedded-System/Cross-Compile","permalink":"https://blog.inoki.cc/categories/Embedded-System/Cross-Compile/"},{"name":"Router","slug":"Embedded-System/Cross-Compile/Router","permalink":"https://blog.inoki.cc/categories/Embedded-System/Cross-Compile/Router/"},{"name":"Chinese","slug":"Chinese","permalink":"https://blog.inoki.cc/categories/Chinese/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Cross Compile","slug":"Cross-Compile","permalink":"https://blog.inoki.cc/tags/Cross-Compile/"},{"name":"Router","slug":"Router","permalink":"https://blog.inoki.cc/tags/Router/"},{"name":"Go","slug":"Go","permalink":"https://blog.inoki.cc/tags/Go/"}]},{"title":"Build Go for Newifi 2 (D1) router","slug":"Build-go-for-newifi2-d1-router","date":"2019-04-30T13:41:40.000Z","updated":"2022-05-09T18:41:39.442Z","comments":true,"path":"2019/04/30/Build-go-for-newifi2-d1-router/","link":"","permalink":"https://blog.inoki.cc/2019/04/30/Build-go-for-newifi2-d1-router/","excerpt":"","text":"This post will give you a guide to build Go on no matter which system. Chinese Version Prerequisite After Go 1.5, all the source codes are written in Go or Assembly. So in a system where there is a Go install, we can build another Go using Go itself. The feature is called bootstrapping. With GOOS and GOARCH flag, we can build Go program for given platform with given architecture. This is cross compile of Go. So, it‚Äôs possible to build a Go environment for my Lenovo Newifi 2 (D1), which is based on OpenWRT, equiped with MIPS Little Endian MT7621AT processor, 256MB memory. But I want to keep the official firmware, so I decided to build an independant build of Go for my router. Preparing Get your Go&gt;=1.5 installed in your system: 1234&gt; which go/usr/bin/go&gt; go versiongo version go1.10.4 linux/amd64 If you don‚Äôt have Go installed, please install it with your current package manager. For Ubuntu, 1&gt; sudo apt-get install golang-go Get Golang source code from the downloads page. I chose to use Golang 1.12.4: 1&gt; wget https://dl.google.com/go/go1.12.4.src.tar.gz Building Decompress the tarball: 1&gt; tar xvf go1.12.4.src.tar.gz We‚Äôll have a directory like this: 12345678910111213141516.‚îú‚îÄ‚îÄ api‚îú‚îÄ‚îÄ AUTHORS‚îú‚îÄ‚îÄ CONTRIBUTING.md‚îú‚îÄ‚îÄ CONTRIBUTORS‚îú‚îÄ‚îÄ doc‚îú‚îÄ‚îÄ favicon.ico‚îú‚îÄ‚îÄ lib‚îú‚îÄ‚îÄ LICENSE‚îú‚îÄ‚îÄ misc‚îú‚îÄ‚îÄ PATENTS‚îú‚îÄ‚îÄ README.md‚îú‚îÄ‚îÄ robots.txt‚îú‚îÄ‚îÄ src‚îú‚îÄ‚îÄ test‚îî‚îÄ‚îÄ VERSION Enter src directory. Begin directly your build for mipsle: 1234567891011&gt; GOOS=linux GOARCH=mipsle GOROOT_BOOTSTRAP=&lt;your-go-root&gt; ./make.bashBuilding Go cmd/dist using &lt;your-go-path&gt;/go-1.10.Building Go toolchain1 using &lt;your-go-path&gt;/go-1.10.Building Go bootstrap cmd/go (go_bootstrap) using Go toolchain1.Building Go toolchain2 using go_bootstrap and Go toolchain1.Building Go toolchain3 using go_bootstrap and Go toolchain2.Building packages and commands for host, linux/amd64.Building packages and commands for target, linux/mipsle.---Installed Go for linux/mipsle in &lt;your-build-path&gt;/goInstalled commands in &lt;your-build-path&gt;/go/bin Installing After the building, copy the following folders to the router: 123456api bin misc pkg src test For example, I created /mnt/mmcblk0p1/usr/share/go folder for them. Then move go and gofmt from bin/mipsle to bin. Add GOROOT to environment variables and bin to PATH: 12&gt; export GOROOT=/mnt/mmcblk0p1/usr/share/go&gt; PATH=$GOROOT/bin:$PATH Run your first Go program Create the Hello World code in test.go: 12345678package mainimport ( \"fmt\")func main() &#123; fmt.Println(\"hello newifi2\")&#125; Run it: 12&gt; go run test.gohello newifi2 or build and run it: 123&gt; go build test.go&gt; ./testhello newifi2 Enjoy your journal with Go on your router!","categories":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/categories/Embedded-System/"},{"name":"Cross Compile","slug":"Embedded-System/Cross-Compile","permalink":"https://blog.inoki.cc/categories/Embedded-System/Cross-Compile/"},{"name":"Router","slug":"Embedded-System/Cross-Compile/Router","permalink":"https://blog.inoki.cc/categories/Embedded-System/Cross-Compile/Router/"}],"tags":[{"name":"Cross Compile","slug":"Cross-Compile","permalink":"https://blog.inoki.cc/tags/Cross-Compile/"},{"name":"Router","slug":"Router","permalink":"https://blog.inoki.cc/tags/Router/"},{"name":"Go","slug":"Go","permalink":"https://blog.inoki.cc/tags/Go/"}]},{"title":"„ÄêËØë„Äë ‰ªéÊ∫ê‰ª£Á†ÅÊûÑÂª∫ deb ÂåÖ","slug":"Debian-build-deb-from-source-code","date":"2019-04-02T21:08:00.000Z","updated":"2022-05-09T18:41:39.450Z","comments":true,"path":"2019/04/02/Debian-build-deb-from-source-code/","link":"","permalink":"https://blog.inoki.cc/2019/04/02/Debian-build-deb-from-source-code/","excerpt":"","text":"ÂéüÊñáÈìæÊé•: https://wiki.debian.org/Packaging/Intro Debian ÊâìÂåÖ‰ªãÁªç Êú¨ÊñáÊòØ‰∏Ä‰∏™ÂÖ≥‰∫éÂ¶Ç‰ΩïÂà∂‰Ωú Debian ÂåÖÁöÑ‰ªãÁªçÊÄßÊïôÁ®ãÔºåÂÆÉ‰∏ç‰ºöÂØπ Debian ÊâìÂåÖÁ≥ªÁªü‰∏≠ÁöÑÂ§çÊùÇÊ¶ÇÂøµÊ∑±ÂÖ•‰ªãÁªçÔºå‰ΩÜÂÆÉ‰ªãÁªç‰∫ÜËÉΩÂ§ü‰∏∫ÁÆÄÂçïËΩØ‰ª∂Âà∂‰Ωú Debian ÂåÖÁöÑÊñπÊ≥ï„ÄÇ Âá∫‰∫éËøô‰∏™ÁõÆÁöÑÔºåÊàë‰ª¨Âè™‰ΩøÁî®Êù•Ëá™‰∫é debhelper 9 ÁöÑ dh ÂëΩ‰ª§„ÄÇ ÈúÄÊ±Ç Ëøô‰∏™ÊïôÁ®ãÂÅáËÆæÊÇ®Â∑≤Ôºö ÁêÜËß£‰∫åËøõÂà∂ÂåÖÁöÑÂÆâË£ÖËøáÁ®ãÔºõ ‰∫ÜËß£ÂëΩ‰ª§Ë°åÁöÑ‰ΩøÁî®ÔºåÂπ∂‰∏î‰ΩøÁî®ÊÇ®ÂÅèÁà±ÁöÑÊñáÊú¨ÁºñËæëÂô®ÁºñËæëÊñáÊú¨Êñá‰ª∂Ôºõ ÊäÄÊúØË¶ÅÊ±ÇÔºö build-essential devscripts debhelper version 9 ÊàñÊõ¥È´òÁâàÊú¨ ‰∏â‰∏™Ê†∏ÂøÉÊ¶ÇÂøµ ‰∏â‰∏™ÊúÄÊ†∏ÂøÉÁöÑÊ¶ÇÂøµ‰∏∫Ôºö ‰∏äÊ∏∏ÂéüÂßã‰ª£Á†ÅÂåÖÔºàupstream tarballÔºâ: ÈÄöÂ∏∏Ôºå‰∫∫‰ª¨‰∏∫‰∏äÊ∏∏ÂºÄÂèëËÄÖÔºàÈÄöÂ∏∏‰∏∫Á¨¨‰∏âÊñπÔºâÁºñÂÜôÁöÑËΩØ‰ª∂ÊâìÂåÖ„ÄÇ ‰∏äÊ∏∏ÂºÄÂèëËÄÖ‰ºö‰ΩøÁî®Ê∫ê‰ª£Á†ÅÂΩíÊ°£ËΩØ‰ª∂ÊàñÂéüÂßã‰ª£Á†ÅÂåÖÁöÑÊñπÂºèÂèëÊîæ‰ªñ‰ª¨ÁöÑËΩØ‰ª∂„ÄÇ ÂéüÂßã‰ª£Á†ÅÂåÖ‰∏ÄËà¨ÊòØ‰∏äÊ∏∏Âà∂‰ΩúÁöÑ .tar.gz Êàñ .tgz Êñá‰ª∂ÔºåÂÆÉ‰πüÂèØËÉΩË¢´ÂéãÁº©Êàê .tar.bz2Ôºå.tb2 Êàñ .tar.xz Ê†ºÂºè„ÄÇÂéüÂßã‰ª£Á†ÅÂåÖÂ∞±ÊòØ Debian ÊûÑÂª∫ÂåÖÊó∂‰ΩøÁî®ÁöÑÂéüÊùêÊñô„ÄÇ Ê∫êÁ†ÅÂåÖÔºö ÂΩìÊÇ®Êã•Êúâ‰∫Ü‰∏äÊ∏∏Âà∂‰ΩúÁöÑÂéüÂßã‰ª£Á†ÅÂåÖÔºå‰∏ã‰∏ÄÊ≠•Â∞±ÂèØ‰ª•Âà∂‰Ωú Debian Ê∫êÁ†ÅÂåÖ‰∫Ü„ÄÇ ‰∫åËøõÂà∂ÂåÖÔºö ‰ªéÊ∫êÁ†ÅÂåÖÊÇ®ÂèØ‰ª•ÊûÑÂª∫ Debian ‰∫åËøõÂà∂ÂåÖÔºåÂÆÉÊâçÊòØÊòØÂÆûÈôÖ‰∏ä‰ºöË¢´ÂÆâË£ÖÁöÑÂåÖ„ÄÇ ÊúÄÁÆÄÂçïÁöÑÊ∫êÁ†ÅÂåÖÁî±3‰∏™Êñá‰ª∂ÁªÑÊàêÔºö ‰∏äÊ∏∏ÂéüÂßã‰ª£Á†ÅÂåÖÔºåÈúÄË¶ÅË¢´ÈáçÂëΩÂêçÊù•Á¨¶Âêà‰∏Ä‰∏™ÁâπÂÆöÁöÑÊ®°Âºè„ÄÇ ‰∏Ä‰∏™ debian ÁõÆÂΩïÔºåÂ∏¶ÊúâÊâÄÊúâ‰∏äÊ∏∏Ê∫ê‰ª£Á†ÅÁöÑÊõ¥ÊîπËÆ∞ÂΩïÔºåÂ§ñÂä†ÊâÄÊúâ‰∏∫ Debian ÊâìÂåÖÁ≥ªÁªüÁîüÊàêÁöÑÊâÄÊúâÊñá‰ª∂„ÄÇËøôÁßçÂåÖÊã•Êúâ .debian.tar.gz ÁöÑÊñá‰ª∂Âêç„ÄÇ ‰∏Ä‰∏™ÊèèËø∞Êñá‰ª∂Ôºà‰ª• .dsc ÁªìÂ∞æÔºâÔºåÁΩóÂàó‰∫ÜÂÖ∂‰ªñ‰∏§‰∏™Êñá‰ª∂„ÄÇ Âê¨Ëµ∑Êù•Êúâ‰∫õËøá‰∫éÂ§çÊùÇÔºå‰∫∫‰ª¨ÁöÑÁ¨¨‰∏ÄÂç∞Ë±°ÊòØÔºöÊâÄÊúâ‰∏úË•øÈÉΩÊîæÂú®‰∏Ä‰∏™Êñá‰ª∂Èáå‰ºöÊõ¥ÁÆÄÂçï„ÄÇÁÑ∂ËÄåÔºå‰øùÊåÅ‰∏äÊ∏∏‰ª£Á†ÅÂåÖ‰∏é Debian ÁâπÂÆöÊõ¥ÊîπÂàÜÁ¶ªÂèØ‰ª•ËäÇÁúÅÂ§ßÈáèÁ£ÅÁõòÁ©∫Èó¥ÂíåÂ∏¶ÂÆΩ„ÄÇÂØπ Debian Êù•ËØ¥ÔºåËøΩË∏™ÂøÖË¶ÅÁöÑ‰øÆÊîπ‰πüÊõ¥Âä†ÁÆÄÂçï„ÄÇ ÊâìÂåÖÂ∑•‰ΩúÊµÅ ÊâìÂåÖÂ∑•‰ΩúÊµÅÈÄöÂ∏∏Â¶Ç‰∏ãË°®ÊâÄÁ§∫Ôºö ÈáçÂëΩÂêç‰∏äÊ∏∏‰ª£Á†ÅÂåÖ Ëß£ÂéãÁº©‰∏äÊ∏∏‰ª£Á†ÅÂåÖ Ê∑ªÂä† Debian ÊâìÂåÖÊñá‰ª∂ ÊûÑÂª∫Ëøô‰∏™ÂåÖ ÂÆâË£ÖËøô‰∏™ÂåÖ ‰πãÂêéÊÇ®Â∞±ÂèØ‰ª•Âú®ÊÇ®ÁöÑÁîµËÑë‰∏äÊµãËØïÂÆÉ‰∫Ü„ÄÇ Ê∫êÁ†ÅÂåÖÂíå‰∫åËøõÂà∂ÂåÖÈÉΩÂèØ‰ª•Ë¢´‰∏ä‰º†Âà∞ Debian„ÄÇ ‰∏∫‰∫ÜËøô‰∏™ÊïôÁ®ãÔºåÊàë‰ª¨‰ΩøÁî®Ëøô‰∏™‰ª£Á†ÅÂåÖÔºöhithere Á¨¨‰∏ÄÊ≠•ÔºöÊõ¥Êîπ‰∏äÊ∏∏‰ª£Á†ÅÂåÖÂêçÁß∞ Debian ÊâìÂåÖÁ≥ªÁªüÂÅáÂÆö‰∏äÊ∏∏‰ª£Á†ÅÂåÖÊã•Êúâ‰∏Ä‰∏™ÂçÅÂàÜÁâπÊÆäÁöÑÂêçÂ≠óÔºåÂøÖÈ°ªÈÅµÂÆà‰∏Ä‰∏™ÁâπÂÆöÁöÑÊ®°Âºè„ÄÇÂÆÉÁöÑÂêçÂ≠óÁî±Ê∫ê‰ª£Á†ÅÂåÖÂêç„ÄÅ‰∏Ä‰∏™‰∏ãÂàíÁ∫ø„ÄÅ‰∏äÊ∏∏ÁâàÊú¨Âè∑ÁªÑÊàêÔºåÊúÄÂêé‰ª•.orig.tar.gz ÁªÑÊàê„ÄÇÊ∫ê‰ª£Á†ÅÂåÖÂ∫îÂΩìÂÖ®ÈÉ®‰ΩøÁî®Â∞èÂÜôÂ≠óÊØçÔºåÂπ∂‰∏îÂåÖÂê´Â≠óÊØç„ÄÅÊï∞Â≠ó„ÄÅÁ¨¶Âè∑Ôºå‰∏Ä‰∫õÂÖ∂‰ªñÁöÑÂ≠óÁ¨¶‰πüÂèØ‰ª•Âá∫Áé∞„ÄÇ Â¶ÇÊûú‰∏äÊ∏∏ÂºÄÂèëËÄÖ‰ΩøÁî®‰∫Ü‰∏Ä‰∏™ÂæàÂ•ΩÁöÑ Debian Ê∫ê‰ª£Á†ÅÂåÖÂêçÔºåÊÇ®ÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®„ÄÇÂê¶ÂàôÔºåËØ∑Â∞ΩÂèØËÉΩÂ∞èÁöÑÂØπÂêçÁß∞ËøõË°åÊîπÂä®‰ª•ÈÄÇÂ∫î Debian„ÄÇÂú®Êàë‰ª¨ÁöÑÊÉÖÂÜµ‰∏ãÔºå‰∏äÊ∏∏ÂºÄÂèëËÄÖÂ∑≤ÁªèÈÄâÂèñ‰∫Ü‰∏Ä‰∏™ÂæàÂ•ΩÁöÑÂêçÂ≠óÔºö‚Äúhithere‚Äù‰∫ÜÔºåÊâÄ‰ª•Êàë‰ª¨Êó†ÈúÄÊãÖÂøÉ„ÄÇÊàë‰ª¨Â∫îÂΩìÊúÄÁªà‰ΩøÁî® hithere_1.0.orig.tar.gz ‰Ωú‰∏∫‰∏äÊ∏∏‰ª£Á†ÅÂåÖÁöÑÂêçÁß∞„ÄÇËØ∑Ê≥®ÊÑèÔºåËøôÈáåÊàë‰ª¨‰ΩøÁî®‰∫Ü‰∏Ä‰∏™‰∏ãÂàíÁ∫øÔºåËÄå‰∏çÊòØ‚Äú-‚ÄùÔºåÂõ†‰∏∫ÊâìÂåÖÂ∑•ÂÖ∑ÊûÅÂÖ∂ÂêπÊØõÊ±ÇÁñµ„ÄÇ 1$ mv hithere-1.0.tar.gz hithere_1.0.orig.tar.gz Á¨¨‰∫åÊ≠•ÔºöËß£ÂéãÁº©‰∏äÊ∏∏‰ª£Á†ÅÂåÖ ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÊ∫ê‰ª£Á†Å‰ºöËøõÂÖ•‰∏Ä‰∏™‰ª•ÂåÖÂêçÂíå‰∏äÊ∏∏ÁâàÊú¨Âè∑ÂëΩÂêçÁöÑÁõÆÂΩï‰∏≠Ôºà‰ΩøÁî®ËøûÊé•Á¨¶ËøûÊé•ÔºåËÄå‰∏çÊòØ‰∏ãÂàíÁ∫øÔºâÔºåÂõ†Ê≠§ÁêÜÊÉ≥Áä∂ÂÜµ‰∏ãÊàë‰ª¨‰ΩøÁî®ÁöÑ‰∏äÊ∏∏‰ª£Á†ÅÂåÖ‰ºöË¢´Ëß£ÂéãÁº©Âà∞‰∏Ä‰∏™Âè´ÂÅöhithere-1.0 ÁöÑÁõÆÂΩï‰∏≠„ÄÇÊâìÂåÖÂ∑•ÂÖ∑‰ªçÊóßÊåëÂâîÔºåÂõ†Ê≠§Êàë‰ª¨ÂøÖÈ°ªËøôÊ†∑ÂÅö„ÄÇ 1$ tar xf hithere_1.0.orig.tar.gz Á¨¨‰∏âÊ≠•ÔºöÊ∑ªÂä† Debian ÊâìÂåÖÊñá‰ª∂ ‰ª•‰∏ãÊâÄÊúâÊñá‰ª∂ÈÉΩÂú®Ê∫êÁ†ÅÊ†ëÁöÑ debian/ Â≠êÁõÆÂΩï‰∏≠„ÄÇ 12$ cd hithere-1.0$ mkdir debian Êàë‰ª¨ÈúÄË¶ÅÊèê‰æõ‰∏çÂ∞ëÊñá‰ª∂ÔºåËÆ©Êàë‰ª¨ÊåâÈ°∫Â∫èÊù•Áúã„ÄÇ debian/changelog Á¨¨‰∏Ä‰∏™Êñá‰ª∂ÊòØ debian/changelogÔºåËøô‰∏™ÊòØËÆ∞ÂΩï Debian ÂåÖÂèòÂåñÁöÑÊó•ÂøóÊñá‰ª∂„ÄÇÂÆÉÊó†ÈúÄÁΩóÂàóÂá∫‰∏äÊ∏∏‰ª£Á†ÅÁöÑÊØè‰∏Ä‰∏™ÊîπÂèòÔºåÂè™Ë¶ÅÂÆÉËÉΩÂ∏ÆÂä©Áî®Êà∑ÊÄªÁªìËøô‰∫õÂèòÂåñÂç≥ÂèØ„ÄÇÊàë‰ª¨Âú®Âà∂‰ΩúÁ¨¨‰∏Ä‰∏™ÁâàÊú¨ÔºåÊâÄ‰ª•ËøôÈáåÂ∫îÂΩì‰ªÄ‰πàÈÉΩÊ≤°Êúâ„ÄÇÁÑ∂ËÄåÔºåÊàë‰ª¨‰ªçÈúÄÂà∂‰Ωú‰∏Ä‰∏™ÂèòÂåñÊó•ÂøóÁöÑÂÖ•Âè£ÔºåÂõ†‰∏∫ÊâìÂåÖÂ∑•ÂÖ∑‰ºö‰ªéÊó•ÂøóÈáåËØªÂèñÁâπÂÆö‰ø°ÊÅØ„ÄÇÊúÄÈáçË¶ÅÁöÑÊòØÂÆÉ‰ºöËØªÂèñÂåÖÁöÑÁâàÊú¨„ÄÇ debian/changelog Êã•Êúâ‰∏Ä‰∏™ÂçÅÂàÜÁâπÊÆäÁöÑÊ†ºÂºè„ÄÇÊúÄÁÆÄÂçïÁöÑÂàõÂª∫ÊñπÂºèÂ∞±ÊòØ‰ΩøÁî® dch Â∑•ÂÖ∑„ÄÇ 1$ dch --create -v 1.0-1 --package hithere ‰ºöÂú®Êñá‰ª∂‰∏≠‰∫ßÁîü‰ª•‰∏ãÂÜÖÂÆπÔºö 12345hithere (1.0-1) UNRELEASED; urgency=low * Initial release. (Closes: #XXXXXX) -- Lars Wirzenius &lt;liw@liw.fi&gt; Thu, 18 Nov 2010 17:25:32 +0000 ËøôÈáåÊúâÂæàÂ§öÊ≥®ÊÑèÁÇπÔºö hithere ÈÉ®ÂàÜÂøÖÈ°ª‰∏éÊ∫ê‰ª£Á†ÅÂåÖÁöÑÂêçÂ≠óÁõ∏Âêå„ÄÇ1.0-1 ÊòØÁâàÊú¨Âè∑Ôºå1.0 ÈÉ®ÂàÜÊòØ‰∏äÊ∏∏ÁâàÊú¨Âè∑„ÄÇ-1 ÈÉ®ÂàÜÊòØ Debian ÁöÑÁâàÊú¨ÔºöÂÆÉÊòØÁ¨¨‰∏Ä‰∏™‰∏äÊ∏∏ÁâàÊú¨‰∏∫ 1.0 ÁöÑ Debian ÂåÖ„ÄÇÂ¶ÇÊûúËøô‰∏™ Debian ÂåÖÊúâÈîôËØØÔºåÂπ∂‰∏îË¢´‰øÆÂ§ç‰∫ÜÔºåÈÇ£‰πà‰∏äÊ∏∏ÁâàÊú¨Âè∑‰ªç‰øùÊåÅÁõ∏ÂêåÔºå‰∏ã‰∏Ä‰∏™ÁâàÊú¨Â∫îÂΩìË¢´Âè´ÂÅö 1.0-2ÔºåÊé•‰∏ãÊù•ÊòØ 1.0-3Ôºå‰æùÊ≠§Á±ªÊé®„ÄÇ UNRELEASED Ë¢´Áß∞‰Ωú‰∏ä‰º†ÁõÆÊ†á„ÄÇÂÆÉ‰ºöÂëäËØâ‰∏ä‰º†Â∑•ÂÖ∑Ëøô‰∏™‰∫åËøõÂà∂ÂåÖÂ∫îÂΩìË¢´‰∏ä‰º†Âà∞Âì™Èáå„ÄÇUNRELEASED ÊÑèÂë≥ÁùÄËøô‰∏™ÂåÖËøòÊ≤°ÊúâÂÅöÂ•Ω‰∏ä‰º†ÁöÑÂáÜÂ§á„ÄÇ‰øùÊåÅ UNRELEASED ÊòØ‰∏Ä‰∏™Â•Ω‰∏ªÊÑèÔºå‰ª•ÈÅøÂÖçÊÇ®ÈîôËØØ‰∏ä‰º†ÂÆÉ„ÄÇ ÁõÆÂâçËØ∑ÂÖàÂøΩÁï• urgency=low„ÄÇ (ClosesÔºö#XXXXXX) ‰ΩúÁî®Âú®‰∫é‰∏ä‰º†ÂåÖÊó∂ÂÖ≥Èó≠ÈîôËØØ„ÄÇËøôÊòØÂú® Debian ‰∏≠ÂÖ≥Èó≠ÈîôËØØÁöÑÂ∏∏Áî®ÊñπÊ≥ïÔºöÂΩì‰∏ä‰º†‰øÆÂ§çÈîôËØØÁöÑÂåÖÊó∂ÔºåÈîôËØØË∑üË∏™Âô®‰ºöÊ≥®ÊÑèÂà∞Ëøô‰∏ÄÁÇπÔºåÂπ∂Â∞ÜÈîôËØØÊ†áËÆ∞‰∏∫Â∑≤ÂÖ≥Èó≠„ÄÇÊàë‰ª¨ÂèØ‰ª•Âà†Èô§ (Closes...) ‰Ωç„ÄÇÊàñËÄÖ‰∏çÁÆ°ÂÆÉÔºåÁé∞Âú®ÂÆÉ‰∏çÈáçË¶Å„ÄÇ Êõ¥ÊîπÊó•Âøó‰∏≠ÁöÑÊúÄÂêé‰∏ÄË°åÊåáÂá∫ÊòØË∞ÅÂú®‰ΩïÊó∂Âà∂‰Ωú‰∫ÜËøô‰∏™ÁâàÊú¨ÁöÑËΩØ‰ª∂ÂåÖ„ÄÇdch Â∑•ÂÖ∑‰ºöÂ∞ùËØïÁåúÊµãÂêçÁß∞ÂíåÁîµÂ≠êÈÇÆ‰ª∂Âú∞ÂùÄÔºå‰ΩÜÊÇ®Â∫îÂΩì‰ΩøÁî®Ê≠£Á°ÆÁöÑËØ¶ÁªÜ‰ø°ÊÅØÂØπÂÖ∂ËøõË°åÈÖçÁΩÆ„ÄÇËØ¶ÁªÜ‰ø°ÊÅØÔºåËØ∑ÂèÇÈòÖ dch(1) ÊâãÂÜåÈ°µ„ÄÇ debian/compat debian/compat ÊòéÁ°Æ debhelper Â∑•ÂÖ∑ÁöÑÂÖºÂÆπÁ≠âÁ∫ß„ÄÇÊàë‰ª¨ÁõÆÂâç‰∏çÈúÄË¶ÅÁü•ÈÅìÂÆÉÊÑèÂë≥ÁùÄ‰ªÄ‰πà„ÄÇ 110 debian/control ÊéßÂà∂Êñá‰ª∂ÊèèËø∞‰ª£Á†ÅÂíå‰∫åËøõÂà∂ÂåÖÔºåÂπ∂ÁªôÂá∫‰ªñ‰ª¨ÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåÊØîÂ¶ÇÂêçÁß∞„ÄÅÂåÖÁöÑÁª¥Êä§ËÄÖÊòØË∞ÅÔºåÁ≠âÁ≠â„ÄÇ‰∏ãÈù¢ÊòØ‰∏Ä‰∏™Á§∫‰æãÔºö 123456789101112Source: hithereMaintainer: Lars Wirzenius &lt;liw@liw.fi&gt;Section: miscPriority: optionalStandards-Version: 3.9.2Build-Depends: debhelper (&gt;= 9)Package: hithereArchitecture: anyDepends: $&#123;shlibs:Depends&#125;, $&#123;misc:Depends&#125;Description: greet user hithere greets the user, or the world. Âú®Ëøô‰∏™Êñá‰ª∂ÈáåÊúâËÆ∏Â§öÈúÄÊ±ÇÁöÑÂ≠óÊÆµÔºå‰ΩÜÊòØÁé∞Âú®ÊÇ®ÂèØ‰ª•ÂÉèÂØπÂæÖÈ≠îÊ≥ï‰∏ÄÊ†∑ÂØπÂæÖÂÆÉ„ÄÇÈÇ£‰πàÔºåÂú® debian/control ‰∏≠Êúâ‰∏§ÊÆµÊñáÂ≠ó„ÄÇ Á¨¨‰∏ÄÊÆµÊñáÂ≠óÊèèËø∞‰∫ÜÊ∫ê‰ª£Á†ÅÂåÖÔºå‰ΩøÁî®‰ª•‰∏ãÂ≠óÊÆµÔºö Source Ê∫ê‰ª£Á†ÅÂåÖÂêç„ÄÇ Maintainer Áª¥Êä§ËÄÖÁöÑÂßìÂêçÂíåÁîµÂ≠êÈÇÆÁÆ±„ÄÇ Priority ÂåÖÁöÑÈáçË¶ÅÊÄßÔºà‚Äòrequired ÂèØÈÄâÁöÑ‚Äô, ‚Äòimportant ÈáçË¶ÅÁöÑ‚Äô, ‚Äòstandard Ê†áÂáÜ‚Äô Êàñ ‚Äòoptional‚Äô ÂÖ∂‰∏≠‰πã‰∏ÄÔºâ„ÄÇÈÄöÂ∏∏ÔºåÂåÖÊòØ‚ÄúÂèØÈÄâ‚ÄùÁöÑÔºåÈô§ÈùûÂÆÉÂØπ‰∫éÊ†áÂáÜÁ≥ªÁªüÂäüËÉΩÊòØ‚ÄúÂøÖ‰∏çÂèØÂ∞ëÁöÑ‚ÄùÔºåÂç≥ÂêØÂä®ÊàñÁΩëÁªúÂäüËÉΩ„ÄÇ Â¶ÇÊûúÂåÖ‰∏éÂè¶‰∏Ä‰∏™‚ÄúÂèØÈÄâ‚ÄùÂåÖÂÜ≤Á™ÅÔºåÊàñËÄÖÂÆÉ‰∏çÊâìÁÆóÁî®‰∫éÊ†áÂáÜÊ°åÈù¢ÂÆâË£ÖÔºåÂàôÂ∫îËØ•ÊòØ‚ÄúÈ¢ùÂ§ñ‚ÄùÁöÑËÄå‰∏çÊòØ‚ÄúÂèØÈÄâ‚ÄùÁöÑ„ÄÇ ‚ÄúÈ¢ùÂ§ñ‚ÄùÂåÖÁöÑÊòæÁùÄ‰æãÂ≠êÊòØË∞ÉËØïÂåÖ„ÄÇ ÔºàÁî±Sebastian TennantÊ∑ªÂä†Ôºâ„ÄÇ Build-Depends ÈúÄË¶ÅÂÆâË£Ö‰ª•ÊûÑÂª∫Á®ãÂ∫èÂåÖÁöÑÁ®ãÂ∫èÂåÖÂàóË°®„ÄÇÂÆûÈôÖ‰ΩøÁî®ÂåÖÊó∂ÊúâÂèØËÉΩÈúÄË¶ÅÂÆÉ‰ª¨„ÄÇ Á¨¨‰∏Ä‰∏™‰πãÂêéÁöÑÊâÄÊúâÊÆµËêΩÈÉΩÊèèËø∞‰∫Ü‰ªéÊ≠§Ê∫êÊûÑÂª∫ÁöÑ‰∫åËøõÂà∂ÂåÖ„ÄÇ ÂèØ‰ª•ÊúâËÆ∏Â§ö‰ªéÂêå‰∏ÄÊù•Ê∫êÊûÑÂª∫ÁöÑ‰∫åËøõÂà∂ÂåÖ; ‰ΩÜÂØπ‰∫éÊàë‰ª¨ÁöÑ‰æãÂ≠êÂè™Êúâ‰∏Ä‰∏™„ÄÇ Êàë‰ª¨‰ΩøÁî®Ëøô‰∫õÂ≠óÊÆµÔºö Package ‰∫åËøõÂà∂ÂåÖÁöÑÂêçÁß∞„ÄÇ ÂêçÁß∞ÂèØËÉΩ‰∏éÊ∫êÂåÖÂêçÁß∞‰∏çÂêå„ÄÇ Architecture ÊåáÂÆö‰∫åËøõÂà∂ÂåÖÈ¢ÑÊúü‰ΩøÁî®ÁöÑËÆ°ÁÆóÊú∫‰ΩìÁ≥ªÁªìÊûÑÔºöÁî®‰∫é32‰ΩçIntel CPUÁöÑi386ÔºåÁî®‰∫é64‰ΩçÁöÑamd64ÔºåÁî®‰∫éARMÂ§ÑÁêÜÂô®ÁöÑarmelÁ≠âÁ≠â„ÄÇ DebianÊÄªÂÖ±ÂèØ‰ª•Â§ÑÁêÜÂ§ßÁ∫¶ÂçÅÂá†ÁßçËÆ°ÁÆóÊú∫‰ΩìÁ≥ªÁªìÊûÑÔºåÂõ†Ê≠§ËøôÁßç‰ΩìÁ≥ªÁªìÊûÑÊîØÊåÅËá≥ÂÖ≥ÈáçË¶Å„ÄÇ ‚ÄúArchitecture‚ÄùÂ≠óÊÆµÂèØ‰ª•ÂåÖÂê´ÁâπÂÆö‰ΩìÁ≥ªÁªìÊûÑÁöÑÂêçÁß∞Ôºå‰ΩÜÈÄöÂ∏∏ÂÆÉÂåÖÂê´‰∏§‰∏™ÁâπÊÆäÂÄº‰∏≠ÁöÑ‰∏Ä‰∏™„ÄÇ any ÔºàÊàë‰ª¨Âú®Á§∫‰æã‰∏≠ÁúãÂà∞ÔºâÊÑèÂë≥ÁùÄÂèØ‰ª•‰∏∫‰ªª‰Ωï‰ΩìÁ≥ªÁªìÊûÑÊûÑÂª∫ÂåÖ„ÄÇ Êç¢Âè•ËØùËØ¥Ôºå‰ª£Á†ÅÊòØÂèØÁßªÊ§çÁöÑÔºåÂõ†Ê≠§ÂÆÉ‰∏ç‰ºöÂØπÁ°¨‰ª∂ÂÅöÂ§™Â§öÂÅáËÆæ„ÄÇ ‰ΩÜÊòØÔºå‰ªçÁÑ∂ÈúÄË¶Å‰∏∫ÊØè‰∏™‰ΩìÁ≥ªÁªìÊûÑÂçïÁã¨ÊûÑÂª∫‰∫åËøõÂà∂ÂåÖ„ÄÇ all ÊÑèÂë≥ÁùÄÁõ∏ÂêåÁöÑ‰∫åËøõÂà∂ÂåÖÂ∞ÜÈÄÇÁî®‰∫éÊâÄÊúâ‰ΩìÁ≥ªÁªìÊûÑÔºåËÄåÊó†ÈúÄ‰∏∫ÊØè‰∏™‰ΩìÁ≥ªÁªìÊûÑÂçïÁã¨ÊûÑÂª∫„ÄÇ ‰æãÂ¶ÇÔºå‰ªÖÂåÖÂê´shellËÑöÊú¨ÁöÑÂåÖÂ∞ÜÊòØ‚Äúall‚Äù„ÄÇ ShellËÑöÊú¨Âú®‰ªª‰ΩïÂú∞ÊñπÈÉΩÂèØ‰ª•Â∑•‰ΩúÔºå‰∏çÈúÄË¶ÅÁºñËØë„ÄÇ Depends ‰∏∫‰∫ÜËÆ©‰∫åËøõÂà∂ÂåÖ‰∏≠Á®ãÂ∫èËÉΩÂ§üÊ≠£Â∏∏ËøêË°åÔºåÈúÄË¶ÅÂÆâË£ÖÁöÑÂåÖÂàóË°®„ÄÇÊâãÂä®ÂàóÂá∫Ëøô‰∫õ‰æùËµñÈ°πÊòØÁπÅÁêê‰∏îÂÆπÊòìÂá∫ÈîôÁöÑÂ∑•‰Ωú„ÄÇ‰∏∫‰∫ÜËÉΩÂ§üËÆ©ÂÖ∂Â∑•‰ΩúÔºåÊàë‰ª¨ÈúÄË¶Å‰∏Ä‰∏™Á•ûÂ•áÁöÑÂ∞è‰∏úË•ø ${shlibs:Depends}„ÄÇÂè¶‰∏Ä‰∏™Á•ûÂ•áÁöÑ‰∏úË•øÊòØÁªô debhelper ÁöÑÔºåÂÆÉÊòØ ${misc:Depends}„ÄÇshlibs ÊòØ‰∏∫‰∫ÜÂä®ÊÄÅÈìæÊé•Â∫ìÔºåËÄå misc ÊòØ‰∏∫‰∫Ü debherlper ÁöÑ‰∏Ä‰∫õÂ∑•‰Ωú„ÄÇÂØπ‰∫éÂà´ÁöÑ‰æùËµñÔºåÊÇ®ÂèØ‰ª•Â∞ÜÂÖ∂ÊâãÂä®Âä†ÂÖ•Âà∞ Depends Êàñ Build-Depends ‰∏≠„ÄÇ‰ΩÜËØ∑Ê≥®ÊÑèÔºå${...} ‰ªÖÂú® Depends ‰∏≠ÊúâÊïà„ÄÇ Description ‰∫åËøõÂà∂ÂåÖÁöÑÂÆåÊï¥ÊèèËø∞„ÄÇÂÆÉÂ∏åÊúõÂØπÁî®Êà∑ÊúâÊâÄÂ∏ÆÂä©„ÄÇÁ¨¨‰∏ÄË°åÁî®‰ΩúÁÆÄË¶ÅÊ¶ÇË¶ÅÔºàÊëòË¶ÅÔºâÊèèËø∞ÔºåÂÖ∂‰ΩôÈÉ®ÂàÜÊòØÂåÖÁöÑÊõ¥ÈïøÁöÑÊèèËø∞„ÄÇ ÂëΩ‰ª§ cme edit dpkg Êèê‰æõ‰∫Ü‰∏Ä‰∏™GUIËÉΩÂ§üÁî®Êù•ÁºñËæëÂ§ßÂ§öÊï∞ÊâìÂåÖÊñá‰ª∂ÔºåÂåÖÊã¨ debian/control„ÄÇ ËØ∑ÂèÇÈòÖ‰ΩøÁî® cme È°µÈù¢ÁÆ°ÁêÜ Debian ËΩØ‰ª∂ÂåÖ„ÄÇcmeÂëΩ‰ª§Âú® Debian ‰∏≠ÁöÑ cme ÂåÖ‰∏≠Êèê‰æõ„ÄÇÊÇ®‰πüÂèØ‰ª•‰ΩøÁî® cme edit dpkg-control ÂëΩ‰ª§‰ªÖÁºñËæë debian/control Êñá‰ª∂„ÄÇ debian/copyright ËøôÊòØ‰∏Ä‰∏™ÈùûÂ∏∏ÈáçË¶ÅÁöÑÊñá‰ª∂Ôºå‰ΩÜÊòØÁé∞Âú®Êàë‰ª¨Â∞ÜÂÖà‰ΩøÁî®‰∏Ä‰∏™Á©∫Êñá‰ª∂„ÄÇ ÂØπ‰∫é Debian ÔºåÊ≠§Êñá‰ª∂Áî®‰∫éË∑üË∏™ÊúâÂÖ≥ÂåÖÁöÑÂêàÊ≥ïÊÄß„ÄÅÁâàÊùÉÁõ∏ÂÖ≥‰ø°ÊÅØ„ÄÇ‰ΩÜÊòØÔºå‰ªéÊäÄÊúØËßíÂ∫¶Êù•ÁúãÔºåËøôÂπ∂‰∏çÈáçË¶Å„ÄÇÁõÆÂâçÔºåÊàë‰ª¨Â∞Ü‰∏ìÊ≥®‰∫éÊäÄÊúØÊñπÈù¢„ÄÇÂ¶ÇÊûúÊúâÂÖ¥Ë∂£ÔºåÊàë‰ª¨ÂèØ‰ª•Á®çÂêéÂÜçÂõûÂà∞ debian/copyright„ÄÇ debian/rules ÂÆÉÂ∫îÂΩìÈïøËøô‰∏™Ê†∑Ôºö 123#!/usr/bin/make -f%: dh $@ Ê≥®ÊÑèÔºö ÊúÄÂêé‰∏ÄË°åÂ∫îÂΩì‰ΩøÁî®‰∏Ä‰∏™ Tab Â≠óÁ¨¶ËøõË°åÁº©ËøõÔºåËÄå‰∏ç‰ΩøÁî®Á©∫Ê†º„ÄÇËøô‰∏™Êñá‰ª∂ÊòØ‰∏Ä‰∏™ MakefileÔºåÂõ†Ê≠§ Tab Â≠óÁ¨¶ÊòØ make ÊâÄÊúüÊúõÁöÑ„ÄÇ ‰∫ãÂÆû‰∏ä debian/rules ÂèØËÉΩÊòØ‰∏Ä‰∏™Áõ∏ÂΩìÂ§çÊùÇÁöÑÊñá‰ª∂„ÄÇÁÑ∂ËÄåÔºåÂú® debhelper 7 ‰∏≠ÁöÑ dh ÂëΩ‰ª§ËÆ©ÂÆÉÂèØ‰ª•Âú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÂèòÂæóÊõ¥ÁÆÄÂçï„ÄÇ debian/source/format ÊúÄÂêé‰∏Ä‰∏™Êàë‰ª¨ÈúÄË¶ÅÁöÑÊñá‰ª∂ÊòØ debian/source/formatÔºåÂÆÉÂ∫îÂΩìÂåÖÂê´Ê∫ê‰ª£Á†ÅÂåÖÁöÑÁâàÊú¨Âè∑ÔºåËøôÈáå‰∏∫ 3.0 (quilt)„ÄÇ 13.0 (quilt) Á¨¨ÂõõÊ≠•ÔºöÊûÑÂª∫Ëøô‰∏™ÂåÖ Á¨¨‰∏ÄÊ¨°Â∞ùËØï Áé∞Âú®Êàë‰ª¨ÂèØ‰ª•ÊûÑÂª∫Ëøô‰∏™ÂåÖ‰∫Ü„ÄÇÊúâÂæàÂ§öÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÁöÑÂëΩ‰ª§Ôºå‰ΩÜÊòØÊàë‰ª¨Âè™‰ΩøÁî®ÂÖ∂‰∏≠‰∏Ä‰∏™ÔºåÂ¶ÇÊûúÊÇ®ËøêË°å‰ª•‰∏ãÂëΩ‰ª§ÔºåÊÇ®‰ºöÂæóÂà∞ÂÉè‰∏ãÈù¢ÁöÑËæìÂá∫Ôºö 1234567891011$ debuild -us -ucmake[1]: Entering directory '/home/liw/debian-packaging-tutorial/x/hithere-1.0'install hithere /home/liw/debian-packaging-tutorial/x/hithere-1.0/debian/hithere/usr/local/bininstall: cannot create regular file '/home/liw/debian-packaging-tutorial/x/hithere-1.0/debian/hithere/usr/local/bin': No such file or directorymake[1]: *** [install] Error 1make[1]: Leaving directory '/home/liw/debian-packaging-tutorial/x/hithere-1.0'dh_auto_install: make -j1 install DESTDIR=/home/liw/debian-packaging-tutorial/x/hithere-1.0/debian/hithere returned exit code 2make: *** [binary] Error 29dpkg-buildpackage: error: fakeroot debian/rules binary gave error exit status 2debuild: fatal error at line 1325:dpkg-buildpackage -rfakeroot -D -us -uc failed Êúâ‰∫õÂú∞Êñπ‰∏çÂ§™ÂØπÂä≤„ÄÇËøôÁªèÂ∏∏ÂèëÁîüÔºöÊÇ®Â∑≤ÁªèÂ∞ΩÂäõÂàõÂª∫‰∫ÜÁ¨¶ÂêàËßÑËåÉÁöÑ debian/* Êñá‰ª∂‰∫ÜÔºå‰ΩÜÊòØ‰ªçÊúâ‰∏Ä‰∫õ‰∏úË•ø‰∏çÂ§™ÂØπÂä≤„ÄÇÂèØËßÅÔºåÂá∫ÈîôÁöÑÂú∞ÊñπÂú®Ôºö 1install hithere /home/liw/debian-packaging-tutorial/x/hithere-1.0/debian/hithere/usr/local/bin ‰∏äÊ∏∏‰ª£Á†Å‰∏≠ÁöÑ Makefile Â∞ùËØïÂ∞ÜÁ®ãÂ∫èÂÆâË£ÖÂà∞ÈîôËØØÁöÑÂú∞Êñπ„ÄÇ ËøôËæπÊúâËÆ∏Â§öÂèØ‰ª•ÂÅöÁöÑ‰∫ãÊÉÖÔºåÊù•Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÔºöÁ¨¨‰∏Ä‰ª∂‰∫ãÊòØ Debian ÊâìÂåÖÁ≥ªÁªüÂ¶Ç‰ΩïÂ∑•‰Ωú„ÄÇ ‰øÆÊ≠£ ÂΩìÁ®ãÂ∫èË¢´ÊûÑÂª∫Âπ∂Ë¢´‚ÄúÂÆâË£Ö‚ÄùÊó∂ÔºåÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÂÆÉËøò‰∏ç‰ºöË¢´ÂÆâË£ÖÂà∞ /usr ÊàñËÄÖ /usr/localÔºåËÄåÊòØË¢´ÂÆâË£ÖÂà∞ debian/ Â≠êÁõÆÂΩï„ÄÇ Êàë‰ª¨Âú® debian/hithere ÁõÆÂΩï‰∏ãÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êï¥‰∏™Êñá‰ª∂Á≥ªÁªüÁöÑÂ≠êÈõÜÔºåÂπ∂Â∞ÜÂÖ∂ÊâìÂåÖËøõ‰∫åËøõÂà∂ÂåÖ‰∏≠„ÄÇÂõ†Ê≠§ .../debian/hithere/usr/local/bin ÊòØÊ≤°ÈóÆÈ¢òÁöÑÔºåÈô§ÈùûÂÆÉ‰∏çÂ∫îÂΩìË¢´ÂÆâË£ÖÂà∞ usr/local ËÄåÊòØ usr ÁõÆÂΩï„ÄÇÊàë‰ª¨ÈúÄË¶ÅÂÅö‰∏Ä‰∫õ‰∫ãÊÉÖÊù•Á°Æ‰øùÁ®ãÂ∫èË¢´ÂÆâË£ÖÂà∞Ê≠£Á°ÆÁöÑ‰ΩçÁΩÆ debian/hithere/usr/bin„ÄÇÊ≠£Á°ÆÁöÑÊñπÊ≥ïÊòØ‰øÆÊîπ debian/rules Êñá‰ª∂Êù•ÂëäËØâ Makefile Â∫îÂΩìÂú®Âì™ÈáåÂÆâË£ÖËΩØ‰ª∂„ÄÇ 123456#!/usr/bin/make -f%: dh $@override_dh_auto_install: $(MAKE) DESTDIR=$$(pwd)/debian/hithere prefix=/usr install Ëøô‰∏™‰ªçÊòØ‰∏Ä‰∏™Â∞èÈ≠îÊ≥ïÔºå‰∏∫‰∫ÜÁêÜËß£ÂÆÉÔºåÊÇ®Â∫îÂΩìÁü•ÈÅì Makefile Â¶Ç‰ΩïÂ∑•‰ΩúÔºåËøòÂ∫îÂΩìÁü•ÈÅì debhelper ÁöÑ‰∏çÂêåÈò∂ÊÆµ„ÄÇ ÁõÆÂâçÔºåÊàëÂèØ‰ª•Â§ßÊ¶ÇËØ¥Êòé‰∏ãÔºöÊúâ‰∏Ä‰∏™Âêç‰∏∫ debherlper ÁöÑÂëΩ‰ª§Ë¥üË¥£ÂÆâË£Ö‰∏äÊ∏∏Êñá‰ª∂ÔºåËøô‰∏™Èò∂ÊÆµË¢´Áß∞‰∏∫ dh_auto_install„ÄÇÊàë‰ª¨ÈúÄË¶ÅË¶ÜÁõñËøô‰∏™Èò∂ÊÆµÔºå‰∏∫Ê≠§ÔºåÊàë‰ª¨Âú® debian/rule ‰∏≠ÈáçÂÜô‰∫Ü override_dh_auto_install ËßÑÂàô„ÄÇËøô‰∏™Êñá‰ª∂ÁöÑÊúÄÂêé‰∏ÄË°åÊòØ‰∏ÄÁßç1970Âπ¥‰ª£ÁöÑÊäÄÊúØÔºå‰∏∫‰∫Ü‰ªé debian/rules ‰∏≠‰ΩøÁî®Ê≠£Á°ÆÁöÑÂèÇÊï∞Ë∞ÉÁî®‰∏äÊ∏∏‰∏≠ÁöÑ Makefile Êñá‰ª∂„ÄÇ ËÆ©Êàë‰ª¨ÂÜçËØï‰∏Ä‰∏ã„ÄÇ 1$ debuild -us -uc ‰ªçÁÑ∂Â§±Ë¥•‰∫ÜÔºÅ‰ΩÜËøôÊ¨°Â§±Ë¥•ÁöÑÂëΩ‰ª§ÊòØÔºö 1install hithere /home/liw/debian-packaging-tutorial/x/hithere-1.0/debian/hithere/usr/bin Êàë‰ª¨Ê≠£Âú®Â∞ùËØïÂ∞ÜËΩØ‰ª∂ÂÆâË£ÖËá≥Ê≠£Á°ÆÁöÑÂú∞ÊñπÔºå‰ΩÜÊòØËøô‰∏™ÁõÆÂΩï‰∏çÂ≠òÂú®„ÄÇ‰∏∫‰∫Ü‰øÆÊ≠£Ëøô‰∏™ÈîôËØØÔºåÊàë‰ª¨Â∫îÂΩìÂëäËØâÊâìÂåÖÂ∑•ÂÖ∑ÂÖàÂàõÂª∫Ëøô‰∏™ÁõÆÂΩï„ÄÇ ÁêÜÊÉ≥Áä∂ÂÜµ‰∏ãÔºå‰∏äÊ∏∏ Makefile Êñá‰ª∂‰ºöËá™Âä®ÂàõÂª∫ÁõÆÂΩïÔºå‰ΩÜËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊòØ‰∏äÊ∏∏ÂºÄÂèëËÄÖÂ§™ÊáíÊÉ∞‰∫ÜÔºå‰ªñÊ≤°ÊúâÂàõÂª∫Ëøô‰∏™ÁõÆÂΩï„ÄÇ Âè¶‰∏Ä‰∏™‰øÆÊ≠£ ÊâìÂåÖÂ∑•ÂÖ∑ÔºàÁâπÂà´ÊòØdebhelperÔºâÊèê‰æõ‰∫Ü‰∏ÄÁßçÂÆûÁé∞ÊñπÂºè„ÄÇÂàõÂª∫‰∏Ä‰∏™Âêç‰∏∫ debian/hithere.dirs ÁöÑÊñá‰ª∂ÔºåÈáåÈù¢ÁöÑÂÜÖÂÆπÂ∫îÂΩìÊòØÔºö 12usr/binusr/share/man/man1 Á¨¨‰∫åË°åÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÁªôÊâãÂÜåÈ°µÈù¢ÁöÑÁõÆÂΩï„ÄÇ‰πãÂêéÊàë‰ª¨‰ºöÈúÄË¶ÅÂÆÉ„ÄÇÊÇ®Â∫îÂΩìÂ∞èÂøÉÁöÑÁª¥Êä§ËøôÊ†∑ÁöÑÊñá‰ª∂ÔºåÂõ†‰∏∫ÂÆÉÂèØËÉΩ‰ºöÂØºËá¥ÊÇ®ÁöÑÂåÖÂú®Êú™Êù•ÁâàÊú¨‰∫ßÁîüÁ©∫ÁõÆÂΩïÔºåÂΩìÂåÖ‰∏≠ÁöÑÈ°πÁõÆ‰∏çÂÜçÊúâÊïàÊó∂„ÄÇ ËÆ©Êàë‰ª¨ÂÜçËØï‰∏Ä‰∏ãÔºö 1$ debuild -us -uc Áé∞Âú®ÊûÑÂª∫ÊàêÂäü‰∫ÜÔºå‰ΩÜÊòØ‰ªçÊúâ‰∏Ä‰∫õÂ∞èÈóÆÈ¢ò„ÄÇdebuild ËøêË°å‰∫Ü lintian Â∑•ÂÖ∑ÔºåËøô‰∏™Â∑•ÂÖ∑ÂèØ‰ª•Ê£ÄÊµãÊûÑÂª∫ÁöÑÂåÖÁöÑ‰∏Ä‰∫õÂ∏∏ËßÅÁöÑÈîôËØØÔºåÂÆÉÁªôÂá∫‰∫ÜÊàë‰ª¨ÂàõÂª∫ÁöÑÂåÖÁöÑ‰∏Ä‰∫õÈîôËØØÔºö 123456Now running lintian...W: hithere source: out-of-date-standards-version 3.9.0 (current is 3.9.1)W: hithere: copyright-without-copyright-noticeW: hithere: new-package-should-close-itp-bugW: hithere: wrong-bug-number-in-closes l3:#XXXXXXFinished running lintian. Ëøô‰∫õÈîôËØØÂ∫îÂΩìË¢´‰øÆÊ≠£Ôºå‰ΩÜÊòØÂØπÊàë‰ª¨Êù•ËØ¥ÂÆÉ‰ª¨‰∏ç‰ºöÂØºËá¥ÈîôËØØ„ÄÇÁé∞Âú®Êàë‰ª¨ÂÖàÂøΩÁï•‰ªñ‰ª¨„ÄÇÊü•ÁúãÁà∂ÁõÆÂΩïÔºåÊÇ®ÂèØ‰ª•ÊâæÂà∞ÊûÑÂª∫Â•ΩÁöÑÂåÖ„ÄÇ 1234$ ls ..hithere-1.0 hithere_1.0-1_amd64.deb hithere_1.0.orig.tar.gzhithere_1.0-1_amd64.build hithere_1.0-1.debian.tar.gzhithere_1.0-1_amd64.changes hithere_1.0-1.dsc Á¨¨‰∫îÊ≠•ÔºöÂÆâË£ÖÊûÑÂª∫Â•ΩÁöÑÂåÖ Êé•‰∏ãÊù•ÁöÑÂëΩ‰ª§‰ºöÂÆâË£ÖÊÇ®ÊûÑÂª∫Â•ΩÁöÑÂåÖ„ÄÇ‰∏çË¶ÅÂú®ËÆ°ÁÆóÊú∫‰∏äÁõ¥Êé•ËøêË°åÂÆÉÔºåÈô§ÈùûÊÇ®‰∏ç‰ªãÊÑèÊçüÂùèÁ≥ªÁªü„ÄÇ ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåÂú®Â§á‰ªΩÂ•ΩÁöÑËÆ°ÁÆóÊú∫‰∏äËøõË°åÂåÖÂºÄÂèëÊòØÊúÄÂ•ΩÁöÑÔºåËøôÊ†∑ÔºåÂú®ÊâÄÊúâ‰∫ãÊÉÖÂèòÁ≥üÁ≥ïÁöÑÊÉÖÂÜµ‰∏ãÔºåÊÇ®ÂèØ‰ª•‰∏çÁî®ÂÆåÂÖ®ÂÆâË£ÖÊï¥‰∏™Á≥ªÁªü„ÄÇËôöÊãüÊú∫ÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑËøõË°åÂºÄÂèëÁöÑÂú∞Êñπ„ÄÇ 123456789$ sudo dpkg -i ../hithere_1.0-1_amd64.deb[sudo] password for liw:Selecting previously deselected package hithere.(Reading database ... 154793 files and directories currently installed.)Unpacking hithere (from ../hithere_1.0-1_amd64.deb) ...Setting up hithere (1.0-1) ...Processing triggers for man-db ...liw@havelock$ ÈÇ£‰πàÔºåÂ¶Ç‰ΩïÊµãËØïÊâìÂ•ΩÁöÑÂåÖÂë¢ÔºüÊàë‰ª¨ÂèØ‰ª•ËøêË°åÂëΩ‰ª§Ôºö 1$ hithere OK ‰∫ÜÔºÅ ‰ΩÜÁé∞Âú®Âπ∂‰∏çÂÆåÁæé„ÄÇËÆ∞Âæó lintian ËøòÊúâ‰∏Ä‰∫õ‰∫ãÊÉÖÊ∂µÂæÖËß£ÂÜ≥Ôºådebian/copyright ‰ªçÁÑ∂ÊòØÁ©∫ÁöÑÔºåÁ≠âÁ≠â„ÄÇÊàë‰ª¨Áé∞Âú®Êúâ‰∫Ü‰∏Ä‰∏™ÂèØ‰ª•ËøêË°åÁöÑ deb ÂåÖ‰∫ÜÔºå‰ΩÜÊòØÂÆÉËøòÂπ∂‰∏çÊòØÊàë‰ª¨ÊâÄÊúüÂæÖÁöÑÈ´òË¥®ÈáèÁöÑ Debian ÂåÖ„ÄÇ ÁªìËÆ∫ ‰∏ÄÊó¶ÊÇ®ÊûÑÂª∫‰∫ÜÊÇ®Ëá™Â∑±ÁöÑÂåÖÔºåËá™ÁÑ∂ËÄåÁÑ∂Âú∞ÔºåÊÇ®‰ºöÊÉ≥Ë¶ÅÁü•ÈÅìÂ¶Ç‰ΩïËÆæÁΩÆÊÇ®Ëá™Â∑±ÁöÑ apt ‰ªìÂ∫ìÔºåËøôÊ†∑ÊÇ®Ëá™Â∑±ÁöÑÂåÖ‰ºöÂæàÂÆπÊòìË¢´ÂÆâË£Ö„ÄÇÊàëÊâÄÁü•ÈÅìÁöÑÊúÄÂ•ΩÁöÑÂ∑•ÂÖ∑ÊòØ reprepro„ÄÇ‰∏∫‰∫ÜÊõ¥Â§öÁöÑÊµãËØïÊÇ®ÁöÑÂåÖÔºåÊÇ®ÂèØËÉΩ‰πü‰ºöÊÉ≥Ë¶Å‰∫ÜËß£ piuparts„ÄÇÂéü‰ΩúËÄÖÁºñÂÜôÁöÑËøô‰∏™Â∑•ÂÖ∑Ôºå‰ªñËßâÂæóËøô‰∏™Â∑•ÂÖ∑ÂæàÊ£íÂπ∂‰∏îÊ≤°Êúâ‰ªª‰Ωï bug ÔºÅ ÊúÄÂêéÔºåÂ¶ÇÊûúÊÇ®ÂºÄÂßã‰øÆÊîπ‰∏äÊ∏∏‰ª£Á†ÅÔºåÊÇ®ÂèØËÉΩÊÉ≥Ë¶Å‰∫ÜËß£‰∏Ä‰∏ã quilt Â∑•ÂÖ∑„ÄÇ ÂÖ∂‰ªñÊÇ®ÂèØËÉΩÊÉ≥Ë¶ÅÈòÖËØªÁöÑ‰ø°ÊÅØÂèØ‰ª•Âú® http://www.debian.org/devel/ È°µÈù¢ÊâæÂà∞„ÄÇ","categories":[{"name":"Package","slug":"Package","permalink":"https://blog.inoki.cc/categories/Package/"},{"name":"Debian","slug":"Package/Debian","permalink":"https://blog.inoki.cc/categories/Package/Debian/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"Pack","slug":"Pack","permalink":"https://blog.inoki.cc/tags/Pack/"},{"name":"Debian","slug":"Debian","permalink":"https://blog.inoki.cc/tags/Debian/"}]},{"title":"Linux manual epoll(7)","slug":"man-epoll","date":"2019-03-24T10:49:40.000Z","updated":"2022-05-09T18:41:39.510Z","comments":true,"path":"2019/03/24/man-epoll/","link":"","permalink":"https://blog.inoki.cc/2019/03/24/man-epoll/","excerpt":"","text":"NAME epoll - I/O event notification facility SYNOPSIS #include &lt;sys/epoll.h&gt; DESCRIPTION The epoll API performs a similar task to poll(2): monitoring multiple file descriptors to see if I/O is possible on any of them. The epoll API can be used either as an edge-triggered or a level-triggered interface and scales well to large numbers of watched file descriptors. The central concept of the epoll API is the epoll instance, an inkernel data structure which, from a user-space perspective, can be considered as a container for two lists: The interest list (sometimes also called the epoll set): the set of file descriptors that the process has registered an interest in monitoring. The ready list: the set of file descriptors that are ‚Äúready‚Äù for I/O. The ready list is a subset of (or, more precisely, a set of references to) the file descriptors in the interest list that is dynamically populated by the kernel as a result of I/O activity on those file descriptors. The following system calls are provided to create and manage an epoll instance: epoll_create(2) creates a new epoll instance and returns a file descriptor referring to that instance. (The more recent epoll_create1(2) extends the functionality of epoll_create(2).) Interest in particular file descriptors is then registered via epoll_ctl(2), which adds items to the interest list of the epoll instance. epoll_wait(2) waits for I/O events, blocking the calling thread if no events are currently available. (This system call can be thought of as fetching items from the ready list of the epoll instance.) Level-triggered and edge-triggered The epoll event distribution interface is able to behave both as edge-triggered (ET) and as level-triggered (LT). The difference between the two mechanisms can be described as follows. Suppose that this scenario happens: The file descriptor that represents the read side of a pipe (rfd) is registered on the epoll instance. A pipe writer writes 2 kB of data on the write side of the pipe. A call to epoll_wait(2) is done that will return rfd as a ready file descriptor. The pipe reader reads 1 kB of data from rfd. A call to epoll_wait(2) is done. If the rfd file descriptor has been added to the epoll interface using the EPOLLET (edge-triggered) flag, the call to epoll_wait(2) done in step 5 will probably hang despite the available data still present in the file input buffer; meanwhile the remote peer might be expecting a response based on the data it already sent. The reason for this is that edge-triggered mode delivers events only when changes occur on the monitored file descriptor. So, in step 5 the caller might end up waiting for some data that is already present inside the input buffer. In the above example, an event on rfd will be generated because of the write done in 2 and the event is consumed in 3. Since the read operation done in 4 does not consume the whole buffer data, the call to epoll_wait(2) done in step 5 might block indefinitely. An application that employs the EPOLLET flag should use nonblocking file descriptors to avoid having a blocking read or write starve a task that is handling multiple file descriptors. The suggested way to use epoll as an edge-triggered (EPOLLET) interface is as follows: i with nonblocking file descriptors; and ii by waiting for an event only after read(2) or write(2) return EAGAIN. By contrast, when used as a level-triggered interface (the default, when EPOLLET is not specified), epoll is simply a faster poll(2), and can be used wherever the latter is used since it shares the same semantics. Since even with edge-triggered epoll, multiple events can be generated upon receipt of multiple chunks of data, the caller has the option to specify the EPOLLONESHOT flag, to tell epoll to disable the associated file descriptor after the receipt of an event with epoll_wait(2). When the EPOLLONESHOT flag is specified, it is the caller's responsibility to rearm the file descriptor using epoll_ctl(2) with EPOLL_CTL_MOD. If multiple threads (or processes, if child processes have inherited the epoll file descriptor across fork(2)) are blocked in epoll_wait(2) waiting on the same the same epoll file descriptor and a file descriptor in the interest list that is marked for edge- triggered (EPOLLET) notification becomes ready, just one of the threads (or processes) is awoken from epoll_wait(2). This provides a useful optimization for avoiding &quot;thundering herd&quot; wake-ups in some scenarios. Interaction with autosleep If the system is in autosleep mode via /sys/power/autosleep and an event happens which wakes the device from sleep, the device driver will keep the device awake only until that event is queued. To keep the device awake until the event has been processed, it is necessary to use the epoll_ctl(2) EPOLLWAKEUP flag. When the EPOLLWAKEUP flag is set in the events field for a struct epoll_event, the system will be kept awake from the moment the event is queued, through the epoll_wait(2) call which returns the event until the subsequent epoll_wait(2) call. If the event should keep the system awake beyond that time, then a separate wake_lock should be taken before the second epoll_wait(2) call. /proc interfaces The following interfaces can be used to limit the amount of kernel memory consumed by epoll: /proc/sys/fs/epoll/max_user_watches (since Linux 2.6.28) This specifies a limit on the total number of file descriptors that a user can register across all epoll instances on the system. The limit is per real user ID. Each registered file descriptor costs roughly 90 bytes on a 32-bit kernel, and roughly 160 bytes on a 64-bit kernel. Currently, the default value for max_user_watches is 1/25 (4%) of the available low memory, divided by the registration cost in bytes. Example for suggested usage While the usage of epoll when employed as a level-triggered interface does have the same semantics as poll(2), the edge-triggered usage requires more clarification to avoid stalls in the application event loop. In this example, listener is a nonblocking socket on which listen(2) has been called. The function do_use_fd() uses the new ready file descriptor until EAGAIN is returned by either read(2) or write(2). An event-driven state machine application should, after having received EAGAIN, record its current state so that at the next call to do_use_fd() it will continue to read(2) or write(2) from where it stopped before. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#define MAX_EVENTS 10struct epoll_event ev, events[MAX_EVENTS];int listen_sock, conn_sock, nfds, epollfd;/* Code to set up listening socket, 'listen_sock', (socket(), bind(), listen()) omitted */epollfd = epoll_create1(0);if (epollfd == -1) &#123; perror(\"epoll_create1\"); exit(EXIT_FAILURE);&#125;ev.events = EPOLLIN;ev.data.fd = listen_sock;if (epoll_ctl(epollfd, EPOLL_CTL_ADD, listen_sock, &amp;ev) == -1) &#123; perror(\"epoll_ctl: listen_sock\"); exit(EXIT_FAILURE);&#125;for (;;) &#123; nfds = epoll_wait(epollfd, events, MAX_EVENTS, -1); if (nfds == -1) &#123; perror(\"epoll_wait\"); exit(EXIT_FAILURE); &#125; for (n = 0; n &lt; nfds; ++n) &#123; if (events[n].data.fd == listen_sock) &#123; conn_sock = accept(listen_sock, (struct sockaddr *) &amp;addr, &amp;addrlen); if (conn_sock == -1) &#123; perror(\"accept\"); exit(EXIT_FAILURE); &#125; setnonblocking(conn_sock); ev.events = EPOLLIN | EPOLLET; ev.data.fd = conn_sock; if (epoll_ctl(epollfd, EPOLL_CTL_ADD, conn_sock, &amp;ev) == -1) &#123; perror(\"epoll_ctl: conn_sock\"); exit(EXIT_FAILURE); &#125; &#125; else &#123; do_use_fd(events[n].data.fd); &#125; &#125;&#125; When used as an edge-triggered interface, for performance reasons, it is possible to add the file descriptor inside the epoll interface (EPOLL_CTL_ADD) once by specifying (EPOLLIN|EPOLLOUT). This allows you to avoid continuously switching between EPOLLIN and EPOLLOUT calling epoll_ctl(2) with EPOLL_CTL_MOD. Questions and answers 0. What is the key used to distinguish the file descriptors regis‚Äê tered in an interest list? The key is the combination of the file descriptor number and the open file description (also known as an &quot;open file handle&quot;, the kernel's internal representation of an open file). 1. What happens if you register the same file descriptor on an epoll instance twice? You will probably get EEXIST. However, it is possible to add a duplicate (dup(2), dup2(2), fcntl(2) F_DUPFD) file descriptor to the same epoll instance. This can be a useful technique for fil‚Äê tering events, if the duplicate file descriptors are registered with different events masks. 2. Can two epoll instances wait for the same file descriptor? If so, are events reported to both epoll file descriptors? Yes, and events would be reported to both. However, careful pro‚Äê gramming may be needed to do this correctly. 3. Is the epoll file descriptor itself poll/epoll/selectable? Yes. If an epoll file descriptor has events waiting, then it will indicate as being readable. 4. What happens if one attempts to put an epoll file descriptor into its own file descriptor set? The epoll_ctl(2) call fails (EINVAL). However, you can add an epoll file descriptor inside another epoll file descriptor set. 5. Can I send an epoll file descriptor over a UNIX domain socket to another process? Yes, but it does not make sense to do this, since the receiving process would not have copies of the file descriptors in the interest list. 6. Will closing a file descriptor cause it to be removed from all epoll interest lists? Yes, but be aware of the following point. A file descriptor is a reference to an open file description (see open(2)). Whenever a file descriptor is duplicated via dup(2), dup2(2), fcntl(2) F_DUPFD, or fork(2), a new file descriptor referring to the same open file description is created. An open file description con‚Äê tinues to exist until all file descriptors referring to it have been closed. A file descriptor is removed from an interest list only after all the file descriptors referring to the underlying open file description have been closed. This means that even after a file descriptor that is part of an interest list has been closed, events may be reported for that file descriptor if other file descriptors referring to the same underlying file description remain open. To prevent this happening, the file descriptor must be explicitly removed from the interest list (using epoll_ctl(2) EPOLL_CTL_DEL) before it is duplicated. Alternatively, the application must ensure that all file descriptors are closed (which may be difficult if file descriptors were duplicated behind the scenes by library functions that used dup(2) or fork(2)). 7. If more than one event occurs between epoll_wait(2) calls, are they combined or reported separately? They will be combined. 8. Does an operation on a file descriptor affect the already col‚Äê lected but not yet reported events? You can do two operations on an existing file descriptor. Remove would be meaningless for this case. Modify will reread available I/O. 9. Do I need to continuously read/write a file descriptor until EAGAIN when using the EPOLLET flag (edge-triggered behavior)? Receiving an event from epoll_wait(2) should suggest to you that such file descriptor is ready for the requested I/O operation. You must consider it ready until the next (nonblocking) read/write yields EAGAIN. When and how you will use the file descriptor is entirely up to you. For packet/token-oriented files (e.g., datagram socket, terminal in canonical mode), the only way to detect the end of the read/write I/O space is to continue to read/write until EAGAIN. For stream-oriented files (e.g., pipe, FIFO, stream socket), the condition that the read/write I/O space is exhausted can also be detected by checking the amount of data read from / written to the target file descriptor. For example, if you call read(2) by asking to read a certain amount of data and read(2) returns a lower number of bytes, you can be sure of having exhausted the read I/O space for the file descriptor. The same is true when writing using write(2). (Avoid this latter technique if you can‚Äê not guarantee that the monitored file descriptor always refers to a stream-oriented file.) Possible pitfalls and ways to avoid them o Starvation (edge-triggered) If there is a large amount of I/O space, it is possible that by try‚Äê ing to drain it the other files will not get processed causing star‚Äê vation. (This problem is not specific to epoll.) The solution is to maintain a ready list and mark the file descriptor as ready in its associated data structure, thereby allowing the application to remember which files need to be processed but still round robin amongst all the ready files. This also supports ignoring subsequent events you receive for file descriptors that are already ready. o If using an event cache... If you use an event cache or store all the file descriptors returned from epoll_wait(2), then make sure to provide a way to mark its clo‚Äê sure dynamically (i.e., caused by a previous event's processing). Suppose you receive 100 events from epoll_wait(2), and in event #47 a condition causes event #13 to be closed. If you remove the structure and close(2) the file descriptor for event #13, then your event cache might still say there are events waiting for that file descriptor causing confusion. One solution for this is to call, during the processing of event 47, epoll_ctl(EPOLL_CTL_DEL) to delete file descriptor 13 and close(2), then mark its associated data structure as removed and link it to a cleanup list. If you find another event for file descriptor 13 in your batch processing, you will discover the file descriptor had been previously removed and there will be no confusion. VERSIONS The epoll API was introduced in Linux kernel 2.5.44. Support was added to glibc in version 2.3.2. CONFORMING TO The epoll API is Linux-specific. Some other systems provide similar mechanisms, for example, FreeBSD has kqueue, and Solaris has /dev/poll. NOTES The set of file descriptors that is being monitored via an epoll file descriptor can be viewed via the entry for the epoll file descriptor in the process‚Äôs /proc/[pid]/fdinfo directory. See proc(5) for further details. The kcmp(2) KCMP_EPOLL_TFD operation can be used to test whether a file descriptor is present in an epoll instance. SEE ALSO epoll_create(2), epoll_create1(2), epoll_ctl(2), epoll_wait(2), poll(2), select(2) COLOPHON This page is part of release 5.00 of the Linux man-pages project. A description of the project, information about reporting bugs, and the latest version of this page, can be found at https://www.kernel.org/doc/man-pages/.","categories":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/categories/Linux/"},{"name":"man","slug":"Linux/man","permalink":"https://blog.inoki.cc/categories/Linux/man/"},{"name":"7-Miscellanea","slug":"Linux/man/7-Miscellanea","permalink":"https://blog.inoki.cc/categories/Linux/man/7-Miscellanea/"}],"tags":[{"name":"Linux","slug":"Linux","permalink":"https://blog.inoki.cc/tags/Linux/"},{"name":"Man","slug":"Man","permalink":"https://blog.inoki.cc/tags/Man/"},{"name":"epoll","slug":"epoll","permalink":"https://blog.inoki.cc/tags/epoll/"}]},{"title":"„ÄêËØë„ÄëQuic-HTTP/3","slug":"Quic-HTTP-3","date":"2018-11-26T12:48:24.000Z","updated":"2022-05-09T18:41:39.486Z","comments":true,"path":"2018/11/26/Quic-HTTP-3/","link":"","permalink":"https://blog.inoki.cc/2018/11/26/Quic-HTTP-3/","excerpt":"","text":"ÂéüÊñáÈìæÊé•: https://daniel.haxx.se/blog/2018/11/11/http-3/ ÊõæÁªèË¢´Áß∞‰∏∫ HTTP-over-QUIC ÁöÑÂçèËÆÆÊîπÂ§¥Êç¢Èù¢ÔºåÊàê‰∏∫‰∫ÜÂÆòÊñπÁöÑ HTTP/3 ÂçèËÆÆ„ÄÇMark Nottingham ÊèêÂá∫‰∫ÜËøô‰∏™ÊèêËÆÆÔºåÂπ∂‰∏îË¢´Â∑•‰ΩúÁªÑÊé•Âèó„ÄÇ Á§æÂå∫‰∏≠‰ΩøÁî®‰∏çÂêåÁöÑÂêçÂ≠óÊù•Áß∞Âëº‰∏çÂêåÁöÑÁâàÊú¨ÔºåÊØîÂ¶Ç iQUIC Âíå gQUIC Êù•Âå∫ÂàÜ IEFT Âíå Google ÁöÑ QUIC ÂçèËÆÆÔºàÂõ†‰∏∫Âú®ÁªÜËäÇ‰∏äÂÆÉ‰ª¨ÁöÑÁ°ÆÊúâÂæàÂ§ö‰∏çÂêåÔºâ„ÄÇÂú®ÂæàÈïø‰∏ÄÊÆµÊó∂Èó¥ÈáåÔºåÁªèÁî± iQUIC ‰º†ËæìÁöÑ HTTP ÂçèËÆÆË¢´Áß∞‰∏∫ HTTP-over-QUIC„ÄÇ ÁõÆÂâçÔºåIETF ‰∏≠ÁöÑ QUIC Â∑•‰ΩúÁªÑËá¥Âäõ‰∫éÂàõÈÄ† QUIC ‰º†ËæìÂçèËÆÆ„ÄÇQUIC ÂçèËÆÆ‰Ωú‰∏∫‰∏Ä‰∏™Âü∫‰∫éUDPÂçèËÆÆÁöÑ TCP ÂçèËÆÆÁöÑÊõø‰ª£ÂìÅÔºåÊúÄÊó©Áî± Google ÊèêÂá∫ÔºåÂêéÊù•Ë¢´‰Ωú‰∏∫ HTTP/2-encrypted-over-UDP ‰ΩøÁî®„ÄÇ ÂΩìËøôÈ°πÂ∑•‰ΩúÁî± IETF Êé•ÊâãÊù•Ê†áÂáÜÂåñÊó∂ÔºåÂÆÉË¢´ÂàÜ‰∏∫‰∫Ü‰∏§‰∏™ÈÉ®ÂàÜÔºö‰º†ËæìÈÉ®ÂàÜÂíåHTTPÈÉ®ÂàÜ„ÄÇËøôÊòØÂõ†‰∏∫Êàë‰ª¨‰πüÂ∏åÊúõËÉΩÂ§ü‰ΩøÁî®Ëøô‰∏™ÂçèËÆÆ‰º†ËæìÂÖ∂‰ªñÊï∞ÊçÆÔºåËÄå‰∏ç‰ªÖ‰ªÖÊòØHTTPÊàñÁ±ªHTTPÂçèËÆÆÔºå‰ΩÜÊòØÊàë‰ª¨‰øùÁïô‰∫Ü QUIC Ëøô‰∏™ÂêçÂ≠ó„ÄÇ Mark Bishop Âú® IETF 103 ‰∏æË°åÁöÑ QUIC Â∑•‰ΩúÁªÑ‰ºöËÆÆ‰∏äÊÉäÂêìÂà∞‰∫Ü‰ªñ‰ª¨ÔºåÂèØ‰ª•ÁúãÂà∞Ëøô‰∏™ÂπªÁÅØÁâá‰∏äÂ∑≤ÁªèÊîæÂá∫‰∫Ü‰∏Ä‰∏™ Logo ‚Ä¶ 2018Âπ¥1Êúà7Êó•ÔºåLitespeed ÁöÑ Dmitri ÂÆ£Â∏É‰ªñ‰ª¨Âíå Facebook Â∑≤ÁªèÊàêÂäüÁöÑÂÆûÁé∞‰∫Ü‰∏§‰∏™ HTTP/3 ÂÆûÁé∞ÁöÑ‰∫íÊìç‰Ωú„ÄÇÁ¥ßÊé•ÁùÄ Mike Bishop Âú® HTTPbis ÁöÑÊºîËÆ≤ÁöÑÂπªÁÅØÁâáÂ¶Ç‰∏ä„ÄÇ‰ºöËÆÆÊúÄÂêéËææÊàêÂÖ±ËØÜÔºåÊñ∞ÁöÑÂêçÂ≠ó‰∏∫ HTTP/3 „ÄÇ ÈÇ£‰πàÔºå‰∏çÂÜçÊúâ‰ªª‰Ωï‰∫âËÆÆ„ÄÇHTTP/3 Â∞Ü‰ºöÊàê‰∏∫Êñ∞ÁöÑ‰ΩøÁî® QUIC ‰º†ËæìÁöÑ HTTP ÁâàÊú¨ÔºÅ","categories":[{"name":"Translation","slug":"Translation","permalink":"https://blog.inoki.cc/categories/Translation/"},{"name":"Chinese","slug":"Translation/Chinese","permalink":"https://blog.inoki.cc/categories/Translation/Chinese/"},{"name":"Protocol","slug":"Protocol","permalink":"https://blog.inoki.cc/categories/Protocol/"}],"tags":[{"name":"ÁøªËØë","slug":"ÁøªËØë","permalink":"https://blog.inoki.cc/tags/ÁøªËØë/"},{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"QUIC","slug":"QUIC","permalink":"https://blog.inoki.cc/tags/QUIC/"},{"name":"HTTP","slug":"HTTP","permalink":"https://blog.inoki.cc/tags/HTTP/"}]},{"title":"Leetcode 300 Longest Increasing Subsequence","slug":"Leetcode-300-Longest-Increasing-Subsequence","date":"2018-11-07T23:34:40.000Z","updated":"2022-05-09T18:41:39.478Z","comments":true,"path":"2018/11/07/Leetcode-300-Longest-Increasing-Subsequence/","link":"","permalink":"https://blog.inoki.cc/2018/11/07/Leetcode-300-Longest-Increasing-Subsequence/","excerpt":"","text":"Here the question: Given an unsorted array of integers, find the length of longest increasing subsequence. Example: 123Input: [10,9,2,5,3,7,101,18]Output: 4 Explanation: The longest increasing subsequence is [2,3,7,101], therefore the length is 4. There may be more than one LIS combination, it is only necessary for you to return the length. Your algorithm should run in O(n2) complexity. There is a more simple algorithm to solve this question. But we would like to learn about Dynamic Programming. So we will take the O(n2) solution. Dynamic Programming A condition necessary for Dynamic Programming: 1In computer science, a problem is said to have optimal substructure if an optimal solution can be constructed from optimal solutions of its subproblems. This property is used to determine the usefulness of dynamic programming and greedy algorithms for a problem. It means that the optimal result is constructed by the optimal result of its subproblem. Another condition: 1In computer science, a problem is said to have overlapping subproblems if the problem can be broken down into subproblems which are reused several times or a recursive algorithm for the problem solves the same subproblem over and over rather than always generating new subproblems. It means that we can reuse the result of the subproblem of the problem that we are facing. If a problem tallies with the two conditions, then the problem can be solved by Dynamic Programming. Solution The prototype of this function is 1int lengthOfLIS(int *A, int length) A is an array, length is the length of array A. For overlapping subproblems property, to reuse the result of subproblems, we have to store the result of subproblems. We assigned an array with enougn slots for results. 12int F[length];memset(F, 0, length); The first element must be a valid increasing subsequence because there is only one element. So for the problem with only one element, we have the result: 1F[0] = 1; And then, for the next subproblems, we can execute a loop to solve them one by one. 1234for (int k=1;k&lt;length;k++)&#123; ...&#125; By using this loop, we can solve firstly F[1], then F[2]‚Ä¶ until F[length-1]. For each F[k], we search all previous elements to find out which is smaller than A[k], the element on which we pause. If an element is smaller than A[k], it means that at worst, we have an increasing sequence with two elements (A[k] and the element itself), so it‚Äôs possible to increase the length at the position of that element by 1 to fill F[k]. 1234567for (int i=0;i&lt;k;i++)&#123; if (A[k] &gt; A[i]) &#123; ... &#125;&#125; We have one slot to be filled, to find out the longest one, we can pick up the largest length at the positions before k, and assign length+1 to F[k]. So we can garantee that, at this position, there is the length of longest increasing sequence, which is the optimal solution of such a problem(or subproblem). So we can mix the process of finding the largest length and the process of finding the possible lengths. 123456789101112131415161718192021222324// Iteration for searching the max of each positionint max = -1;for (int i=0;i&lt;k;i++)&#123; if (A[k] &gt; A[i]) &#123; // Init max if (max == -1) max = i; if (F[i] &gt;= F[max]) &#123; max = i; &#125; &#125;&#125;// Check if max value existif (max != -1)&#123; F[k] = F[max] + 1;&#125;else&#123; F[k] = 1;&#125; It should be noticed that we check the existence of max length with the condition A[k]&gt;A[i]. If we cannot find anyone, it means that at this position there is a new start of increasing sequence, so we give F[k] a 1. After the loop, the results are well calculated and stored in the array F. So we can find the largest one and return it. It‚Äôs not very difficult, we can glance at the full code. Final Code 1234567891011121314151617181920212223242526272829303132333435363738394041int lengthOfLIS(int *A, int length)&#123; if (length&lt;1) return 0; int F[length]; memset(F, 0, length); F[0] = 1; for (int k=1;k&lt;length;k++) &#123; // Iteration for searching the max of each position int max = -1; for (int i=0;i&lt;k;i++) &#123; if (A[k] &gt; A[i]) &#123; // Init max if (max == -1) max = i; if (F[i] &gt;= F[max]) &#123; max = i; &#125; &#125; &#125; // Check if max value exist if (max != -1) &#123; F[k] = F[max] + 1; &#125; else F[k] = 1; &#125; int max = 0; for (int k=0;k&lt;length;k++) &#123; if (max &lt; F[k]) &#123; max = F[k]; &#125; &#125; return max;&#125; TO DO: There should be a solution with time complexity O(nlogn), find it out !","categories":[{"name":"Leetcode","slug":"Leetcode","permalink":"https://blog.inoki.cc/categories/Leetcode/"},{"name":"Dynamic Programming","slug":"Leetcode/Dynamic-Programming","permalink":"https://blog.inoki.cc/categories/Leetcode/Dynamic-Programming/"}],"tags":[{"name":"Leetcode","slug":"Leetcode","permalink":"https://blog.inoki.cc/tags/Leetcode/"},{"name":"Dynamic Programming","slug":"Dynamic-Programming","permalink":"https://blog.inoki.cc/tags/Dynamic-Programming/"}]},{"title":"Cross compile beginning without Makefile","slug":"Cross-compile-beginning-without-Makefile","date":"2018-10-25T02:42:40.000Z","updated":"2022-05-09T18:41:39.450Z","comments":true,"path":"2018/10/25/Cross-compile-beginning-without-Makefile/","link":"","permalink":"https://blog.inoki.cc/2018/10/25/Cross-compile-beginning-without-Makefile/","excerpt":"","text":"For building a cross compiling system for my router Newifi D1(2nd Generation), I tried crosstools-ng. In Ubuntu 18.04, because of the version of perl, the environment cannot be built correctly with ct-ng build after the configuration. I will not talk about the error here. In fact, the error has been fixed in the pull request Pull 1043.As the latest version is crosstool-ng-1.23.0 released at Apr 20, 2017. We can do nothing except waiting (although we can build the tool manually, it‚Äôs better to wait for an officiel release). We come back for the theme. The CPU of my router is mt7621a, and the system is based on openwrt Barrier Breaker. The architecture of this CPU is mipsel 32. We can download openwrt toolchain for mipsel and decompress it. The compiler is based on toolchain-mipsel_24kec+dsp_gcc-4.8-linaro_uClibc-0.9.33.2/bin. To test, we create a simple hello world: 1234567#include &lt;stdio.h&gt;int main()&#123; printf(\"Hello World\\n\"); return 0;&#125; Compile it: 1toolchain-mipsel_24kec+dsp_gcc-4.8-linaro_uClibc-0.9.33.2/bin/mipsel-openwrt-linux-gcc helloworld.c -o helloworld Upload it: 1scp helloworld root@192.168.99.1:/ We connect to the router with ssh and test it: 12&gt;./helloHello World It works! There will be a tutorial more advanced in some days.","categories":[{"name":"Embedded System","slug":"Embedded-System","permalink":"https://blog.inoki.cc/categories/Embedded-System/"},{"name":"Cross Compile","slug":"Embedded-System/Cross-Compile","permalink":"https://blog.inoki.cc/categories/Embedded-System/Cross-Compile/"},{"name":"Router","slug":"Embedded-System/Cross-Compile/Router","permalink":"https://blog.inoki.cc/categories/Embedded-System/Cross-Compile/Router/"}],"tags":[{"name":"Cross Compile","slug":"Cross-Compile","permalink":"https://blog.inoki.cc/tags/Cross-Compile/"},{"name":"Router","slug":"Router","permalink":"https://blog.inoki.cc/tags/Router/"},{"name":"openwrt","slug":"openwrt","permalink":"https://blog.inoki.cc/tags/openwrt/"}]},{"title":"Uninstall docker in WSL Ubuntu","slug":"Uninstall-docker-in-WSL-Ubuntu","date":"2018-10-21T08:47:00.000Z","updated":"2018-10-21T18:48:15.000Z","comments":true,"path":"2018/10/21/Uninstall-docker-in-WSL-Ubuntu/","link":"","permalink":"https://blog.inoki.cc/2018/10/21/Uninstall-docker-in-WSL-Ubuntu/","excerpt":"","text":"After my installation of docker in Windows Sous-System Linux by the command following: 1sudo apt-get install docker.io I regret and I‚Äôd like to uninstall it immediately. The error occured ! dpkg told me that he can‚Äôt work well with the command sudo apt-get remove --purge docker.io. 123456789101112Removing docker.io (17.03.2-0ubuntu2~16.04.1) ...invoke-rc.d: could not determine current runlevel * Stopping Docker: docker No process in pidfile &apos;/var/run/docker-ssd.pid&apos; found running; none killed.invoke-rc.d: initscript docker, action &quot;stop&quot; failed.dpkg: error processing package docker.io (--purge): subprocess installed pre-removal script returned error exit status 1dmesg: read kernel buffer failed: Function not implemented dpkg: error while cleaning up: subprocess installed post-installation script returned error exit status 1Errors were encountered while processing: docker.ioE: Sub-process /usr/bin/dpkg returned an error code (1) Obviously, the error is from the process of stopping the docker itself. We can show the content of docker-ssd.pid. It told us the pid of docker daemon is 22391. Normally, as the docker daemon hasn‚Äôt been booted, the docker daemon process will not be in the process table. So the error is that: We cannot stop a process with a pid which has never been booted. So the uninstallation script stopped when it cannot stop the docker daemon. To avoid the error and then uninstall the docker, we can modify the pid in docker-ssd.pid with a pid of a process which is not so important. Okay, we can launch sleep 200. In 200 seconds, we can run ps -ef | grep sleep to obtain the pid of process of sleep. 123&gt; ps -ef | grep sleepinoki 25219 21212 0 19:01 tty1 00:00:00 sleep 200inoki 25221 24653 0 19:01 tty2 00:00:00 grep --color=auto sleep We fill docker-ssd.pid with such pid. Okay, we uninstall docker.io. 12345678910111213141516171819&gt; sudo apt-get remove docker.ioReading package lists... DoneBuilding dependency treeReading state information... DoneThe following packages were automatically installed and are no longer required: bridge-utils cgroupfs-mount ubuntu-fanUse &apos;sudo apt autoremove&apos; to remove them.The following packages will be REMOVED: docker.io0 upgraded, 0 newly installed, 1 to remove and 0 not upgraded.1 not fully installed or removed.After this operation, 90.2 MB disk space will be freed.Do you want to continue? [Y/n](Reading database ... 76380 files and directories currently installed.)Removing docker.io (17.03.2-0ubuntu2~16.04.1) ...&apos;/usr/share/docker.io/contrib/nuke-graph-directory.sh&apos; -&gt; &apos;/var/lib/docker/nuke-graph-directory.sh&apos;invoke-rc.d: could not determine current runlevel * Stopping Docker: docker [ OK ]Processing triggers for man-db (2.7.5-1) ... All goes well and tout va bien!","categories":[{"name":"Bug","slug":"Bug","permalink":"https://blog.inoki.cc/categories/Bug/"},{"name":"WSL","slug":"Bug/WSL","permalink":"https://blog.inoki.cc/categories/Bug/WSL/"},{"name":"Docker","slug":"Bug/Docker","permalink":"https://blog.inoki.cc/categories/Bug/Docker/"}],"tags":[{"name":"Bug","slug":"Bug","permalink":"https://blog.inoki.cc/tags/Bug/"},{"name":"Ubuntu","slug":"Ubuntu","permalink":"https://blog.inoki.cc/tags/Ubuntu/"},{"name":"WSL","slug":"WSL","permalink":"https://blog.inoki.cc/tags/WSL/"},{"name":"Docker","slug":"Docker","permalink":"https://blog.inoki.cc/tags/Docker/"}]},{"title":"Cuda Sample Error Configuration for VS2017","slug":"Cuda-Sample-Error-Configuration-for-VS2017","date":"2018-09-03T16:38:00.000Z","updated":"2018-10-22T08:29:16.000Z","comments":true,"path":"2018/09/03/Cuda-Sample-Error-Configuration-for-VS2017/","link":"","permalink":"https://blog.inoki.cc/2018/09/03/Cuda-Sample-Error-Configuration-for-VS2017/","excerpt":"","text":"123456789101112CUDA Version: v9.2Visual Studio 2017 Microsoft Visual Studio Community 2017 ÁâàÊú¨ 15.8.2 VisualStudio.15.Release/15.8.2+28010.2016 Microsoft .NET Framework ÁâàÊú¨ 4.7.03056 Â∑≤ÂÆâË£ÖÁöÑÁâàÊú¨: Community Visual C++ 2017 00369-60000-00001-AA285 Microsoft Visual C++ 2017 When I compiled a sample named ‚ÄúvectorAdd‚Äù, it occurs an error with message: 1C1189 #error: -- unsupported Microsoft Visual Studio version! Only the versions 2012, 2013, 2015 and 2017 are supported! vectorAdd c:\\program files\\nvidia gpu computing toolkit\\cuda\\v9.2\\include\\crt\\host_config.h 133 It‚Äôs the file host_config.h who has limited the version. So we can change the version limit in this file: 1131 #if _MSC_VER &lt; 1600 || _MSC_VER &gt; 1913 to 1131 #if _MSC_VER &lt; 1600 || _MSC_VER &gt; 1920 It depends on your Visual Studio version that which version should you indicate, which means that probably _MSC_VER &gt; 19xx is written in your host_config.h, while your actual _MSC_VER could also be greater than 1920. It‚Äôs all up to your situation, the principle is to modify the limit, you‚Äôve got it! For another error: If we open an individual sample in the grand project, it will occur another problem. The message shows that all the head files for CUDA have not been added. So we can add them manually: Right click on the solution-&gt;Properties-&gt;VC++ Directories-&gt;include path, add &quot;C:\\ProgramData\\NVIDIA Corporation\\CUDA Samples\\v9.2\\common\\inc;&quot; (which is your CUDA head files directory). All will be well. God bless you!","categories":[{"name":"Bug","slug":"Bug","permalink":"https://blog.inoki.cc/categories/Bug/"},{"name":"Cuda","slug":"Bug/Cuda","permalink":"https://blog.inoki.cc/categories/Bug/Cuda/"}],"tags":[{"name":"Bug","slug":"Bug","permalink":"https://blog.inoki.cc/tags/Bug/"},{"name":"Windows","slug":"Windows","permalink":"https://blog.inoki.cc/tags/Windows/"},{"name":"Cuda","slug":"Cuda","permalink":"https://blog.inoki.cc/tags/Cuda/"},{"name":"Visual Studio","slug":"Visual-Studio","permalink":"https://blog.inoki.cc/tags/Visual-Studio/"}]},{"title":"ELFhash algorithm understanding by GDB","slug":"ELFhash-algorithm-understanding-by-GDB","date":"2018-08-11T12:06:00.000Z","updated":"2018-10-24T23:12:32.000Z","comments":true,"path":"2018/08/11/ELFhash-algorithm-understanding-by-GDB/","link":"","permalink":"https://blog.inoki.cc/2018/08/11/ELFhash-algorithm-understanding-by-GDB/","excerpt":"","text":"ELFhash algorithm is a hash function who works very well with great string and tiny string. The source code is as follows: 1234567891011121314unsigned int ELFhash(char *str)&#123; unsigned int hash=0; unsigned int x=0; while(*str) &#123; hash=(hash&lt;&lt;4)+*str; if(( x=hash &amp; 0xf0000000 ) != 0) &#123; hash^=(x&gt;&gt;24); hash&amp;=~x; // Clear high 4 bit &#125; str++; &#125; return (hash &amp; 0x7fffffff);&#125; The time complexity is O(n) because of the loop of source string has n characters. While the space complexity is O(1). 12(gdb) b 5Breakpoint 1 at 0x725: file test.c, line 5. We set a breakpoint at the beginning of function main. There is nothing to do at this line, so we let it go. 12(gdb) n7 scanf(&quot;%s&quot;, source); At this line, we will input abcdefghijkl as the string to be hashed. 123(gdb) nabcdefghijkl8 unsigned int r = ELFhash(source); When we reached line 8, enter the function. 12345678(gdb) p str$1 = 0x7fffffffdba0 &quot;abcdefghijkl&quot;(gdb) n9 hash=(hash&lt;&lt;4)+*str;(gdb) n10 if(( x=hash &amp; 0xf0000000 ) != 0)(gdb) p hash$2 = 97 At the end of the first loop, we got str abcdefghijkl, and hash became 97(0x00000061). 1234(gdb) p hash$3 = 1650(gdb) p str$4 = 0x7fffffffdba1 &quot;bcdefghijkl&quot; After the second loop, 0x00000061 will be moved 4 bits to the left. So it‚Äôs 0x00000610 + 0x00000062 = 0x00000672 (1650). For the mixture of the first 7 number, it‚Äôs simply moving to the left with 4 bits and an addition. At the 7th times, 6 is moved to the first bit of the hash. So if we continue the operations, it will be removed. To avoid this, the algorithm provides a serial of operations to guarantee the mixture between every bit near. For the moment, x=0x06, hash=0x6789abc7. 123450 if(( x=hash &amp; 0xf0000000 ) != 0)(gdb) 12 hash^=(x&gt;&gt;24); (gdb) n13 hash&amp;=~x; // Clear high 4 bit After these operations, the high 4 bits at the first bit is cleared to be 0. And the operation exclusive OR (^) will keep the bits from the second to the last second with 789ab. For x, it‚Äôs the high 4 bits of the first character. As the similarity between exclusive OR and the addition, it‚Äôs the same operation as the code hash=(hash&lt;&lt;4)+*str. But it‚Äôs a looped one. So in the end, the hash became, 0x0789aba7. Obviously, the following characters will be handled as the seventh bit (‚Äúg‚Äù for the string), and it can be a ring of addition while a new character added. I‚Äôm waiting for a proof of the homogeneity.","categories":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://blog.inoki.cc/categories/Algorithm/"},{"name":"Hash","slug":"Algorithm/Hash","permalink":"https://blog.inoki.cc/categories/Algorithm/Hash/"}],"tags":[{"name":"Algorithm","slug":"Algorithm","permalink":"https://blog.inoki.cc/tags/Algorithm/"},{"name":"Hash","slug":"Hash","permalink":"https://blog.inoki.cc/tags/Hash/"},{"name":"GDB","slug":"GDB","permalink":"https://blog.inoki.cc/tags/GDB/"}]},{"title":"Ê≥ïÂÖ∞Ë•ø","slug":"France","date":"2015-10-01T01:15:00.000Z","updated":"2022-05-09T18:41:39.454Z","comments":true,"path":"2015/10/01/France/","link":"","permalink":"https://blog.inoki.cc/2015/10/01/France/","excerpt":"","text":"‰ªéËøúÂè§Êó∂‰ª£ÂºÄÂßãÔºåÈ´òÂç¢‰∫∫ÁîüÊ¥ªÁùÄÁöÑËøôÂùóÂúüÂú∞Ôºå‰∏ÄÁõ¥È£éËµ∑‰∫ëÊ∂å„ÄÇÂéüÊú¨ÁÉ≠Áà±Ëá™Áî±ÁöÑÈ´òÂç¢‰∫∫ÔºåÈöèÁùÄÊó•ËÄ≥ÊõºËõÆÊóèÁöÑÂÖ•‰æµÔºåÂºÄÂßãÊ¥ªÂú®ÂÖãÊ¥õÁª¥ÁéãÁöÑÊÅêÊÄñ‰πã‰∏ãÔºåËøôÂÖÖÊñ•ÁùÄÂπ≥Â∫∏„ÄÅÂè™È°æ‰∫´‰πêÁöÑÊ≥ïÂÖ∞ÂÖãÂõΩÁéãÁöÑÂ¢®Ê¥õÊ∏©ÁéãÊúùÔºåÁªôÂàöÂΩ¢Êàê‰∏ç‰πÖÁöÑÊ≥ïÂÖ∞Ë•øÂ∏¶Êù•‰∫ÜÊó†Â∞ΩÁöÑÁÅæÈöæÔºåÂÆ´Êñó‰∏ÄËà¨ÁöÑÁõ∏ÊùÉ‰πã‰∫âÔºåÁªô‰∫à‰∫Ü‰∏ïÂπ≥ÂÆ∂ÊóèÂá†‰ª£ÁöÑÂÖ¥Êó∫„ÄÇÊúÄÂêéÁüÆÂ≠ê‰∏ïÂπ≥‰∏éÁΩóÈ©¨ÊïôÁöáÁöÑËãüÂêàÔºå‰øÉÊàê‰∫ÜÂç°Ê¥õÊûóÁéãÊúùÁöÑÂ¥õËµ∑Ôºå‰∏ïÂπ≥ÁåÆÂúü‰πü‰ª§Ê¢µËíÇÂÜàÊÇÑÁÑ∂ËØûÁîü„ÄÇ‰∏ç‰πÖÁüÆÂ≠ê‰∏ïÂπ≥ÁöÑÂ≠êÂó£Êé•ÁÆ°Êï¥‰∏™Ê≥ïÂÖ∞ÂÖãÔºåÂú®ÈáëÊààÈìÅÈ©¨‰πã‰∏≠ÔºåÁªà‰∫éËØûÁîü‰∫Ü‰∏Ä‰∏™Á©∫ÂâçÂº∫Â§ßÁöÑÊ≥ïÂõΩ‚ÄîÊü•ÁêÜÊõºÂ∏ùÂõΩ„ÄÇ Â§©‰∏ãÂàÜ‰πÖÂøÖÂêàÔºåÂêà‰πÖÂøÖÂàÜ„ÄÇÊü•ÁêÜÊõºÂ∏ùÂõΩÔºåËøô‰∏ÄÊõæÁªèË¢´ÊâøËÆ§‰∏∫ÁΩóÈ©¨Â∏ùÂõΩÁªßÊâøËÄÖÁöÑÂ≠òÂú®ÔºåÂú®Êü•ÁêÜÂà´‰∫é‰∫∫‰∏ñ‰πãÂêé‰∏ÄÂàÜ‰∏∫‰∏âÔºå„ÄäÂá°Â∞îÁôªÊù°Á∫¶„ÄãÁîüÁîüÂ∞ÜË•øÊ¨ßÂàáÂºÄÔºåÂàÜÂá∫‰∫ÜÁé∞‰ª£Âæ∑Ê≥ïÊÑèÂ§ßËá¥ÁöÑÂΩ¢Áä∂„ÄÇÊ≠§Êó∂Ôºå‰ªéÊüêÁßçÊÑè‰πâ‰∏äËØ¥ÔºåÊ≥ïÂÖ∞Ë•øÁöÑÂéÜÂè≤ÊâçÁÆóÁúüÊ≠£ÂºÄÂßã„ÄÇÊü•ÁêÜÊõºÂ∏ùÂõΩÔºåÊâÄË∞ìÁõõÊûÅ‰∏ÄÊó∂Ôºå‰πüÊòØÂéÜÂè≤ÂøÖÁÑ∂ÁöÑËßÑÂæãÔºåÁõõÊûÅÔºåÂàô‰∏çÂÜçÂèØËÉΩÊúâÊõ¥Âä†Âº∫Áõõ‰πãÊó∂ÔºåËÄå‰∏ÄÊó∂Ôºå‰πüÊ≥®ÂÆöÂº∫ÁõõÊó†Ê≥ï‰øùÊåÅ„ÄÇÊó¢ÁÑ∂Ê≤°ÊúâÊõ¥Âä†Âº∫Áõõ‰πãÊó∂Ôºå‰πü‰∏çËÉΩ‰øùÊåÅÂº∫ÁõõÂ§™‰πÖÔºåÂº∫Áõõ‰πãÂêéÂøÖÁÑ∂ÊòØÊØ´Êó†ÂÅúÊªûÁöÑ‰∏ãÈôç„ÄÇÊü•ÁêÜÂ§ßÂ∏ù‰πãÂ≠êÂó£Ôºå‰∏ßÂ∞Ω‰∫ÜÂÖ∂Á•ñÂÖàÁöÑÊñáÊ≠¶‰πãÂäõÔºåÊ≥ïÂÖ∞Ë•øÂàöÂàöÂª∫ÂõΩÔºåÊÉÖÂÜµÂ∞±ÊÄ•ËΩ¨Áõ¥‰∏ã„ÄÇÊòôËä±‰∏ÄÁé∞ÁöÑÂº∫ÁõõÔºå‰πü‰ºöÂú®ÁîµÂÖâÁü≥ÁÅ´‰πã‰∏≠ÁªàÁªì„ÄÇ ÁéãÂº±ÁöÑÂ§™‰πÖÔºåËá£‰æø‰∏çÁîò‰∫é‰∏∫Ëá£„ÄÇÊó†Êï∞ËØ∏‰æØË∂ÅÁéãÂÆ§Ë°∞ÂæÆÔºåÁ´ûÁõ∏‰∫âÂ§∫ÂúüÂú∞ÔºåÂ¶ÇÂêå‰∏≠ÂõΩÂè§‰ª£Ëó©ÁéãÂâ≤ÊçÆÔºåÂç†Âú∞‰∏∫Áéã„ÄÇÂè™ÊúâÂè≤Áß∞‚ÄúÊ≥ïÂÖ∞Ë•øÂ≤õ‚ÄùÁöÑÁéãÂÆ§È¢ÜÂú∞ÔºåÊâçÊòØÁéãËÉΩÁ®çÂæÆÊéåÊéßÁöÑÁ©∫Èó¥„ÄÇÂç°‰Ω©ÁéãÊúùÔºåÂ∞±ËøôÊ†∑ÊµëÊµëÂô©Âô©Âú∞Â∫¶Ëøá‰∫ÜÊï∞ÂçÅÂπ¥ÔºåË∑ØÊòìÂÆ∂ÊóèÁªà‰∫éÊúâ‰∫ÜÂä†Âº∫ÁéãÊùÉÁöÑ‰ø°Âøµ„ÄÇÁªèËøáË∑ØÊòìÂÆ∂ÊóèÂíåËè≤Âà©ÊôÆÂÆ∂ÊóèÊï∞‰ª£ÁöÑÂä™ÂäõÔºåÁªü‰∏ÄÁöÑÂ∞ÅÂª∫ÁéãÊúùÁªà‰∫éÂá∫Áé∞‰∫ÜÈõèÂΩ¢„ÄÇ‰π±‰∏ñÂá∫Ëã±ÈõÑÔºåÁôæÂπ¥ÁöÑËã±Ê≥ïÊàò‰∫âÔºåËÆ©Ê≥ïÂõΩÊ∂åÁé∞Âá∫‰∫Ü‰∏çËÆ°ÂÖ∂Êï∞ÁöÑËã±ÈõÑÔºåÂú£Â•≥Ë¥ûÂæ∑Êàê‰∏∫ÂéÜÂè≤‰∏äÊµìÂ¢®ÈáçÂΩ©ÁöÑ‰∏ÄÁ¨î„ÄÇËã±Ê≥ïÊàò‰∫âÁöÑËÉúÂà©ÔºåÁªôÊ≥ïÂõΩÂ∏¶Êù•ÁöÑÊòØÂéüÊú¨Âú®Ëã±ÁéãÊâã‰∏≠ÁöÑÊ≥ïÂÖ∞Ë•øÁöÑÁ•ûÂú£ÂúüÂú∞ÔºåÂÖ≠ËæπÂΩ¢È¢ÜÂúüÂú®ËøôÊ¨°Êàò‰∫â‰∏≠ÂàùÊ≠•ÂΩ¢Êàê„ÄÇ ÁªèËøáÊï∞ÁôæÂπ¥ÁöÑÂèëÂ±ïÔºåÂΩìÂ≠üÂæ∑ÊñØÈ∏†ÊèêÂá∫‰∏âÊùÉÂàÜÁ´ãÁöÑÂè£Âè∑ÔºåÊñ∞Â§ßÈôÜÁöÑ‰∫∫‰ª¨Èù†ÁùÄËøôÂè£Âè∑Ëµ∂Ëµ∞‰∫ÜËã±ÂõΩ‰∫∫ÔºåÂΩìÂç¢Ê¢≠ÁúãÈÄè‰∫ÜÁ§æ‰ºöÁöÑÂ•ëÁ∫¶Êú¨Ë¥®ÔºåÂΩìÂú£Ë•øÈó®ÂíåÂÇÖÈáåÂè∂Â∏åÊúõÂª∫Á´ã‰∏Ä‰∏™Ëá™Áî±ÁöÑÁ§æ‰ºö‰πãÊó∂ÔºåÊ≥ïÂÖ∞Ë•øÂç¥ÊòØÂàöÂàöËææÂà∞‰ªñÁöÑÂ∞ÅÂª∫Â∑ÖÂ≥∞ÔºåÂâ•ÂâäÂíåÂéãËø´ËÆ©‰∫∫‰ª¨Ëã¶‰∏çÂ†™Ë®ÄÔºåË∑ØÊòìÂçÅÂÖ≠ÁöÑÈöèÊÑèÂæÅÁ®éÊïõË¥¢ÔºåÂÆ´Âª∑ÂíåË¥µÊóèÁöÑÈöèÊÑèÁöÑÂ•¢‰æàÊµ™Ë¥πÔºåËÆ©Â∑≤ÁªèÂΩ¢Êàê‰∫Ü‰∏™ÊÄßÁöÑÊ≥ïÂõΩ‰∫∫‰∏çËÉΩÂøçÂèó„ÄÇ‰∏ÄÂú∫Âç≥Â∞Ü‰∏æ‰∏ñÁû©ÁõÆÁöÑÈù©ÂëΩËìÑÂäøÂæÖÂèë----Ê≥ïÂõΩÂ§ßÈù©ÂëΩ„ÄÇ ÁéãÂ∞Ü‰∏çÁéã‰πü„ÄÇ‰øùÁéãÂÖö‰πüÊõæ‰∫âÂèñËøáÂêõ‰∏ªÁ´ãÂÆ™ÔºåÂêåÈÇªÈÇ¶Ëã±ÂõΩ‰∏ÄÊ†∑ÔºåÁÑ∂ËÄåÊ≥ïÂõΩÂ§ßÈù©ÂëΩÁöÑÊ≠ª‰º§‰∫éÁéãÂÖöÂíåË¥µÊóèÊó†Ë∂≥ËΩªÈáçÔºå‰ªñ‰ª¨‰æùÊóßÊòØ‚Äú‰ªÄ‰πà‰πüÊ≤°ÊúâÂøòËÆ∞Ôºå‰ªÄ‰πà‰πüÊ≤°ÊúâÂ≠¶‰ºö‚ÄùÔºåÂú®Ê≥ïÂõΩÂπ≥Ê∞ëÊääË∑ØÊòìÂçÅÂÖ≠ÈÄÅ‰∏äÊñ≠Â§¥Âè∞ÂêéÔºå‰øùÁéãÂÖöÊã•Êä§Ëµ∑Êù•ÁöÑÂõΩÁéã‰æùÊóßËØïÂõæÊÅ¢Â§çÊ≥¢ÊóÅÁéãÊúùÁöÑÂ∞ÅÂª∫‰∏ìÂà∂Ôºå‰æùÊóßËØïÂõæÊääË∑ØÊòìÂçÅÂÖ≠ÁöÑÂøåÊó•ËÆæ‰∏∫ÂõΩ‰∏ßÊó•Ôºå‰æùÊóßËØïÂõæÊääÊ≥ïÂõΩÂ§ßÈù©ÂëΩÁöÑÊàêÊûúÂê¶ÂÆö„ÄÇËøôÊ†∑ÁöÑÁéãÊúùÂºÉ‰πã‰πü‰∏ùÊØ´‰∏çÊÉú„ÄÇÁ¨¨‰∏ÄÂÖ±ÂíåÂõΩÂ∞±ËøôÊ†∑Âú®Âπ≥Ê∞ëÁöÑÊîØÊåÅ‰∏ãÂª∫Á´ãËµ∑Êù•„ÄÇ‰ΩÜÊòØÔºåË∑ØÊòìÂçÅÂÖ≠‰πãÊ≠ªÔºåÁªôÂÖ∂‰ªñÊ¨ßÊ¥≤Â∞ÅÂª∫‰∏ìÂà∂ÂõΩÂÆ∂‰ª•Âè£ÂÆûÔºåÊâìÁùÄÊ∂àÁÅ≠ÂºëÂêõËÄÖÁöÑÂêçÂè∑Ôºå‰ªñ‰ª¨Âú®‰∏çÊáàÁöÑÂõ¥ÊîªÊ≥ïÂõΩÁöÑÊñ∞ÁîüÁöÑÂÖ±ÂíåÂõΩ„ÄÇËøô‰πàÁúãÊù•ÔºåÊâÄÊúâÁöÑÊñ∞Âà∂Â∫¶‰πüËÆ∏ÈÉΩ‰ºöÈÅ≠Âà∞‰∏éÂÖ∂Âà∂Â∫¶‰∏çÂêåÁöÑÂõΩÂÆ∂ÁöÑ‰∏ÄËá¥ÂèçÂØπÔºåÁôæÂπ¥ÂêéÁöÑËãèËÅî‰πüÊòØÂ¶ÇÊ≠§„ÄÇÁÑ∂ËÄåÈõÖÂêÑÂÆæ‰∏ìÊîøÁªôÊ≥ïÂõΩÂ∏¶Êù•‰∫ÜÊõ¥Â§ßÁöÑÊÅêÊÄñÔºåËøô‰∫õÂπ∂‰∏çÊòØÊ≥ïÂõΩ‰∫∫ÊÉ≥Ë¶ÅÁöÑÊ∞ë‰∏ªÂÖ±Âíå„ÄÇ ‰πüËÆ∏Ê≥ïÂÖ∞Ë•ø‰∫∫Âπ∂‰∏çÊòØÊÉ≥Ë¶ÅÊ∞ë‰∏ªÂÖ±ÂíåÔºå‰ªñ‰ª¨Âè™ÊòØÊÉ≥ÊääËá™Â∑±ÁöÑÁîüÊ¥ªËøá‰∏ãÂéª„ÄÇÂΩìÁßëË•øÂòâÂ≤õÊù•‰∫Ü‰∏Ä‰ΩçÊàò‰∫âÊÄ™ÂÖΩÔºå‰ªñÊää‰ª§‰∫∫Á™íÊÅØÁöÑ‰∏ìÂà∂Âà∂Â∫¶Ëµ∂Ëµ∞‰∫ÜÔºå‰ªñËôΩÁÑ∂Áß∞Â∏ùÔºåÂç¥ÊòØËµÑ‰∫ßÈò∂Á∫ßÁöÑÂùöÂÜ≥Êã•Êä§ËÄÖÔºå‰ªñ‰ª•ÁªùÂØπÁöÑÁ•®Êï∞‰ºòÂäøÂÆûÁé∞‰∫ÜÁôªÂü∫Áß∞Â∏ùÁöÑÊ¢¶ÊÉ≥„ÄÇËôΩÁÑ∂Êúâ‰∫ÜÂ∏ùÁéãÔºå‰ΩÜÊ≥ïÂõΩ‰∫∫Ê∞ëÊ¨¢ÂëºÈõÄË∑ÉÔºåÊó†‰ªñÔºåËøôÂ∏ùÁéãÊòØÂèØ‰ª•Áªô‰ªñ‰ª¨Â∏¶Êù•ÁîüÊ¥ªÁöÑÂ∏åÊúõÁöÑÂ∏ùÁéã„ÄÇÁªèËøá‰∏ÄÁ≥ªÂàóÁöÑÊàò‰∫âÔºå‰ªñÊääÂÖ∂‰ªñÁéãÂõΩÁöÑÂõΩÁéãÊâìËæì‰∫ÜÔºåÊâìÊÄï‰∫ÜÔºåÊ≥ïÂÖ∞Ë•ø‰∏â‰∏™Â≠óË¶ÜÁõñ‰∫ÜÂ§ßÂçä‰∏™Ê¨ßÊ¥≤ÔºåÁ©∫ÂâçÁöÑÂº∫Â§ßÔºåÁªô‰∫ÜÊâÄÊúâ‰∫∫‰ª•Â∏åÊúõ„ÄÇÁÑ∂ËÄåÔºåÂ•ΩÊôØ‰∏çÈïøÔºåËøúÂæÅ‰øÑÂõΩËÆ©‰ªñË¥•ÂåóÔºåÂú®‰∫∫Áîü‰∏≠Ë¥•Âåó„ÄÇÁ¨¨‰∏ÄÊ¨°ÂõöÁ¶ÅÂ∏¶Áªô‰∫Ü‰ªñÊ≤°ÊúâÁªèÂéÜËøáÁöÑÁóõËã¶Ôºå‰∏úÂ±±ÂÜçËµ∑‰πãÊó∂Ôºå‰ªñÁîöËá≥Ê≤°ÊúâÂºÄ‰∏ÄÊû™Â∞±‰ªéÂçóÁ´ØÁöÑÂ∞èÂ≤õÂõûÂà∞‰∫ÜÂ∑¥ÈªéÔºåÂºÄÂêØ‰∫Ü‰ªñÁôæÊó•ÁöÑÁéãÊúù„ÄÇËøô‰∏ÄÂàáÔºåÂè™Âõ†‰∏∫‰ªñÊòØÊ≥ïÂÖ∞Ë•ø‰∫∫Ê∞ëÁöÑÂõΩÁéãÔºåÊòØÊ≥ïÂÖ∞Ë•ø‰∫∫ÂøÉÁõÆÂΩì‰∏≠ÁöÑÁ•û„ÄÇÂè™ÊòØÔºåÁôæÊó•ÁéãÊúùÔºå‰ª•ÂÖµË¥•ÊªëÈìÅÂç¢‰∏∫ÁªàÁªì„ÄÇÊ≥ïÂõΩ‰∫∫‰Ωé‰∏ãÂ§¥ÔºåÁúãÂà∞ÁöÑÊòØÂ°ûÁ∫≥Ê≤≥‰∏ãËá™Áî±ÁöÑÊ≤≥Ê∞¥ÔºåÂú£Ëµ´ÂãíÊãøÂ≤õ‰∏äÂéãÊäëÁöÑÁÅµÈ≠Ç„ÄÇ Ê≥ïÂõΩÁöÑÈù©ÂëΩÂèØ‰ª•ËØ¥‰∏ÄÁõ¥Ê≤°ÊúâÂÅúÊ≠¢„ÄÇ‰∫î‰ΩçÂõΩÁéãÁôªÂü∫ÔºåÂèàÁ©øÊèíÁùÄÂÖ±ÂíåÂõΩÁöÑÂª∫Á´ã„ÄÇÊ≠§Ê∂àÂΩºÈïøÔºåÊ≠§Ëµ∑ÂΩº‰ºè„ÄÇÊ∞ë‰∏ªÂÖ±ÂíåÁöÑÂäõÈáè‰ªéÊú™ÂÅúÊ≠¢Â¢ûÈïøÔºåËÄåÂè¶‰∏ÄËæπÔºå‰ºÅÂõæÂ§çËæüÁöÑÂ∞ÅÂª∫ÂäõÈáèÂç¥‰πüÊòØ‰ªéÊú™Ê∂àÂ§±„ÄÇÂè™ÊòØÔºåÊ≥ïÂõΩ‰∫∫‰∏çÂêåÊÑèÔºå‰∏çÂêåÊÑè‰ªñ‰ª¨ÁöÑÈù©ÂëΩÊàêÊûúÂ∞±Ëøô‰πàË¢´Ë∑µË∏è„ÄÇ‰∫éÊòØÔºå‰∫îÊ¨°Âêõ‰∏ªÂ§çËæüÔºåÊùÉÂà©Ë∂äÊù•Ë∂äÂæÆ‰∏çË∂≥ÈÅì„ÄÇÊó¢ÁÑ∂Â¶ÇÊ≠§ÔºåÂèà‰ΩïÂøÖË¶ÅÂõΩÁéãÂë¢Ôºü‰∫éÊòØÔºå‰∏ÄÂàáÂú®Ê≥ïÂÖ∞Ë•øÁ¨¨‰∏âÂÖ±ÂíåÂõΩÂª∫Á´ãÂêéÂ∞òÂüÉËêΩÂÆö„ÄÇÊó∂Ëá≥‰ªäÊó•ÔºåÊ≥ïÂÖ∞Ë•øÂÖ±ÂíåÂõΩÁöÑÂÖâËæâ‰ªçÊóßÈó™ËÄÄÂú®ÂÖ≠ËæπÂΩ¢È¢ÜÂúüÁöÑ‰∏äÁ©∫ÔºåËá™Áî±Âπ≥Á≠âÂçöÁà±ÁöÑ‰ø°ÂøµÊ∞∏ËøúÊ≤âÊ∑ÄÂú®Ê≥ïÂõΩ‰∫∫ÁöÑÂøÉÂ∫ï„ÄÇ Âú®Êó∑‰∏ñÂ§ßÊàò‰∏ÄÊàòÂíå‰∫åÊàò‰∏≠ÔºåÊ≥ïÂõΩÈÉΩÊòØÊàòËÉúÂõΩ„ÄÇ‰ΩÜ‰∏ÄÊàòÈáåÂè™ÊòØÂçïÁ∫ØÁöÑÊ≤°ÊúâÂ§™Â§ßÁöÑÊçüÂ§±ÔºåÂú®‰∫åÊàòÈáåÁîöËá≥Â§±Êéâ‰∫Ü‰∏ÄÊµÅÂõΩÂÆ∂ÁöÑÂú∞‰Ωç„ÄÇÂ§ßÈÉ®ÂàÜÊ≥ïÂõΩ‰∫∫Â§ßÊ¶ÇÊòØ‰∏çÂ•ΩÊàòÁöÑÔºå‰∏ÄÊàòÂ¶ÇÊûúË¢´Âæ∑ÂõΩËøô‰∏ÄÂÆøÊïåÂ®ÅËÉÅÂà∞Ôºå‰πüËÆ∏Ê≥ïÂõΩ‰πü‰ºöÂè™ÊòØ‰∏Ä‰∏™‰∏≠Á´ãÂõΩ„ÄÇ‰ΩÜÔºåÂÆøÊïåÂæ∑ÂõΩÂú®ÔºåÊ≥ïÂõΩÂ∞±Êó†‰∏ÄÂ§©ÂÆâÂÆÅ‰πãÊó•„ÄÇ‰∫åÊàò‰∏≠Âæ∑ÂõΩÁîöËá≥Â∞ÜÊ≥ïÂõΩÂÖ®Á∫øÊîªÁ†¥ÔºåÁõ¥Âà∞ËØ∫ÊõºÂ∫ïÁôªÈôÜÔºåÊ≥ïÂõΩÂÖâÂ§çÔºå‰∏âËâ≤ÊóóÊâçÈáçÊñ∞È£òÊâ¨Âú®Ë•øÊ¨ßÁöÑÊµ∑Â≤∏Á∫ø‰∏ä„ÄÇÊ≥ïÂõΩÂÖâÂ§ç‰πãÂêéÂÖ±‰∫ßÂÖö‰πüÂºÄÂßãËøõÂÖ•ÊîøÊ≤ªËàûÂè∞ÔºåÂ¶ÇËã•‰∏çÊòØÂÜ∑ÊàòÊúüÈó¥Âõ†‰∏∫ÈòµËê•ÈóÆÈ¢òÂøÖÈ°ªÂÅöÂá∫ÈÄâÊã©ÔºåÊ≥ïÂõΩÂÖ±‰∫ßÂÖö‰πüËÆ∏‰ºöÂú®Ê≥ïÂõΩÊîøÂùõÂ§ßÊîæÂºÇÂΩ©ÂêßÔºå‰ªéËøô‰∏ÄÁÇπÁúãÔºåÊ≥ïÂÖ∞Ë•øÁöÑËá™Áî±„ÄÅÂπ≥Á≠â‰∏éÂçöÁà±Ê≠§Êó∂Â∑≤Ê∑±ÂÖ•‰∫∫ÂøÉ„ÄÇ‰ΩÜÂÆûÈôÖ‰∏äÔºåÂç≥‰ΩøÊúâÂÖ±‰∫ßÂÖöÁöÑÂèÇ‰∏éÔºåÊ≥ïÂÖ∞Ë•øÁöÑËøõÁ®ã‰πüÂèØËÉΩ‰∏éÁé∞Âú®Âπ∂Êó†Â∑ÆÂà´ÔºåÂõ†‰∏∫ÔºåÊó†ËÆ∫Âì™‰∏™ÂÖöÊ¥æÔºåÈÉΩÊÉ≥‰∏∫‰∫ÜËÆ©Ê≥ïÂõΩÂèòÂæóÊõ¥Âä†Âº∫ÁõõÔºåËÆ©Ê≥ïÂõΩ‰∫∫Ê∞ëÊõ¥Âä†Âπ∏Á¶èÂêßÔºÅ Ê≥ïÂÖ∞Ë•øÔºåÂõ†‰∏∫‰ªñÁöÑÊ∞ëÊóèÊÄßÊ†ºËÄå‰∏éÂÖ∂‰ªñÊ∞ëÊóèÂéÜÂè≤Êà™ÁÑ∂‰∏çÂêå„ÄÇÂ•πÊõæÁõõÊûÅ‰∏ÄÊó∂ÔºåÂç¥‰∏çÊõæ‰∏ªÂä®‰æµÁï•ÔºõÂ•πÊõæÁªèÂõ†‰∏∫ÂõΩÁéãÁöÑÊó†ËÉΩËÄåÁæ∏Âº±‰∏çÂ†™ÔºåÂç¥Âèà‰∏çÊÉßÊÄïÂ§ñÊïåÁöÑÂÖ•‰æµÔºõÂ•πÊõæ‰∏ãÂÆöÂÜ≥ÂøÉÈù©ÊóßËøéÊñ∞Ôºå‰ΩÜÂç¥ÂèàÂú®Âêõ‰∏ª‰∏éÂÖ±Âíå‰πãÈó¥‰∏çÊñ≠ÂæòÂæä„ÄÇÂ•πÊ≤°ÊúâÁªùÂØπÁöÑÂÄæÂêëÔºåÂè™ÊòØÊÄéÊ†∑ÂØπËá™Â∑±ÁöÑÂõΩÊ∞ëÂ•ΩÔºåÂ∞±ÊÄéÊ†∑ÂéªÂÅöÔºåÊâÄ‰ª•Â•πÊëíÂºÉ‰∫ÜÁΩó‰ºØÊñØÂ∫áÂ∞î‰∏ìÂà∂ÁöÑÂÖ±ÂíåÔºåÊäïÂêë‰∫ÜÊãøÁ†¥‰ªëÂÖàËøõÁöÑÂ∏ùÂà∂ÔºåÊâÄ‰ª•Â•πÊëíÂºÉ‰∫ÜÊ≥ïÂÖ∞Ë•øÁ¨¨ÂõõÂÖ±ÂíåÂõΩÊó†ËÉΩÁöÑÊ∞ë‰∏ªÔºåÊäïÂêë‰∫ÜÊà¥È´ò‰πê‰∏ÄÂÆ∂Áã¨Â§ßÁöÑÊñ∞ÊîøÂ∫ú„ÄÇ Â¶Ç‰ªäÁöÑÂ•πÔºåËôΩÁÑ∂Áúã‰∏äÂéªÂú®Ë°∞ËêΩÔºå‰ΩÜÊòØÔºåÂè™Ë¶ÅÂ•πÁöÑËá™Áî±„ÄÅÂπ≥Á≠âÂíåÂçöÁà±ËøòÂ≠òÂú®‰∫éÊ≥ïÂõΩ‰∫∫ÂøÉÈáåÔºåËøòÂ≠ò‰∫é‰∏ñ‰∫∫ËÑë‰∏≠ÔºåÂ•πÂ∞±Ê∞∏Ëøú‰∏ç‰ºöË°∞ËêΩÔºåÂ•πÂ∞±Êó†ËÆ∫Â¶Ç‰ΩïÈÉΩ‰∏çÂèØËÉΩÊ∂àÂ§±„ÄÇ Â•πÔºåÊòØÊ≥ïÂõΩ‰∫∫ÁöÑÊ≥ïÂÖ∞Ë•øÔºåÊòØÂÖ®‰∏ñÁïåÁöÑÊÄùÊÉ≥ÊóóÂ∏ú„ÄÇ","categories":[{"name":"Dairy","slug":"Dairy","permalink":"https://blog.inoki.cc/categories/Dairy/"}],"tags":[{"name":"‰∏≠Êñá","slug":"‰∏≠Êñá","permalink":"https://blog.inoki.cc/tags/‰∏≠Êñá/"},{"name":"private","slug":"private","permalink":"https://blog.inoki.cc/tags/private/"}]}]}