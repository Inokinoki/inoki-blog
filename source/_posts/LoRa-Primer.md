---
title: 【译】LoRaWAN 入门
date: 2020-05-26 10:28:00
tags:
- 中文
- 翻译
- LoRaWAN
- LoRa
- IoT
categories:
- LoRa
---

LoRaWAN（或简称 LoRa）是 LPWAN（“低功耗广域网”）技术。所使用的无线电技术很漂亮，可确保您以很小的发射功率就可以在相当长的距离内发送数据。

LoRa 在称为的 ISM （也称为“工业科学医学”）频段中运行，该频段是未经许可的无线电频谱的一部分。这并不意味着您可以以任何期望的方式使用它，一次可以使用多少功率以及可以传输多长时间是有限制的。这就是所谓的“占空比”。LoRa 的占空比在1％到0.1％之间，具体取决于您要发送的比特率。

# LoRaWAN 的鸟瞰图

LoRaWAN网络由网关，网络，应用程序和设备组成。设备将无线电数据包发送到网络的网关。网络由再次由零个或多个设备组成的应用程序组成。网络和应用程序通常是后端服务中的抽象。

设备通过无线电与一个或多个网关通信。每个数据包都很短，通常不超过几十个字节。数据包被一个或多个网关拾取，设备进入睡眠状态，通常等待一秒钟，然后设备开始侦听来自网关的响应。如果网关具有为设备安排的数据，它将把数据发送到设备。完成此操作后，设备将再次进入睡眠状态，直到有更多数据并允许其根据占空比发送为止。

网关将无线电数据包解码为一个小缓冲区，然后将缓冲区转发到 LoRa 后端。LoRa 后端跟踪所有网关和网络，并确定数据包所属的网络，如果网络知道设备，则将数据传递到该设备所属的应用程序。如果为该设备安排了数据，它将通过网关返回到该设备。

# 带宽

由于设备发送的数据包很小，并且设备每五分钟仅发送一个数据包，因此您不会在设备之间收到大量数据，因此典型的用例场景是设备不经常发送，且发送少量数据，通常每小时或每天只有几次。

# 范围

设备的覆盖范围令人印象深刻。一个简单的有线天线足以到达几公里外的网关。在金属笼子里将无法获得良好的覆盖，无线电波不会穿过墙壁或金属，但是该协议本身可以实现微弱的传输。现场实验表明，LoRa 设备在城市环境中可以达到几公里的范围，并且视线范围甚至可以达到 20 公里甚至更高。无线电波很奇怪，因此你可能可以在看似不可能的地方获得良好的覆盖，而在其他地方几乎没有。

# 获取网关

如果您无法在自己的住所或城镇中得到覆盖，请不要担心。LoRa 网关相对便宜（200欧元及以上），几乎不需要维护。不过，网关必须连接到一项后端服务，并且有很多可供选择。最著名的服务是 The Things Network 和 loriot.io，它们都允许您连接自己的网关。如果您住在挪威，则可以从 Telenor 连接到 Cloud Connect。我们已经覆盖了几个城市，并且这项服务是免费的，可用于开发工作。

# 安全

LoRaWAN 网络中的设备和应用程序之间传输的所有数据均使用 AES-128 加密，使用两个加密密钥，一个网络会话密钥和一个应用程序会话密钥。这两个密钥对于设备而言都是唯一的，分别用于网络消息和应用程序有效负载。如果您使用一些聪明的密钥管理策略，则可以使应用程序与设备的负载有效加密，仅由应用程序和设备共享，而网络（或网关）操作员不知道有效负载是什么。

# 网路

LoRaWAN 中的网络的工作方式类似于手机网络。多个网络可以在同一区域中运行，并且多个网络可以在同一网关之外运行。最大的区别是 LoRaWAN 中的设备无法从一个网络跳到另一个网络，因为连接到应用程序的设备只能是单个网络的成员。

# 应用领域

LoRaWAN 中的应用程序只是在给定网络上运行的设备的集合。一台设备不能属于一个以上的应用程序，没有应用程序的话该设备也就不能存在。

# 相关链接

了解LoRaWAN的局限性（Adelantado，Vilajosana等人，IEEE杂志2017年1月）：https://arxiv.org/pdf/1607.08011.pdf
